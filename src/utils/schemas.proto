syntax = "proto3";

package bsopt.schemas;

// OptionsData message definition
message OptionsDataMessage {
  string symbol = 1;
  double underlying_price = 2;
  string timestamp = 3; // Store as string (ISO format) for simplicity, can be timestamp if supported by pb
  string contract_symbol = 4;
  string option_type = 5;
  double strike = 6;
  string expiration = 7; // Store as string (ISO format)
  double bid = 8;
  double ask = 9;
  double last_price = 10;
  double mid_price = 11;
  optional double implied_volatility = 12;
  optional double delta = 13;
  optional double gamma = 14;
  optional double theta = 15;
  optional double vega = 16;
  optional double rho = 17;
  int32 volume = 18;
  int32 open_interest = 19;
  optional double time_to_expiry = 20;
  optional double moneyness = 21;
  string source = 22;
  double quality_score = 23;
}

// Message to hold a list of OptionsData messages
message OptionsDataList {
  repeated OptionsDataMessage options_data = 1;
}
