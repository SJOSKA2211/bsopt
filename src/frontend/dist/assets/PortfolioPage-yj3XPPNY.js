import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{Jn as t,kr as n}from"./vendor-Bna3BMbj.js";import{C as r,G as i,H as a,J as o,N as s,Q as c,S as l,U as u,V as d,Z as f,_ as p,b as m,rt as h,tt as g,x as _,y as v}from"./vendor-mui-8knhrtHX.js";import"./vendor-query-BOInhiz5.js";import{n as y,t as b}from"./PortfolioSummary-B6Ihpc8u.js";var x=e(n(),1),S=t(),C=e=>new Intl.NumberFormat(`en-US`,{style:`currency`,currency:`USD`}).format(e);const w=x.memo(()=>{let e=g(),{data:t,isLoading:n,error:c}=y();return n?(0,S.jsx)(i,{sx:{display:`flex`,justifyContent:`center`,alignItems:`center`,height:`100%`,p:4},children:(0,S.jsx)(f,{"aria-label":`Loading active positions`})}):c||!t?(0,S.jsx)(i,{sx:{p:4,textAlign:`center`},children:(0,S.jsx)(o,{color:`error`,children:`Error loading portfolio data`})}):(0,S.jsxs)(i,{sx:{height:`100%`,display:`flex`,flexDirection:`column`},children:[(0,S.jsx)(i,{sx:{p:2},children:(0,S.jsxs)(s,{container:!0,spacing:2,children:[(0,S.jsx)(s,{size:{xs:4},children:(0,S.jsx)(u,{sx:{bgcolor:h(e.palette.primary.main,.05),boxShadow:`none`},children:(0,S.jsxs)(a,{sx:{p:`16px !important`},children:[(0,S.jsx)(o,{variant:`overline`,color:`text.secondary`,children:`Total Balance`}),(0,S.jsx)(o,{variant:`h5`,sx:{fontWeight:`bold`},children:C(t.balance)})]})})}),(0,S.jsx)(s,{size:{xs:4},children:(0,S.jsx)(u,{sx:{bgcolor:h(e.palette.secondary.main,.05),boxShadow:`none`},children:(0,S.jsxs)(a,{sx:{p:`16px !important`},children:[(0,S.jsx)(o,{variant:`overline`,color:`text.secondary`,children:`Frozen Capital`}),(0,S.jsx)(o,{variant:`h5`,sx:{fontWeight:`bold`},children:C(t.frozen_capital)})]})})}),(0,S.jsx)(s,{size:{xs:4},children:(0,S.jsx)(u,{sx:{bgcolor:h(e.palette.warning.main,.05),boxShadow:`none`},children:(0,S.jsxs)(a,{sx:{p:`16px !important`},children:[(0,S.jsx)(o,{variant:`overline`,color:`text.secondary`,children:`Risk Score`}),(0,S.jsx)(o,{variant:`h5`,sx:{fontWeight:`bold`},children:t.risk_score.toFixed(2)})]})})})]})}),(0,S.jsx)(o,{variant:`h6`,sx:{px:2,pb:1,pt:2,fontWeight:`bold`},children:`Active Positions`}),(0,S.jsx)(m,{component:i,sx:{flex:1,overflow:`auto`},children:(0,S.jsxs)(r,{stickyHeader:!0,size:`small`,children:[(0,S.jsx)(v,{children:(0,S.jsxs)(p,{children:[(0,S.jsx)(_,{sx:{fontWeight:`bold`},children:`Symbol`}),(0,S.jsx)(_,{align:`right`,sx:{fontWeight:`bold`},children:`Quantity`}),(0,S.jsx)(_,{align:`right`,sx:{fontWeight:`bold`},children:`Current P&L`})]})}),(0,S.jsxs)(l,{children:[t.positions.map(e=>(0,S.jsxs)(p,{hover:!0,children:[(0,S.jsx)(_,{children:e.contract_symbol}),(0,S.jsx)(_,{align:`right`,children:e.quantity}),(0,S.jsxs)(_,{align:`right`,sx:{color:e.current_pnl>=0?`success.main`:`error.main`,fontWeight:`medium`},children:[e.current_pnl>=0?`+`:``,C(e.current_pnl)]})]},e.contract_symbol)),t.positions.length===0&&(0,S.jsx)(p,{children:(0,S.jsx)(_,{colSpan:3,align:`center`,sx:{py:4},children:(0,S.jsx)(o,{color:`text.secondary`,children:`No active positions`})})})]})]})})]})}),T=()=>(0,S.jsxs)(d,{maxWidth:`xl`,sx:{mt:2},children:[(0,S.jsx)(o,{variant:`h4`,gutterBottom:!0,fontWeight:`bold`,children:`Portfolio`}),(0,S.jsxs)(s,{container:!0,spacing:3,children:[(0,S.jsx)(s,{size:{xs:12,lg:4},children:(0,S.jsx)(c,{sx:{p:0,height:400,overflow:`hidden`},children:(0,S.jsx)(b,{})})}),(0,S.jsx)(s,{size:{xs:12,lg:8},children:(0,S.jsx)(c,{sx:{p:0,height:800,overflow:`hidden`},children:(0,S.jsx)(w,{})})})]})]});var E=T;export{T as PortfolioPage,E as default};