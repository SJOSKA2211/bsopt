import{i as e,r as t,t as n}from"./rolldown-runtime-Cn8xt2Gj.js";import{$ as r,$t as i,A as a,At as o,B as s,Bt as c,C as l,Cn as u,Ct as d,D as f,Dn as p,Dt as m,E as h,En as g,Et as _,F as v,Ft as y,G as b,Gt as x,H as S,Ht as C,I as w,It as T,J as E,Jt as D,K as O,Kt as k,L as ee,Lt as A,M as te,Mt as ne,N as re,Nt as ie,O as ae,On as j,Ot as oe,P as se,Pt as M,Q as ce,Qt as N,R as le,Rt as ue,S as de,Sn as P,St as fe,T as pe,Tn as me,Tt as he,U as ge,Ut as _e,V as F,Vt as ve,W as ye,Wt as be,X as xe,Xt as Se,Y as Ce,Yt as we,Z as Te,Zt as I,_n as Ee,_t as De,an as L,at as Oe,b as ke,bn as Ae,bt as je,cn as Me,ct as Ne,dn as R,dt as Pe,en as z,et as Fe,fn as Ie,ft as Le,gn as Re,gt as ze,hn as Be,ht as Ve,in as B,it as He,j as Ue,jt as We,k as Ge,kr as Ke,kt as qe,ln as Je,lt as Ye,mn as Xe,mt as Ze,nn as Qe,nt as $e,on as et,ot as tt,pn as nt,pt as rt,q as it,qt as at,rn as ot,rt as st,sn as ct,st as lt,tn as ut,tt as dt,un as ft,ut as pt,vn as mt,vt as ht,w as gt,wn as _t,wt as vt,x as yt,xn as bt,xt,y as St,yn as V,yt as Ct,z as wt,zt as H}from"./vendor-Bna3BMbj.js";var Tt={title:``,visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:``,priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:`#B2B5BE`,baseLineStyle:0,priceFormat:{type:`price`,precision:2,minMove:.01}},Et,Dt;function Ot(e,t){let n={0:[],1:[e.lineWidth,e.lineWidth],2:[2*e.lineWidth,2*e.lineWidth],3:[6*e.lineWidth,6*e.lineWidth],4:[e.lineWidth,4*e.lineWidth]}[t];e.setLineDash(n)}function kt(e,t,n,r){e.beginPath();let i=e.lineWidth%2?.5:0;e.moveTo(n,t+i),e.lineTo(r,t+i),e.stroke()}function At(e,t){if(!e)throw Error(`Assertion failed`+(t?`: `+t:``))}function jt(e){if(e===void 0)throw Error(`Value is undefined`);return e}function U(e){if(e===null)throw Error(`Value is null`);return e}function Mt(e){return U(jt(e))}(function(e){e[e.Simple=0]=`Simple`,e[e.WithSteps=1]=`WithSteps`,e[e.Curved=2]=`Curved`})(Et||={}),function(e){e[e.Solid=0]=`Solid`,e[e.Dotted=1]=`Dotted`,e[e.Dashed=2]=`Dashed`,e[e.LargeDashed=3]=`LargeDashed`,e[e.SparseDotted=4]=`SparseDotted`}(Dt||={});var W=class{constructor(){this.t=[]}i(e,t,n){let r={h:e,l:t,o:!0===n};this.t.push(r)}_(e){let t=this.t.findIndex((t=>e===t.h));t>-1&&this.t.splice(t,1)}u(e){this.t=this.t.filter((t=>t.l!==e))}p(e,t,n){let r=[...this.t];this.t=this.t.filter((e=>!e.o)),r.forEach((r=>r.h(e,t,n)))}v(){return this.t.length>0}m(){this.t=[]}};function Nt(e,...t){for(let n of t)for(let t in n)n[t]!==void 0&&Object.prototype.hasOwnProperty.call(n,t)&&![`__proto__`,`constructor`,`prototype`].includes(t)&&(typeof n[t]!=`object`||e[t]===void 0||Array.isArray(n[t])?e[t]=n[t]:Nt(e[t],n[t]));return e}function Pt(e){return typeof e==`number`&&isFinite(e)}function Ft(e){return typeof e==`number`&&e%1==0}function It(e){return typeof e==`string`}function Lt(e){return typeof e==`boolean`}function Rt(e){let t=e;if(!t||typeof t!=`object`)return t;let n,r,i;for(r in n=Array.isArray(t)?[]:{},t)t.hasOwnProperty(r)&&(i=t[r],n[r]=i&&typeof i==`object`?Rt(i):i);return n}function zt(e){return e!==null}function Bt(e){return e===null?void 0:e}var Vt=`-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif`;function Ht(e,t,n){return t===void 0&&(t=Vt),`${n=n===void 0?``:`${n} `}${e}px ${t}`}var Ut=class{constructor(e){this.M={S:1,C:5,k:NaN,P:``,T:``,R:``,D:``,I:0,V:0,B:0,A:0,L:0},this.O=e}N(){let e=this.M,t=this.F(),n=this.W();return e.k===t&&e.T===n||(e.k=t,e.T=n,e.P=Ht(t,n),e.A=2.5/12*t,e.I=e.A,e.V=t/12*e.C,e.B=t/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}};function Wt(e){return e<0?0:e>255?255:Math.round(e)||0}function Gt(e){return .199*e[0]+.687*e[1]+.114*e[2]}var Kt=class{constructor(e,t){this.q=new Map,this.j=e,t&&(this.q=t)}Y(e,t){if(e===`transparent`)return e;let n=this.K(e),r=n[3];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${t*r})`}Z(e){let t=this.K(e);return{G:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,X:Gt(t)>160?`black`:`white`}}J(e){return Gt(this.K(e))}tt(e,t,n){let[r,i,a,o]=this.K(e),[s,c,l,u]=this.K(t),d=[Wt(r+n*(s-r)),Wt(i+n*(c-i)),Wt(a+n*(l-a)),(f=o+n*(u-o),f<=0||f>1?Math.min(Math.max(f,0),1):Math.round(1e4*f)/1e4)];var f;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}K(e){let t=this.q.get(e);if(t)return t;let n=function(e){let t=document.createElement(`div`);t.style.display=`none`,document.body.appendChild(t),t.style.color=e;let n=window.getComputedStyle(t).color;return document.body.removeChild(t),n}(e).match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!n){if(this.j.length)for(let t of this.j){let n=t(e);if(n)return this.q.set(e,n),n}throw Error(`Failed to parse color: ${e}`)}let r=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),n[4]?parseFloat(n[4]):1];return this.q.set(e,r),r}},qt=class{constructor(){this.it=[]}st(e){this.it=e}nt(e,t,n){this.it.forEach((r=>{r.nt(e,t,n)}))}},Jt=class{nt(e,t,n){e.useBitmapCoordinateSpace((e=>this.et(e,t,n)))}},Yt=class extends Jt{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){if(this.rt===null||this.rt.lt===null)return;let r=this.rt.lt,i=this.rt,a=Math.max(1,Math.floor(t))%2/2,o=o=>{e.beginPath();for(let s=r.to-1;s>=r.from;--s){let r=i.ot[s],c=Math.round(r._t*t)+a,l=r.ut*n,u=o*n+a;e.moveTo(c,l),e.arc(c,l,u,0,2*Math.PI)}e.fill()};i.ct>0&&(e.fillStyle=i.dt,o(i.ft+i.ct)),e.fillStyle=i.vt,o(i.ft)}};function Xt(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:``,dt:``,ft:0,ct:0,lt:null}}var Zt={from:0,to:1},Qt=class{constructor(e,t,n){this.Mt=new qt,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=t,this.yt=n,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&=(this.Rt(),!1),this.Mt}Pt(){let e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(Xt),this.bt=this.St.map((e=>{let t=new Yt;return t.ht(e),t})),this.Mt.st(this.bt))}Rt(){let e=this.Ct.N().mode===2||!this.Ct.It(),t=this.yt.Vt(),n=this.Ct.Bt(),r=this.O.Et();this.Pt(),t.forEach(((t,i)=>{let a=this.St[i],o=t.At(n),s=t.Lt();!e&&o!==null&&t.It()&&s!==null?(a.vt=o.zt,a.ft=o.ft,a.ct=o.Ot,a.ot[0].gt=o.gt,a.ot[0].ut=t.Ft().Nt(o.gt,s.Wt),a.dt=o.Ht??this.O.Ut(a.ot[0].ut/t.Ft().$t()),a.ot[0].wt=n,a.ot[0]._t=r.qt(n),a.lt=Zt):a.lt=null}))}},$t=class extends Jt{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.jt===null)return;let i=this.jt.Yt.It,a=this.jt.Kt.It;if(!i&&!a)return;let o=Math.round(this.jt._t*n),s=Math.round(this.jt.ut*r);e.lineCap=`butt`,i&&o>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*n),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,Ot(e,this.jt.Yt.Zt),function(e,t,n,r){e.beginPath();let i=e.lineWidth%2?.5:0;e.moveTo(t+i,n),e.lineTo(t+i,r),e.stroke()}(e,o,0,t.height)),a&&s>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*r),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,Ot(e,this.jt.Kt.Zt),kt(e,s,0,t.width))}},en=class{constructor(e,t){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:``,It:!1},Kt:{ct:1,Zt:0,R:``,It:!1},_t:0,ut:0},this.Xt=new $t(this.Gt),this.Jt=e,this.yt=t}kt(){this.xt=!0}Tt(e){return this.xt&&=(this.Rt(),!1),this.Xt}Rt(){let e=this.Jt.It(),t=this.yt.Qt().N().crosshair,n=this.Gt;if(t.mode===2)return n.Kt.It=!1,void(n.Yt.It=!1);n.Kt.It=e&&this.Jt.ti(this.yt),n.Yt.It=e&&this.Jt.ii(),n.Kt.ct=t.horzLine.width,n.Kt.Zt=t.horzLine.style,n.Kt.R=t.horzLine.color,n.Yt.ct=t.vertLine.width,n.Yt.Zt=t.vertLine.style,n.Yt.R=t.vertLine.color,n._t=this.Jt.si(),n.ut=this.Jt.ni()}};function tn(e,t,n,r,i,a){e.save(),e.globalCompositeOperation=`copy`,e.fillStyle=a,e.fillRect(t,n,r,i),e.restore()}function nn(e,t,n,r,i,a){e.beginPath(),e.roundRect?e.roundRect(t,n,r,i,a):(e.lineTo(t+r-a[1],n),a[1]!==0&&e.arcTo(t+r,n,t+r,n+a[1],a[1]),e.lineTo(t+r,n+i-a[2]),a[2]!==0&&e.arcTo(t+r,n+i,t+r-a[2],n+i,a[2]),e.lineTo(t+a[3],n+i),a[3]!==0&&e.arcTo(t,n+i,t,n+i-a[3],a[3]),e.lineTo(t,n+a[0]),a[0]!==0&&e.arcTo(t,n,t+a[0],n,a[0]))}function rn(e,t,n,r,i,a,o=0,s=[0,0,0,0],c=``){if(e.save(),!o||!c||c===a)return nn(e,t,n,r,i,s),e.fillStyle=a,e.fill(),void e.restore();let l=o/2;var u;nn(e,t+l,n+l,r-o,i-o,(u=-l,s.map((e=>e===0?e:e+u)))),a!==`transparent`&&(e.fillStyle=a,e.fill()),c!==`transparent`&&(e.lineWidth=o,e.strokeStyle=c,e.closePath(),e.stroke()),e.restore()}function an(e,t,n,r,i,a,o){e.save(),e.globalCompositeOperation=`copy`;let s=e.createLinearGradient(0,0,0,i);s.addColorStop(0,a),s.addColorStop(1,o),e.fillStyle=s,e.fillRect(t,n,r,i),e.restore()}var on=class{constructor(e,t){this.ht(e,t)}ht(e,t){this.jt=e,this.ei=t}$t(e,t){return this.jt.It?e.k+e.A+e.I:0}nt(e,t,n,r){if(!this.jt.It||this.jt.ri.length===0)return;let i=this.jt.R,a=this.ei.G,o=e.useBitmapCoordinateSpace((e=>{let o=e.context;o.font=t.P;let s=this.hi(e,t,n,r),c=s.ai;return s.li?rn(o,c.oi,c._i,c.ui,c.ci,a,c.di,[c.ft,0,0,c.ft],a):rn(o,c.fi,c._i,c.ui,c.ci,a,c.di,[0,c.ft,c.ft,0],a),this.jt.pi&&(o.fillStyle=i,o.fillRect(c.fi,c.mi,c.wi-c.fi,c.gi)),this.jt.Mi&&(o.fillStyle=t.D,o.fillRect(s.li?c.bi-c.di:0,c._i,c.di,c.Si-c._i)),s}));e.useMediaCoordinateSpace((({context:e})=>{let n=o.xi;e.font=t.P,e.textAlign=o.li?`right`:`left`,e.textBaseline=`middle`,e.fillStyle=i,e.fillText(this.jt.ri,n.Ci,(n._i+n.Si)/2+n.yi)}))}hi(e,t,n,r){let{context:i,bitmapSize:a,mediaSize:o,horizontalPixelRatio:s,verticalPixelRatio:c}=e,l=this.jt.pi||!this.jt.ki?t.C:0,u=this.jt.Pi?t.S:0,d=t.A+this.ei.Ti,f=t.I+this.ei.Ri,p=t.V,m=t.B,h=this.jt.ri,g=t.k,_=n.Di(i,h),v=Math.ceil(n.Ii(i,h)),y=g+d+f,b=t.S+p+m+v+l,x=Math.max(1,Math.floor(c)),S=Math.round(y*c);S%2!=x%2&&(S+=1);let C=u>0?Math.max(1,Math.floor(u*s)):0,w=Math.round(b*s),T=Math.round(l*s),E=this.ei.Vi??this.ei.Bi??this.ei.Ei,D=Math.round(E*c)-Math.floor(.5*c),O=Math.floor(D+x/2-S/2),k=O+S,ee=r===`right`,A=ee?o.width-u:u,te=ee?a.width-C:C,ne,re,ie;return ee?(ne=te-w,re=te-T,ie=A-l-p-u):(ne=te+w,re=te+T,ie=A+l+p),{li:ee,ai:{_i:O,mi:D,Si:k,ui:w,ci:S,ft:2*s,di:C,oi:ne,fi:te,wi:re,gi:x,bi:a.width},xi:{_i:O/c,Si:k/c,Ci:ie,yi:_}}}},sn=class{constructor(e){this.Ai={Ei:0,G:`#000`,Ri:0,Ti:0},this.Li={ri:``,It:!1,pi:!0,ki:!1,Ht:``,R:`#FFF`,Mi:!1,Pi:!1},this.zi={ri:``,It:!1,pi:!1,ki:!0,Ht:``,R:`#FFF`,Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||on)(this.Li,this.Ai),this.Ni=new(e||on)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,t=!1){return Math.max(this.Oi.$t(e,t),this.Ni.$t(e,t))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}},cn=class extends sn{constructor(e,t,n){super(),this.Jt=e,this.Ki=t,this.Zi=n}Yi(e,t,n){if(e.It=!1,this.Jt.N().mode===2)return;let r=this.Jt.N().horzLine;if(!r.labelVisible)return;let i=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||i===null)return;let a=this.Ki.Xi().Z(r.labelBackgroundColor);n.G=a.G,e.R=a.X;let o=2/12*this.Ki.k();n.Ti=o,n.Ri=o;let s=this.Zi(this.Ki);n.Ei=s.Ei,e.ri=this.Ki.Ji(s.gt,i),e.It=!0}},ln=/[1-9]/g,un=class{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,t){if(this.jt===null||!1===this.jt.It||this.jt.ri.length===0)return;let n=e.useMediaCoordinateSpace((({context:e})=>(e.font=t.P,Math.round(t.Qi.Ii(e,U(this.jt).ri,ln)))));if(n<=0)return;let r=t.ts,i=n+2*r,a=i/2,o=this.jt.ss,s=this.jt.Ei,c=Math.floor(s-a)+.5;c<0?(s+=Math.abs(0-c),c=Math.floor(s-a)+.5):c+i>o&&(s-=Math.abs(o-(c+i)),c=Math.floor(s-a)+.5);let l=c+i,u=Math.ceil(0+t.S+t.C+t.A+t.k+t.I);e.useBitmapCoordinateSpace((({context:e,horizontalPixelRatio:n,verticalPixelRatio:r})=>{let i=U(this.jt);e.fillStyle=i.G;let a=Math.round(c*n),o=Math.round(0*r),s=Math.round(l*n),d=Math.round(u*r),f=Math.round(2*n);if(e.beginPath(),e.moveTo(a,o),e.lineTo(a,d-f),e.arcTo(a,d,a+f,d,f),e.lineTo(s-f,d),e.arcTo(s,d,s,d-f,f),e.lineTo(s,o),e.fill(),i.pi){let a=Math.round(i.Ei*n),s=o,c=Math.round((s+t.C)*r);e.fillStyle=i.R;let l=Math.max(1,Math.floor(n)),u=Math.floor(.5*n);e.fillRect(a-u,s,l,c-s)}})),e.useMediaCoordinateSpace((({context:e})=>{let n=U(this.jt),i=0+t.S+t.C+t.A+t.k/2;e.font=t.P,e.textAlign=`left`,e.textBaseline=`middle`,e.fillStyle=n.R;let a=t.Qi.Di(e,`Apr0`);e.translate(c+r,i+a),e.fillText(n.ri,0,0)}))}},dn=class{constructor(e,t,n){this.xt=!0,this.Xt=new un,this.Gt={It:!1,G:`#4c525e`,R:`white`,ri:``,ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=t,this.Zi=n}kt(){this.xt=!0}Tt(){return this.xt&&=(this.Rt(),!1),this.Xt.ht(this.Gt),this.Xt}Rt(){let e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;let t=this.Ct.N().vertLine;if(!t.labelVisible)return;let n=this.ns.Et();if(n.Gi())return;e.ss=n.ss();let r=this.Zi();if(r===null)return;e.Ei=r.Ei;let i=n.es(this.Ct.Bt());e.ri=n.rs(U(i)),e.It=!0;let a=this.ns.Xi().Z(t.labelBackgroundColor);e.G=a.G,e.R=a.X,e.pi=n.N().ticksVisible}},fn=class{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}},pn;(function(e){e[e.Normal=0]=`Normal`,e[e.Magnet=1]=`Magnet`,e[e.Hidden=2]=`Hidden`,e[e.MagnetOHLC=3]=`MagnetOHLC`})(pn||={});var mn=class extends fn{constructor(e,t){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=t,this.Ts=((e,t)=>n=>{let r=t(),i=e();if(n===U(this.yt).Rs())return{gt:i,Ei:r};{let e=U(n.Lt());return{gt:n.Ds(r,e),Ei:r}}})((()=>this.ps),(()=>this.Cs));let n=((e,t)=>()=>{let n=this.ns.Et().Is(e()),r=t();return n&&Number.isFinite(r)?{wt:n,Ei:r}:null})((()=>this.vs),(()=>this.si()));this.Vs=new dn(this,e,n)}N(){return this.Ps}Bs(e,t){this.ys=e,this.ks=t}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,t,n){this.Ms||=!0,this.ws=!0,this.Os(e,t,n)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;let t=this.ns,n=t.Et(),r=null,i=null;for(let n of t.Us()){let t=n.qs().$s(e,-1);if(t){if(t.js===e)return e;(r===null||t.js>r)&&(r=t.js)}let a=n.qs().$s(e,1);if(a){if(a.js===e)return e;(i===null||a.js<i)&&(i=a.js)}}let a=[r,i].filter(zt);if(a.length===0)return e;let o=n.qt(e),s=a.map((e=>Math.abs(o-n.qt(e))));return a[s.indexOf(Math.min(...s))]}Ys(e){let t=this.bs.get(e);t||(t=new en(this,e),this.bs.set(e,t));let n=this.Ss.get(e);return n||(n=new Qt(this.ns,this,e),this.Ss.set(e,n)),[t,n]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,t){this.ws&&this.yt===e||this.gs.clear();let n=[];return this.yt===e&&n.push(this.Zs(this.gs,t,this.Ts)),n}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach((e=>{this.bs.get(e)?.kt(),this.Ss.get(e)?.kt()})),this.gs.forEach((e=>e.kt())),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,t,n){this.Qs(e,t,n)&&this.Ws()}Qs(e,t,n){let r=this.xs,i=this.Cs,a=this.ps,o=this.vs,s=this.yt,c=this.Js(n);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=n;let l=c===null?null:c.Lt();return c!==null&&l!==null?(this.ps=t,this.Cs=c.Nt(t,l)):(this.ps=NaN,this.Cs=NaN),r!==this.xs||i!==this.Cs||o!==this.vs||a!==this.ps||s!==this.yt}Fs(){let e=this.ns.tn().map((e=>e.qs().sn())).filter(zt),t=e.length===0?null:Math.max(...e);this.vs=t===null?NaN:t}Zs(e,t,n){let r=e.get(t);return r===void 0&&(r=new cn(this,t,n),e.set(t,r)),r}};function hn(e){return e===`left`||e===`right`}var gn=class e{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,t){let n=function(e,t){return e===void 0?t:{an:Math.max(e.an,t.an),ln:e.ln||t.ln}}(this.nn.get(e),t);this.nn.set(e,n)}_n(){return this.rn}un(e){let t=this.nn.get(e);return t===void 0?{an:this.rn}:{an:Math.max(this.rn,t.an),ln:t.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(let t of e.en)this.xn(t);this.rn=Math.max(this.rn,e.rn),e.nn.forEach(((e,t)=>{this.hn(t,e)}))}static Cn(){return new e(2)}static yn(){return new e(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){let e=this.en.findIndex((e=>e.fn===5));e!==-1&&this.en.splice(e,1)}},_n=class{formatTickmarks(e){return e.map((e=>this.format(e)))}},vn=`.`;function yn(e,t){if(!Pt(e))return`n/a`;if(!Ft(t)||t<0||t>16)throw TypeError(`invalid length`);return t===0?e.toString():(`0000000000000000`+e.toString()).slice(-t)}var bn=class extends _n{constructor(e,t){if(super(),t||=1,Pt(e)&&Ft(e)||(e=100),e<0)throw TypeError(`invalid base`);this.Ki=e,this.kn=t,this.Pn()}format(e){let t=e<0?`âˆ’`:``;return e=Math.abs(e),t+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){let t=this.Ki/this.kn,n=Math.floor(e),r=``,i=this.Rn===void 0?NaN:this.Rn;if(t>1){let a=+(Math.round(e*t)-n*t).toFixed(this.Rn);a>=t&&(a-=t,n+=1),r=vn+yn(+a.toFixed(this.Rn)*this.kn,i)}else n=Math.round(n*t)/t,i>0&&(r=vn+yn(0,i));return n.toFixed(0)+r}},xn=class extends bn{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}},Sn=class extends _n{constructor(e){super(),this.Dn=e}format(e){let t=``;return e<0&&(t=`-`,e=-e),e<995?t+this.In(e):e<999995?t+this.In(e/1e3)+`K`:e<999999995?(e=1e3*Math.round(e/1e3),t+this.In(e/1e6)+`M`):(e=1e6*Math.round(e/1e6),t+this.In(e/1e9)+`B`)}In(e){let t,n=10**this.Dn;return t=(e=Math.round(e*n)/n)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,``):String(e),t.replace(/(\.[1-9]*)0+$/,((e,t)=>t))}},Cn=/[2-9]/g,wn=class{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,t,n){return this.Nn(e,t,n).width}Di(e,t,n){let r=this.Nn(e,t,n);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}Nn(e,t,n){let r=n||Cn,i=String(t).replace(r,`0`);if(this.Ln.has(i))return jt(this.Ln.get(i)).Fn;if(this.Vn===this.zn){let e=this.An[this.En];delete this.An[this.En],this.Ln.delete(e),this.En++,this.Vn--}e.save(),e.textBaseline=`middle`;let a=e.measureText(i);return e.restore(),a.width===0&&t.length||(this.Ln.set(i,{Fn:a,Wn:this.Bn}),this.An[this.Bn]=i,this.Vn++,this.Bn++),a}},Tn=class{constructor(e){this.Hn=null,this.M=null,this.Un=`right`,this.$n=e}qn(e,t,n){this.Hn=e,this.M=t,this.Un=n}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}},En=class{constructor(e,t,n){this.jn=e,this.$n=new wn(50),this.Yn=t,this.O=n,this.F=-1,this.Xt=new Tn(this.$n)}Tt(){let e=this.O.Kn(this.Yn);if(e===null)return null;let t=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(t===null)return null;let n=e.Xn(t);if(n===`overlay`)return null;let r=this.O.Jn();return r.k!==this.F&&(this.F=r.k,this.$n.On()),this.Xt.qn(this.jn.ji(),r,n),this.Xt}},Dn=class extends Jt{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,t){if(!this.jt?.It)return null;let{ut:n,ct:r,te:i}=this.jt;return t>=n-r-7&&t<=n+r+7?{ie:this.jt,te:i}:null}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.jt===null||!1===this.jt.It)return;let i=Math.round(this.jt.ut*r);i<0||i>t.height||(e.lineCap=`butt`,e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*n),Ot(e,this.jt.Zt),kt(e,i,0,t.width))}},On=class{constructor(e){this.se={ut:0,R:`rgba(0, 0, 0, 0)`,ct:1,Zt:0,It:!1},this.ne=new Dn,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&=(this.he(),!1),this.ne):null}},kn=class extends On{constructor(e){super(e)}he(){this.se.It=!1;let e=this.ee.Ft(),t=e.ae().ae;if(t!==2&&t!==3)return;let n=this.ee.N();if(!n.baseLineVisible||!this.ee.It())return;let r=this.ee.Lt();r!==null&&(this.se.It=!0,this.se.ut=e.Nt(r.Wt,r.Wt),this.se.R=n.baseLineColor,this.se.ct=n.baseLineWidth,this.se.Zt=n.baseLineStyle)}},An=class extends Jt{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:n}){let r=this.jt;if(r===null)return;let i=Math.max(1,Math.floor(t)),a=i%2/2,o=Math.round(r.oe.x*t)+a,s=r.oe.y*n;e.fillStyle=r._e,e.beginPath();let c=Math.max(2,1.5*r.ue)*t;e.arc(o,s,c,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.ce,e.beginPath(),e.arc(o,s,r.ft*t,0,2*Math.PI,!1),e.fill(),e.lineWidth=i,e.strokeStyle=r.de,e.beginPath(),e.arc(o,s,r.ft*t+i/2,0,2*Math.PI,!1),e.stroke()}},jn=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}],Mn=class{constructor(e){this.Xt=new An,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){let e=performance.now(),t=this.Ce-e;if(t>0)return void(t<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&=(this.De(),!1),this.Xt}Rt(){this.Xt.ht(null);let e=this.ye.Qt().Et(),t=e.Ie(),n=this.ye.Lt();if(t===null||n===null)return;let r=this.ye.Ve(!0);if(r.Be||!t.Ee(r.js))return;let i={x:e.qt(r.js),y:this.ye.Ft().Nt(r.gt,n.Wt)},a=r.R,o=this.ye.N().lineWidth,s=this.Ae(this.Le(),a);this.Xt.ht({_e:a,ue:o,ce:s.ce,de:s.de,ft:s.ft,oe:i})}De(){let e=this.Xt.le();if(e!==null){let t=this.Ae(this.Le(),e._e);e.ce=t.ce,e.de=t.de,e.ft=t.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,t,n,r){let i=n+(r-n)*t;return this.ye.Qt().Xi().Y(e,i)}Ae(e,t){let n=e%2600/2600,r;for(let e of jn)if(n>=e.fe&&n<=e.pe){r=e;break}At(r!==void 0,`Last price animation internal logic error`);let i=(n-r.fe)/(r.pe-r.fe);return{ce:this.ze(t,i,r.we,r.ge),de:this.ze(t,i,r.Me,r.be),ft:(a=i,o=r.ve,s=r.me,o+(s-o)*a)};var a,o,s}},Nn=class extends On{constructor(e){super(e)}he(){let e=this.se;e.It=!1;let t=this.ee.N();if(!t.priceLineVisible||!this.ee.It())return;let n=this.ee.Ve(t.priceLineSource===0);n.Be||(e.It=!0,e.ut=n.Ei,e.R=this.ee.Oe(n.R),e.ct=t.priceLineWidth,e.Zt=t.priceLineStyle)}},Pn=class extends sn{constructor(e){super(),this.Jt=e}Yi(e,t,n){e.It=!1,t.It=!1;let r=this.Jt;if(!r.It())return;let i=r.N(),a=i.lastValueVisible,o=r.Ne()!==``,s=i.seriesLastValueMode===0,c=r.Ve(!1);if(c.Be)return;a&&(e.ri=this.Fe(c,a,s),e.It=e.ri.length!==0),(o||s)&&(t.ri=this.We(c,a,o,s),t.It=t.ri.length>0);let l=r.Oe(c.R),u=this.Jt.Qt().Xi().Z(l);n.G=u.G,n.Ei=c.Ei,t.Ht=r.Qt().Ut(c.Ei/r.Ft().$t()),e.Ht=l,e.R=u.X,t.R=u.X}We(e,t,n,r){let i=``,a=this.Jt.Ne();return n&&a.length!==0&&(i+=`${a} `),t&&r&&(i+=this.Jt.Ft().He()?e.Ue:e.$e),i.trim()}Fe(e,t,n){return t?n?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:``}};function Fn(e,t,n,r){let i=Number.isFinite(t),a=Number.isFinite(n);return i&&a?e(t,n):i||a?i?t:n:r}var In=class e{constructor(e,t){this.qe=e,this.je=t}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new e(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(t){return t===null?this:new e(Fn(Math.min,this.Ze(),t.Ze(),-1/0),Fn(Math.max,this.Ge(),t.Ge(),1/0))}Je(e){if(!Pt(e)||this.je-this.qe===0)return;let t=.5*(this.je+this.qe),n=this.je-t,r=this.qe-t;n*=e,r*=e,this.je=t+n,this.qe=t+r}Qe(e){Pt(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(t){return t===null?null:new e(t.minValue,t.maxValue)}},Ln=class e{constructor(e,t){this.sr=e,this.nr=t||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(t){return t===null?null:new e(In.ir(t.priceRange),t.margins)}},Rn=[2,4,8,16,32,64,128,256,512],zn=`Custom series with conflation reducer must have a priceValueBuilder method`,Bn=class extends On{constructor(e,t){super(e),this.hr=t}he(){let e=this.se;e.It=!1;let t=this.hr.N();if(!this.ee.It()||!t.lineVisible)return;let n=this.hr.ar();n!==null&&(e.It=!0,e.ut=n,e.R=t.color,e.ct=t.lineWidth,e.Zt=t.lineStyle,e.te=this.hr.N().id)}},Vn=class extends sn{constructor(e,t){super(),this.ye=e,this.hr=t}Yi(e,t,n){e.It=!1,t.It=!1;let r=this.hr.N(),i=r.axisLabelVisible,a=r.title!==``,o=this.ye;if(!i||!o.It())return;let s=this.hr.ar();if(s===null)return;a&&(t.ri=r.title,t.It=!0),t.Ht=o.Qt().Ut(s/o.Ft().$t()),e.ri=this.lr(r.price),e.It=!0;let c=this.ye.Qt().Xi().Z(r.axisLabelColor||r.color);n.G=c.G;let l=r.axisLabelTextColor||c.X;e.R=l,t.R=l,n.Ei=s}lr(e){let t=this.ye.Lt();return t===null?``:this.ye.Ft().Ji(e,t.Wt)}},Hn=class{constructor(e,t){this.ye=e,this.Ps=t,this._r=new Bn(e,this),this.jn=new Vn(e,this),this.ur=new En(this.jn,e,e.Qt())}cr(e){Nt(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){let e=this.ye,t=e.Ft();if(e.Qt().Et().Gi()||t.Gi())return null;let n=e.Lt();return n===null?null:t.Nt(this.Ps.price,n.Wt)}},Un=class{constructor(){this.wr=new WeakMap}gr(e,t,n){let r=1/t*n;if(e>=r)return 1;let i=r/e,a=2**Math.floor(Math.log2(i));return Math.min(a,512)}Mr(e,t,n,r=!1,i){if(e.length===0||t<=1)return e;let a=this.br(t);if(a<=1)return e;let o=this.Sr(e),s=o.Cr.get(a);return s!==void 0||(s=this.yr(e,a,n,r,i,o.Cr),o.Cr.set(a,s)),s}kr(e,t,n,r,i=!1,a){if(n<1||e.length===0)return e;let o=this.Sr(e),s=o.Cr.get(n);if(!s)return this.Mr(e,n,r,i,a);let c=this.Pr(e,t,n,s,i,r,a);return o.Cr.set(n,c),c}br(e){if(e<=2)return 2;for(let t of Rn)if(e<=t)return t;return 512}Tr(e){if(e.length===0)return 0;let t=e[0],n=e[e.length-1];return 31*e.length+17*t.js+13*n.js}yr(e,t,n,r=!1,i,a=new Map){if(t===2)return this.Rr(e,2,n,r,i);let o=t/2,s=a.get(o);return s||(s=this.yr(e,o,n,r,i,a),a.set(o,s)),this.Dr(s,n,r,i)}Rr(e,t,n,r=!1,i){let a=this.Ir(e,t,n,r,i);return this.Vr(a,r)}Dr(e,t,n=!1,r){let i=this.Ir(e,2,t,n,r);return this.Vr(i,n)}Ir(e,t,n,r=!1,i){let a=[];for(let o=0;o<e.length;o+=t)if(e.length-o>=t){let t=this.Br(e[o],e[o+1],n,r,i);t.Er=!1,a.push(t)}else if(a.length===0)a.push(this.Ar(e[o],!0));else{let t=a[a.length-1];a[a.length-1]=this.Lr(t,e[o],n,r,i)}return a}zr(e,t){return(e??1)+(t??1)}Br(e,t,n,r=!1,i){if(!r||!n||!i){let n=e.Wt[1]>t.Wt[1]?e.Wt[1]:t.Wt[1],r=e.Wt[2]<t.Wt[2]?e.Wt[2]:t.Wt[2];return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:n,$r:r,qr:t.Wt[3],jr:this.zr(e.jr,t.jr),Yr:void 0,Er:!1}}let a=n(this.Kr(e,i),this.Kr(t,i)),o=i(a),s=o.length?o[o.length-1]:0;return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],s),$r:Math.min(e.Wt[2],s),qr:s,jr:this.zr(e.jr,t.jr),Yr:a,Er:!1}}Lr(e,t,n,r=!1,i){if(!r||!n||!i)return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:e.Ur>t.Wt[1]?e.Ur:t.Wt[1],$r:e.$r<t.Wt[2]?e.$r:t.Wt[2],qr:t.Wt[3],jr:e.jr+(t.jr??1),Yr:e.Yr,Er:!1};let a=e.Yr,o=this.Kr(t,i),s=a?{data:a,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:i(a)}:null,c=s?n(s,o):o.data,l=s?i(c):o.priceValues,u=l.length?l[l.length-1]:0;return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:Math.max(e.Ur,u),$r:Math.min(e.$r,u),qr:u,jr:e.jr+(t.jr??1),Yr:c,Er:!1}}Zr(e,t,n,r,i,a,o=!1,s){let c=t===r?i:e[t];if(n-t==1)return this.Ar(c,!0);let l=t+1===r?i:e[t+1],u=this.Br(c,l,a,o,s);for(let c=t+2;c<n;c++){let t=c===r?i:e[c];u=this.Lr(u,t,a,o,s)}return u}Kr(e,t){let n=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:t(n)}}Xr(e,t=!1){let n=!0===t,r=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[n?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:n?r?e.Yr:{wt:e.Fr}:void 0}}Vr(e,t=!1){return e.map((e=>this.Xr(e,t)))}Pr(e,t,n,r,i=!1,a,o){if(r.length===0)return r;let s=e.length-1,c=Math.floor(s/n)*n;if(Math.min(c+n,e.length)-c<n&&e.length>n){let r=e.slice();return r[r.length-1]=t,this.Mr(r,n,a,i,o)}if(Math.floor((s-1)/n)===Math.floor(s/n)||r.length===1){let l=Math.min(c+n,e.length),u=l-c;if(u<=0)return r;let d=u===1?this.Ar(c===s?t:e[c],!0):this.Zr(e,c,l,s,t,a,i,o);return r[r.length-1]=this.Xr(d,i),r}{let r=e.slice();return r[r.length-1]=t,this.Mr(r,n,a,i,o)}}Ar(e,t=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:t}}Sr(e){let t=this.Jr(e),n=this.Tr(e);return t.Qr!==n&&(t.Cr.clear(),t.Qr=n),t}Jr(e){let t=this.wr.get(e);return t===void 0&&(t={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,t)),t}},Wn=class extends fn{constructor(e){super(),this.ns=e}Qt(){return this.ns}},Gn={Bar:(e,t,n,r)=>{let i=t.upColor,a=t.downColor,o=U(e(n,r)),s=Mt(o.Wt[0])<=Mt(o.Wt[3]);return{th:o.R??(s?i:a)}},Candlestick:(e,t,n,r)=>{let i=t.upColor,a=t.downColor,o=t.borderUpColor,s=t.borderDownColor,c=t.wickUpColor,l=t.wickDownColor,u=U(e(n,r)),d=Mt(u.Wt[0])<=Mt(u.Wt[3]);return{th:u.R??(d?i:a),ih:u.Ht??(d?o:s),sh:u.nh??(d?c:l)}},Custom:(e,t,n,r)=>({th:U(e(n,r)).R??t.color}),Area:(e,t,n,r)=>{let i=U(e(n,r));return{th:i.vt??t.lineColor,vt:i.vt??t.lineColor,eh:i.eh??t.topColor,rh:i.rh??t.bottomColor}},Baseline:(e,t,n,r)=>{let i=U(e(n,r));return{th:i.Wt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,hh:i.hh??t.topLineColor,ah:i.ah??t.bottomLineColor,oh:i.oh??t.topFillColor1,_h:i._h??t.topFillColor2,uh:i.uh??t.bottomFillColor1,dh:i.dh??t.bottomFillColor2}},Line:(e,t,n,r)=>{let i=U(e(n,r));return{th:i.R??t.color,vt:i.R??t.color}},Histogram:(e,t,n,r)=>({th:U(e(n,r)).R??t.color})},Kn=class{constructor(e){this.fh=(e,t)=>t===void 0?this.ye.qs().ph(e):t.Wt,this.ye=e,this.mh=Gn[e.wh()]}gh(e,t){return this.mh(this.fh,this.ye.N(),e,t)}};function qn(e,t,n,r,i=0,a=t.length){let o=a-i;for(;0<o;){let a=o>>1,s=i+a;r(t[s],n)===e?(i=s+1,o-=a+1):o=a}return i}var Jn=qn.bind(null,!0),Yn=qn.bind(null,!1),Xn;(function(e){e[e.NearestLeft=-1]=`NearestLeft`,e[e.None=0]=`None`,e[e.NearestRight=1]=`NearestRight`})(Xn||={});var Zn=30,Qn=class{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,t=0){let n=this.Th(e,t);return n===null?null:{...this.Rh(n),js:this.Ph(n)}}Dh(){return this.Mh}Ih(e,t,n){if(this.Gi())return null;let r=null;for(let i of n)r=$n(r,this.Vh(e,t,i));return r}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map((e=>e.js))}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,t){let n=this.Eh(e);if(n===null&&t!==0)switch(t){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw TypeError(`Unknown search mode`)}return n}Ah(e){let t=this.zh(e);return t>0&&--t,t!==this.Mh.length&&this.Ph(t)<e?t:null}Lh(e){let t=this.Oh(e);return t!==this.Mh.length&&e<this.Ph(t)?t:null}Eh(e){let t=this.zh(e);return t===this.Mh.length||e<this.Mh[t].js?null:t}zh(e){return Jn(this.Mh,e,((e,t)=>e.js<t))}Oh(e){return Yn(this.Mh,e,((e,t)=>e.js>t))}Nh(e,t,n){let r=null;for(let i=e;i<t;i++){let e=this.Mh[i].Wt[n];Number.isNaN(e)||(r===null?r={Fh:e,Wh:e}:(e<r.Fh&&(r.Fh=e),e>r.Wh&&(r.Wh=e)))}return r}Vh(e,t,n){if(this.Gi())return null;let r=null,i=U(this.kh()),a=U(this.sn()),o=Math.max(e,i),s=Math.min(t,a),c=Math.ceil(o/Zn)*Zn,l=Math.max(c,Math.floor(s/Zn)*Zn);{let e=this.zh(o),i=this.Oh(Math.min(s,c,t));r=$n(r,this.Nh(e,i,n))}let u=this.bh.get(n);u===void 0&&(u=new Map,this.bh.set(n,u));for(let e=Math.max(c+1,o);e<l;e+=Zn){let t=Math.floor(e/Zn),i=u.get(t);if(i===void 0){let e=this.zh(t*Zn),r=this.Oh((t+1)*Zn-1);i=this.Nh(e,r,n),u.set(t,i)}r=$n(r,i)}{let e=this.zh(l),t=this.Oh(s);r=$n(r,this.Nh(e,t,n))}return r}};function $n(e,t){return e===null?t:t===null?e:{Fh:Math.min(e.Fh,t.Fh),Wh:Math.max(e.Wh,t.Wh)}}function er(){return new Qn}var tr={setLineStyle:Ot},nr=class{constructor(e){this.Hh=e}nt(e,t,n){this.Hh.draw(e,tr)}Uh(e,t,n){this.Hh.drawBackground?.(e,tr)}},rr=class{constructor(e){this.Ln=null,this.$h=e}Tt(){let e=this.$h.renderer();if(e===null)return null;if(this.Ln?.qh===e)return this.Ln.jh;let t=new nr(e);return this.Ln={qh:e,jh:t},t}Yh(){return this.$h.zOrder?.()??`normal`}},ir=class{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){this.Zh.updateAllViews?.()}Ys(){let e=this.Zh.paneViews?.()??[];if(this.Kh?.qh===e)return this.Kh.jh;let t=e.map((e=>new rr(e)));return this.Kh={qh:e,jh:t},t}Qn(e,t){return this.Zh.hitTest?.(e,t)??null}},ar=class extends ir{ds(){return[]}},or=class{constructor(e){this.Hh=e}nt(e,t,n){this.Hh.draw(e,tr)}Uh(e,t,n){this.Hh.drawBackground?.(e,tr)}},sr=class{constructor(e){this.Ln=null,this.$h=e}Tt(){let e=this.$h.renderer();if(e===null)return null;if(this.Ln?.qh===e)return this.Ln.jh;let t=new or(e);return this.Ln={qh:e,jh:t},t}Yh(){return this.$h.zOrder?.()??`normal`}};function cr(e){return{ri:e.text(),Ei:e.coordinate(),Vi:e.fixedCoordinate?.(),R:e.textColor(),G:e.backColor(),It:e.visible?.()??!0,pi:e.tickVisible?.()??!0}}var lr=class{constructor(e,t){this.Xt=new un,this.Xh=e,this.Jh=t}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...cr(this.Xh)}),this.Xt}},ur=class extends sn{constructor(e,t){super(),this.Xh=e,this.Ki=t}Yi(e,t,n){let r=cr(this.Xh);n.G=r.G,e.R=r.R;let i=2/12*this.Ki.k();n.Ti=i,n.Ri=i,n.Ei=r.Ei,n.Vi=r.Vi,e.ri=r.ri,e.It=r.It,e.pi=r.pi}},dr=class extends ir{constructor(e,t){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=t}fs(){let e=this.Zh.timeAxisViews?.()??[];if(this.Qh?.qh===e)return this.Qh.jh;let t=this.ye.Qt().Et(),n=e.map((e=>new lr(e,t)));return this.Qh={qh:e,jh:n},n}Ks(){let e=this.Zh.priceAxisViews?.()??[];if(this.ta?.qh===e)return this.ta.jh;let t=this.ye.Ft(),n=e.map((e=>new ur(e,t)));return this.ta={qh:e,jh:n},n}na(){let e=this.Zh.priceAxisPaneViews?.()??[];if(this.ia?.qh===e)return this.ia.jh;let t=e.map((e=>new sr(e)));return this.ia={qh:e,jh:t},t}ea(){let e=this.Zh.timeAxisPaneViews?.()??[];if(this.sa?.qh===e)return this.sa.jh;let t=e.map((e=>new sr(e)));return this.sa={qh:e,jh:t},t}ra(e,t){return this.Zh.autoscaleInfo?.(e,t)??null}};function fr(e,t,n,r){e.forEach((e=>{t(e).forEach((e=>{e.Yh()===n&&r.push(e)}))}))}function pr(e){return e.Ys()}function mr(e){return e.na()}function hr(e){return e.ea()}var gr=[`Area`,`Line`,`Baseline`],_r=class extends Wn{constructor(e,t,n,r,i){super(e),this.jt=er(),this._r=new Nn(this),this.ha=[],this.aa=new kn(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new Un,this.da=new Map,this.fa=null,this.Ps=n,this.pa=t;let a=new Pn(this);if(this.gs=[a],this.ur=new En(a,this,e),gr.includes(this.pa)&&(this.la=new Mn(this)),this.va(),this.$h=r(this,this.Qt(),i),this.pa===`Custom`){let e=this.$h;e.ma&&this.wa(e.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){let t={Be:!0},n=this.Ft();if(this.Qt().Et().Gi()||n.Gi()||this.jt.Gi())return t;let r=this.Qt().Et().Ie(),i=this.Lt();if(r===null||i===null)return t;let a,o;if(e){let e=this.jt.Ch();if(e===null)return t;a=e,o=e.js}else{let e=this.jt.$s(r.bi(),-1);if(e===null||(a=this.jt.ph(e.js),a===null))return t;o=e.js}let s=a.Wt[3],c=this.ga().gh(o,{Wt:a}),l=n.Nt(s,i.Wt);return{Be:!1,gt:s,ri:n.Ji(s,i.Wt),Ue:n.Ma(s),$e:n.ba(s,i.Wt),R:c.th,Ei:l,js:o}}ga(){return this.oa!==null||(this.oa=new Kn(this)),this.oa}N(){return this.Ps}cr(e){let t=this.Qt(),{priceScaleId:n,visible:r,priceFormat:i}=e;n!==void 0&&n!==this.Ps.priceScaleId&&t.Sa(this,n),r!==void 0&&r!==this.Ps.visible&&t.xa();let a=e.conflationThresholdFactor!==void 0;Nt(this.Ps,e),a&&(this.da.clear(),this.Qt().dr()),i!==void 0&&(this.va(),t.Ca()),t.ya(this),t.ka(),this.$h.kt(`options`)}ht(e,t){this.jt.ht(e),this.da.clear();let n=this.Qt().Et().N();n.enableConflation&&n.precomputeConflationOnInit&&this.Pa(n.precomputeConflationPriority),this.$h.kt(`data`),this.la!==null&&(t&&t.Ta?this.la.Pe():e.length===0&&this.la.ke());let r=this.Qt().Kn(this);this.Qt().Ra(r),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){let t=new Hn(this,e);return this.ha.push(t),this.Qt().ya(this),t}Ia(e){let t=this.ha.indexOf(e);t!==-1&&this.ha.splice(t,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){let e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){let e=this.Qt().Et().Ie();if(e===null)return null;let t=e.Aa();return this.jt.$s(t,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;let t=this.za();if(!this.da.has(t))return;let n=this.pa===`Custom`,r=n&&this.fa||void 0,i=n&&this.$h.Oa?e=>{let t=e,n=this.$h.Oa(t);return Array.isArray(n)?n:[typeof n==`number`?n:0]}:void 0,a=this.ca.kr(this.jt.Dh(),e,t,r,n,i),o=er();o.ht(a),this.da.set(t,o)}Na(){let e=this.Qt().Et().N().enableConflation;if(this.pa===`Custom`&&this.fa===null||!e)return this.jt;let t=this.za();return this.da.get(t)||(this.Fa(t),this.da.get(t)??this.jt)}Wa(e){let t=this.jt.ph(e);return t===null?null:this.pa===`Bar`||this.pa===`Candlestick`||this.pa===`Custom`?{Hr:t.Wt[0],Ur:t.Wt[1],$r:t.Wt[2],qr:t.Wt[3]}:t.Wt[3]}Ha(e){let t=[];fr(this.ua,pr,`top`,t);let n=this.la;return n!==null&&n.It()?(this._a===null&&n.Re()&&(this._a=setTimeout((()=>{this._a=null,this.Qt().Ua()}),0)),n.Te(),t.unshift(n),t):t}Ys(){let e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);let t=this.ha.map((e=>e.pr()));return e.push(...t),fr(this.ua,pr,`normal`,e),e}qa(){return this.ja(pr,`bottom`)}Ya(e){return this.ja(mr,e)}Ka(e){return this.ja(hr,e)}Za(e,t){return this.ua.map((n=>n.Qn(e,t))).filter((e=>e!==null))}ds(){return[this.ur,...this.ha.map((e=>e.vr()))]}Ks(e,t){if(t!==this.hs&&!this.$a())return[];let n=[...this.gs];for(let e of this.ha)n.push(e.mr());return this.ua.forEach((e=>{n.push(...e.Ks())})),n}fs(){let e=[];return this.ua.forEach((t=>{e.push(...t.fs())})),e}ra(e,t){if(this.Ps.autoscaleInfoProvider!==void 0){let n=this.Ps.autoscaleInfoProvider((()=>{let n=this.Ga(e,t);return n===null?null:n.tr()}));return Ln.ir(n)}return this.Ga(e,t)}qh(){let e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){this.$h.kt();for(let e of this.gs)e.kt();for(let e of this.ha)e.kt();this._r.kt(),this.aa.kt(),this.la?.kt(),this.ua.forEach((e=>e.Ws()))}Ft(){return U(super.Ft())}At(e){if(!((this.pa===`Line`||this.pa===`Area`||this.pa===`Baseline`)&&this.Ps.crosshairMarkerVisible))return null;let t=this.jt.ph(e);return t===null?null:{gt:t.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new dr(e,this))}el(e){this.ua=this.ua.filter((t=>t.Gh()!==e))}rl(){if(this.pa===`Custom`)return e=>this.$h.Oa(e)}hl(){if(this.pa===`Custom`)return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!hn(this.Ft().ol())}Ga(e,t){if(!Ft(e)||!Ft(t)||this.jt.Gi())return null;let n=this.pa===`Line`||this.pa===`Area`||this.pa===`Baseline`||this.pa===`Histogram`?[3]:[2,1],r=this.jt.Ih(e,t,n),i=r===null?null:new In(r.Fh,r.Wh),a=null;if(this.wh()===`Histogram`){let e=this.Ps.base,t=new In(e,e);i=i===null?t:i.Sn(t)}return this.ua.forEach((n=>{let r=n.ra(e,t);if(r?.priceRange){let e=new In(r.priceRange.minValue,r.priceRange.maxValue);i=i===null?e:i.Sn(e)}r?.margins&&(a=r.margins)})),new Ln(i,a)}Qa(){switch(this.pa){case`Line`:case`Area`:case`Baseline`:return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case`Line`:case`Area`:case`Baseline`:{let e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case`Line`:case`Area`:case`Baseline`:return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case`Line`:case`Area`:case`Baseline`:{let e=this.Ps.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case`custom`:{let e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(t=>t.map(e))};break}case`volume`:this.Ja=new Sn(this.Ps.priceFormat.precision);break;case`percent`:this.Ja=new xn(this.Ps.priceFormat.precision);break;default:{let e=10**this.Ps.priceFormat.precision;this.Ja=new bn(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,t){let n=[];return fr(this.ua,e,t,n),n}za(){let{ul:e,cl:t,dl:n}=this.fl();return this.ca.gr(e,t,n)}fl(){let e=this.Qt().Et(),t=e.ul(),n=window.devicePixelRatio||1,r=e.N().conflationThresholdFactor;return{ul:t,cl:n,dl:this.Ps.conflationThresholdFactor??r??1}}pl(e){let t=this.jt.Dh(),n;if(this.pa===`Custom`&&this.fa!==null){let r=this.rl();if(!r)throw Error(zn);n=this.ca.Mr(t,e,this.fa,!0,(e=>r(e)))}else n=this.ca.Mr(t,e);let r=er();return r.ht(n),r}Fa(e){let t=this.pl(e);this.da.set(e,t)}Pa(e){if(this.pa===`Custom`&&(this.fa===null||!this.rl()))return;this.da.clear();let t=this.Qt().Et().vl();for(let n of t){let t=()=>{this.ml(n)},r=typeof window==`object`&&window||typeof self==`object`&&self;r?.gl?.wl?r.gl.wl((()=>{t()}),{Ml:e}):Promise.resolve().then((()=>t()))}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;let t=this.pl(e);this.da.set(e,t)}},vr=[3],yr=[0,1,2,3],br=class{constructor(e){this.Ps=e}bl(e,t,n){let r=e;if(this.Ps.mode===0)return r;let i=n.Rs(),a=i.Lt();if(a===null)return r;let o=i.Nt(e,a),s=n.Sl().filter((e=>e instanceof _r)).reduce(((e,r)=>{if(n.Zn(r)||!r.It())return e;let i=r.Ft(),a=r.qs();if(i.Gi()||!a.Ee(t))return e;let o=a.ph(t);if(o===null)return e;let s=Mt(r.Lt()),c=this.Ps.mode===3?yr:vr;return e.concat(c.map((e=>i.Nt(o.Wt[e],s.Wt))))}),[]);if(s.length===0)return r;s.sort(((e,t)=>Math.abs(e-o)-Math.abs(t-o)));let c=s[0];return r=i.Ds(c,a),r}};function xr(e,t,n){return Math.min(Math.max(e,t),n)}function Sr(e,t,n){return t-e<=n}var Cr=class extends Jt{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.jt===null)return;let i=Math.max(1,Math.floor(n));e.lineWidth=i,function(e,t){e.save(),e.lineWidth%2&&e.translate(.5,.5),t(),e.restore()}(e,(()=>{let a=U(this.jt);if(a.xl){e.strokeStyle=a.Cl,Ot(e,a.yl),e.beginPath();for(let r of a.kl){let a=Math.round(r.Pl*n);e.moveTo(a,-i),e.lineTo(a,t.height+i)}e.stroke()}if(a.Tl){e.strokeStyle=a.Rl,Ot(e,a.Dl),e.beginPath();for(let n of a.Il){let a=Math.round(n.Pl*r);e.moveTo(-i,a),e.lineTo(t.width+i,a)}e.stroke()}}))}},wr=class{constructor(e){this.Xt=new Cr,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){let e=this.yt.Qt().N().grid,t={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map((e=>({Pl:e.coord})))};this.Xt.ht(t),this.xt=!1}return this.Xt}},Tr=class{constructor(e){this.$h=new wr(e)}pr(){return this.$h}},Er={Bl:4,El:1e-4};function Dr(e,t){let n=100*(e-t)/t;return t<0?-n:n}function Or(e,t){return new In(Dr(e.Ze(),t),Dr(e.Ge(),t))}function kr(e,t){let n=100*(e-t)/t+100;return t<0?-n:n}function Ar(e,t){return new In(kr(e.Ze(),t),kr(e.Ge(),t))}function jr(e,t){let n=Math.abs(e);if(n<1e-15)return 0;let r=Math.log10(n+t.El)+t.Bl;return e<0?-r:r}function Mr(e,t){let n=Math.abs(e);if(n<1e-15)return 0;let r=10**(n-t.Bl)-t.El;return e<0?-r:r}function Nr(e,t){return e===null?null:new In(jr(e.Ze(),t),jr(e.Ge(),t))}function Pr(e,t){return e===null?null:new In(Mr(e.Ze(),t),Mr(e.Ge(),t))}function Fr(e){if(e===null)return Er;let t=Math.abs(e.Ge()-e.Ze());if(t>=1||t<1e-15)return Er;let n=Math.ceil(Math.abs(Math.log10(t))),r=Er.Bl+n;return{Bl:r,El:1/10**r}}var Ir=class{constructor(e,t){if(this.Al=e,this.Ll=t,function(e){if(e<0)return!1;if(e>0xde0b6b3a7640000)return!0;for(let t=e;t>1;t/=10)if(t%10!=0)return!1;return!0}(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let e=this.Al;e!==1;){if(e%2==0)this.zl.push(2),e/=2;else{if(e%5!=0)throw Error(`unexpected base`);this.zl.push(2,2.5),e/=5}if(this.zl.length>100)throw Error(`something wrong with base`)}}}Ol(e,t,n){let r=this.Al===0?0:1/this.Al,i=10**Math.max(0,Math.ceil(Math.log10(e-t))),a=0,o=this.Ll[0];for(;;){let e=Sr(i,r,1e-14)&&i>r+1e-14,t=Sr(i,n*o,1e-14),s=Sr(i,1,1e-14);if(!(e&&t&&s))break;i/=o,o=this.Ll[++a%this.Ll.length]}if(i<=r+1e-14&&(i=r),i=Math.max(1,i),this.zl.length>0&&(s=i,c=1,l=1e-14,Math.abs(s-c)<l))for(a=0,o=this.zl[0];Sr(i,n*o,1e-14)&&i>r+1e-14;)i/=o,o=this.zl[++a%this.zl.length];var s,c,l;return i}},Lr=class{constructor(e,t,n,r){this.Nl=[],this.Ki=e,this.Al=t,this.Fl=n,this.Wl=r}Ol(e,t){if(e<t)throw Error(`high < low`);let n=this.Ki.$t(),r=(e-t)*this.Hl()/n,i=new Ir(this.Al,[2,2.5,2]),a=new Ir(this.Al,[2,2,2.5]),o=new Ir(this.Al,[2.5,2,2]),s=[];return s.push(i.Ol(e,t,r),a.Ol(e,t,r),o.Ol(e,t,r)),function(e){if(e.length<1)throw Error(`array is empty`);let t=e[0];for(let n=1;n<e.length;++n)e[n]<t&&(t=e[n]);return t}(s)}Ul(){let e=this.Ki,t=e.Lt();if(t===null)return void(this.Nl=[]);let n=e.$t(),r=this.Fl(n-1,t),i=this.Fl(0,t),a=this.Ki.N().entireTextOnly?this.$l()/2:0,o=a,s=n-1-a,c=Math.max(r,i),l=Math.min(r,i);if(c===l)return void(this.Nl=[]);let u=this.Ol(c,l);if(this.ql(t,u,c,l,o,s),e.jl()&&this.Yl(u,l,c)){let e=this.Ki.Kl();this.Zl(t,u,o,s,e,2*e)}let d=this.Nl.map((e=>e.Gl)),f=this.Ki.Xl(d);for(let e=0;e<this.Nl.length;e++)this.Nl[e].Jl=f[e]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,t,n,r,i,a){let o=this.Nl,s=this.Ki,c=n%t;c+=c<0?t:0;let l=n>=r?1:-1,u=null,d=0;for(let f=n-c;f>r;f-=t){let n=this.Wl(f,e,!0);u!==null&&Math.abs(n-u)<this.Hl()||n<i||n>a||(d<o.length?(o[d].Pl=n,o[d].Jl=s.Ql(f),o[d].Gl=f):o.push({Pl:n,Jl:s.Ql(f),Gl:f}),d++,u=n,s.io()&&(t=this.Ol(f*l,r)))}o.length=d}Zl(e,t,n,r,i,a){let o=this.Nl,s=this.so(e,n,i,a),c=this.so(e,r,-a,-i),l=this.Wl(0,e,!0)-this.Wl(t,e,!0);o.length>0&&o[0].Pl-s.Pl<l/2&&o.shift(),o.length>0&&c.Pl-o[o.length-1].Pl<l/2&&o.pop(),o.unshift(s),o.push(c)}so(e,t,n,r){let i=(n+r)/2,a=this.Fl(t+n,e),o=this.Fl(t+r,e),s=Math.min(a,o),c=Math.max(a,o),l=Math.max(.1,this.Ol(c,s)),u=this.Fl(t+i,e),d=u-u%l,f=this.Wl(d,e,!0);return{Jl:this.Ki.Ql(d),Pl:f,Gl:d}}Yl(e,t,n){let r=Mt(this.Ki.er());return this.Ki.io()&&(r=Pr(r,this.Ki.no())),r.Ze()-t<e&&n-r.Ge()<e}};function Rr(e){return e.slice().sort(((e,t)=>U(e._s())-U(t._s())))}var zr;(function(e){e[e.Normal=0]=`Normal`,e[e.Logarithmic=1]=`Logarithmic`,e[e.Percentage=2]=`Percentage`,e[e.IndexedTo100=3]=`IndexedTo100`})(zr||={});var Br=new xn,Vr=new bn(100,1),Hr=class{constructor(e,t,n,r,i){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new W,this.fo=new W,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=Vr,this.So=Fr(null),this.xo=e,this.Ps=t,this.Co=n,this.yo=r,this.ko=i,this.Po=new Lr(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(Nt(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){let t=jt(e.scaleMargins.top),n=jt(e.scaleMargins.bottom);if(t<0||t>1)throw Error(`Invalid top margin - expect value between 0 and 1, given=${t}`);if(n<0||n>1)throw Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(t+n>1)throw Error(`Invalid margins - sum of margins must be less than 1, given=${t+n}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){let t=this.ae(),n=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),t.ae===1&&e.ae!==t.ae&&(function(e,t){if(e===null)return!1;let n=Mr(e.Ze(),t),r=Mr(e.Ge(),t);return isFinite(n)&&isFinite(r)}(this.sr,this.So)?(n=Pr(this.sr,this.So),n!==null&&this.Lo(n)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==t.ae&&(n=Nr(this.sr,this.So),n!==null&&this.Lo(n));let r=t.ae!==this.Ps.mode;r&&(t.ae===2||this.He())&&this._l(),r&&(t.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&t.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(t,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;let e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,t){let n=this.sr;(t||n===null&&e!==null||n!==null&&!n.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,t){return this.He()?e=Dr(e,t):this.Eo()&&(e=kr(e,t)),this.Ro(e,t)}Yo(e,t,n){this.Uo();let r=this.Ho(),i=U(this.er()),a=i.Ze(),o=i.Ge(),s=this.Fo()-1,c=this.Ao(),l=s/(o-a),u=n===void 0?0:n.from,d=n===void 0?e.length:n.to,f=this.Ko();for(let n=u;n<d;n++){let i=e[n],o=i.gt;if(isNaN(o))continue;let s=o;f!==null&&(s=f(i.gt,t));let u=r+l*(s-a);i.ut=c?u:this.eo-1-u}}Zo(e,t,n){this.Uo();let r=this.Ho(),i=U(this.er()),a=i.Ze(),o=i.Ge(),s=this.Fo()-1,c=this.Ao(),l=s/(o-a),u=n===void 0?0:n.from,d=n===void 0?e.length:n.to,f=this.Ko();for(let n=u;n<d;n++){let i=e[n],o=i.Hr,s=i.Ur,u=i.$r,d=i.qr;f!==null&&(o=f(i.Hr,t),s=f(i.Ur,t),u=f(i.$r,t),d=f(i.qr,t));let p=r+l*(o-a),m=c?p:this.eo-1-p;i.Go=m,p=r+l*(s-a),m=c?p:this.eo-1-p,i.Xo=m,p=r+l*(u-a),m=c?p:this.eo-1-p,i.Jo=m,p=r+l*(d-a),m=c?p:this.eo-1-p,i.Qo=m}}Ds(e,t){let n=this.To(e,t);return this.t_(n,t)}t_(e,t){let n=e;return this.He()?n=function(e,t){return t<0&&(e=-e),e/100*t+t}(n,t):this.Eo()&&(n=function(e,t){return e-=100,t<0&&(e=-e),e/100*t+t}(n,t)),n}Sl(){return this.po}Dt(){return this.mo||=Rr(this.po),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){let t=this.po.indexOf(e);if(t===-1)throw Error(`source is not attached to scale`);this.po.splice(t,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(let t of this.po){let n=t.Lt();n!==null&&(e===null||n.Ea<e.Ea)&&(e=n)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){let e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();let t=this.Po.Vl();return this.wo={Vl:t,e_:e},this.do.p(),t}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=U(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let t=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1)),n=U(this.ho).Ke();t=Math.max(t,.1),n.Je(t),this.Lo(n)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=U(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;let t=U(this.er()).Xe()/(this.Fo()-1),n=e-this.bo;this.Ao()&&(n*=-1);let r=n*t,i=U(this.ho).Ke();i.Qe(r),this.Lo(i,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,t){switch(this.Ps.mode){case 2:return this.c_(Dr(e,t));case 3:return this.Xa().format(kr(e,t));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,U(this.vo).Xa())}ba(e,t){return e=Dr(e,t),this.c_(e,Br)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach((e=>e.Ws()))}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(let t of this.po)t._s()<e&&(e=t._s(),this.vo=t);let t=100;this.vo!==null&&(t=Math.round(this.vo.qh())),this.Ja=Vr,this.He()?(this.Ja=Br,t=100):this.Eo()?(this.Ja=new bn(100,1),t=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new Lr(this,t,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,t){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?jr(e,this.So):e;let n=U(this.er()),r=this.Ho()+(this.Fo()-1)*(e-n.Ze())/n.Xe();return this.jo(r)}To(e,t){if(this.Uo(),this.Gi())return 0;let n=this.jo(e),r=U(this.er()),i=r.Ze()+r.Xe()*((n-this.Ho())/(this.Fo()-1));return this.io()?Mr(i,this.So):i}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;let e=this.ao.oo;if(e===null)return;let t=null,n=this.p_(),r=0,i=0;for(let a of n){if(!a.It())continue;let n=a.Lt();if(n===null)continue;let o=a.ra(e.Aa(),e.bi()),s=o&&o.er();if(s!==null){switch(this.Ps.mode){case 1:s=Nr(s,this.So);break;case 2:s=Or(s,n.Wt);break;case 3:s=Ar(s,n.Wt)}if(t=t===null?s:t.Sn(U(s)),o!==null){let e=o.rr();e!==null&&(r=Math.max(r,e.above),i=Math.max(i,e.below))}}}if(this.jl()&&(r=Math.max(r,this.Kl()),i=Math.max(i,this.Kl())),r===this.uo&&i===this.co||(this.uo=r,this.co=i,this.wo=null,this.Io()),t!==null){if(t.Ze()===t.Ge()){let e=5*this.m_();this.io()&&(t=Pr(t,this.So)),t=new In(t.Ze()-e,t.Ge()+e),this.io()&&(t=Nr(t,this.So))}if(this.io()){let e=Pr(t,this.So),n=Fr(e);if(a=n,o=this.So,a.Bl!==o.Bl||a.El!==o.El){let r=this.ho===null?null:Pr(this.ho,this.So);this.So=n,t=Nr(e,n),r!==null&&(this.ho=Nr(r,n))}}this.Lo(t)}else this.sr===null&&(this.Lo(new In(-.5,.5)),this.So=Fr(null));var a,o}Ko(){return this.He()?Dr:this.Eo()?kr:this.io()?e=>jr(e,this.So):null}g_(e,t,n){return t===void 0?(n===void 0&&(n=this.Xa()),n.format(e)):t(e)}M_(e,t,n){return t===void 0?(n===void 0&&(n=this.Xa()),n.formatTickmarks(e)):t(e)}lr(e,t){return this.g_(e,this.yo.priceFormatter,t)}f_(e,t){let n=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(n?e=>e.map(n):void 0),t)}c_(e,t){return this.g_(e,this.yo.percentageFormatter,t)}d_(e,t){let n=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(n?e=>e.map(n):void 0),t)}};function Ur(e){return e instanceof _r}var Wr=class{constructor(e,t){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new W,this.ua=[],this.Jh=e,this.ns=t,this.k_=new Tr(this);let n=t.N();this.P_=this.T_(`left`,n.leftPriceScale),this.R_=this.T_(`right`,n.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(n)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){let t=Array.from(this.b_.values());for(let n of t){let t=U(n[0].Ft());t.cr(e.overlayPriceScales),e.localization&&t._l()}}}V_(e){switch(e){case`left`:return this.P_;case`right`:return this.R_}return this.b_.has(e)?jt(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach((e=>{e.m&&e.m()})),this.ua=this.ua.filter((e=>{let t=e.Gh();return t.detached&&t.detached(),!1})),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach((t=>{if(this.Zn(t)){let n=t.Ft();n!==null&&n.No(e)}})),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(Ur)}Sl(){return this.po}Zn(e){let t=e.Ft();return t===null||this.P_!==t&&this.R_!==t}i_(e,t,n){this.W_(e,t,n?e._s():this.po.length)}n_(e,t){let n=this.po.indexOf(e);At(n!==-1,`removeDataSource: invalid data source`),this.po.splice(n,1),t||this.po.forEach(((e,t)=>e.us(t)));let r=U(e.Ft()).ol();if(this.b_.has(r)){let t=jt(this.b_.get(r)),n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this.b_.delete(r))}let i=e.Ft();i&&i.Sl().indexOf(e)>=0&&(i.n_(e),this.H_(i)),this.mo=null}Xn(e){return e===this.P_?`left`:e===this.R_?`right`:`overlay`}U_(){return this.P_}q_(){return this.R_}j_(e,t){e.h_(t)}Y_(e,t){e.a_(t),this.z_()}K_(e){e.l_()}Z_(e,t){e.o_(t)}G_(e,t){e.__(t),this.z_()}X_(e){e.u_()}z_(){this.po.forEach((e=>{e.Ws()}))}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){let t=this.Jh.Ie();e.Do({ln:!0}),t!==null&&e.v_(t),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach((e=>{this.Zn(e)&&this.H_(e.Ft())})),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=Rr(this.po)),this.mo}su(e,t){t=xr(t,0,this.po.length-1);let n=this.po.indexOf(e);At(n!==-1,`setSeriesOrder: invalid data source`),this.po.splice(n,1),this.po.splice(t,0,e),this.po.forEach(((e,t)=>e.us(t))),this.mo=null;for(let e of[this.P_,this.R_])e.s_(),e._l();this.ns.dr()}Vt(){return this.Dt().filter(Ur)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new ar(e))}el(e){this.ua=this.ua.filter((t=>t.Gh()!==e)),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,t){return this.ua.map((n=>n.Qn(e,t))).filter((e=>e!==null))}J_(e){let t=e.p_();if(t&&t.length>0&&!this.Jh.Gi()){let t=this.Jh.Ie();t!==null&&e.v_(t)}e.Ws()}W_(e,t,n){let r=this.V_(t);if(r===null&&(r=this.T_(t,this.ns.N().overlayPriceScales)),this.po.splice(n,0,e),!hn(t)){let n=this.b_.get(t)||[];n.push(e),this.b_.set(t,n)}e.us(n),r.i_(e),e.cs(r),this.H_(r),this.mo=null}D_(e,t,n){t.ae!==n.ae&&this.J_(e)}T_(e,t){let n=new Hr(e,{visible:!0,autoScale:!0,...Rt(t)},this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return n.No(this.$t()),n}};function Gr(e){return{hu:e.hu,au:{te:e.lu.externalId},ou:e.lu.cursorStyle}}function Kr(e,t,n,r){for(let i of e){let e=i.Tt(r);if(e!==null&&e.Qn){let r=e.Qn(t,n);if(r!==null)return{_u:i,au:r}}}return null}function qr(e){return e.Ys!==void 0}function Jr(e,t,n){let r=[e,...e.Dt()],i=function(e,t,n){let r,i;for(let s of e){let e=s.Za?.(t,n)??[];for(let t of e)a=t.zOrder,o=r?.zOrder,(!o||a===`top`&&o!==`top`||a===`normal`&&o===`bottom`)&&(r=t,i=s)}var a,o;return r&&i?{lu:r,hu:i}:null}(r,t,n);if(i?.lu.zOrder===`top`)return Gr(i);for(let a of r){if(i&&i.hu===a&&i.lu.zOrder!==`bottom`&&!i.lu.isBackground)return Gr(i);if(qr(a)){let r=Kr(a.Ys(e),t,n,e);if(r!==null)return{hu:a,_u:r._u,au:r.au}}if(i&&i.hu===a&&i.lu.zOrder!==`bottom`&&i.lu.isBackground)return Gr(i)}return i?.lu?Gr(i):null}var Yr=class{constructor(e,t,n=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=t,this.zn=n}du(e){let t=e.time,n=this.cu.cacheKey(t),r=this.Ln.get(n);if(r!==void 0)return r.fu;if(this.Vn===this.zn){let e=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(jt(e)),this.En++,this.Vn--}let i=this.uu(e);return this.Ln.set(n,{fu:i,Wn:this.Bn}),this.An.set(this.Bn,n),this.Vn++,this.Bn++,i}},Xr=class{constructor(e,t){At(e<=t,`right should be >= left`),this.pu=e,this.vu=t}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}};function Zr(e,t){return e===null||t===null?e===t:e.Ye(t)}var Qr=class{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,t){this.Su(t),this.Ln=null;for(let n=t;n<e.length;++n){let t=e[n],r=this.wu.get(t.timeWeight);r===void 0&&(r=[],this.wu.set(t.timeWeight,r)),r.push({index:n,time:t.time,weight:t.timeWeight,originalTime:t.originalTime})}}xu(e,t,n,r,i){let a=Math.ceil(t/e);return this.Ln!==null&&this.Ln.Cu===a&&i===this.Ln.yu&&n===this.Ln.ku||(this.Ln={yu:i,ku:n,Vl:this.Pu(a,n,r),Cu:a}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();let t=[];this.wu.forEach(((n,r)=>{e<=n[0].index?t.push(r):n.splice(Jn(n,e,(t=>t.index<e)),1/0)}));for(let e of t)this.wu.delete(e)}Pu(e,t,n){let r=[],i=e=>!t||n.has(e.index);for(let t of Array.from(this.wu.keys()).sort(((e,t)=>t-e))){if(!this.wu.get(t))continue;let n=r;r=[];let a=n.length,o=0,s=jt(this.wu.get(t)),c=s.length,l=1/0,u=-1/0;for(let t=0;t<c;t++){let c=s[t],d=c.index;for(;o<a;){let e=n[o],t=e.index;if(!(t<d&&i(e))){l=t;break}o++,r.push(e),u=t,l=1/0}if(l-d>=e&&d-u>=e&&i(c))r.push(c),u=d;else if(this.gu)return n}for(;o<a;o++)i(n[o])&&r.push(n[o])}return r}},$r=class e{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new Xr(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new e(null)}};function ei(e,t){return e.weight>t.weight?e:t}var ti=class{constructor(e,t,n,r){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new Qr,this.Au=new Map,this.Lu=$r.Iu(),this.zu=!0,this.Ou=new W,this.Nu=new W,this.Fu=new W,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=t,this.yo=n,this.Yu=t.rightOffset,this.Ku=t.barSpacing,this.ns=e,this.Zu(t),this.cu=r,this.Gu(),this.Eu.Mu(t.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){Nt(this.yo,e),this.tc(),this.Gu()}cr(e,t){Nt(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){return this.Bu[e]?.time??null}es(e){return this.Bu[e]??null}ec(e,t){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return t?this.Bu.length-1:null;let n=Jn(this.Bu,this.cu.key(e),((e,t)=>this.cu.key(e.time)<t));return this.cu.key(e)<this.cu.key(this.Bu[n].time)?t?n:null:n}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){let e=this.Ie();if(e===null)return null;let t={from:e.Aa(),to:e.bi()};return this.oc(t)}oc(e){let t=Math.round(e.from),n=Math.round(e.to),r=U(this._c()),i=U(this.uc());return{from:U(this.es(Math.max(r,t))),to:U(this.es(Math.min(i,n)))}}cc(e){return{from:U(this.ec(e.from,!0)),to:U(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;let t=this.ac(),n=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&n!==0&&(this.Ku=this.Ku*e/n),this.Ps.fixLeftEdge&&t!==null&&t.Aa()<=0){let t=n-e;this.Yu-=Math.round(t/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!Ft(e))return 0;let t=this.vc()+this.Yu-e;return this.S_-(t+.5)*this.Ku-1}mc(e,t){let n=this.vc(),r=t===void 0?0:t.from,i=t===void 0?e.length:t.to;for(let t=r;t<i;t++){let r=e[t].wt,i=n+this.Yu-r,a=this.S_-(i+.5)*this.Ku-1;e[t]._t=a}}wc(e,t){let n=Math.ceil(this.gc(e));return t&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(n)?this.bc(n):n}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){let t=this.Ku;this.xc(e),this.Ps.rightOffsetPixels!==void 0&&t!==0&&(this.Yu=this.Yu*t/this.Ku),this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;let e=this.Ku,t=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),n=Math.round(t/e),r=U(this.Ie()),i=Math.max(r.Aa(),r.Aa()-n),a=Math.max(r.bi(),r.bi()-n),o=this.Eu.xu(e,t,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),s=this._c()+n,c=this.uc()-n,l=this.yc(),u=this.Ps.fixLeftEdge||l,d=this.Ps.fixRightEdge||l,f=0;for(let e of o){if(!(i<=e.index&&e.index<=a))continue;let n;f<this.qu.length?(n=this.qu[f],n.coord=this.qt(e.index),n.label=this.kc(e),n.weight=e.weight):(n={needAlignCoordinate:!1,coord:this.qt(e.index),label:this.kc(e),weight:e.weight},this.qu.push(n)),this.Ku>t/2&&!l?n.needAlignCoordinate=!1:n.needAlignCoordinate=u&&e.index<=s||d&&e.index>=c,f++}return this.qu.length=f,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels===void 0?this.Ps.rightOffset:this.Ps.rightOffsetPixels/this.ul(),this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,t){let n=this.gc(e),r=this.ul(),i=r+t*(r/10);this.gn(i),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(n-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;let t=xr(this.S_-e,0,this.S_),n=xr(this.S_-U(this.Mo),0,this.S_);t!==0&&n!==0&&this.gn(this.Wu.ul*t/n)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;let t=(this.bo-e)/this.ul();this.Yu=U(this.Wu).Cc+t,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,t=400){if(!isFinite(e))throw RangeError(`offset is required and must be finite number`);if(!isFinite(t)||t<=0)throw RangeError(`animationDuration (optional) must be finite positive number`);let n=this.Yu,r=performance.now();this.ns.vn({Ec:e=>(e-r)/t>=1,Ac:i=>{let a=(i-r)/t;return a>=1?e:n+(e-n)*a}})}kt(e,t){this.zu=!0,this.Bu=e,this.Eu.bu(e,t),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,t){let n=e.mu(),r=t&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-r)/n),this.Yu=e.bi()-this.vc(),t&&(this.Yu=r?r/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){let e=this._c(),t=this.uc();if(e===null||t===null)return;let n=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new Xr(e,t+n),!0)}Wc(e){let t=new Xr(e.from,e.to);this.Nc(t)}rs(e){return this.yo.timeFormatter===void 0?this.cu.formatHorzItem(e.time):this.yo.timeFormatter(e.originalTime)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();let e=this.ns.tn();for(let t of e)for(let e of t.ll())this.Uu.set(e,!0);this.$u++}Hc(){return this.ju}vl(){let e=1/(window.devicePixelRatio||1),t=this.Ps.minBarSpacing;if(t>=e)return[1];let n=[1],r=2;for(;r<=512;)t<e/r&&n.push(r),r*=2;return n}yc(){let e=this.ns.N().handleScroll,t=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||t.axisDoubleClickReset.time||t.axisPressedMouseMove.time||t.mouseWheel||t.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){let t=this.Uc(e),n=this.vc()+this.Yu-t;return Math.round(1e6*n)/1e6}xc(e){let t=this.Ku;this.Ku=e,this.dc(),t!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc($r.Iu());let e=this.vc(),t=this.S_/this.Ku,n=this.Yu+e,r=new Xr(n-t+1,n);this.qc(new $r(r))}dc(){let e=xr(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);let e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);let t=e/this.Ku,n=2**Math.floor(Math.log2(t));this.ju=Math.min(n,512)}fc(){let e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);let t=this.Zc();this.Yu>t&&(this.Yu=t,this.zu=!0)}Kc(){let e=this._c(),t=this.Vu;return e===null||t===null?null:e-t-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let t=this.Au.get(e.weight);return t===void 0&&(t=new Yr((e=>this.Gc(e)),this.cu),this.Au.set(e.weight,t)),t.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){let t=this.Lu;this.Lu=e,Zr(t.Ru(),this.Lu.Ru())||this.Ou.p(),Zr(t.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;let e=this._c();if(e===null)return;let t=this.Ie();if(t===null)return;let n=t.Aa()-e;if(n<0){let e=this.Yu-n-1;this.Mn(e)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){let t=function*(e){let t=Math.round(e),n=t<e,r=1;for(;;)n?(yield t+r,yield t-r):(yield t-r,yield t+r),r++}(e),n=this.uc();for(;n;){let e=t.next().value;if(this.Uu.get(e))return e;if(e<0||e>n)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){let t=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(t)}}},ni,ri,ii,ai,oi;(function(e){e[e.OnTouchEnd=0]=`OnTouchEnd`,e[e.OnNextTap=1]=`OnNextTap`})(ni||={});var si=class{constructor(e,t,n){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new W,this.nd=new W,this.ed=null,this.rd=e,this.Ps=t,this.cu=n,this.ko=new Kt(this.Ps.layout.colorParsers),this.hd=new Ut(this),this.Jh=new ti(this,t.timeScale,this.Ps.localization,n),this.Ct=new mn(this,t.crosshair),this.ad=new br(t.crosshair),t.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(gn.yn())}dr(){this.dd(gn.Cn())}Ua(){this.dd(new gn(1))}ya(e){let t=this.fd(e);this.dd(t)}pd(){return this.td}vd(e){if(this.td?.hu===e?.hu&&this.td?.au?.te===e?.au?.te)return;let t=this.td;this.td=e,t!==null&&this.ya(t.hu),e!==null&&e.hu!==t?.hu&&this.ya(e.hu)}N(){return this.Ps}cr(e){Nt(this.Ps,e),this.Xc.forEach((t=>t.I_(e))),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,t,n=0){let r=this.Xc[n];if(r===void 0)return;if(e===`left`)return Nt(this.Ps,{leftPriceScale:t}),r.I_({leftPriceScale:t}),this.sd.p(),void this.Ca();if(e===`right`)return Nt(this.Ps,{rightPriceScale:t}),r.I_({rightPriceScale:t}),this.sd.p(),void this.Ca();let i=this.wd(e,n);i!==null&&(i.Ft.cr(t),this.sd.p())}wd(e,t){let n=this.Xc[t];if(n===void 0)return null;let r=n.V_(e);return r===null?null:{Gs:n,Ft:r}}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,t){e.No(t),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach((t=>t.L_(e))),this.Sc()}Sd(e){this.Xc.length!==1&&(At(e>=0&&e<this.Xc.length,`Invalid pane index`),this.Xc.splice(e,1),this.Ca())}xd(e,t){if(this.Xc.length<2)return;At(e>=0&&e<this.Xc.length,`Invalid pane index`);let n=this.Xc[e],r=this.Xc.reduce(((e,t)=>e+t.E_()),0),i=this.Xc.reduce(((e,t)=>e+t.$t()),0),a=i-30*(this.Xc.length-1);t=Math.min(a,Math.max(30,t));let o=r/i,s=n.$t();n.A_(t*o);let c=t-s,l=this.Xc.length-1;for(let e of this.Xc)if(e!==n){let t=Math.min(a,Math.max(30,e.$t()-c/l));c-=e.$t()-t,--l;let n=t*o;e.A_(n)}this.Ca()}Cd(e,t){At(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,`Invalid pane index`);let n=this.Xc[e],r=this.Xc[t];this.Xc[e]=r,this.Xc[t]=n,this.Ca()}yd(e,t){if(At(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,`Invalid pane index`),e===t)return;let[n]=this.Xc.splice(e,1);this.Xc.splice(t,0,n),this.Ca()}j_(e,t,n){e.j_(t,n)}Y_(e,t,n){e.Y_(t,n),this.ka(),this.dd(this.kd(e,2))}K_(e,t){e.K_(t),this.dd(this.kd(e,2))}Z_(e,t,n){t.Vo()||e.Z_(t,n)}G_(e,t,n){t.Vo()||(e.G_(t,n),this.ka(),this.dd(this.kd(e,2)))}X_(e,t){t.Vo()||(e.X_(t),this.dd(this.kd(e,2)))}Q_(e,t){e.Q_(t),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,t){let n=this.Et();if(n.Gi()||t===0)return;let r=n.ss();e=Math.max(1,Math.min(e,r)),n.Rc(e,t),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter((e=>e.It()))),this.Qc}xa(){this.Qc=null}Ad(e,t,n,r,i){this.Ct.Bs(e,t);let a=NaN,o=this.Jh.wc(e,!0),s=this.Jh.Ie();s!==null&&(o=Math.min(Math.max(s.Aa(),o),s.bi())),o=this.Ct.Hs(o);let c=r.Rs(),l=c.Lt();if(l!==null&&(a=c.Ds(t,l)),a=this.ad.bl(a,o,r),this.Ct.zs(o,a,r),this.Ua(),!i){let i=Jr(r,e,t);this.vd(i&&{hu:i.hu,au:i.au,ou:i.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:t},n)}}Ld(e,t,n){let r=n.Rs(),i=r.Lt(),a=r.Nt(e,U(i)),o=this.Jh.ec(t,!0),s=this.Jh.qt(U(o));this.Ad(s,a,null,n,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){let e=this.Ct.Gs();if(e!==null){let t=this.Ct.As(),n=this.Ct.Ls();this.Ad(t,n,null,e)}this.Ct.Ws()}Od(e,t,n){let r=this.Jh.Is(0);t!==void 0&&n!==void 0&&this.Jh.kt(t,n);let i=this.Jh.Is(0),a=this.Jh.vc(),o=this.Jh.Ie();if(o!==null&&r!==null&&i!==null){let t=o.Ee(a),s=this.cu.key(r)>this.cu.key(i),c=e!==null&&e>a&&!s,l=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,u=t&&(n!==void 0||l)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(c&&!u){let t=e-a;this.Jh.Mn(this.Jh.Cc()-t)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if(function(e){return e instanceof Wr}(e))return e;let t=this.Xc.find((t=>t.Dt().includes(e)));return t===void 0?null:t}Sc(){this.Xc.forEach((e=>e.iu())),this.ka()}m(){this.Xc.forEach((e=>e.m())),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,t){let n=this.ld(t);this.Wd(e,n),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){let t=this.Kn(e),n=this.Jc.indexOf(e);At(n!==-1,`Series not found`);let r=U(t);this.Jc.splice(n,1),r.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(r)}Sa(e,t){let n=U(this.Kn(e));n.n_(e,!0),n.i_(e,t,!0)}Fc(){let e=gn.Cn();e.cn(),this.dd(e)}$d(e){let t=gn.Cn();t.pn(e),this.dd(t)}wn(){let e=gn.Cn();e.wn(),this.dd(e)}gn(e){let t=gn.Cn();t.gn(e),this.dd(t)}Mn(e){let t=gn.Cn();t.Mn(e),this.dd(t)}vn(e){let t=gn.Cn();t.vn(e),this.dd(t)}dn(){let e=gn.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?`right`:`left`}jd(e,t){if(At(t>=0,`Index should be greater or equal to 0`),t===this.Yd(e))return;let n=U(this.Kn(e));n.n_(e);let r=this.ld(t);this.Wd(e,r),n.Sl().length===0&&this.Ud(n),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){let t=this.ud,n=this.od;if(t===n)return t;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==n||this.ed.rh!==t)this.ed={eh:n,rh:t,Zd:new Map};else{let t=this.ed.Zd.get(e);if(t!==void 0)return t}let r=this.ko.tt(n,t,e/100);return this.ed.Zd.set(e,r),r}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){let t=new Wr(this.Jh,this);this.Xc.push(t);let n=e??this.Xc.length-1,r=gn.yn();return r.hn(n,{an:0,ln:!0}),this.dd(r),t}ld(e){return At(e>=0,`Index should be greater or equal to 0`),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex((t=>t.F_().includes(e)))}kd(e,t){let n=new gn(t);if(e!==null){let r=this.Xc.indexOf(e);n.hn(r,{an:t})}return n}fd(e,t){return t===void 0&&(t=2),this.kd(this.Kn(e),t)}dd(e){this.rd&&this.rd(e),this.Xc.forEach((e=>e.eu().pr().kt()))}Wd(e,t){let n=e.N().priceScaleId,r=n===void 0?this.qd():n;t.i_(e,r),hn(r)||e.cr(e.N())}_d(e){let t=this.Ps.layout;return t.background.type===`gradient`?e===0?t.background.topColor:t.background.bottomColor:t.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}};function ci(e){if(e>=1)return 0;let t=0;for(;t<8;t++){let n=Math.round(e);if(Math.abs(n-e)<1e-8)return t;e*=10}return t}function li(e){return!Pt(e)&&!It(e)}function ui(e){return Pt(e)}(function(e){e[e.Disabled=0]=`Disabled`,e[e.Continuous=1]=`Continuous`,e[e.OnDataUpdate=2]=`OnDataUpdate`})(ri||={}),function(e){e[e.LastBar=0]=`LastBar`,e[e.LastVisible=1]=`LastVisible`}(ii||={}),function(e){e.Solid=`solid`,e.VerticalGradient=`gradient`}(ai||={}),function(e){e[e.Year=0]=`Year`,e[e.Month=1]=`Month`,e[e.DayOfMonth=2]=`DayOfMonth`,e[e.Time=3]=`Time`,e[e.TimeWithSeconds=4]=`TimeWithSeconds`}(oi||={});var di=e=>e.getUTCFullYear();function fi(e,t,n){return t.replace(/yyyy/g,(e=>yn(di(e),4))(e)).replace(/yy/g,(e=>yn(di(e)%100,2))(e)).replace(/MMMM/g,((e,t)=>new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(t,{month:`long`}))(e,n)).replace(/MMM/g,((e,t)=>new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(t,{month:`short`}))(e,n)).replace(/MM/g,(e=>yn((e=>e.getUTCMonth()+1)(e),2))(e)).replace(/dd/g,(e=>yn((e=>e.getUTCDate())(e),2))(e))}var pi=class{constructor(e=`yyyy-MM-dd`,t=`default`){this.Qd=e,this.tf=t}du(e){return fi(e,this.Qd,this.tf)}},mi=class{constructor(e){this.if=e||`%h:%m:%s`}du(e){return this.if.replace(`%h`,yn(e.getUTCHours(),2)).replace(`%m`,yn(e.getUTCMinutes(),2)).replace(`%s`,yn(e.getUTCSeconds(),2))}},hi={sf:`yyyy-MM-dd`,nf:`%h:%m:%s`,ef:` `,rf:`default`},gi=class{constructor(e={}){let t={...hi,...e};this.hf=new pi(t.sf,t.rf),this.af=new mi(t.nf),this.lf=t.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}};function _i(e){return 60*e*60*1e3}function vi(e){return 60*e*1e3}var yi=[{_f:(bi=1,1e3*bi),uf:10},{_f:vi(1),uf:20},{_f:vi(5),uf:21},{_f:vi(30),uf:22},{_f:_i(1),uf:30},{_f:_i(3),uf:31},{_f:_i(6),uf:32},{_f:_i(12),uf:33}],bi;function xi(e,t){if(e.getUTCFullYear()!==t.getUTCFullYear())return 70;if(e.getUTCMonth()!==t.getUTCMonth())return 60;if(e.getUTCDate()!==t.getUTCDate())return 50;for(let n=yi.length-1;n>=0;--n)if(Math.floor(t.getTime()/yi[n]._f)!==Math.floor(e.getTime()/yi[n]._f))return yi[n].uf;return 0}function Si(e){let t=e;if(It(e)&&(t=wi(e)),!li(t))throw Error(`time must be of type BusinessDay`);let n=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{cf:Math.round(n.getTime()/1e3),df:t}}function Ci(e){if(!ui(e))throw Error(`time must be of type isUTCTimestamp`);return{cf:e}}function wi(e){let t=new Date(e);if(isNaN(t.getTime()))throw Error(`Invalid date string=${e}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Ti(e){It(e.time)&&(e.time=wi(e.time))}var Ei=class{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(e){e.forEach(Ti)}(e):Ti(e)}createConverterToInternalObj(e){return U(function(e){return e.length===0?null:li(e[0].time)||It(e[0].time)?Si:Ci}(e))}key(e){return typeof e==`object`&&`cf`in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){let t=e;return t.df===void 0?new Date(1e3*t.cf).getTime():new Date(Date.UTC(t.df.year,t.df.month-1,t.df.day)).getTime()}convertHorzItemToInternal(e){return ui(t=e)?Ci(t):li(t)?Si(t):Si(wi(t));var t}updateFormatter(e){if(!this.Ps)return;let t=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new gi({sf:t,nf:this.Ps.timeScale.secondsVisible?`%h:%m:%s`:`%h:%m`,ef:`   `,rf:e.locale}):this.ff=new pi(t,e.locale)}formatHorzItem(e){let t=e;return this.ff.du(new Date(1e3*t.cf))}formatTickmark(e,t){let n=function(e,t,n){switch(e){case 0:case 10:return t?n?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return t?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),r=this.Ps.timeScale;if(r.tickMarkFormatter!==void 0){let i=r.tickMarkFormatter(e.originalTime,n,t.locale);if(i!==null)return i}return function(e,t,n){let r={};switch(t){case 0:r.year=`numeric`;break;case 1:r.month=`short`;break;case 2:r.day=`numeric`;break;case 3:r.hour12=!1,r.hour=`2-digit`,r.minute=`2-digit`;break;case 4:r.hour12=!1,r.hour=`2-digit`,r.minute=`2-digit`,r.second=`2-digit`}let i=e.df===void 0?new Date(1e3*e.cf):new Date(Date.UTC(e.df.year,e.df.month-1,e.df.day));return new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()).toLocaleString(n,r)}(e.time,n,t.locale)}maxTickMarkWeight(e){let t=e.reduce(ei,e[0]).weight;return t>30&&t<50&&(t=30),t}fillWeightsForPoints(e,t){(function(e,t=0){if(e.length===0)return;let n=t===0?null:e[t-1].time.cf,r=n===null?null:new Date(1e3*n),i=0;for(let a=t;a<e.length;++a){let t=e[a],o=new Date(1e3*t.time.cf);r!==null&&(t.timeWeight=xi(o,r)),i+=t.time.cf-(n||t.time.cf),n=t.time.cf,r=o}if(t===0&&e.length>1){let t=Math.ceil(i/(e.length-1)),n=new Date(1e3*(e[0].time.cf-t));e[0].timeWeight=xi(new Date(1e3*e[0].time.cf),n)}})(e,t)}static pf(e){return Nt({localization:{dateFormat:`dd MMM 'yy`}},e??{})}},Di=typeof window<`u`;function Oi(){return!!Di&&window.navigator.userAgent.toLowerCase().indexOf(`firefox`)>-1}function ki(){return!!Di&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Ai(e){return e+e%2}function ji(e){Di&&window.chrome!==void 0&&e.addEventListener(`mousedown`,(e=>{if(e.button===1)return e.preventDefault(),!1}))}var Mi=class{constructor(e,t,n){this.vf=0,this.mf=null,this.wf={_t:-1/0,ut:1/0},this.gf=0,this.Mf=null,this.bf={_t:-1/0,ut:1/0},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!ki(),this.Uf=e=>{this.$f(e)},this.qf=e=>{if(this.jf(e)){let t=this.Yf(e);if(++this.gf,this.Mf&&this.gf>1){let{Kf:n}=this.Zf(Fi(e),this.bf);n<30&&!this.Tf&&this.Gf(t,this.Jf.Xf),this.Qf()}}else{let t=this.Yf(e);if(++this.vf,this.mf&&this.vf>1){let{Kf:n}=this.Zf(Fi(e),this.wf);n<5&&!this.Pf&&this.tp(t,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=t,this.Ps=n,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();let t=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener(`mousemove`,t)},this.np.addEventListener(`mousemove`,t),this.jf(e))return;let n=this.Yf(e);this.tp(n,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:-1/0,ut:1/0}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:-1/0,ut:1/0}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;let t=this.Yf(e);this.tp(t,this.Jf.op),this.Hf=!0}_p(e){let t=Li(e.changedTouches,U(this.Wf));if(t===null||(this.Ff=Ii(e),this.Af!==null)||this.Of)return;this.zf=!0;let{up:n,cp:r,Kf:i}=this.Zf(Fi(t),U(this.yf));if(this.kf||!(i<5)){if(!this.kf){let e=.5*n,t=r>=e&&!this.Ps.dp(),i=e>r&&!this.Ps.fp();t||i||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){let n=this.Yf(e,t);this.Gf(n,this.Jf.pp),Pi(e)}}}vp(e){if(e.button!==0)return;let{Kf:t}=this.Zf(Fi(e),U(this.Cf));if(t>=5&&(this.Pf=!0,this.sp()),this.Pf){let t=this.Yf(e);this.tp(t,this.Jf.mp)}}Zf(e,t){let n=Math.abs(t._t-e._t),r=Math.abs(t.ut-e.ut);return{up:n,cp:r,Kf:n+r}}wp(e){let t=Li(e.changedTouches,U(this.Wf));if(t===null&&e.touches.length===0&&(t=e.changedTouches[0]),t===null)return;this.Wf=null,this.Ff=Ii(e),this.rp(),this.yf=null,this.Ef&&=(this.Ef(),null);let n=this.Yf(e,t);if(this.Gf(n,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){let{Kf:e}=this.Zf(Fi(t),this.bf);e<30&&!this.Tf&&this.Gf(n,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(n,this.Jf.Mp),this.Jf.Mp&&Pi(e));this.gf===0&&Pi(e),e.touches.length===0&&this.xf&&(this.xf=!1,Pi(e))}$f(e){if(e.button!==0)return;let t=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&=(this.Bf(),null),Oi()&&this.np.ownerDocument.documentElement.removeEventListener(`mouseleave`,this.Uf),!this.jf(e))if(this.tp(t,this.Jf.bp),++this.vf,this.mf&&this.vf>1){let{Kf:n}=this.Zf(Fi(e),this.wf);n<5&&!this.Pf&&this.tp(t,this.Jf.ip),this.sp()}else this.Pf||this.tp(t,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;let t=e.changedTouches[0];this.Wf=t.identifier,this.Ff=Ii(e);let n=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=Fi(t),this.Ef&&=(this.Ef(),null);{let t=this._p.bind(this),r=this.wp.bind(this);this.Ef=()=>{n.removeEventListener(`touchmove`,t),n.removeEventListener(`touchend`,r)},n.addEventListener(`touchmove`,t,{passive:!1}),n.addEventListener(`touchend`,r,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}let r=this.Yf(e,t);this.Gf(r,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=Fi(t))}kp(e){if(e.button!==0)return;let t=this.np.ownerDocument.documentElement;Oi()&&t.addEventListener(`mouseleave`,this.Uf),this.Pf=!1,this.Cf=Fi(e),this.Bf&&=(this.Bf(),null);{let e=this.vp.bind(this),n=this.$f.bind(this);this.Bf=()=>{t.removeEventListener(`mousemove`,e),t.removeEventListener(`mouseup`,n)},t.addEventListener(`mousemove`,e),t.addEventListener(`mouseup`,n)}if(this.Nf=!0,this.jf(e))return;let n=this.Yf(e);this.tp(n,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=Fi(e))}ep(){this.np.addEventListener(`mouseenter`,this.hp.bind(this)),this.np.addEventListener(`touchcancel`,this.rp.bind(this));{let e=this.np.ownerDocument,t=e=>{this.Jf.Tp&&(e.composed&&this.np.contains(e.composedPath()[0])||e.target&&this.np.contains(e.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener(`touchstart`,t)},this.Rf=()=>{e.removeEventListener(`mousedown`,t)},e.addEventListener(`mousedown`,t),e.addEventListener(`touchstart`,t,{passive:!0})}ki()&&(this.If=()=>{this.np.removeEventListener(`dblclick`,this.qf)},this.np.addEventListener(`dblclick`,this.qf)),this.np.addEventListener(`mouseleave`,this.Rp.bind(this)),this.np.addEventListener(`touchstart`,this.xp.bind(this),{passive:!0}),ji(this.np),this.np.addEventListener(`mousedown`,this.kp.bind(this)),this.Dp(),this.np.addEventListener(`touchmove`,(()=>{}),{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener(`touchstart`,(e=>this.Ep(e.touches)),{passive:!0}),this.np.addEventListener(`touchmove`,(e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){let t=Ni(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,t),Pi(e)}}),{passive:!1}),this.np.addEventListener(`touchend`,(e=>{this.Ep(e.touches)})))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){let t=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,ut:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this.Lf=Ni(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;let t=this.Yf(e);this.tp(t,this.Jf.zp),this.Hf=!ki()}Cp(e){let t=Li(e.touches,U(this.Wf));if(t===null)return;let n=this.Yf(e,t);this.Gf(n,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:Ii(e)<this.Ff+500}Gf(e,t){t&&t.call(this.Jf,e)}tp(e,t){t&&t.call(this.Jf,e)}Yf(e,t){let n=t||e,r=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-r.left,localY:n.clientY-r.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith(`mouse`)&&e.type!==`contextmenu`&&e.type!==`click`,Fp:e.type,Wp:n.target,_u:e.view,Hp:()=>{e.type!==`touchstart`&&Pi(e)}}}};function Ni(e,t){let n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)}function Pi(e){e.cancelable&&e.preventDefault()}function Fi(e){return{_t:e.pageX,ut:e.pageY}}function Ii(e){return e.timeStamp||performance.now()}function Li(e,t){for(let n=0;n<e.length;++n)if(e[n].identifier===t)return e[n];return null}var Ri=class{constructor(e,t,n){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[t],this.Gp=e.Zp()[n],this.Xp=document.createElement(`tr`),this.Xp.style.height=`1px`,this.Jp=document.createElement(`td`),this.Jp.style.position=`relative`,this.Jp.style.padding=`0`,this.Jp.style.margin=`0`,this.Jp.setAttribute(`colspan`,`3`),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return j({width:this.Kp.sv().width,height:1})}nv(){return j({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,t,n){let r=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(t,n,r.width,r.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){let e=document.createElement(`div`),t=e.style;t.position=`fixed`,t.display=`none`,t.zIndex=`49`,t.top=`0`,t.left=`0`,t.width=`100%`,t.height=`100%`,t.cursor=`row-resize`,this.Jp.appendChild(e);let n=document.createElement(`div`),r=n.style;r.position=`absolute`,r.zIndex=`50`,r.top=`-4px`,r.height=`9px`,r.width=`100%`,r.backgroundColor=``,r.cursor=`row-resize`,this.Jp.appendChild(n),this.$p=new Mi(n,{lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)},{dp:()=>!1,fp:()=>!0}),this.Up={hv:n,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor=``)}ov(e){if(this.Up===null)return;let t=this.Kp.cv().E_()+this.Gp.cv().E_(),n=t/(this.Kp.sv().height+this.Gp.sv().height),r=30*n;t<=2*r||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:t-r,vv:t,mv:n,wv:r},this.Up.rv.style.display=`block`)}_v(e){let t=this.jp;if(t===null)return;let n=(e.pageY-t.dv)*t.mv,r=xr(t.fv+n,t.wv,t.pv);this.Kp.cv().A_(r),this.Gp.cv().A_(t.vv-r),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display=`none`)}};function zi(e,t){return e.gv-t.gv}function Bi(e,t,n){let r=(e.gv-t.gv)/(e.wt-t.wt);return Math.sign(r)*Math.min(Math.abs(r),n)}var Vi=class{constructor(e,t,n,r){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=t,this.Rv=n,this.kn=r}Dv(e,t){if(this.Mv!==null){if(this.Mv.wt===t)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:t,gv:e}}fe(e,t){if(this.Mv===null||this.bv===null||t-this.Mv.wt>50)return;let n=0,r=Bi(this.Mv,this.bv,this.Tv),i=zi(this.Mv,this.bv),a=[r],o=[i];if(n+=i,this.Sv!==null){let e=Bi(this.bv,this.Sv,this.Tv);if(Math.sign(e)===Math.sign(r)){let t=zi(this.bv,this.Sv);if(a.push(e),o.push(t),n+=t,this.xv!==null){let e=Bi(this.Sv,this.xv,this.Tv);if(Math.sign(e)===Math.sign(r)){let t=zi(this.Sv,this.xv);a.push(e),o.push(t),n+=t}}}}let s=0;for(let e=0;e<a.length;++e)s+=o[e]/n*a[e];Math.abs(s)<this.Pv||(this.Cv={gv:e,wt:t},this.kv=s,this.yv=function(e,t){let n=Math.log(t);return Math.log(1*n/-e)/n}(Math.abs(s),this.Rv))}Ac(e){let t=U(this.Cv),n=e-t.wt;return t.gv+this.kv*(this.Rv**+n-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){let t=e-U(this.Cv).wt;return Math.min(t,this.yv)}},Hi=class{constructor(e,t){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=t,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?`dark`:`light`}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){let e=new URL(location.href);return e.hostname?`&utm_source=`+e.hostname+e.pathname:``}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement(`style`),this.Bv.innerText=`a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}`,this.Vv=document.createElement(`a`),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title=`Charting by TradingView`,this.Vv.id=`tv-attr-logo`,this.Vv.target=`_blank`,this.Vv.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>`,this.Vv.toggleAttribute(`data-dark`,this.Ev===`dark`),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}};function Ui(e,t){let n=U(e.ownerDocument).createElement(`canvas`);e.appendChild(n);let r=g(n,{type:`device-pixel-content-box`,options:{allowResizeObserver:!0},transform:(e,t)=>({width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)})});return r.resizeCanvasElement(t),r}function Wi(e){e.width=1,e.height=1,e.getContext(`2d`)?.clearRect(0,0,1,1)}function Gi(e,t,n,r){e.Uh&&e.Uh(t,n,r)}function Ki(e,t,n,r){e.nt(t,n,r)}function qi(e,t,n,r){let i=e(n,r);for(let e of i){let n=e.Tt(r);n!==null&&t(n)}}function Ji(e,t){return n=>function(e){return e.Ft!==void 0}(n)&&(n.Ft()?.ol()??``)===t?n.Ya?.(e)??[]:[]}function Yi(e,t,n,r){if(!e.length)return;let i=0,a=e[0].$t(r,!0),o=t===1?n/2-(e[0].Hi()-a/2):e[0].Hi()-a/2-n/2;o=Math.max(0,o);for(let a=1;a<e.length;a++){let s=e[a],c=e[a-1],l=c.$t(r,!1),u=s.Hi(),d=c.Hi();if(t===1?u>d-l:u<d+l){let r=d-l*t;s.Ui(r);let a=r-t*l/2;if((t===1?a<0:a>n)&&o>0){let r=t===1?-1-a:a-n,s=Math.min(r,o);for(let n=i;n<e.length;n++)e[n].Ui(e[n].Hi()+t*s);o-=s}}else i=a,o=t===1?d-l-u:u-(d+l)}}var Xi=class{constructor(e,t,n,r){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new wn(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=t,this.Co=t.layout,this.hd=n,this.Jv=r===`left`,this.Qv=Ji(`normal`,r),this.tm=Ji(`top`,r),this.im=Ji(`bottom`,r),this.Jp=document.createElement(`div`),this.Jp.style.height=`100%`,this.Jp.style.overflow=`hidden`,this.Jp.style.width=`25px`,this.Jp.style.left=`0`,this.Jp.style.position=`relative`,this.sm=Ui(this.Jp,j({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);let i=this.sm.canvasElement;i.style.position=`absolute`,i.style.zIndex=`1`,i.style.left=`0`,i.style.top=`0`,this.nm=Ui(this.Jp,j({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);let a=this.nm.canvasElement;a.style.position=`absolute`,a.style.zIndex=`2`,a.style.left=`0`,a.style.top=`0`;let o={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new Mi(this.nm.canvasElement,o,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Wi(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Wi(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){let e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0,t=this.lm(),n=U(this.sm.canvasElement.getContext(`2d`,{colorSpace:this.yt.Gv().N().layout.colorSpace}));n.save();let r=this.Ki.Vl();n.font=this._m(),r.length>0&&(e=Math.max(this.qv.Ii(n,r[0].Jl),this.qv.Ii(n,r[r.length-1].Jl)));let i=this.um();for(let t=i.length;t--;){let r=this.qv.Ii(n,i[t].ri());r>e&&(e=r)}let a=this.Ki.Lt();if(a!==null&&this.Uv!==null&&(o=this.Ps.crosshair).mode!==2&&o.horzLine.visible&&o.horzLine.labelVisible){let t=this.Ki.Ds(1,a),r=this.Ki.Ds(this.Uv.height-2,a);e=Math.max(e,this.qv.Ii(n,this.Ki.Ji(Math.floor(Math.min(t,r))+.11111111111111,a)),this.qv.Ii(n,this.Ki.Ji(Math.ceil(Math.max(t,r))-.11111111111111,a)))}var o;n.restore();let s=e||34;return Ai(Math.ceil(t.S+t.C+t.V+t.B+5+s))}dm(e){this.Uv!==null&&p(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return U(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){let e=this.yt.cv();this.yt.Gv().Qt().Q_(e,U(this.Ft()))}pm(e){if(this.Uv===null)return;let t={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();let e=me(this.sm,t);e!==null&&(e.useBitmapCoordinateSpace((e=>{this.wm(e),this.gm(e)})),this.yt.Mm(e,this.im),this.bm(e),this.yt.Mm(e,this.Qv),this.Sm(e))}this.nm.applySuggestedBitmapSize();let n=me(this.nm,t);n!==null&&(n.useBitmapCoordinateSpace((({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)})),this.xm(n),this.yt.Mm(n,this.tm))}nv(){return this.sm.bitmapSize}ev(e,t,n,r){let i=this.nv();if(i.width>0&&i.height>0&&(e.drawImage(this.sm.canvasElement,t,n),r)){let r=this.nm.canvasElement;e.drawImage(r,t,n)}}kt(){this.Ki?.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;let t=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!0,t.j_(n,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;let t=this.yt.Gv().Qt(),n=this.yt.cv(),r=this.Ki;t.Y_(n,r,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;let e=this.yt.Gv().Qt(),t=this.yt.cv(),n=this.Ki;this.$v&&(this.$v=!1,e.K_(t,n))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;let t=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!1,t.K_(n,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){let e=[],t=this.Ki===null?void 0:this.Ki;return(n=>{for(let r=0;r<n.length;++r){let i=n[r].Ks(this.yt.cv(),t);for(let t=0;t<i.length;t++)e.push(i[t])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:t}){let{width:n,height:r}=t,i=this.yt.cv().Qt(),a=i.$(),o=i.Kd();a===o?tn(e,0,0,n,r,a):an(e,0,0,n,r,a,o)}gm({context:e,bitmapSize:t,horizontalPixelRatio:n}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;let r=Math.max(1,Math.floor(this.lm().S*n)),i;i=this.Jv?t.width-r:0,e.fillRect(i,0,r,t.height)}bm(e){if(this.Uv===null||this.Ki===null)return;let t=this.Ki.Vl(),n=this.Ki.N(),r=this.lm(),i=this.Jv?this.Uv.width-r.C:0;n.borderVisible&&n.ticksVisible&&e.useBitmapCoordinateSpace((({context:e,horizontalPixelRatio:a,verticalPixelRatio:o})=>{e.fillStyle=n.borderColor;let s=Math.max(1,Math.floor(o)),c=Math.floor(.5*o),l=Math.round(r.C*a);e.beginPath();for(let n of t)e.rect(Math.floor(i*a),Math.round(n.Pl*o)-c,l,s);e.fill()})),e.useMediaCoordinateSpace((({context:e})=>{e.font=this._m(),e.fillStyle=n.textColor??this.Co.textColor,e.textAlign=this.Jv?`right`:`left`,e.textBaseline=`middle`;let a=this.Jv?Math.round(i-r.V):Math.round(i+r.C+r.V),o=t.map((t=>this.qv.Di(e,t.Jl)));for(let n=t.length;n--;){let r=t[n];e.fillText(r.Jl,a,r.Pl+o[n])}}))}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2,t=[],n=this.Ki.Dt().slice(),r=this.yt.cv(),i=this.lm();this.Ki===r.Gn()&&this.yt.cv().Dt().forEach((e=>{r.Zn(e)&&n.push(e)}));let a=this.Ki.Sl()[0],o=this.Ki;n.forEach((n=>{let i=n.Ks(r,o);i.forEach((e=>{e.$i()&&e.Wi()===null&&(e.Ui(null),t.push(e))})),a===n&&i.length>0&&(e=i[0].Ei())})),this.Ki.N().alignLabels&&this.ym(t,i,e)}ym(e,t,n){if(this.Uv===null)return;let r=e.filter((e=>e.Ei()<=n)),i=e.filter((e=>e.Ei()>n));r.sort(((e,t)=>t.Ei()-e.Ei())),r.length&&i.length&&i.push(r[0]),i.sort(((e,t)=>e.Ei()-t.Ei()));for(let n of e){let e=Math.floor(n.$t(t)/2),r=n.Ei();r>-e&&r<e&&n.Ui(e),r>this.Uv.height-e&&r<this.Uv.height+e&&n.Ui(this.Uv.height-e)}Yi(r,1,this.Uv.height,t),Yi(i,-1,this.Uv.height,t)}Sm(e){if(this.Uv===null)return;let t=this.um(),n=this.lm(),r=this.Jv?`right`:`left`;t.forEach((t=>{t.qi()&&t.Tt(U(this.Ki)).nt(e,n,this.qv,r)}))}xm(e){if(this.Uv===null||this.Ki===null)return;let t=this.yt.Gv().Qt(),n=[],r=this.yt.cv(),i=t.gd().Ks(r,this.Ki);i.length&&n.push(i);let a=this.lm(),o=this.Jv?`right`:`left`;n.forEach((t=>{t.forEach((t=>{t.Tt(U(this.Ki)).nt(e,a,this.qv,o)}))}))}Cm(e){this.Jp.style.cursor=e===1?`ns-resize`:`default`}do(){let e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return Ht(this.Co.fontSize,this.Co.fontFamily)}};function Zi(e,t){return e.qa?.(t)??[]}function Qi(e,t){return e.Ys?.(t)??[]}function $i(e,t){return e.ds?.(t)??[]}function ea(e,t){return e.Ha?.(t)??[]}var ta=class e{constructor(e,t){this.Uv=j({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new W,this.Vm=new W,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=t,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement(`td`),this.Wm.style.padding=`0`,this.Wm.style.position=`relative`;let n=document.createElement(`div`);n.style.width=`100%`,n.style.height=`100%`,n.style.position=`relative`,n.style.overflow=`hidden`,this.Hm=document.createElement(`td`),this.Hm.style.padding=`0`,this.Um=document.createElement(`td`),this.Um.style.padding=`0`,this.Wm.appendChild(n),this.sm=Ui(n,j({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);let r=this.sm.canvasElement;r.style.position=`absolute`,r.style.zIndex=`1`,r.style.left=`0`,r.style.top=`0`,this.nm=Ui(n,j({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);let i=this.nm.canvasElement;i.style.position=`absolute`,i.style.zIndex=`2`,i.style.left=`0`,i.style.top=`0`,this.Xp=document.createElement(`tr`),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new Mi(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Wi(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Wi(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return U(this.Nm)}qm(t){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=t,this.Nm!==null&&this.Nm.nu().i(e.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new Hi(this.Wm,this.Lv),this.Tm.kt()):(this.Tm?.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){let e=this.Nm.U_();this.km.cs(U(e))}if(this.Pm!==null){let e=this.Nm.q_();this.Pm.cs(U(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm===null?0:this.Nm.E_()}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();let t=e.localX,n=e.localY;this.Zm(t,n,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();let t=e.localX,n=e.localY;this.Zm(t,n,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){let t={x:e.localX,y:e.localY};this.iw(t,t,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,t){if(!this.Lv.N().handleScale.pinch)return;let n=5*(t-this.Bm);this.Bm=t,this.ns().Td(e._t,n)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();let t=this.ns().gd();this.Am!==null&&t.It()&&(this.zm={x:t.si(),y:t.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;let t=e.localX,n=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;let r=U(this.zm),i=r.x+(t-this.Am.x),a=r.y+(n-this.Am.y);this.Zm(i,a,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,t){let n=this.Nm;return n===null?null:Jr(n,e,t)}hw(e,t){U(t===`left`?this.km:this.Pm).dm(j({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){p(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+`px`,this.Wm.style.height=e.height+`px`)}aw(){let e=U(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(let t of e.Sl())if(e.Zn(t)){let n=t.Ft();n!==null&&e.H_(n),t.Ws()}for(let t of e.ru())t.Ws()}nv(){return this.sm.bitmapSize}ev(e,t,n,r){let i=this.nv();if(i.width>0&&i.height>0&&(e.drawImage(this.sm.canvasElement,t,n),r)){let r=this.nm.canvasElement;e!==null&&e.drawImage(r,t,n)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);let t={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();let e=me(this.sm,t);e!==null&&(e.useBitmapCoordinateSpace((e=>{this.wm(e)})),this.Nm&&(this.lw(e,Zi),this.ow(e),this.lw(e,Qi),this.lw(e,$i)))}this.nm.applySuggestedBitmapSize();let n=me(this.nm,t);n!==null&&(n.useBitmapCoordinateSpace((({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)})),this._w(n),this.lw(n,ea),this.lw(n,$i))}uw(){return this.km}cw(){return this.Pm}Mm(e,t){this.lw(e,t)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,t){let n=t.localX,r=t.localY;e.v()&&e.p(this.ns().Et().wc(n),{x:n,y:r},t)}wm({context:e,bitmapSize:t}){let{width:n,height:r}=t,i=this.ns(),a=i.$(),o=i.Kd();a===o?tn(e,0,0,n,r,o):an(e,0,0,n,r,a,o)}ow(e){let t=U(this.Nm),n=t.eu().pr().Tt(t);n!==null&&n.nt(e,!1)}_w(e){this.dw(e,Qi,Ki,this.ns().gd())}lw(e,t){let n=U(this.Nm),r=n.Dt(),i=n.ru();for(let n of i)this.dw(e,t,Gi,n);for(let n of r)this.dw(e,t,Gi,n);for(let n of i)this.dw(e,t,Ki,n);for(let n of r)this.dw(e,t,Ki,n)}dw(e,t,n,r){let i=U(this.Nm),a=i.Qt().pd(),o=a!==null&&a.hu===r,s=a!==null&&o&&a.au!==void 0?a.au.ie:void 0;qi(t,(t=>n(t,e,o,s)),r,i)}jm(){if(this.Nm===null)return;let e=this.Lv,t=this.Nm.U_().N().visible,n=this.Nm.q_().N().visible;t||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),n||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);let r=e.Qt().Nd();t&&this.km===null&&(this.km=new Xi(this,e.N(),r,`left`),this.Hm.appendChild(this.km.iv())),n&&this.Pm===null&&(this.Pm=new Xi(this,e.N(),r,`right`),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,t,n){e=Math.max(0,Math.min(e,this.Uv.width-1)),t=Math.max(0,Math.min(t,this.Uv.height-1)),this.ns().Ad(e,t,n,U(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,t,n){this.Am=e,this.Lm=!1,this.Zm(t.x,t.y,n);let r=this.ns().gd();this.zm={x:r.si(),y:r.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;let t=this.ns(),n=this.cv();if(t.X_(n,n.Rs()),this.Rm=null,this.Dm=!1,t.Vd(),this.Om!==null){let e=performance.now(),n=t.Et();this.Om.fe(n.Cc(),e),this.Om.Ec(e)||t.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)U(document.activeElement).blur();else{let e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;let t=this.ns(),n=t.Et();if(n.Gi())return;let r=this.Lv.N(),i=r.handleScroll,a=r.kineticScroll;if((!i.pressedMouseMove||e.Np)&&(!i.horzTouchDrag&&!i.vertTouchDrag||!e.Np))return;let o=this.Nm.Rs(),s=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:s,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&a.touch||!e.Np&&a.mouse){let e=n.ul();this.Om=new Vi(.2/e,7/e,.997,15/e),this.Om.Dv(n.Cc(),this.Rm.cf)}else this.Om=null;o.Gi()||t.Z_(this.Nm,o,e.localY),t.Dd(e.localX),this.Dm=!0}this.Dm&&(o.Gi()||t.G_(this.Nm,o,e.localY),t.Id(e.localX),this.Om!==null&&this.Om.Dv(n.Cc(),s))}},na=class{constructor(e,t,n,r,i){this.xt=!0,this.Uv=j({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e===`left`,this.hd=n.Nd,this.Ps=t,this.ww=r,this.gw=i,this.Jp=document.createElement(`div`),this.Jp.style.width=`25px`,this.Jp.style.height=`100%`,this.Jp.style.overflow=`hidden`,this.sm=Ui(this.Jp,j({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Wi(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){p(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();let t=me(this.sm,{colorSpace:this.Ps.layout.colorSpace});t!==null&&t.useBitmapCoordinateSpace((e=>{this.wm(e),this.gm(e)}))}nv(){return this.sm.bitmapSize}ev(e,t,n){let r=this.nv();r.width>0&&r.height>0&&e.drawImage(this.sm.canvasElement,t,n)}gm({context:e,bitmapSize:t,horizontalPixelRatio:n,verticalPixelRatio:r}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;let i=Math.floor(this.hd.N().S*n),a=Math.floor(this.hd.N().S*r),o=this.Jv?t.width-i:0;e.fillRect(o,0,i,a)}wm({context:e,bitmapSize:t}){tn(e,0,0,t.width,t.height,this.gw())}};function ra(e){return t=>t.Ka?.(e)??[]}var ia=ra(`normal`),aa=ra(`top`),oa=ra(`bottom`),sa=class{constructor(e,t){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=j({width:0,height:0}),this.xw=new W,this.qv=new wn(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=t,this.Ps=e.N().layout,this.Vv=document.createElement(`tr`),this.Cw=document.createElement(`td`),this.Cw.style.padding=`0`,this.yw=document.createElement(`td`),this.yw.style.padding=`0`,this.Jp=document.createElement(`td`),this.Jp.style.height=`25px`,this.Jp.style.padding=`0`,this.kw=document.createElement(`div`),this.kw.style.width=`100%`,this.kw.style.height=`100%`,this.kw.style.position=`relative`,this.kw.style.overflow=`hidden`,this.Jp.appendChild(this.kw),this.sm=Ui(this.kw,j({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);let n=this.sm.canvasElement;n.style.position=`absolute`,n.style.zIndex=`1`,n.style.left=`0`,n.style.top=`0`,this.nm=Ui(this.kw,j({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);let r=this.nm.canvasElement;r.style.position=`absolute`,r.style.zIndex=`2`,r.style.left=`0`,r.style.top=`0`,this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new Mi(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Wi(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Wi(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;let t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){let e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){let t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;let e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,t,n){p(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(j({width:t,height:e.height})),this.bw!==null&&this.bw.dm(j({width:n,height:e.height}))}Vw(){let e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,t,n,r){let i=this.nv();if(i.width>0&&i.height>0&&(e.drawImage(this.sm.canvasElement,t,n),r)){let r=this.nm.canvasElement;e.drawImage(r,t,n)}}pm(e){if(e===0)return;let t={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();let n=me(this.sm,t);n!==null&&(n.useBitmapCoordinateSpace((e=>{this.wm(e),this.gm(e),this.Aw(n,oa)})),this.bm(n),this.Aw(n,ia)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();let n=me(this.nm,t);n!==null&&(n.useBitmapCoordinateSpace((({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)})),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],n),this.Aw(n,aa))}Aw(e,t){let n=this.Lv.Qt().tn();for(let r of n)qi(t,(t=>Gi(t,e,!1,void 0)),r,void 0);for(let r of n)qi(t,(t=>Ki(t,e,!1,void 0)),r,void 0)}wm({context:e,bitmapSize:t}){tn(e,0,0,t.width,t.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:t,verticalPixelRatio:n}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();let r=Math.max(1,Math.floor(this.Bw().S*n));e.fillRect(0,0,t.width,r)}}bm(e){let t=this.Lv.Qt().Et(),n=t.Vl();if(!n||n.length===0)return;let r=this.cu.maxTickMarkWeight(n),i=this.Bw(),a=t.N();a.borderVisible&&a.ticksVisible&&e.useBitmapCoordinateSpace((({context:e,horizontalPixelRatio:t,verticalPixelRatio:r})=>{e.strokeStyle=this.zw(),e.fillStyle=this.zw();let a=Math.max(1,Math.floor(t)),o=Math.floor(.5*t);e.beginPath();let s=Math.round(i.C*r);for(let r=n.length;r--;){let i=Math.round(n[r].coord*t);e.rect(i-o,0,a,s)}e.fill()})),e.useMediaCoordinateSpace((({context:e})=>{let t=i.S+i.C+i.A+i.k/2;e.textAlign=`center`,e.textBaseline=`middle`,e.fillStyle=this.H(),e.font=this._m();for(let i of n)if(i.weight<r){let n=i.needAlignCoordinate?this.Ow(e,i.coord,i.label):i.coord;e.fillText(i.label,n,t)}this.Lv.N().timeScale.allowBoldLabels&&(e.font=this.Nw());for(let i of n)if(i.weight>=r){let n=i.needAlignCoordinate?this.Ow(e,i.coord,i.label):i.coord;e.fillText(i.label,n,t)}}))}Ow(e,t,n){let r=this.qv.Ii(e,n),i=r/2,a=Math.floor(t-i)+.5;return a<0?t+=Math.abs(0-a):a+r>this.Uv.width&&(t-=Math.abs(this.Uv.width-(a+r))),t}Lw(e,t){let n=this.Bw();for(let r of e)for(let e of r.fs())e.Tt().nt(t,n)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return Ht(this.F(),this.Ps.fontFamily)}Nw(){return Ht(this.F(),this.Ps.fontFamily,`bold`)}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:``,Qi:new wn,Ew:0});let e=this.M,t=this._m();if(e.P!==t){let n=this.F();e.k=n,e.P=t,e.A=3*n/12,e.I=3*n/12,e.ts=9*n/12,e.L=0,e.Ew=4*n/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?`ew-resize`:`default`}Pw(){let e=this.Lv.Qt(),t=e.N();t.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),t.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);let n={Nd:this.Lv.Qt().Nd()},r=()=>t.leftPriceScale.borderVisible&&e.Et().N().borderVisible,i=()=>e.Kd();t.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new na(`left`,t,n,r,i),this.Cw.appendChild(this.Mw.iv())),t.rightPriceScale.visible&&this.bw===null&&(this.bw=new na(`right`,t,n,r,i),this.yw.appendChild(this.bw.iv()))}},ca=!!Di&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((e=>e.brand.includes(`Chromium`)))&&!!Di&&(navigator?.userAgentData?.platform?navigator.userAgentData.platform===`Windows`:navigator.userAgent.toLowerCase().indexOf(`win`)>=0),la=class{constructor(e,t,n){var r;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new W,this.Vm=new W,this.nd=new W,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=t,this.cu=n,this.Vv=document.createElement(`div`),this.Vv.classList.add(`tv-lightweight-charts`),this.Vv.style.overflow=`hidden`,this.Vv.style.direction=`ltr`,this.Vv.style.width=`100%`,this.Vv.style.height=`100%`,(r=this.Vv).style.userSelect=`none`,r.style.webkitUserSelect=`none`,r.style.msUserSelect=`none`,r.style.MozUserSelect=`none`,r.style.webkitTapHighlightColor=`transparent`,this.Zw=document.createElement(`table`),this.Zw.setAttribute(`cellspacing`,`0`),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),ua(this.Ps)&&this.Jw(!0),this.ns=new si(this.rd.bind(this),this.Ps,n),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new sa(this,this.cu),this.Zw.appendChild(this.tg.iv());let i=t.autoSize&&this.ig(),a=this.Ps.width,o=this.Ps.height;if(i||a===0||o===0){let t=e.getBoundingClientRect();a||=t.width,o||=t.height}this.sg(a,o),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(let e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(let e of this.Ww)this.hg(e);this.Ww=[],U(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,t,n=!1){if(this.eo===t&&this.S_===e)return;let r=function(e){let t=Math.floor(e.width),n=Math.floor(e.height);return j({width:t-t%2,height:n-n%2})}(j({width:e,height:t}));this.eo=r.height,this.S_=r.width;let i=this.eo+`px`,a=this.S_+`px`;U(this.Vv).style.height=i,U(this.Vv).style.width=a,this.Zw.style.height=i,this.Zw.style.width=a,n?this.lg(gn.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=gn.yn());for(let t=0;t<this.Fw.length;t++)this.Fw[t].pm(e.un(t).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){let t=ua(this.Ps);this.ns.cr(e);let n=ua(this.Ps);n!==t&&this.Jw(n),e.layout?.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);let t=this.cg(null),n=document.createElement(`canvas`);n.width=t.width,n.height=t.height;let r=U(n.getContext(`2d`));return this.cg(r,e),n}dg(e){return e===`left`&&!this.fg()||e===`right`&&!this.pg()||this.Fw.length===0?0:U(e===`left`?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty(`cursor`,e):this.hv().style.removeProperty(`cursor`)}wg(){return this.Kw}gg(e){return jt(this.Fw[e]).sv()}og(){this.Ww.forEach((e=>{e.kt()}))}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),!1===e.autoSize&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,t){let n=0,r=0,i=this.Fw[0],a=(n,r)=>{let i=0;for(let a=0;a<this.Fw.length;a++){let o=this.Fw[a],s=U(n===`left`?o.uw():o.cw()),c=s.nv();if(e!==null&&s.ev(e,r,i,t),i+=c.height,a<this.Fw.length-1){let t=this.Ww[a],n=t.nv();e!==null&&t.ev(e,r,i),i+=n.height}}};this.fg()&&(a(`left`,0),n+=U(i.uw()).nv().width);for(let i=0;i<this.Fw.length;i++){let a=this.Fw[i],o=a.nv();if(e!==null&&a.ev(e,n,r,t),r+=o.height,i<this.Fw.length-1){let t=this.Ww[i],a=t.nv();e!==null&&t.ev(e,n,r),r+=a.height}}n+=i.nv().width,this.pg()&&(a(`right`,n),n+=U(i.cw()).nv().width);let o=(t,n,r)=>{U(t===`left`?this.tg.Tw():this.tg.Rw()).ev(U(e),n,r)};if(this.Ps.timeScale.visible){let n=this.tg.nv();if(e!==null){let a=0;this.fg()&&(o(`left`,a,r),a=U(i.uw()).nv().width),this.tg.ev(e,a,r,t),a+=n.width,this.pg()&&o(`right`,a,r)}r+=n.height}return j({width:n,height:r})}Mg(){let e=0,t=0,n=0;for(let r of this.Fw)this.fg()&&(t=Math.max(t,U(r.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(n=Math.max(n,U(r.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=r.E_();t=Ai(t),n=Ai(n);let r=this.S_,i=this.eo,a=Math.max(r-t-n,0),o=1*this.Ww.length,s=this.Ps.timeScale.visible,c=s?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var l;c=(l=c)+l%2;let u=o+c,d=i<u?0:i-u,f=d/e,p=0,m=window.devicePixelRatio||1;for(let e=0;e<this.Fw.length;++e){let r=this.Fw[e];r.qm(this.ns.Xs()[e]);let i=0,o=0;o=e===this.Fw.length-1?Math.ceil((d-p)*m)/m:Math.round(r.E_()*f*m)/m,i=Math.max(o,2),p+=i,r.dm(j({width:a,height:i})),this.fg()&&r.hw(t,`left`),this.pg()&&r.hw(n,`right`),r.cv()&&this.ns.bd(r.cv(),i)}this.tg.Iw(j({width:s?a:0,height:c}),s?t:0,s?n:0),this.ns.L_(a),this.Uw!==t&&(this.Uw=t),this.$w!==n&&(this.$w=n)}Jw(e){e?this.Vv.addEventListener(`wheel`,this.Gw,{passive:!1}):this.Vv.removeEventListener(`wheel`,this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return ca?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;let t=this.bg(e),n=t*e.deltaX/100,r=-t*e.deltaY/100;if(e.cancelable&&e.preventDefault(),r!==0&&this.Ps.handleScale.mouseWheel){let t=Math.sign(r)*Math.min(1,Math.abs(r)),n=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(n,t)}n!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*n)}lg(e,t){let n=e._n();n===3&&this.Sg(),n!==3&&n!==2||(this.xg(e),this.Cg(e,t),this.tg.kt(),this.Fw.forEach((e=>{e.Ym()})),this.qw?._n()===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,t),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,t){for(let n of e.bn())this.xn(n,t)}xg(e){let t=this.ns.Xs();for(let n=0;n<t.length;n++)e.un(n).ln&&t[n].tu()}xn(e,t){let n=this.ns.Et();switch(e.fn){case 0:n.Fc();break;case 1:n.Wc(e.Wt);break;case 2:n.gn(e.Wt);break;case 3:n.Mn(e.Wt);break;case 4:n.Pc();break;case 5:e.Wt.Ec(t)||n.Mn(e.Wt.Ac(t))}}rd(e){this.qw===null?this.qw=e:this.qw.Sn(e),this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame((e=>{if(this.jw=!1,this.Hw=0,this.qw!==null){let t=this.qw;this.qw=null,this.lg(t,e);for(let n of t.bn())if(n.fn===5&&!n.Wt.Ec(e)){this.Qt().vn(n.Wt);break}}})))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){let e=this.ns.Xs(),t=e.length,n=this.Fw.length;for(let e=t;e<n;e++){let e=jt(this.Fw.pop());this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();let t=this.Ww.pop();t!==void 0&&this.hg(t)}for(let r=n;r<t;r++){let t=new ta(this,e[r]);if(t.nw().i(this.yg.bind(this,t),this),t.ew().i(this.kg.bind(this,t),this),this.Fw.push(t),r>0){let e=new Ri(this,r-1,r);this.Ww.push(e),this.Zw.insertBefore(e.iv(),this.tg.iv())}this.Zw.insertBefore(t.iv(),this.tg.iv())}for(let n=0;n<t;n++){let t=e[n],r=this.Fw[n];r.cv()===t?r.$m():r.qm(t)}this.eg(),this.Mg()}Pg(e,t,n,r){let i=new Map;e!==null&&this.ns.tn().forEach((t=>{let n=t.qs().$s(e);n!==null&&i.set(t,n)}));let a;if(e!==null){let t=this.ns.Et().es(e)?.originalTime;t!==void 0&&(a=t)}let o=this.Qt().pd(),s=o!==null&&o.hu instanceof _r?o.hu:void 0,c=o!==null&&o.au!==void 0?o.au.te:void 0,l=this.Tg(r);return{Gr:a,js:e??void 0,Rg:t??void 0,Dg:l===-1?void 0:l,Ig:s,Vg:i,Bg:c,Eg:n??void 0}}Tg(e){let t=-1;if(e)t=this.Fw.indexOf(e);else{let e=this.Qt().gd().Gs();e!==null&&(t=this.Qt().Xs().indexOf(e))}return t}yg(e,t,n,r){this.Im.p((()=>this.Pg(t,n,r,e)))}kg(e,t,n,r){this.Vm.p((()=>this.Pg(t,n,r,e)))}Qw(e,t,n){this.mg(this.Qt().pd()?.ou??null),this.nd.p((()=>this.Pg(e,t,n)))}eg(){let e=this.Ps.timeScale.visible?``:`none`;this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return`ResizeObserver`in window&&(this.Yw=new ResizeObserver((e=>{let t=e[e.length-1];t&&this.sg(t.contentRect.width,t.contentRect.height)})),this.Yw.observe(this.Av,{box:`border-box`}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}};function ua(e){return!!(e.handleScroll.mouseWheel||e.handleScale.mouseWheel)}function da(e){return e.open===void 0&&e.value===void 0}function fa(e){return function(e){return e.open!==void 0}(e)||function(e){return e.value!==void 0}(e)}function pa(e,t,n,r){let i=n.value,a={js:t,wt:e,Wt:[i,i,i,i],Gr:r};return n.color!==void 0&&(a.R=n.color),a}function ma(e,t,n,r){let i=n.value,a={js:t,wt:e,Wt:[i,i,i,i],Gr:r};return n.lineColor!==void 0&&(a.vt=n.lineColor),n.topColor!==void 0&&(a.eh=n.topColor),n.bottomColor!==void 0&&(a.rh=n.bottomColor),a}function ha(e,t,n,r){let i=n.value,a={js:t,wt:e,Wt:[i,i,i,i],Gr:r};return n.topLineColor!==void 0&&(a.hh=n.topLineColor),n.bottomLineColor!==void 0&&(a.ah=n.bottomLineColor),n.topFillColor1!==void 0&&(a.oh=n.topFillColor1),n.topFillColor2!==void 0&&(a._h=n.topFillColor2),n.bottomFillColor1!==void 0&&(a.uh=n.bottomFillColor1),n.bottomFillColor2!==void 0&&(a.dh=n.bottomFillColor2),a}function ga(e,t,n,r){let i={js:t,wt:e,Wt:[n.open,n.high,n.low,n.close],Gr:r};return n.color!==void 0&&(i.R=n.color),i}function _a(e,t,n,r){let i={js:t,wt:e,Wt:[n.open,n.high,n.low,n.close],Gr:r};return n.color!==void 0&&(i.R=n.color),n.borderColor!==void 0&&(i.Ht=n.borderColor),n.wickColor!==void 0&&(i.nh=n.wickColor),i}function va(e,t,n,r,i){let a=jt(i)(n),o=Math.max(...a),s=Math.min(...a),c=a[a.length-1],l=[c,o,s,c],{time:u,color:d,...f}=n;return{js:t,wt:e,Wt:l,Gr:r,le:f,R:d}}function ya(e){return e.Wt!==void 0}function ba(e,t){return t.customValues!==void 0&&(e.Ag=t.customValues),e}function xa(e){return(t,n,r,i,a,o)=>function(e,t){return t?t(e):da(e)}(r,o)?ba({wt:t,js:n,Gr:i},r):ba(e(t,n,r,i,a),r)}function Sa(e){return{Candlestick:xa(_a),Bar:xa(ga),Area:xa(ma),Baseline:xa(ha),Histogram:xa(pa),Line:xa(pa),Custom:xa(va)}[e]}function Ca(e){return{js:0,Lg:new Map,Ea:e}}function wa(e,t){if(e!==void 0&&e.length!==0)return{zg:t.key(e[0].wt),Og:t.key(e[e.length-1].wt)}}function Ta(e){let t;return e.forEach((e=>{t===void 0&&(t=e.Gr)})),jt(t)}var Ea=class{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,t){let n=this.Ng.size!==0,r=!1,i=this.Fg.get(e);if(i!==void 0)if(this.Fg.size===1)n=!1,r=!0,this.Ng.clear();else for(let t of this.Hg)t.pointData.Lg.delete(e)&&(r=!0);let a=[];if(t.length!==0){let n=t.map((e=>e.time)),i=this.cu.createConverterToInternalObj(t),o=Sa(e.wh()),s=e.rl(),c=e.hl();a=t.map(((t,a)=>{let l=i(t.time),u=this.cu.key(l),d=this.Ng.get(u);d===void 0&&(d=Ca(l),this.Ng.set(u,d),r=!0);let f=o(l,d.js,t,n[a],s,c);return d.Lg.set(e,f),f}))}n&&this.$g(),this.qg(e,a);let o=-1;if(r){let e=[];this.Ng.forEach((t=>{e.push({timeWeight:0,time:t.Ea,pointData:t,originalTime:Ta(t.Lg)})})),e.sort(((e,t)=>this.cu.key(e.time)-this.cu.key(t.time))),o=this.jg(e)}return this.Yg(e,o,function(e,t,n){let r=wa(e,n),i=wa(t,n);if(r!==void 0&&i!==void 0)return{Kg:!1,Ta:r.Og>=i.Og&&r.zg>=i.zg}}(this.Fg.get(e),i,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,t,n){if(n&&e.La())throw Error(`Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.`);let r=t;(function(e){e.Gr===void 0&&(e.Gr=e.time)})(r),this.cu.preprocessData(t);let i=this.cu.createConverterToInternalObj([t])(t.time),a=this.Wg.get(e);if(!n&&a!==void 0&&this.cu.key(i)<this.cu.key(a))throw Error(`Cannot update oldest data, last time=${a}, new time=${i}`);let o=this.Ng.get(this.cu.key(i));if(n&&o===void 0)throw Error(`Cannot update non-existing data point when historicalUpdate is true`);let s=o===void 0;o===void 0&&(o=Ca(i),this.Ng.set(this.cu.key(i),o));let c=Sa(e.wh()),l=e.rl(),u=e.hl(),d=c(i,o.js,t,r.Gr,l,u),f=!n&&!s&&a!==void 0&&this.cu.key(i)===this.cu.key(a);o.Lg.set(e,d),n?this.Gg(e,d,o.js):(f&&e.La()&&ya(d)&&e.kr(d),this.Xg(e,d));let p={Ta:ya(d),Kg:n};if(!s)return this.Yg(e,-1,p);let m={timeWeight:0,time:o.Ea,pointData:o,originalTime:Ta(o.Lg)},h=Jn(this.Hg,this.cu.key(m.time),((e,t)=>this.cu.key(e.time)<t));this.Hg.splice(h,0,m);for(let e=h;e<this.Hg.length;++e)Da(this.Hg[e].pointData,e);return this.cu.fillWeightsForPoints(this.Hg,h),this.Yg(e,h,p)}Jg(e,t){let n=this.Fg.get(e);if(n===void 0||t<=0)return[[],this.Qg()];t=Math.min(t,n.length);let r=n.splice(-t).reverse();n.length===0?this.Wg.delete(e):this.Wg.set(e,n[n.length-1].wt);for(let t of r){let n=this.Ng.get(this.cu.key(t.wt));if(n&&(n.Lg.delete(e),n.Lg.size===0)){this.Ng.delete(this.cu.key(n.Ea)),this.Hg.splice(n.js,1);for(let e=n.js;e<this.Hg.length;++e)Da(this.Hg[e].pointData,e)}}return[r,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,t){let n=this.Fg.get(e);n===void 0&&(n=[],this.Fg.set(e,n));let r=n.length===0?null:n[n.length-1];r===null||this.cu.key(t.wt)>this.cu.key(r.wt)?ya(t)&&n.push(t):ya(t)?n[n.length-1]=t:n.splice(-1,1),this.Wg.set(e,t.wt)}Gg(e,t,n){let r=this.Fg.get(e);if(r===void 0)return;let i=Jn(r,n,((e,t)=>e.js<t));ya(t)?r[i]=t:r.splice(i,1)}qg(e,t){t.length===0?(this.Fg.delete(e),this.Wg.delete(e)):(this.Fg.set(e,t.filter(ya)),this.Wg.set(e,t[t.length-1].wt))}$g(){for(let e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let t=-1;for(let n=0;n<this.Hg.length&&n<e.length;++n){let r=this.Hg[n],i=e[n];if(this.cu.key(r.time)!==this.cu.key(i.time)){t=n;break}i.timeWeight=r.timeWeight,Da(i.pointData,n)}if(t===-1&&this.Hg.length!==e.length&&(t=Math.min(this.Hg.length,e.length)),t===-1)return-1;for(let n=t;n<e.length;++n)Da(e[n].pointData,n);return this.cu.fillWeightsForPoints(e,t),this.Hg=e,t}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach((t=>{t.length!==0&&(e=Math.max(e,t[t.length-1].js))})),e}Yg(e,t,n){let r=this.Qg();if(t!==-1)this.Fg.forEach(((t,i)=>{r.F_.set(i,{le:t,iM:i===e?n:void 0})})),this.Fg.has(e)||r.F_.set(e,{le:[],iM:n}),r.Et.sM=this.Hg,r.Et.nM=t;else{let t=this.Fg.get(e);r.F_.set(e,{le:t||[],iM:n})}return r}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}};function Da(e,t){e.js=t,e.Lg.forEach((e=>{e.js=t}))}function Oa(e,t){return e.wt<t}function ka(e,t){return t<e.wt}function Aa(e,t,n){let r=t.Aa(),i=t.bi(),a=Jn(e,r,Oa),o=Yn(e,i,ka);if(!n)return{from:a,to:o};let s=a,c=o;return a>0&&a<e.length&&e[a].wt>=r&&(s=a-1),o>0&&o<e.length&&e[o-1].wt<=i&&(c=o+1),{from:s,to:c}}var ja=class{constructor(e,t,n){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=t,this._M=n}kt(e){this.eM=!0,e===`data`&&(this.rM=!0),e===`options`&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map((e=>({...e,...this.ee.ga().gh(e.wt)})))}fM(){this.lM=null}uM(){let e=this.re.Et(),t=e.N().enableConflation?e.Hc():0;t!==this.oM&&(this.rM=!0,this.oM=t),this.rM&&=(this.pM(),!1),this.hM&&=(this.dM(),!1),this.eM&&=(this.vM(),!1)}vM(){let e=this.ee.Ft(),t=this.re.Et();if(this.fM(),t.Gi()||e.Gi())return;let n=t.Ie();if(n===null||this.ee.qs().yh()===0)return;let r=this.ee.Lt();r!==null&&(this.lM=Aa(this.aM,n,this._M),this.mM(e,t,r.Wt),this.wM())}},Ma=class{constructor(e,t){this.gM=e,this.Ki=t}nt(e,t,n){this.gM.draw(e,this.Ki,t,n)}},Na=class extends ja{constructor(e,t,n){super(e,t,!1),this.$h=n,this.cM=new Ma(this.$h.renderer(),(t=>{let n=e.Lt();return n===null?null:e.Ft().Nt(t,n.Wt)}))}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){let e=this.ee.ga();this.aM=this.ee.Na().Dh().map((t=>({wt:t.js,_t:NaN,...e.gh(t.js),MM:t.le})))}mM(e,t){t.mc(this.aM,Bt(this.lM))}wM(){this.$h.update({bars:this.aM.map(Pa),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}};function Pa(e){return{x:e._t,time:e.wt,originalData:e.MM,barColor:e.th}}var Fa={color:`#2196f3`},Ia=(e,t,n)=>new Na(e,t,Mt(n));function La(e){let t={value:e.Wt[3],time:e.Gr};return e.Ag!==void 0&&(t.customValues=e.Ag),t}function Ra(e){let t=La(e);return e.R!==void 0&&(t.color=e.R),t}function za(e){let t=La(e);return e.vt!==void 0&&(t.lineColor=e.vt),e.eh!==void 0&&(t.topColor=e.eh),e.rh!==void 0&&(t.bottomColor=e.rh),t}function Ba(e){let t=La(e);return e.hh!==void 0&&(t.topLineColor=e.hh),e.ah!==void 0&&(t.bottomLineColor=e.ah),e.oh!==void 0&&(t.topFillColor1=e.oh),e._h!==void 0&&(t.topFillColor2=e._h),e.uh!==void 0&&(t.bottomFillColor1=e.uh),e.dh!==void 0&&(t.bottomFillColor2=e.dh),t}function Va(e){let t={open:e.Wt[0],high:e.Wt[1],low:e.Wt[2],close:e.Wt[3],time:e.Gr};return e.Ag!==void 0&&(t.customValues=e.Ag),t}function Ha(e){let t=Va(e);return e.R!==void 0&&(t.color=e.R),t}function Ua(e){let t=Va(e),{R:n,Ht:r,nh:i}=e;return n!==void 0&&(t.color=n),r!==void 0&&(t.borderColor=r),i!==void 0&&(t.wickColor=i),t}function Wa(e){return{Area:za,Line:Ra,Baseline:Ba,Histogram:Ra,Bar:Ha,Candlestick:Ua,Custom:Ga}[e]}function Ga(e){let t=e.Gr;return{...e.le,time:t}}var Ka={vertLine:{color:`#9598A1`,width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:`#131722`},horzLine:{color:`#9598A1`,width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:`#131722`},mode:1,doNotSnapToHiddenSeriesIndices:!1},qa={vertLines:{color:`#D6DCDE`,style:0,visible:!0},horzLines:{color:`#D6DCDE`,style:0,visible:!0}},Ja={background:{type:`solid`,color:`#FFFFFF`},textColor:`#191919`,fontSize:12,fontFamily:Vt,panes:{enableResize:!0,separatorColor:`#E0E3EB`,separatorHoverColor:`rgba(178, 181, 189, 0.2)`},attributionLogo:!0,colorSpace:`srgb`,colorParsers:[]},Ya={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:`#2B2B43`,entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},Xa={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:`#2B2B43`,visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:`background`};function Za(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:Ja,crosshair:Ka,grid:qa,overlayPriceScales:{...Ya},leftPriceScale:{...Ya,visible:!1},rightPriceScale:{...Ya,visible:!0},timeScale:Xa,localization:{locale:Di?navigator.language:``,dateFormat:`dd MMM 'yy`},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}var Qa=class{constructor(e,t,n){this.Yp=e,this.bM=t,this.SM=n??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return hn(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new In(e.from,e.to))}getVisibleRange(){let e,t,n=this.Ki().er();if(n===null)return null;if(this.Ki().io()){let r=this.Ki().m_(),i=ci(r);n=Pr(n,this.Ki().no()),e=Number((Math.round(n.Ze()/r)*r).toFixed(i)),t=Number((Math.round(n.Ge()/r)*r).toFixed(i))}else e=n.Ze(),t=n.Ge();return{from:e,to:t}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return U(this.Yp.Qt().wd(this.bM,this.SM)).Ft}},$a=class{constructor(e,t,n,r){this.Yp=e,this.yt=n,this.xM=t,this.CM=r}getHeight(){return this.yt.$t()}setHeight(e){let t=this.Yp.Qt(),n=t.Gd(this.yt);t.xd(n,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){let t=this.paneIndex();t!==e&&(At(e>=0&&e<this.Yp.Zp().length,`Invalid pane index`),this.Yp.Qt().yd(t,e))}getSeries(){return this.yt.F_().map((e=>this.xM(e)))??[]}getHTMLElement(){let e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw Error(`Cannot find price scale with id: ${e}`);return new Qa(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,t={},n=0){return this.CM.addCustomSeries(e,t,n)}addSeries(e,t={}){return this.CM.addSeries(e,t,this.paneIndex())}},eo={color:`#FF0000`,price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:``,axisLabelColor:``,axisLabelTextColor:``},to=class{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}},no=class{constructor(e,t,n,r,i,a){this.kM=new W,this.ee=e,this.PM=t,this.TM=n,this.cu=i,this.CM=r,this.RM=a}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){let t=this.ee.Lt();return t===null?null:this.ee.Ft().Nt(e,t.Wt)}coordinateToPrice(e){let t=this.ee.Lt();return t===null?null:this.ee.Ft().Ds(e,t.Wt)}barsInLogicalRange(e){if(e===null)return null;let t=new $r(new Xr(e.from,e.to)).Ru(),n=this.ee.qs();if(n.Gi())return null;let r=n.$s(t.Aa(),1),i=n.$s(t.bi(),-1),a=U(n.kh()),o=U(n.sn());if(r!==null&&i!==null&&r.js>i.js)return{barsBefore:e.from-a,barsAfter:o-e.to};let s={barsBefore:r===null||r.js===a?e.from-a:r.js-a,barsAfter:i===null||i.js===o?o-e.to:o-i.js};return r!==null&&i!==null&&(s.from=r.Gr,s.to=i.Gr),s}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM(`full`)}update(e,t=!1){this.ee.wh(),this.PM.VM(this.ee,e,t),this.IM(`update`)}pop(e=1){let t=this.PM.BM(this.ee,e);t.length!==0&&this.IM(`update`);let n=Wa(this.seriesType());return t.map((e=>n(e)))}dataByIndex(e,t){let n=this.ee.qs().$s(e,t);return n===null?null:Wa(this.seriesType())(n)}data(){let e=Wa(this.seriesType());return this.ee.qs().Dh().map((t=>e(t)))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return Rt(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){let t=Nt(Rt(eo),e);return new to(this.ee.Da(t))}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map((e=>new to(e)))}seriesType(){return this.ee.wh()}lastValueData(e){let t=this.ee.Ve(e);return t.Be?{noData:!0}:{noData:!1,price:t.gt,color:t.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){let e=this.ee,t=U(this.ee.Qt().Kn(e));return this.RM(t)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){let e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){let t=this.ee.Qt().Kn(this.ee);t!==null&&t.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}},ro=class{constructor(e,t,n){this.EM=new W,this.Nu=new W,this.xw=new W,this.ns=e,this.Jh=e.Et(),this.tg=t,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=n}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,t){t?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){let e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){let t={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},n=this.Jh.cc(t);this.ns.$d(n)}getVisibleLogicalRange(){let e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){At(e.from<=e.to,`The from index cannot be after the to index.`),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){let t=this.ns.Et();return t.Gi()?null:t.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,t){let n=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(n,t)}timeToCoordinate(e){let t=this.timeToIndex(e,!1);return t===null?null:this.Jh.qt(t)}coordinateToTime(e){let t=this.ns.Et(),n=t.wc(e),r=t.es(n);return r===null?null:r.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...Rt(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}};function io(e){return function(e){if(Lt(e.handleScale)){let t=e.handleScale;e.handleScale={axisDoubleClickReset:{time:t,price:t},axisPressedMouseMove:{time:t,price:t},mouseWheel:t,pinch:t}}else if(e.handleScale!==void 0){let{axisPressedMouseMove:t,axisDoubleClickReset:n}=e.handleScale;Lt(t)&&(e.handleScale.axisPressedMouseMove={time:t,price:t}),Lt(n)&&(e.handleScale.axisDoubleClickReset={time:n,price:n})}let t=e.handleScroll;Lt(t)&&(e.handleScroll={horzTouchDrag:t,vertTouchDrag:t,mouseWheel:t,pressedMouseMove:t})}(e),e}var ao=class{constructor(e,t,n){this.OM=new Map,this.NM=new Map,this.FM=new W,this.WM=new W,this.HM=new W,this.Xc=new WeakMap,this.UM=new Ea(t);let r=n===void 0?Rt(Za()):Nt(Rt(Za()),io(n));this.$M=t,this.Yp=new la(e,r,t),this.Yp.nw().i((e=>{this.FM.v()&&this.FM.p(this.qM(e()))}),this),this.Yp.ew().i((e=>{this.WM.v()&&this.WM.p(this.qM(e()))}),this),this.Yp.Md().i((e=>{this.HM.v()&&this.HM.p(this.qM(e()))}),this),this.jM=new ro(this.Yp.Qt(),this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,t,n){this.autoSizeActive()||this.Yp.sg(e,t,n)}addCustomSeries(e,t={},n=0){let r=(e=>({type:`Custom`,isBuiltIn:!1,defaultOptions:{...Fa,...e.defaultOptions()},YM:Ia,KM:e}))(Mt(e));return this.ZM(r,t,n)}addSeries(e,t={},n=0){return this.ZM(e,t,n)}removeSeries(e){let t=jt(this.OM.get(e)),n=this.UM.Hd(t);this.Yp.Qt().Hd(t),this.GM(n),this.OM.delete(e),this.NM.delete(t)}DM(e,t){this.GM(this.UM.Ug(e,t))}VM(e,t,n){this.GM(this.UM.Zg(e,t,n))}BM(e,t){let[n,r]=this.UM.Jg(e,t);return n.length!==0&&this.GM(r),n}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,t=0){return new Qa(this.Yp,e,t)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(io(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,t=!1){let n,r;try{t||(n=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),r=this.Yp.ug(e)}finally{t||n===void 0||this.Yp.Qt().cr({crosshair:{mode:n}})}return r}addPane(e=!1){let t=this.Yp.Qt().Xd();return t.O_(e),this.XM(t)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,t){this.Yp.Qt().Cd(e,t)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map((e=>this.XM(e)))}paneSize(e=0){let t=this.Yp.gg(e);return{height:t.height,width:t.width}}setCrosshairPosition(e,t,n){let r=this.OM.get(n);if(r===void 0)return;let i=this.Yp.Qt().Kn(r);i!==null&&this.Yp.Qt().Ld(e,t,i)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,t={},n=0){At(e.YM!==void 0),function(e){if(e===void 0||e.type===`custom`)return;let t=e;t.minMove!==void 0&&t.precision===void 0&&(t.precision=ci(t.minMove))}(t.priceFormat),e.type===`Candlestick`&&function(e){e.borderColor!==void 0&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),e.wickColor!==void 0&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor)}(t);let r=Nt(Rt(Tt),Rt(e.defaultOptions),t),i=e.YM,a=new _r(this.Yp.Qt(),e.type,r,i,e.KM);this.Yp.Qt().Fd(a,n);let o=new no(a,this,this,this,this.$M,(e=>this.XM(e)));return this.OM.set(o,a),this.NM.set(a,o),o}GM(e){let t=this.Yp.Qt();t.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach(((e,t)=>t.ht(e.le,e.iM))),t.Et().Ju(),t.Sc()}JM(e){return jt(this.NM.get(e))}qM(e){let t=new Map;e.Vg.forEach(((e,n)=>{let r=n.wh(),i=Wa(r)(e);if(r!==`Custom`)At(fa(i));else{let e=n.hl();At(!e||!1===e(i))}t.set(this.JM(n),i)}));let n=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:n,hoveredObjectId:e.Bg,seriesData:t,sourceEvent:e.Eg}}XM(e){let t=this.Xc.get(e);return t||(t=new $a(this.Yp,(e=>this.JM(e)),e,this),this.Xc.set(e,t)),t}};function oo(e){if(It(e)){let t=document.getElementById(e);return At(t!==null,`Cannot find element in DOM with id=${e}`),t}return e}function so(e,t,n){let r=new ao(oo(e),t,n);return t.setOptions(r.options()),r}function co(e,t){return so(e,new Ei,Ei.pf(t))}({...Tt});var lo=n((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.pick=void 0;function t(e,t){var n={};return t.forEach(function(t){n[t]=e[t]}),n}e.pick=t})),uo=n((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.isFunction=void 0;function t(e){return typeof e==`function`}e.isFunction=t})),fo=n((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.isString=void 0;function t(e){return typeof e==`string`}e.isString=t})),po=n((t=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.isEqual=void 0,t.isEqual=(u(),e(_t)).__importDefault(Ae()).default})),mo=n((t=>{Object.defineProperty(t,`__esModule`,{value:!0});var n=(u(),e(_t)),r=n.__importStar(Ke()),i=bt(),a=lo(),o=uo(),s=fo(),c=po();t.default=function(e){n.__extends(t,e);function t(t){var n=e.call(this,t)||this;return n.echarts=t.echarts,n.ele=null,n.isInitialResize=!0,n}return t.prototype.componentDidMount=function(){this.renderNewEcharts()},t.prototype.componentDidUpdate=function(e){var t=this.props.shouldSetOption;if(!((0,o.isFunction)(t)&&!t(e,this.props))){if(!(0,c.isEqual)(e.theme,this.props.theme)||!(0,c.isEqual)(e.opts,this.props.opts)){this.dispose(),this.renderNewEcharts();return}var n=this.getEchartsInstance();(0,c.isEqual)(e.onEvents,this.props.onEvents)||(this.offEvents(n,e.onEvents),this.bindEvents(n,this.props.onEvents));var r=[`option`,`notMerge`,`replaceMerge`,`lazyUpdate`,`showLoading`,`loadingOption`];(0,c.isEqual)((0,a.pick)(this.props,r),(0,a.pick)(e,r))||this.updateEChartsOption(),(!(0,c.isEqual)(e.style,this.props.style)||!(0,c.isEqual)(e.className,this.props.className))&&this.resize()}},t.prototype.componentWillUnmount=function(){this.dispose()},t.prototype.initEchartsInstance=function(){return n.__awaiter(this,void 0,void 0,function(){var e=this;return n.__generator(this,function(t){return[2,new Promise(function(t){e.echarts.init(e.ele,e.props.theme,e.props.opts),e.getEchartsInstance().on(`finished`,function(){var r=e.ele.clientWidth,i=e.ele.clientHeight;e.echarts.dispose(e.ele);var a=n.__assign({width:r,height:i},e.props.opts);t(e.echarts.init(e.ele,e.props.theme,a))})})]})})},t.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)},t.prototype.dispose=function(){if(this.ele){try{(0,i.clear)(this.ele)}catch(e){console.warn(e)}this.echarts.dispose(this.ele)}},t.prototype.renderNewEcharts=function(){return n.__awaiter(this,void 0,void 0,function(){var e,t,r,a,s,c,l=this;return n.__generator(this,function(n){switch(n.label){case 0:return e=this.props,t=e.onEvents,r=e.onChartReady,a=e.autoResize,s=a===void 0?!0:a,[4,this.initEchartsInstance()];case 1:return n.sent(),c=this.updateEChartsOption(),this.bindEvents(c,t||{}),(0,o.isFunction)(r)&&r(c),this.ele&&s&&(0,i.bind)(this.ele,function(){l.resize()}),[2]}})})},t.prototype.bindEvents=function(e,t){function n(t,n){(0,s.isString)(t)&&(0,o.isFunction)(n)&&e.on(t,function(t){n(t,e)})}for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n(r,t[r])},t.prototype.offEvents=function(e,t){if(t)for(var n in t)(0,s.isString)(n)&&e.off(n,t[n])},t.prototype.updateEChartsOption=function(){var e=this.props,t=e.option,n=e.notMerge,r=n===void 0?!1:n,i=e.replaceMerge,a=i===void 0?null:i,o=e.lazyUpdate,s=o===void 0?!1:o,c=e.showLoading,l=e.loadingOption,u=l===void 0?null:l,d=this.getEchartsInstance();return d.setOption(t,{notMerge:r,replaceMerge:a,lazyUpdate:s}),c?d.showLoading(u):d.hideLoading(),d},t.prototype.resize=function(){var e=this.getEchartsInstance();if(!this.isInitialResize)try{e.resize({width:`auto`,height:`auto`})}catch(e){console.warn(e)}this.isInitialResize=!1},t.prototype.render=function(){var e=this,t=this.props,i=t.style,a=t.className,o=a===void 0?``:a;t.echarts,t.option,t.theme,t.notMerge,t.replaceMerge,t.lazyUpdate,t.showLoading,t.loadingOption,t.opts,t.onChartReady,t.onEvents,t.shouldSetOption,t.autoResize;var s=n.__rest(t,[`style`,`className`,`echarts`,`option`,`theme`,`notMerge`,`replaceMerge`,`lazyUpdate`,`showLoading`,`loadingOption`,`opts`,`onChartReady`,`onEvents`,`shouldSetOption`,`autoResize`]),c=n.__assign({height:300},i);return r.default.createElement(`div`,n.__assign({ref:function(t){e.ele=t},style:c,className:`echarts-for-react ${o}`},s))},t}(r.PureComponent)})),ho=1e-4,go=20;function _o(e){return e.replace(/^\s+|\s+$/g,``)}var vo=Math.min,yo=Math.max,bo=Math.abs;function xo(e,t,n,r){var i=t[0],a=t[1],o=n[0],s=n[1],c=a-i,l=s-o;if(c===0)return l===0?o:(o+s)/2;if(r){if(c>0){if(e<=i)return o;if(e>=a)return s}else if(e>=i)return o;else if(e<=a)return s}else{if(e===i)return o;if(e===a)return s}return(e-i)/c*l+o}var So=Co;function Co(e,t,n){switch(e){case`center`:case`middle`:e=`50%`;break;case`left`:case`top`:e=`0%`;break;case`right`:case`bottom`:e=`100%`;break}return wo(e,t,n)}function wo(e,t,n){return z(e)?_o(e).match(/%$/)?parseFloat(e)/100*t+(n||0):parseFloat(e):e==null?NaN:+e}function To(e,t,n){return t??=10,t=Math.min(Math.max(0,t),go),e=(+e).toFixed(t),n?e:+e}function Eo(e){return e.sort(function(e,t){return e-t}),e}function Do(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n}return Oo(e)}function Oo(e){var t=e.toString().toLowerCase(),n=t.indexOf(`e`),r=n>0?+t.slice(n+1):0,i=n>0?n:t.length,a=t.indexOf(`.`),o=a<0?0:i-1-a;return Math.max(0,o-r)}function ko(e,t){var n=Math.log,r=Math.LN10,i=Math.floor(n(e[1]-e[0])/r),a=Math.round(n(bo(t[1]-t[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function Ao(e,t,n){return e[t]&&jo(e,n)[t]||0}function jo(e,t){var n=Je(e,function(e,t){return e+(isNaN(t)?0:t)},0);if(n===0)return[];for(var r=10**t,i=B(e,function(e){return(isNaN(e)?0:e)/n*r*100}),a=r*100,o=B(i,function(e){return Math.floor(e)}),s=Je(o,function(e,t){return e+t},0),c=B(i,function(e,t){return e-o[t]});s<a;){for(var l=-1/0,u=null,d=0,f=c.length;d<f;++d)c[d]>l&&(l=c[d],u=d);++o[u],c[u]=0,++s}return B(o,function(e){return e/r})}function Mo(e,t){var n=Math.max(Do(e),Do(t)),r=e+t;return n>go?r:To(r,n)}var No=9007199254740991;function Po(e){var t=Math.PI*2;return(e%t+t)%t}function Fo(e){return e>-ho&&e<ho}var Io=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Lo(e){if(e instanceof Date)return e;if(z(e)){var t=Io.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return t[8].toUpperCase()!==`Z`&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function Ro(e){return 10**zo(e)}function zo(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/10**t>=10&&t++,t}function Bo(e,t){var n=zo(e),r=10**n,i=e/r;return e=(t?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,n>=-20?+e.toFixed(n<0?-n:0):e}function Vo(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i}function Ho(e){e.sort(function(e,t){return s(e,t,0)?-1:1});for(var t=-1/0,n=1,r=0;r<e.length;){for(var i=e[r].interval,a=e[r].close,o=0;o<2;o++)i[o]<=t&&(i[o]=t,a[o]=o?1:1-n),t=i[o],n=a[o];i[0]===i[1]&&a[0]*a[1]!==1?e.splice(r,1):r++}return e;function s(e,t,n){return e.interval[n]<t.interval[n]||e.interval[n]===t.interval[n]&&(e.close[n]-t.close[n]===(n?-1:1)||!n&&s(e,t,1))}}function Uo(e){var t=parseFloat(e);return t==e&&(t!==0||!z(e)||e.indexOf(`x`)<=0)?t:NaN}function Wo(e){return!isNaN(Uo(e))}function Go(){return Math.round(Math.random()*9)}function Ko(e,t){return t===0?e:Ko(t,e%t)}function qo(e,t){return e==null?t:t==null?e:e*t/Ko(e,t)}var Jo=`[ECharts] `,Yo={},Xo=typeof console<`u`&&console.warn&&console.log;function Zo(e,t,n){if(Xo){if(n){if(Yo[t])return;Yo[t]=!0}console[e](Jo+t)}}function Qo(e,t){Zo(`error`,e,t)}function $o(e){throw Error(e)}var es=`series\0`,ts=`\0_ec_\0`;function ns(e){return e instanceof Array?e:e==null?[]:[e]}function rs(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,i=n.length;r<i;r++){var a=n[r];!e.emphasis[t].hasOwnProperty(a)&&e[t].hasOwnProperty(a)&&(e.emphasis[t][a]=e[t][a])}}}var is=`fontStyle.fontWeight.fontSize.fontFamily.rich.tag.color.textBorderColor.textBorderWidth.width.height.lineHeight.align.verticalAlign.baseline.shadowColor.shadowBlur.shadowOffsetX.shadowOffsetY.textShadowColor.textShadowBlur.textShadowOffsetX.textShadowOffsetY.backgroundColor.borderColor.borderWidth.borderRadius.padding`.split(`.`);function as(e){return i(e)&&!D(e)&&!(e instanceof Date)?e.value:e}function os(e){return i(e)&&!(e instanceof Array)}function ss(e,t,n){var r=n===`normalMerge`,a=n===`replaceMerge`,o=n===`replaceAll`;e||=[],t=(t||[]).slice();var s=A();c(t,function(e,n){if(!i(e)){t[n]=null;return}});var l=cs(e,s,n);return(r||a)&&ls(l,e,s,t),r&&us(l,t),r||a?ds(l,t,a):o&&fs(l,t),ps(l),l}function cs(e,t,n){var r=[];if(n===`replaceAll`)return r;for(var i=0;i<e.length;i++){var a=e[i];a&&a.id!=null&&t.set(a.id,i),r.push({existing:n===`replaceMerge`||vs(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}function ls(e,t,n,r){c(r,function(i,a){if(!(!i||i.id==null)){var o=hs(i.id),s=n.get(o);if(s!=null){var c=e[s];ie(!c.newOption,`Duplicated option on id "`+o+`".`),c.newOption=i,c.existing=t[s],r[a]=null}}})}function us(e,t){c(t,function(n,r){if(!(!n||n.name==null))for(var i=0;i<e.length;i++){var a=e[i].existing;if(!e[i].newOption&&a&&(a.id==null||n.id==null)&&!vs(n)&&!vs(a)&&ms(`name`,a,n)){e[i].newOption=n,t[r]=null;return}}})}function ds(e,t,n){c(t,function(t){if(t){for(var r,i=0;(r=e[i])&&(r.newOption||vs(r.existing)||r.existing&&t.id!=null&&!ms(`id`,t,r.existing));)i++;r?(r.newOption=t,r.brandNew=n):e.push({newOption:t,brandNew:n,existing:null,keyInfo:null}),i++}})}function fs(e,t){c(t,function(t){e.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function ps(e){var t=A();c(e,function(e){var n=e.existing;n&&t.set(n.id,e)}),c(e,function(e){var n=e.newOption;ie(!n||n.id==null||!t.get(n.id)||t.get(n.id)===e,`id duplicates: `+(n&&n.id)),n&&n.id!=null&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})}),c(e,function(e,n){var r=e.existing,a=e.newOption,o=e.keyInfo;if(i(a)){if(o.name=a.name==null?r?r.name:es+n:hs(a.name),r)o.id=hs(r.id);else if(a.id!=null)o.id=hs(a.id);else{var s=0;do o.id=`\0`+o.name+`\0`+ s++;while(t.get(o.id))}t.set(o.id,e)}})}function ms(e,t,n){var r=gs(t[e],null),i=gs(n[e],null);return r!=null&&i!=null&&r===i}function hs(e){return gs(e,``)}function gs(e,t){return e==null?t:z(e)?e:N(e)||ut(e)?e+``:t}function _s(e){var t=e.name;return!!(t&&t.indexOf(es))}function vs(e){return e&&e.id!=null&&hs(e.id).indexOf(ts)===0}function ys(e,t,n){c(e,function(e){var r=e.newOption;i(r)&&(e.keyInfo.mainType=t,e.keyInfo.subType=bs(t,r,e.existing,n))})}function bs(e,t,n,r){return t.type?t.type:n?n.subType:r.determineSubType(e,t)}function xs(e,t){var n={},r={};return i(e||[],n),i(t||[],r,n),[a(n),a(r)];function i(e,t,n){for(var r=0,i=e.length;r<i;r++){var a=gs(e[r].seriesId,null);if(a==null)return;for(var o=ns(e[r].dataIndex),s=n&&n[a],c=0,l=o.length;c<l;c++){var u=o[c];s&&s[u]?s[u]=null:(t[a]||(t[a]={}))[u]=1}}}function a(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)&&e[r]!=null)if(t)n.push(+r);else{var i=a(e[r],!0);i.length&&n.push({seriesId:r,dataIndex:i})}return n}}function Ss(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return D(t.dataIndex)?B(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return D(t.name)?B(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name)}function G(){var e=`__ec_inner_`+ Cs++;return function(t){return t[e]||(t[e]={})}}var Cs=Go();function ws(e,t,n){var r=Ts(t,n),i=r.mainTypeSpecified,a=r.queryOptionMap,o=r.others,s=n?n.defaultMainType:null;return!i&&s&&a.set(s,{}),a.each(function(t,r){var i=Ds(e,r,t,{useDefault:s===r,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});o[r+`Models`]=i.models,o[r+`Model`]=i.models[0]}),o}function Ts(e,t){var n;if(z(e)){var r={};r[e+`Index`]=0,n=r}else n=e;var i=A(),a={},o=!1;return c(n,function(e,n){if(n===`dataIndex`||n===`dataIndexInside`){a[n]=e;return}var r=n.match(/^(\w+)(Index|Id|Name)$/)||[],s=r[1],c=(r[2]||``).toLowerCase();if(!(!s||!c||t&&t.includeMainTypes&&k(t.includeMainTypes,s)<0)){o||=!!s;var l=i.get(s)||i.set(s,{});l[c]=e}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var Es={useDefault:!0,enableAll:!1,enableNone:!1};function Ds(e,t,n,r){r||=Es;var i=n.index,a=n.id,o=n.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var c=void 0;return s.models=r.useDefault&&(c=e.getComponent(t))?[c]:[],s}if(i===`none`||i===!1){if(r.enableNone)return s.models=[],s;i=-1}return i===`all`&&(i=r.enableAll?a=o=null:-1),s.models=e.queryComponents({mainType:t,index:i,id:a,name:o}),s}function Os(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function ks(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function As(e){return e===`auto`?V.domSupported?`html`:`richText`:e||`html`}(function(){function e(){}return e.prototype.reset=function(e,t,n,r){return this._list=e,this._step=r||=1,this._idx=t,this._end=n??(r>0?e.length:0),this.item=null,this.key=NaN,this},e.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx+=this._step,!0):!1},e})(),u();var js=`.`,Ms=`___EC__COMPONENT__CONTAINER___`,Ns=`___EC__EXTENDED_CLASS___`;function Ps(e){var t={main:``,sub:``};if(e){var n=e.split(js);t.main=n[0]||``,t.sub=n[1]||``}return t}function Fs(e){ie(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),`componentType "`+e+`" illegal`)}function Is(e){return!!(e&&e[Ns])}function Ls(e,t){e.$constructor=e,e.extend=function(e){var t=this,n;return Rs(t)?n=function(e){P(t,e);function t(){return e.apply(this,arguments)||this}return t}(t):(n=function(){(e.$constructor||t).apply(this,arguments)},at(n,this)),C(n.prototype,e),n[Ns]=!0,n.extend=this.extend,n.superCall=Hs,n.superApply=Us,n.superClass=t,n}}function Rs(e){return I(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function zs(e,t){e.extend=t.extend}var Bs=Math.round(Math.random()*10);function Vs(e){var t=[`__\0is_clz`,Bs++].join(`_`);e.prototype[t]=!0,e.isInstance=function(e){return!!(e&&e[t])}}function Hs(e,t){var n=[...arguments].slice(2);return this.superClass.prototype[t].apply(e,n)}function Us(e,t,n){return this.superClass.prototype[t].apply(e,n)}function Ws(e){var t={};e.registerClass=function(e){var r=e.type||e.prototype.type;if(r){Fs(r),e.prototype.type=r;var i=Ps(r);if(!i.sub)t[i.main]=e;else if(i.sub!==Ms){var a=n(i);a[i.sub]=e}}return e},e.getClass=function(e,n,r){var i=t[e];if(i&&i[Ms]&&(i=n?i[n]:null),r&&!i)throw Error(n?`Component `+e+`.`+(n||``)+` is used but not imported.`:e+`.type should be specified.`);return i},e.getClassesByMainType=function(e){var n=Ps(e),r=[],i=t[n.main];return i&&i[Ms]?c(i,function(e,t){t!==Ms&&r.push(e)}):r.push(i),r},e.hasClass=function(e){return!!t[Ps(e).main]},e.getAllClassMainTypes=function(){var e=[];return c(t,function(t,n){e.push(n)}),e},e.hasSubTypes=function(e){var n=t[Ps(e).main];return n&&n[Ms]};function n(e){var n=t[e.main];return(!n||!n[Ms])&&(n=t[e.main]={},n[Ms]=!0),n}}function Gs(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t||=!1,function(n,r,i){for(var a={},o=0;o<e.length;o++){var s=e[o][1];if(!(r&&k(r,s)>=0||i&&k(i,s)<0)){var c=n.getShallow(s,t);c!=null&&(a[e[o][0]]=c)}}return a}}var Ks=Gs([[`fill`,`color`],[`shadowBlur`],[`shadowOffsetX`],[`shadowOffsetY`],[`opacity`],[`shadowColor`]]),qs=function(){function e(){}return e.prototype.getAreaStyle=function(e,t){return Ks(this,e,t)},e}(),K=G(),Js=function(e,t,n,r){if(r){var i=K(r);i.dataIndex=n,i.dataType=t,i.seriesIndex=e,i.ssrType=`chart`,r.type===`group`&&r.traverse(function(r){var i=K(r);i.seriesIndex=e,i.dataIndex=n,i.dataType=t,i.ssrType=`chart`})}},Ys=1,Xs={},Zs=G(),Qs=G(),$s=[`emphasis`,`blur`,`select`],ec=[`normal`,`emphasis`,`blur`,`select`],tc=`highlight`,nc=`downplay`,rc=`select`,ic=`unselect`,ac=`toggleSelect`,oc=`selectchanged`;function sc(e){return e!=null&&e!==`none`}function cc(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function lc(e){cc(e,`emphasis`,2)}function uc(e){e.hoverState===2&&cc(e,`normal`,0)}function dc(e){cc(e,`blur`,1)}function fc(e){e.hoverState===1&&cc(e,`normal`,0)}function pc(e){e.selected=!0}function mc(e){e.selected=!1}function hc(e,t,n){t(e,n)}function gc(e,t,n){hc(e,t,n),e.isGroup&&e.traverse(function(e){hc(e,t,n)})}function _c(e,t,n,r){for(var i=e.style,a={},o=0;o<t.length;o++){var s=t[o];a[s]=i[s]??(r&&r[s])}for(var o=0;o<e.animators.length;o++){var c=e.animators[o];c.__fromStateTransition&&c.__fromStateTransition.indexOf(n)<0&&c.targetName===`style`&&c.saveTo(a,t)}return a}function vc(e,t,n,r){var i=n&&k(n,`select`)>=0,a=!1;if(e instanceof O){var o=Zs(e),s=i&&o.selectFill||o.normalFill,c=i&&o.selectStroke||o.normalStroke;if(sc(s)||sc(c)){r||={};var l=r.style||{};l.fill===`inherit`?(a=!0,r=C({},r),l=C({},l),l.fill=s):!sc(l.fill)&&sc(s)?(a=!0,r=C({},r),l=C({},l),l.fill=tt(s)):!sc(l.stroke)&&sc(c)&&(a||(r=C({},r),l=C({},l)),l.stroke=tt(c)),r.style=l}}if(r&&r.z2==null){a||(r=C({},r));var u=e.z2EmphasisLift;r.z2=e.z2+(u??10)}return r}function yc(e,t,n){if(n&&n.z2==null){n=C({},n);var r=e.z2SelectLift;n.z2=e.z2+(r??9)}return n}function bc(e,t,n){var r=k(e.currentStates,t)>=0,i=e.style.opacity,a=r?null:_c(e,[`opacity`],t,{opacity:1});n||={};var o=n.style||{};return o.opacity??(n=C({},n),o=C({opacity:r?i:a.opacity*.1},o),n.style=o),n}function xc(e,t){var n=this.states[e];if(this.style){if(e===`emphasis`)return vc(this,e,t,n);if(e===`blur`)return bc(this,e,n);if(e===`select`)return yc(this,e,n)}return n}function Sc(e){e.stateProxy=xc;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=xc),n&&(n.stateProxy=xc)}function Cc(e,t){!jc(e,t)&&!e.__highByOuter&&gc(e,lc)}function wc(e,t){!jc(e,t)&&!e.__highByOuter&&gc(e,uc)}function Tc(e,t){e.__highByOuter|=1<<(t||0),gc(e,lc)}function Ec(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&gc(e,uc)}function Dc(e){gc(e,dc)}function Oc(e){gc(e,fc)}function kc(e){gc(e,pc)}function Ac(e){gc(e,mc)}function jc(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Mc(e){var t=e.getModel(),n=[],r=[];t.eachComponent(function(t,i){var a=Qs(i),o=t===`series`,s=o?e.getViewOfSeriesModel(i):e.getViewOfComponentModel(i);!o&&r.push(s),a.isBlured&&(s.group.traverse(function(e){fc(e)}),o&&n.push(i)),a.isBlured=!1}),c(r,function(e){e&&e.toggleBlurSeries&&e.toggleBlurSeries(n,!1,t)})}function Nc(e,t,n,r){var a=r.getModel();n||=`coordinateSystem`;function o(e,t){for(var n=0;n<t.length;n++){var r=e.getItemGraphicEl(t[n]);r&&Oc(r)}}if(e!=null&&!(!t||t===`none`)){var s=a.getSeriesByIndex(e),c=s.coordinateSystem;c&&c.master&&(c=c.master);var l=[];a.eachSeries(function(e){var a=s===e,u=e.coordinateSystem;if(u&&u.master&&(u=u.master),!(n===`series`&&!a||n===`coordinateSystem`&&!(u&&c?u===c:a)||t===`series`&&a)){if(r.getViewOfSeriesModel(e).group.traverse(function(e){e.__highByOuter&&a&&t===`self`||dc(e)}),we(t))o(e.getData(),t);else if(i(t))for(var d=ot(t),f=0;f<d.length;f++)o(e.getData(d[f]),t[d[f]]);l.push(e),Qs(e).isBlured=!0}}),a.eachComponent(function(e,t){if(e!==`series`){var n=r.getViewOfComponentModel(t);n&&n.toggleBlurSeries&&n.toggleBlurSeries(l,!0,a)}})}}function Pc(e,t,n){if(!(e==null||t==null)){var r=n.getModel().getComponent(e,t);if(r){Qs(r).isBlured=!0;var i=n.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(e){dc(e)})}}}function Fc(e,t,n){var r=e.seriesIndex,i=e.getData(t.dataType);if(i){var a=Ss(i,t);a=(D(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),c=0;!o&&c<s;)o=i.getItemGraphicEl(c++);if(o){var l=K(o);Nc(r,l.focus,l.blurScope,n)}else{var u=e.get([`emphasis`,`focus`]),d=e.get([`emphasis`,`blurScope`]);u!=null&&Nc(r,u,d,n)}}}function Ic(e,t,n,r){var i={focusSelf:!1,dispatchers:null};if(e==null||e===`series`||t==null||n==null)return i;var a=r.getModel().getComponent(e,t);if(!a)return i;var o=r.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(n),c,l=0;l<s.length;l++)if(K(s[l]).focus===`self`){c=!0;break}return{focusSelf:c,dispatchers:s}}function Lc(e,t,n){var r=K(e),i=Ic(r.componentMainType,r.componentIndex,r.componentHighDownName,n),a=i.dispatchers,o=i.focusSelf;a?(o&&Pc(r.componentMainType,r.componentIndex,n),c(a,function(e){return Cc(e,t)})):(Nc(r.seriesIndex,r.focus,r.blurScope,n),r.focus===`self`&&Pc(r.componentMainType,r.componentIndex,n),Cc(e,t))}function Rc(e,t,n){Mc(n);var r=K(e),i=Ic(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;i?c(i,function(e){return wc(e,t)}):wc(e,t)}function zc(e,t,n){if(Yc(t)){var r=t.dataType,i=Ss(e.getData(r),t);D(i)||(i=[i]),e[t.type===`toggleSelect`?`toggleSelect`:t.type===`select`?`select`:`unselect`](i,r)}}function Bc(e){c(e.getAllData(),function(t){var n=t.data,r=t.type;n.eachItemGraphicEl(function(t,n){e.isSelected(n,r)?kc(t):Ac(t)})})}function Vc(e){var t=[];return e.eachSeries(function(e){c(e.getAllData(),function(n){n.data;var r=n.type,i=e.getSelectedDataIndices();if(i.length>0){var a={dataIndex:i,seriesIndex:e.seriesIndex};r!=null&&(a.dataType=r),t.push(a)}})}),t}function Hc(e,t,n){Kc(e,!0),gc(e,Sc),Gc(e,t,n)}function Uc(e){Kc(e,!1)}function Wc(e,t,n,r){r?Uc(e):Hc(e,t,n)}function Gc(e,t,n){var r=K(e);t==null?r.focus&&=null:(r.focus=t,r.blurScope=n)}function Kc(e,t){var n=t===!1,r=e;e.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!n||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function qc(e){return!!(e&&e.__highDownDispatcher)}function Jc(e){var t=Xs[e];return t==null&&Ys<=32&&(t=Xs[e]=Ys++),t}function Yc(e){var t=e.type;return t===`select`||t===`unselect`||t===`toggleSelect`}function Xc(e){var t=e.type;return t===`highlight`||t===`downplay`}function Zc(e){var t=Zs(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}G();function Qc(e,t,n,r,i){var a;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();a=o&&o.animation}var s=t&&t.isAnimationEnabled(),c=e===`update`;if(s){var l=void 0,u=void 0,d=void 0;return r?(l=R(r.duration,200),u=R(r.easing,`cubicOut`),d=0):(l=t.getShallow(c?`animationDurationUpdate`:`animationDuration`),u=t.getShallow(c?`animationEasingUpdate`:`animationEasing`),d=t.getShallow(c?`animationDelayUpdate`:`animationDelay`)),a&&(a.duration!=null&&(l=a.duration),a.easing!=null&&(u=a.easing),a.delay!=null&&(d=a.delay)),I(d)&&(d=d(n,i)),I(l)&&(l=l(n)),{duration:l||0,delay:d,easing:u}}else return null}function $c(e,t,n,r,a,o,s){var c=!1,l;I(a)?(s=o,o=a,a=null):i(a)&&(o=a.cb,s=a.during,c=a.isFrom,l=a.removeOpt,a=a.dataIndex);var u=e===`leave`;u||t.stopAnimation(`leave`);var d=Qc(e,r,a,u?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,a):null);if(d&&d.duration>0){var f=d.duration,p=d.delay,m=d.easing,h={duration:f,delay:p||0,easing:m,done:o,force:!!o||!!s,setToFinal:!u,scope:e,during:s};c?t.animateFrom(n,h):t.animateTo(n,h)}else t.stopAnimation(),!c&&t.attr(n),s&&s(1),o&&o()}function el(e,t,n,r,i,a){$c(`update`,e,t,n,r,i,a)}function tl(e,t,n,r,i,a){$c(`enter`,e,t,n,r,i,a)}function nl(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++)if(e.animators[t].scope===`leave`)return!0;return!1}function rl(e,t,n,r,i,a){nl(e)||$c(`leave`,e,t,n,r,i,a)}function il(e,t,n,r){e.removeTextContent(),e.removeTextGuideLine(),rl(e,{style:{opacity:0}},t,n,r)}function al(e,t,n){function r(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(e){e.isGroup||il(e,t,n,r)}):il(e,t,n,r)}var ol=t({Arc:()=>ae,BezierCurve:()=>Ge,BoundingRect:()=>rt,Circle:()=>w,CompoundPath:()=>f,Ellipse:()=>v,Group:()=>ce,Image:()=>b,IncrementalDisplayable:()=>l,Line:()=>a,LinearGradient:()=>h,OrientedBoundingRect:()=>gt,Path:()=>O,Point:()=>Ze,Polygon:()=>te,Polyline:()=>Ue,RadialGradient:()=>pe,Rect:()=>F,Ring:()=>re,Sector:()=>se,Text:()=>s,WH:()=>ll,XY:()=>cl,applyTransform:()=>wl,calcZ2Range:()=>Kl,clipPointsByRect:()=>kl,clipRectByRect:()=>Al,createIcon:()=>jl,ensureCopyRect:()=>Ul,ensureCopyTransform:()=>Wl,expandOrShrinkRect:()=>Il,extendPath:()=>fl,extendShape:()=>ul,getShapeClass:()=>ml,getTransform:()=>Cl,groupTransition:()=>Ol,initProps:()=>tl,isBoundingRectAxisAligned:()=>Vl,isElementRemoved:()=>nl,lineLineIntersect:()=>Nl,linePolygonIntersect:()=>Ml,makeImage:()=>gl,makePath:()=>hl,mergePath:()=>vl,registerShape:()=>pl,removeElement:()=>rl,removeElementWithFadeOut:()=>al,resizePath:()=>yl,retrieveZInfo:()=>Gl,setTooltipConfig:()=>Rl,subPixelOptimize:()=>Sl,subPixelOptimizeLine:()=>bl,subPixelOptimizeRect:()=>xl,transformDirection:()=>Tl,traverseElements:()=>Bl,traverseUpdateZ:()=>ql,updateProps:()=>el}),sl={},cl=[`x`,`y`],ll=[`width`,`height`];function ul(e){return O.extend(e)}var dl=le;function fl(e,t){return dl(e,t)}function pl(e,t){sl[e]=t}function ml(e){if(sl.hasOwnProperty(e))return sl[e]}function hl(e,t,n,r){var i=ee(e,t);return n&&(r===`center`&&(n=_l(n,i.getBoundingRect())),yl(i,n)),i}function gl(e,t,n){var r=new b({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if(n===`center`){var i={width:e.width,height:e.height};r.setStyle(_l(t,i))}}});return r}function _l(e,t){var n=t.width/t.height,r=e.height*n,i;r<=e.width?i=e.height:(r=e.width,i=r/n);var a=e.x+e.width/2,o=e.y+e.height/2;return{x:a-r/2,y:o-i/2,width:r,height:i}}var vl=wt;function yl(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}function bl(e,t){return ge(e,e,{lineWidth:t}),e}function xl(e,t){return ye(e,e,t),e}var Sl=S;function Cl(e,t){for(var n=De([]);e&&e!==t;)je(n,e.getLocalTransform(),n),e=e.parent;return n}function wl(e,t,n){return t&&!we(t)&&(t=$e.getLocalTransform(t)),n&&(t=ht([],t)),qe([],e,t)}function Tl(e,t,n){var r=t[4]===0||t[5]===0||t[0]===0?1:bo(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:bo(2*t[4]/t[2]),a=[e===`left`?-r:e===`right`?r:0,e===`top`?-i:e===`bottom`?i:0];return a=wl(a,t,n),bo(a[0])>bo(a[1])?a[0]>0?`right`:`left`:a[1]>0?`bottom`:`top`}function El(e){return!e.isGroup}function Dl(e){return e.shape!=null}function Ol(e,t,n){if(!e||!t)return;function r(e){var t={};return e.traverse(function(e){El(e)&&e.anid&&(t[e.anid]=e)}),t}function i(e){var t={x:e.x,y:e.y,rotation:e.rotation};return Dl(e)&&(t.shape=y(e.shape)),t}var a=r(e);t.traverse(function(e){if(El(e)&&e.anid){var t=a[e.anid];if(t){var r=i(e);e.attr(i(t)),el(e,r,n,K(e).dataIndex)}}})}function kl(e,t){return B(e,function(e){var n=e[0];n=yo(n,t.x),n=vo(n,t.x+t.width);var r=e[1];return r=yo(r,t.y),r=vo(r,t.y+t.height),[n,r]})}function Al(e,t){var n=yo(e.x,t.x),r=vo(e.x+e.width,t.x+t.width),i=yo(e.y,t.y),a=vo(e.y+e.height,t.y+t.height);if(r>=n&&a>=i)return{x:n,y:i,width:r-n,height:a-i}}function jl(e,t,n){var r=C({rectHover:!0},t),i=r.style={strokeNoScale:!0};if(n||={x:-1,y:-1,width:2,height:2},e)return e.indexOf(`image://`)===0?(i.image=e.slice(8),H(i,n),new b(r)):hl(e.replace(`path://`,``),r,n,`center`)}function Ml(e,t,n,r,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(Nl(e,t,n,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function Nl(e,t,n,r,i,a,o,s){var c=n-e,l=r-t,u=o-i,d=s-a,f=Pl(u,d,c,l);if(Fl(f))return!1;var p=e-i,m=t-a,h=Pl(p,m,c,l)/f;if(h<0||h>1)return!1;var g=Pl(p,m,u,d)/f;return!(g<0||g>1)}function Pl(e,t,n,r){return e*r-n*t}function Fl(e){return e<=1e-6&&e>=-1e-6}function Il(e,t,n,r,i){return t==null?e:(N(t)?q[0]=q[1]=q[2]=q[3]=t:(q[0]=t[0],q[1]=t[1],q[2]=t[2],q[3]=t[3]),r&&(q[0]=yo(0,q[0]),q[1]=yo(0,q[1]),q[2]=yo(0,q[2]),q[3]=yo(0,q[3])),n&&(q[0]=-q[0],q[1]=-q[1],q[2]=-q[2],q[3]=-q[3]),Ll(e,q,`x`,`width`,3,1,i&&i[0]||0),Ll(e,q,`y`,`height`,0,2,i&&i[1]||0),e)}var q=[0,0,0,0];function Ll(e,t,n,r,i,a,o){var s=t[a]+t[i],c=e[r];e[r]+=s,o=yo(0,vo(o,c)),e[r]<o?(e[r]=o,e[n]+=t[i]>=0?-t[i]:t[a]>=0?c+t[a]:bo(s)>1e-8?(c-o)*t[i]/s:0):e[n]-=t[i]}function Rl(e){var t=e.itemTooltipOption,n=e.componentModel,r=e.itemName,i=z(t)?{formatter:t}:t,a=n.mainType,o=n.componentIndex,s={componentType:a,name:r,$vars:[`name`]};s[a+`Index`]=o;var l=e.formatterParamsExtra;l&&c(ot(l),function(e){x(s,e)||(s[e]=l[e],s.$vars.push(e))});var u=K(e.el);u.componentMainType=a,u.componentIndex=o,u.tooltipConfig={name:r,option:H({content:r,encodeHTMLContent:!0,formatterParams:s},i)}}function zl(e,t){var n;e.isGroup&&(n=t(e)),n||e.traverse(t)}function Bl(e,t){if(e)if(D(e))for(var n=0;n<e.length;n++)zl(e[n],t);else zl(e,t)}function Vl(e){return!e||bo(e[1])<Hl&&bo(e[2])<Hl||bo(e[0])<Hl&&bo(e[3])<Hl}var Hl=1e-5;function Ul(e,t){return e?rt.copy(e,t):t.clone()}function Wl(e,t){return t?Ve(e||ze(),t):void 0}function Gl(e){return{z:e.get(`z`)||0,zlevel:e.get(`zlevel`)||0}}function Kl(e){var t=-1/0,n=1/0;zl(e,function(e){r(e),r(e.getTextContent()),r(e.getTextGuideLine())});function r(e){if(!(!e||e.isGroup)){var t=e.currentStates;if(t.length)for(var n=0;n<t.length;n++)i(e.states[t[n]]);i(e)}}function i(e){if(e){var r=e.z2;r>t&&(t=r),r<n&&(n=r)}}return n>t&&(n=t=0),{min:n,max:t}}function ql(e,t,n){Jl(e,t,n,-1/0)}function Jl(e,t,n,r){if(e.ignoreModelZ)return r;var i=e.getTextContent(),a=e.getTextGuideLine();if(e.isGroup)for(var o=e.childrenRef(),s=0;s<o.length;s++)r=yo(Jl(o[s],t,n,r),r);else e.z=t,e.zlevel=n,r=yo(e.z2||0,r);if(i&&(i.z=t,i.zlevel=n,isFinite(r)&&(i.z2=r+2)),a){var c=e.textGuideLineConfig;a.z=t,a.zlevel=n,isFinite(r)&&(a.z2=r+(c&&c.showAbove?1:-1))}return r}pl(`circle`,w),pl(`ellipse`,v),pl(`sector`,se),pl(`ring`,re),pl(`polygon`,te),pl(`polyline`,Ue),pl(`rect`,F),pl(`line`,a),pl(`bezierCurve`,Ge),pl(`arc`,ae);var Yl={};function Xl(e,t){for(var n=0;n<$s.length;n++){var r=$s[n],i=t[r],a=e.ensureState(r);a.style=a.style||{},a.style.text=i}var o=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(o,!0)}function Zl(e,t,n){var r=e.labelFetcher,i=e.labelDataIndex,a=e.labelDimIndex,o=t.normal,s;r&&(s=r.getFormattedLabel(i,`normal`,null,a,o&&o.get(`formatter`),n==null?null:{interpolatedValue:n})),s??=I(e.defaultText)?e.defaultText(i,e,n):e.defaultText;for(var c={normal:s},l=0;l<$s.length;l++){var u=$s[l],d=t[u];c[u]=R(r?r.getFormattedLabel(i,u,null,a,d&&d.get(`formatter`)):null,s)}return c}function Ql(e,t,n,r){n||=Yl;for(var i=e instanceof s,a=!1,o=0;o<ec.length;o++){var c=t[ec[o]];if(c&&c.getShallow(`show`)){a=!0;break}}var l=i?e:e.getTextContent();if(a){i||(l||(l=new s,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var u=Zl(n,t),d=t.normal,f=!!d.getShallow(`show`),p=eu(d,r&&r.normal,n,!1,!i);p.text=u.normal,i||e.setTextConfig(tu(d,n,!1));for(var o=0;o<$s.length;o++){var m=$s[o],c=t[m];if(c){var h=l.ensureState(m),g=!!R(c.getShallow(`show`),f);if(g!==f&&(h.ignore=!g),h.style=eu(c,r&&r[m],n,!0,!i),h.style.text=u[m],!i){var _=e.ensureState(m);_.textConfig=tu(c,n,!0)}}}l.silent=!!d.getShallow(`silent`),l.style.x!=null&&(p.x=l.style.x),l.style.y!=null&&(p.y=l.style.y),l.ignore=!f,l.useStyle(p),l.dirty(),n.enableTextSetter&&(lu(l).setLabelText=function(e){var r=Zl(n,t,e);Xl(l,r)})}else l&&(l.ignore=!0);e.dirty()}function $l(e,t){t||=`label`;for(var n={normal:e.getModel(t)},r=0;r<$s.length;r++){var i=$s[r];n[i]=e.getModel([i,t])}return n}function eu(e,t,n,r,i){var a={};return nu(a,e,n,r,i),t&&C(a,t),a}function tu(e,t,n){t||={};var r={},i,a=e.getShallow(`rotate`),o=R(e.getShallow(`distance`),n?null:5),s=e.getShallow(`offset`);return i=e.getShallow(`position`)||(n?null:`inside`),i===`outside`&&(i=t.defaultOutsidePosition||`top`),i!=null&&(r.position=i),s!=null&&(r.offset=s),a!=null&&(a*=Math.PI/180,r.rotation=a),o!=null&&(r.distance=o),r.outsideFill=e.get(`color`)===`inherit`?t.inheritColor||null:`auto`,t.autoOverflowArea!=null&&(r.autoOverflowArea=t.autoOverflowArea),t.layoutRect!=null&&(r.layoutRect=t.layoutRect),r}function nu(e,t,n,r,i){n||=Yl;var a=t.ecModel,o=a&&a.option.textStyle,s=ru(t),c;if(s){c={};var l=`richInheritPlainLabel`,u=R(t.get(l),a?a.get(l):void 0);for(var d in s)if(s.hasOwnProperty(d)){var f=t.getModel([`rich`,d]);su(c[d]={},f,o,t,u,n,r,i,!1,!0)}}c&&(e.rich=c);var p=t.get(`overflow`);p&&(e.overflow=p);var m=t.get(`lineOverflow`);m&&(e.lineOverflow=m);var h=e,g=t.get(`minMargin`);if(g!=null)g=N(g)?g/2:0,h.margin=[g,g,g,g],h.__marginType=uu.minMargin;else{var _=t.get(`textMargin`);_!=null&&(h.margin=Me(_),h.__marginType=uu.textMargin)}su(e,t,o,null,null,n,r,i,!0,!1)}function ru(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||Yl).rich;if(n){t||={};for(var r=ot(n),i=0;i<r.length;i++){var a=r[i];t[a]=1}}e=e.parentModel}return t}var iu=[`fontStyle`,`fontWeight`,`fontSize`,`fontFamily`,`textShadowColor`,`textShadowBlur`,`textShadowOffsetX`,`textShadowOffsetY`],au=[`align`,`lineHeight`,`width`,`height`,`tag`,`verticalAlign`,`ellipsis`],ou=[`padding`,`borderWidth`,`borderRadius`,`borderDashOffset`,`backgroundColor`,`borderColor`,`shadowColor`,`shadowBlur`,`shadowOffsetX`,`shadowOffsetY`];function su(e,t,n,r,i,a,o,s,c,l){n=!o&&n||Yl;var u=a&&a.inheritColor,d=t.getShallow(`color`),f=t.getShallow(`textBorderColor`),p=R(t.getShallow(`opacity`),n.opacity);(d===`inherit`||d===`auto`)&&(d=u||null),(f===`inherit`||f===`auto`)&&(f=u||null),s||(d||=n.color,f||=n.textBorderColor),d!=null&&(e.fill=d),f!=null&&(e.stroke=f);var m=R(t.getShallow(`textBorderWidth`),n.textBorderWidth);m!=null&&(e.lineWidth=m);var h=R(t.getShallow(`textBorderType`),n.textBorderType);h!=null&&(e.lineDash=h);var g=R(t.getShallow(`textBorderDashOffset`),n.textBorderDashOffset);g!=null&&(e.lineDashOffset=g),!o&&p==null&&!l&&(p=a&&a.defaultOpacity),p!=null&&(e.opacity=p),!o&&!s&&e.fill==null&&a.inheritColor&&(e.fill=a.inheritColor);for(var _=0;_<iu.length;_++){var v=iu[_],y=i!==!1&&r?Ie(t.getShallow(v),r.getShallow(v),n[v]):R(t.getShallow(v),n[v]);y!=null&&(e[v]=y)}for(var _=0;_<au.length;_++){var v=au[_],y=t.getShallow(v);y!=null&&(e[v]=y)}if(e.verticalAlign==null){var b=t.getShallow(`baseline`);b!=null&&(e.verticalAlign=b)}if(!c||!a.disableBox){for(var _=0;_<ou.length;_++){var v=ou[_],y=t.getShallow(v);y!=null&&(e[v]=y)}var x=t.getShallow(`borderType`);x!=null&&(e.borderDash=x),(e.backgroundColor===`auto`||e.backgroundColor===`inherit`)&&u&&(e.backgroundColor=u),(e.borderColor===`auto`||e.borderColor===`inherit`)&&u&&(e.borderColor=u)}}function cu(e,t){var n=t&&t.getModel(`textStyle`);return Be([e.fontStyle||n&&n.getShallow(`fontStyle`)||``,e.fontWeight||n&&n.getShallow(`fontWeight`)||``,(e.fontSize||n&&n.getShallow(`fontSize`)||12)+`px`,e.fontFamily||n&&n.getShallow(`fontFamily`)||`sans-serif`].join(` `))}var lu=G(),uu={minMargin:1,textMargin:2},du=[`textStyle`,`color`],fu=[`fontStyle`,`fontWeight`,`fontSize`,`fontFamily`,`padding`,`lineHeight`,`rich`,`width`,`height`,`overflow`],pu=new s,mu=function(){function e(){}return e.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow(`color`)||(!e&&t?t.get(du):null)},e.prototype.getFont=function(){return cu({fontStyle:this.getShallow(`fontStyle`),fontWeight:this.getShallow(`fontWeight`),fontSize:this.getShallow(`fontSize`),fontFamily:this.getShallow(`fontFamily`)},this.ecModel)},e.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow(`verticalAlign`)||this.getShallow(`baseline`)},n=0;n<fu.length;n++)t[fu[n]]=this.getShallow(fu[n]);return pu.useStyle(t),pu.update(),pu.getBoundingRect()},e}(),hu=[[`lineWidth`,`width`],[`stroke`,`color`],[`opacity`],[`shadowBlur`],[`shadowOffsetX`],[`shadowOffsetY`],[`shadowColor`],[`lineDash`,`type`],[`lineDashOffset`,`dashOffset`],[`lineCap`,`cap`],[`lineJoin`,`join`],[`miterLimit`]],gu=Gs(hu),_u=function(){function e(){}return e.prototype.getLineStyle=function(e){return gu(this,e)},e}(),vu=[[`fill`,`color`],[`stroke`,`borderColor`],[`lineWidth`,`borderWidth`],[`opacity`],[`shadowBlur`],[`shadowOffsetX`],[`shadowOffsetY`],[`shadowColor`],[`lineDash`,`borderType`],[`lineDashOffset`,`borderDashOffset`],[`lineCap`,`borderCap`],[`lineJoin`,`borderJoin`],[`miterLimit`,`borderMiterLimit`]],yu=Gs(vu),bu=function(){function e(){}return e.prototype.getItemStyle=function(e,t){return yu(this,e,t)},e}(),xu=function(){function e(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return e.prototype.init=function(e,t,n){},e.prototype.mergeOption=function(e,t){L(this.option,e,!0)},e.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},e.prototype.getShallow=function(e,t){var n=this.option,r=n==null?n:n[e];if(r==null&&!t){var i=this.parentModel;i&&(r=i.getShallow(e))}return r},e.prototype.getModel=function(t,n){var r=t!=null,i=r?this.parsePath(t):null,a=r?this._doGet(i):this.option;return n||=this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new e(a,n,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var e=this.constructor;return new e(y(this.option))},e.prototype.parsePath=function(e){return typeof e==`string`?e.split(`.`):e},e.prototype.resolveParentPath=function(e){return e},e.prototype.isAnimationEnabled=function(){if(!V.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var r=0;r<e.length&&!(e[r]&&(n=n&&typeof n==`object`?n[e[r]]:null,n==null));r++);return n==null&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},e}();Ls(xu),Vs(xu),et(xu,_u),et(xu,bu),et(xu,qs),et(xu,mu);var Su=xu,Cu=Math.round(Math.random()*10);function wu(e){return[e||``,Cu++].join(`_`)}function Tu(e){var t={};e.registerSubTypeDefaulter=function(e,n){var r=Ps(e);t[r.main]=n},e.determineSubType=function(n,r){var i=r.type;if(!i){var a=Ps(n).main;e.hasSubTypes(n)&&t[a]&&(i=t[a](r))}return i}}function Eu(e,t){e.topologicalTravel=function(e,t,r,i){if(!e.length)return;var a=n(t),o=a.graph,s=a.noEntryList,l={};for(c(e,function(e){l[e]=!0});s.length;){var u=s.pop(),d=o[u],f=!!l[u];f&&(r.call(i,u,d.originalDeps.slice()),delete l[u]),c(d.successor,f?m:p)}c(l,function(){throw Error(``)});function p(e){o[e].entryCount--,o[e].entryCount===0&&s.push(e)}function m(e){l[e]=!0,p(e)}};function n(e){var n={},a=[];return c(e,function(o){var s=r(n,o),l=i(s.originalDeps=t(o),e);s.entryCount=l.length,s.entryCount===0&&a.push(o),c(l,function(e){k(s.predecessor,e)<0&&s.predecessor.push(e);var t=r(n,e);k(t.successor,e)<0&&t.successor.push(o)})}),{graph:n,noEntryList:a}}function r(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}function i(e,t){var n=[];return c(e,function(e){k(t,e)>=0&&n.push(e)}),n}}function Du(e,t){return L(L({},e,!0),t,!0)}var Ou={time:{month:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],monthAbbr:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],dayOfWeek:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],dayOfWeekAbbr:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`]},legend:{selector:{all:`All`,inverse:`Inv`}},toolbox:{brush:{title:{rect:`Box Select`,polygon:`Lasso Select`,lineX:`Horizontally Select`,lineY:`Vertically Select`,keep:`Keep Selections`,clear:`Clear Selections`}},dataView:{title:`Data View`,lang:[`Data View`,`Close`,`Refresh`]},dataZoom:{title:{zoom:`Zoom`,back:`Zoom Reset`}},magicType:{title:{line:`Switch to Line Chart`,bar:`Switch to Bar Chart`,stack:`Stack`,tiled:`Tile`}},restore:{title:`Restore`},saveAsImage:{title:`Save as Image`,lang:[`Right Click to Save Image`]}},series:{typeNames:{pie:`Pie chart`,bar:`Bar chart`,line:`Line chart`,scatter:`Scatter plot`,effectScatter:`Ripple scatter plot`,radar:`Radar chart`,tree:`Tree`,treemap:`Treemap`,boxplot:`Boxplot`,candlestick:`Candlestick`,k:`K line chart`,heatmap:`Heat map`,map:`Map`,parallel:`Parallel coordinate map`,lines:`Line graph`,graph:`Relationship graph`,sankey:`Sankey diagram`,funnel:`Funnel chart`,gauge:`Gauge`,pictorialBar:`Pictorial bar`,themeRiver:`Theme River Map`,sunburst:`Sunburst`,custom:`Custom chart`,chart:`Chart`}},aria:{general:{withTitle:`This is a chart about "{title}"`,withoutTitle:`This is a chart`},series:{single:{prefix:``,withName:` with type {seriesType} named {seriesName}.`,withoutName:` with type {seriesType}.`},multiple:{prefix:`. It consists of {seriesCount} series count.`,withName:` The {seriesId} series is a {seriesType} representing {seriesName}.`,withoutName:` The {seriesId} series is a {seriesType}.`,separator:{middle:``,end:``}}},data:{allData:`The data is as follows: `,partialData:`The first {displayCnt} items are: `,withName:`the data for {name} is {value}`,withoutName:`{value}`,separator:{middle:`, `,end:`. `}}}},ku={time:{month:[`ä¸€æœˆ`,`äºŒæœˆ`,`ä¸‰æœˆ`,`å››æœˆ`,`äº”æœˆ`,`å…­æœˆ`,`ä¸ƒæœˆ`,`å…«æœˆ`,`ä¹æœˆ`,`åæœˆ`,`åä¸€æœˆ`,`åäºŒæœˆ`],monthAbbr:[`1æœˆ`,`2æœˆ`,`3æœˆ`,`4æœˆ`,`5æœˆ`,`6æœˆ`,`7æœˆ`,`8æœˆ`,`9æœˆ`,`10æœˆ`,`11æœˆ`,`12æœˆ`],dayOfWeek:[`æ˜ŸæœŸæ—¥`,`æ˜ŸæœŸä¸€`,`æ˜ŸæœŸäºŒ`,`æ˜ŸæœŸä¸‰`,`æ˜ŸæœŸå››`,`æ˜ŸæœŸäº”`,`æ˜ŸæœŸå…­`],dayOfWeekAbbr:[`æ—¥`,`ä¸€`,`äºŒ`,`ä¸‰`,`å››`,`äº”`,`å…­`]},legend:{selector:{all:`å…¨é€‰`,inverse:`åé€‰`}},toolbox:{brush:{title:{rect:`çŸ©å½¢é€‰æ‹©`,polygon:`åœˆé€‰`,lineX:`æ¨ªå‘é€‰æ‹©`,lineY:`çºµå‘é€‰æ‹©`,keep:`ä¿æŒé€‰æ‹©`,clear:`æ¸…é™¤é€‰æ‹©`}},dataView:{title:`æ•°æ®è§†å›¾`,lang:[`æ•°æ®è§†å›¾`,`å…³é—­`,`åˆ·æ–°`]},dataZoom:{title:{zoom:`åŒºåŸŸç¼©æ”¾`,back:`åŒºåŸŸç¼©æ”¾è¿˜åŽŸ`}},magicType:{title:{line:`åˆ‡æ¢ä¸ºæŠ˜çº¿å›¾`,bar:`åˆ‡æ¢ä¸ºæŸ±çŠ¶å›¾`,stack:`åˆ‡æ¢ä¸ºå †å `,tiled:`åˆ‡æ¢ä¸ºå¹³é“º`}},restore:{title:`è¿˜åŽŸ`},saveAsImage:{title:`ä¿å­˜ä¸ºå›¾ç‰‡`,lang:[`å³é”®å¦å­˜ä¸ºå›¾ç‰‡`]}},series:{typeNames:{pie:`é¥¼å›¾`,bar:`æŸ±çŠ¶å›¾`,line:`æŠ˜çº¿å›¾`,scatter:`æ•£ç‚¹å›¾`,effectScatter:`æ¶Ÿæ¼ªæ•£ç‚¹å›¾`,radar:`é›·è¾¾å›¾`,tree:`æ ‘å›¾`,treemap:`çŸ©å½¢æ ‘å›¾`,boxplot:`ç®±åž‹å›¾`,candlestick:`Kçº¿å›¾`,k:`Kçº¿å›¾`,heatmap:`çƒ­åŠ›å›¾`,map:`åœ°å›¾`,parallel:`å¹³è¡Œåæ ‡å›¾`,lines:`çº¿å›¾`,graph:`å…³ç³»å›¾`,sankey:`æ¡‘åŸºå›¾`,funnel:`æ¼æ–—å›¾`,gauge:`ä»ªè¡¨ç›˜å›¾`,pictorialBar:`è±¡å½¢æŸ±å›¾`,themeRiver:`ä¸»é¢˜æ²³æµå›¾`,sunburst:`æ—­æ—¥å›¾`,custom:`è‡ªå®šä¹‰å›¾è¡¨`,chart:`å›¾è¡¨`}},aria:{general:{withTitle:`è¿™æ˜¯ä¸€ä¸ªå…³äºŽâ€œ{title}â€çš„å›¾è¡¨ã€‚`,withoutTitle:`è¿™æ˜¯ä¸€ä¸ªå›¾è¡¨ï¼Œ`},series:{single:{prefix:``,withName:`å›¾è¡¨ç±»åž‹æ˜¯{seriesType}ï¼Œè¡¨ç¤º{seriesName}ã€‚`,withoutName:`å›¾è¡¨ç±»åž‹æ˜¯{seriesType}ã€‚`},multiple:{prefix:`å®ƒç”±{seriesCount}ä¸ªå›¾è¡¨ç³»åˆ—ç»„æˆã€‚`,withName:`ç¬¬{seriesId}ä¸ªç³»åˆ—æ˜¯ä¸€ä¸ªè¡¨ç¤º{seriesName}çš„{seriesType}ï¼Œ`,withoutName:`ç¬¬{seriesId}ä¸ªç³»åˆ—æ˜¯ä¸€ä¸ª{seriesType}ï¼Œ`,separator:{middle:`ï¼›`,end:`ã€‚`}}},data:{allData:`å…¶æ•°æ®æ˜¯â€”â€”`,partialData:`å…¶ä¸­ï¼Œå‰{displayCnt}é¡¹æ˜¯â€”â€”`,withName:`{name}çš„æ•°æ®æ˜¯{value}`,withoutName:`{value}`,separator:{middle:`ï¼Œ`,end:``}}}},Au=`ZH`,ju=`EN`,Mu=ju,Nu={},Pu={},Fu=V.domSupported?function(){return(document.documentElement.lang||navigator.language||navigator.browserLanguage||Mu).toUpperCase().indexOf(Au)>-1?Au:Mu}():Mu;function Iu(e,t){e=e.toUpperCase(),Pu[e]=new Su(t),Nu[e]=t}function Lu(e){if(z(e)){var t=Nu[e.toUpperCase()]||{};return e===Au||e===ju?y(t):L(y(t),y(Nu[Mu]),!1)}else return L(y(e),y(Nu[Mu]),!1)}function Ru(e){return Pu[e]}function zu(){return Pu[Mu]}Iu(ju,Ou),Iu(Au,ku);var Bu=null;function Vu(){return Bu}var Hu=1e3,Uu=Hu*60,Wu=Uu*60,Gu=Wu*24,Ku=Gu*365,qu={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},Ju={year:`{yyyy}`,month:`{MMM}`,day:`{d}`,hour:`{HH}:{mm}`,minute:`{HH}:{mm}`,second:`{HH}:{mm}:{ss}`,millisecond:`{HH}:{mm}:{ss} {SSS}`},Yu=`{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}`,Xu=`{yyyy}-{MM}-{dd}`,Zu={year:`{yyyy}`,month:`{yyyy}-{MM}`,day:Xu,hour:Xu+` `+Ju.hour,minute:Xu+` `+Ju.minute,second:Xu+` `+Ju.second,millisecond:Yu},Qu=[`year`,`month`,`day`,`hour`,`minute`,`second`,`millisecond`],$u=[`year`,`half-year`,`quarter`,`month`,`week`,`half-week`,`day`,`half-day`,`quarter-day`,`hour`,`minute`,`second`,`millisecond`];function ed(e){return!z(e)&&!I(e)?td(e):e}function td(e){e||={};var t={},n=!0;return c(Qu,function(t){n&&=e[t]==null}),c(Qu,function(r,a){var o=e[r];t[r]={};for(var s=null,c=a;c>=0;c--){var l=Qu[c],u=i(o)&&!D(o)?o[l]:o,d=void 0;D(u)?(d=u.slice(),s=d[0]||``):z(u)?(s=u,d=[s]):(s==null?s=Ju[r]:qu[l].test(s)||(s=t[l][l][0]+` `+s),d=[s],n&&(d[1]=`{primary|`+s+`}`)),t[r][l]=d}}),t}function nd(e,t){return e+=``,`0000`.substr(0,t-e.length)+e}function rd(e){switch(e){case`half-year`:case`quarter`:return`month`;case`week`:case`half-week`:return`day`;case`half-day`:case`quarter-day`:return`hour`;default:return e}}function id(e){return e===rd(e)}function ad(e){switch(e){case`year`:case`month`:return`day`;case`millisecond`:return`millisecond`;default:return`second`}}function od(e,t,n,r){var i=Lo(e),a=i[ud(n)](),o=i[dd(n)]()+1,s=Math.floor((o-1)/3)+1,c=i[fd(n)](),l=i[`get`+(n?`UTC`:``)+`Day`](),u=i[pd(n)](),d=(u-1)%12+1,f=i[md(n)](),p=i[hd(n)](),m=i[gd(n)](),h=u>=12?`pm`:`am`,g=h.toUpperCase(),_=(r instanceof Su?r:Ru(r||Fu)||zu()).getModel(`time`),v=_.get(`month`),y=_.get(`monthAbbr`),b=_.get(`dayOfWeek`),x=_.get(`dayOfWeekAbbr`);return(t||``).replace(/{a}/g,h+``).replace(/{A}/g,g+``).replace(/{yyyy}/g,a+``).replace(/{yy}/g,nd(a%100+``,2)).replace(/{Q}/g,s+``).replace(/{MMMM}/g,v[o-1]).replace(/{MMM}/g,y[o-1]).replace(/{MM}/g,nd(o,2)).replace(/{M}/g,o+``).replace(/{dd}/g,nd(c,2)).replace(/{d}/g,c+``).replace(/{eeee}/g,b[l]).replace(/{ee}/g,x[l]).replace(/{e}/g,l+``).replace(/{HH}/g,nd(u,2)).replace(/{H}/g,u+``).replace(/{hh}/g,nd(d+``,2)).replace(/{h}/g,d+``).replace(/{mm}/g,nd(f,2)).replace(/{m}/g,f+``).replace(/{ss}/g,nd(p,2)).replace(/{s}/g,p+``).replace(/{SSS}/g,nd(m,3)).replace(/{S}/g,m+``)}function sd(e,t,n,r,i){var a=null;if(z(n))a=n;else if(I(n)){var o={time:e.time,level:e.time.level},s=Vu();s&&s.makeAxisLabelFormatterParamBreak(o,e.break),a=n(e.value,t,o)}else{var c=e.time;if(c){var l=n[c.lowerTimeUnit][c.upperTimeUnit];a=l[Math.min(c.level,l.length-1)]||``}else{var u=cd(e.value,i);a=n[u][u][0]}}return od(new Date(e.value),a,i,r)}function cd(e,t){var n=Lo(e),r=n[dd(t)]()+1,i=n[fd(t)](),a=n[pd(t)](),o=n[md(t)](),s=n[hd(t)](),c=n[gd(t)]()===0,l=c&&s===0,u=l&&o===0,d=u&&a===0,f=d&&i===1;return f&&r===1?`year`:f?`month`:d?`day`:u?`hour`:l?`minute`:c?`second`:`millisecond`}function ld(e,t,n){switch(t){case`year`:e[vd(n)](0);case`month`:e[yd(n)](1);case`day`:e[bd(n)](0);case`hour`:e[xd(n)](0);case`minute`:e[Sd(n)](0);case`second`:e[Cd(n)](0)}return e}function ud(e){return e?`getUTCFullYear`:`getFullYear`}function dd(e){return e?`getUTCMonth`:`getMonth`}function fd(e){return e?`getUTCDate`:`getDate`}function pd(e){return e?`getUTCHours`:`getHours`}function md(e){return e?`getUTCMinutes`:`getMinutes`}function hd(e){return e?`getUTCSeconds`:`getSeconds`}function gd(e){return e?`getUTCMilliseconds`:`getMilliseconds`}function _d(e){return e?`setUTCFullYear`:`setFullYear`}function vd(e){return e?`setUTCMonth`:`setMonth`}function yd(e){return e?`setUTCDate`:`setDate`}function bd(e){return e?`setUTCHours`:`setHours`}function xd(e){return e?`setUTCMinutes`:`setMinutes`}function Sd(e){return e?`setUTCSeconds`:`setSeconds`}function Cd(e){return e?`setUTCMilliseconds`:`setMilliseconds`}function wd(e,t,n,r,i,a,o,c){return new s({style:{text:e,font:t,align:n,verticalAlign:r,padding:i,rich:a,overflow:o?`truncate`:null,lineHeight:c}}).getBoundingRect()}function Td(e){if(!Wo(e))return z(e)?e:`-`;var t=(e+``).split(`.`);return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,`$1,`)+(t.length>1?`.`+t[1]:``)}function Ed(e,t){return e=(e||``).toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var Dd=Me;function Od(e,t,n){var r=`{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}`;function i(e){return e&&Be(e)?e:`-`}function a(e){return!!(e!=null&&!isNaN(e)&&isFinite(e))}var o=t===`time`,s=e instanceof Date;if(o||s){var c=o?Lo(e):e;if(isNaN(+c)){if(s)return`-`}else return od(c,r,n)}if(t===`ordinal`)return ut(e)?i(e):N(e)&&a(e)?e+``:`-`;var l=Uo(e);return a(l)?Td(l):ut(e)?i(e):typeof e==`boolean`?e+``:`-`}var kd=[`a`,`b`,`c`,`d`,`e`,`f`,`g`],Ad=function(e,t){return`{`+e+(t??``)+`}`};function jd(e,t,n){D(t)||(t=[t]);var r=t.length;if(!r)return``;for(var i=t[0].$vars||[],a=0;a<i.length;a++){var o=kd[a];e=e.replace(Ad(o),Ad(o,0))}for(var s=0;s<r;s++)for(var c=0;c<i.length;c++){var l=t[s][i[c]];e=e.replace(Ad(kd[c],s),n?he(l):l)}return e}function Md(e,t){var n=z(e)?{color:e,extraCssText:t}:e||{},r=n.color,i=n.type;t=n.extraCssText;var a=n.renderMode||`html`;return r?a===`html`?i===`subItem`?`<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:`+he(r)+`;`+(t||``)+`"></span>`:`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:`+he(r)+`;`+(t||``)+`"></span>`:{renderMode:a,content:`{`+(n.markerId||`markerX`)+`|}  `,style:i===`subItem`?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}:``}function Nd(e,t,n){(e===`week`||e===`month`||e===`quarter`||e===`half-year`||e===`year`)&&(e=`MM-dd
yyyy`);var r=Lo(t),i=n?`getUTC`:`get`,a=r[i+`FullYear`](),o=r[i+`Month`]()+1,s=r[i+`Date`](),c=r[i+`Hours`](),l=r[i+`Minutes`](),u=r[i+`Seconds`](),d=r[i+`Milliseconds`]();return e=e.replace(`MM`,nd(o,2)).replace(`M`,o).replace(`yyyy`,a).replace(`yy`,nd(a%100+``,2)).replace(`dd`,nd(s,2)).replace(`d`,s).replace(`hh`,nd(c,2)).replace(`h`,c).replace(`mm`,nd(l,2)).replace(`m`,l).replace(`ss`,nd(u,2)).replace(`s`,u).replace(`SSS`,nd(d,3)),e}function Pd(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}function Fd(e,t){return t||=`transparent`,z(e)?e:i(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}var Id={},Ld={},Rd=function(){function e(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return e.prototype.create=function(e,t){this._nonSeriesBoxMasterList=n(Id,!0),this._normalMasterList=n(Ld,!1);function n(n,r){var i=[];return c(n,function(n,r){var a=n.create(e,t);i=i.concat(a||[])}),i}},e.prototype.update=function(e,t){c(this._normalMasterList,function(n){n.update&&n.update(e,t)})},e.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},e.register=function(e,t){if(e===`matrix`||e===`calendar`){Id[e]=t;return}Ld[e]=t},e.get=function(e){return Ld[e]||Id[e]},e}();function zd(e){return!!Id[e]}var Bd={coord:1,coord2:2},Vd=A();function Hd(e){var t=e.getShallow(`coord`,!0),n=Bd.coord;if(t==null){var r=Vd.get(e.type);r&&r.getCoord2&&(n=Bd.coord2,t=r.getCoord2(e))}return{coord:t,from:n}}var Ud={none:0,dataCoordSys:1,boxCoordSys:2};function Wd(e,t){var n=e.getShallow(`coordinateSystem`),r=e.getShallow(`coordinateSystemUsage`,!0),i=Ud.none;if(n){var a=e.mainType===`series`;r??=a?`data`:`box`,r===`data`?(i=Ud.dataCoordSys,a||(i=Ud.none)):r===`box`&&(i=Ud.boxCoordSys,!a&&!zd(n)&&(i=Ud.none))}return{coordSysType:n,kind:i}}function Gd(e){var t=e.targetModel,n=e.coordSysType,r=e.coordSysProvider,i=e.isDefaultDataCoordSys;e.allowNotFound;var a=Wd(t,!0),o=a.kind,s=a.coordSysType;if(i&&o!==Ud.dataCoordSys&&(o=Ud.dataCoordSys,s=n),o===Ud.none||s!==n)return!1;var c=r(n,t);return c?(o===Ud.dataCoordSys?t.coordinateSystem=c:t.boxCoordinateSystem=c,!0):!1}var Kd=Rd,qd=c,Jd=[`left`,`right`,`top`,`bottom`,`width`,`height`],Yd=[[`width`,`left`,`right`],[`height`,`top`,`bottom`]];function Xd(e,t,n,r,i){var a=0,o=0;r??=1/0,i??=1/0;var s=0;t.eachChild(function(c,l){var u=c.getBoundingRect(),d=t.childAt(l+1),f=d&&d.getBoundingRect(),p,m;if(e===`horizontal`){var h=u.width+(f?-f.x+u.x:0);p=a+h,p>r||c.newline?(a=0,p=h,o+=s+n,s=u.height):s=Math.max(s,u.height)}else{var g=u.height+(f?-f.y+u.y:0);m=o+g,m>i||c.newline?(a+=s+n,o=0,m=g,s=u.width):s=Math.max(s,u.width)}c.newline||(c.x=a,c.y=o,c.markRedraw(),e===`horizontal`?a=p+n:o=m+n)})}var Zd=Xd;ue(Xd,`vertical`),ue(Xd,`horizontal`);function Qd(e,t){return{left:e.getShallow(`left`,t),top:e.getShallow(`top`,t),right:e.getShallow(`right`,t),bottom:e.getShallow(`bottom`,t),width:e.getShallow(`width`,t),height:e.getShallow(`height`,t)}}function $d(e,t,n){n=Dd(n||0);var r=t.width,i=t.height,a=So(e.left,r),o=So(e.top,i),s=So(e.right,r),c=So(e.bottom,i),l=So(e.width,r),u=So(e.height,i),d=n[2]+n[0],f=n[1]+n[3],p=e.aspect;switch(isNaN(l)&&(l=r-s-f-a),isNaN(u)&&(u=i-c-d-o),p!=null&&(isNaN(l)&&isNaN(u)&&(p>r/i?l=r*.8:u=i*.8),isNaN(l)&&(l=p*u),isNaN(u)&&(u=l/p)),isNaN(a)&&(a=r-s-l-f),isNaN(o)&&(o=i-c-u-d),e.left||e.right){case`center`:a=r/2-l/2-n[3];break;case`right`:a=r-l-f;break}switch(e.top||e.bottom){case`middle`:case`center`:o=i/2-u/2-n[0];break;case`bottom`:o=i-u-d;break}a||=0,o||=0,isNaN(l)&&(l=r-f-a-(s||0)),isNaN(u)&&(u=i-d-o-(c||0));var m=new rt((t.x||0)+a+n[3],(t.y||0)+o+n[0],l,u);return m.margin=n,m}var ef={rect:1,point:2};function tf(e,t,n){var r,i,a,o=e.boxCoordinateSystem,s;if(o){var c=Hd(e),l=c.coord,u=c.from;if(o.dataToLayout){a=ef.rect,s=u;var d=o.dataToLayout(l);r=d.contentRect||d.rect}else n&&n.enableLayoutOnlyByCenter&&o.dataToPoint&&(a=ef.point,s=u,i=o.dataToPoint(l))}return a??=ef.rect,a===ef.rect&&(r||={x:0,y:0,width:t.getWidth(),height:t.getHeight()},i=[r.x+r.width/2,r.y+r.height/2]),{type:a,refContainer:r,refPoint:i,boxCoordFrom:s}}function nf(e,t,n,r,i,a){var o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],c=i&&i.boundingMode||`all`;if(a||=e,a.x=e.x,a.y=e.y,!o&&!s)return!1;var l;if(c===`raw`)l=e.type===`group`?new rt(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(l=e.getBoundingRect(),e.needLocalTransform()){var u=e.getLocalTransform();l=l.clone(),l.applyTransform(u)}var d=$d(H({width:l.width,height:l.height},t),n,r),f=o?d.x-l.x:0,p=s?d.y-l.y:0;return c===`raw`?(a.x=f,a.y=p):(a.x+=f,a.y+=p),a===e&&e.markRedraw(),!0}function rf(e){var t=e.layoutMode||e.constructor.layoutMode;return i(t)?t:t?{type:t}:null}function af(e,t,n){var r=n&&n.ignoreSize;!D(r)&&(r=[r,r]);var i=o(Yd[0],0),a=o(Yd[1],1);c(Yd[0],e,i),c(Yd[1],e,a);function o(n,i){var a={},o=0,c={},l=0,u=2;if(qd(n,function(t){c[t]=e[t]}),qd(n,function(e){x(t,e)&&(a[e]=c[e]=t[e]),s(a,e)&&o++,s(c,e)&&l++}),r[i])return s(t,n[1])?c[n[2]]=null:s(t,n[2])&&(c[n[1]]=null),c;if(l===u||!o)return c;if(o>=u)return a;for(var d=0;d<n.length;d++){var f=n[d];if(!x(a,f)&&x(e,f)){a[f]=e[f];break}}return a}function s(e,t){return e[t]!=null&&e[t]!==`auto`}function c(e,t,n){qd(e,function(e){t[e]=n[e]})}}function of(e){return sf({},e)}function sf(e,t){return t&&e&&qd(Jd,function(n){x(t,n)&&(e[n]=t[n])}),e}u();var cf=G(),lf=function(e){P(t,e);function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.uid=wu(`ec_cpt_model`),i}return t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=rf(this),r=n?of(e):{};L(e,t.getTheme().get(this.mainType)),L(e,this.getDefaultOption()),n&&af(e,r,n)},t.prototype.mergeOption=function(e,t){L(this.option,e,!0);var n=rf(this);n&&af(this.option,e,n)},t.prototype.optionUpdated=function(e,t){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!Is(e))return e.defaultOption;var t=cf(this);if(!t.defaultOption){for(var n=[],r=e;r;){var i=r.prototype.defaultOption;i&&n.push(i),r=r.superClass}for(var a={},o=n.length-1;o>=0;o--)a=L(a,n[o],!0);t.defaultOption=a}return t.defaultOption},t.prototype.getReferringComponents=function(e,t){var n=e+`Index`,r=e+`Id`;return Ds(this.ecModel,e,{index:this.get(n,!0),id:this.get(r,!0)},t)},t.prototype.getBoxLayoutParams=function(){return Qd(this,!1)},t.prototype.getZLevelKey=function(){return``},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=function(){var e=t.prototype;e.type=`component`,e.id=``,e.name=``,e.mainType=``,e.subType=``,e.componentIndex=0}(),t}(Su);zs(lf,Su),Ws(lf),Tu(lf),Eu(lf,uf);function uf(e){var t=[];return c(lf.getClassesByMainType(e),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=B(t,function(e){return Ps(e).main}),e!==`dataset`&&k(t,`dataset`)<=0&&t.unshift(`dataset`),t}var J=lf,df={color:{},darkColor:{},size:{}},Y=df.color={theme:[`#5070dd`,`#b6d634`,`#505372`,`#ff994d`,`#0ca8df`,`#ffd10a`,`#fb628b`,`#785db0`,`#3fbe95`],neutral00:`#fff`,neutral05:`#f4f7fd`,neutral10:`#e8ebf0`,neutral15:`#dbdee4`,neutral20:`#cfd2d7`,neutral25:`#c3c5cb`,neutral30:`#b7b9be`,neutral35:`#aaacb2`,neutral40:`#9ea0a5`,neutral45:`#929399`,neutral50:`#86878c`,neutral55:`#797b7f`,neutral60:`#6d6e73`,neutral65:`#616266`,neutral70:`#54555a`,neutral75:`#48494d`,neutral80:`#3c3c41`,neutral85:`#303034`,neutral90:`#232328`,neutral95:`#17171b`,neutral99:`#000`,accent05:`#eff1f9`,accent10:`#e0e4f2`,accent15:`#d0d6ec`,accent20:`#c0c9e6`,accent25:`#b1bbdf`,accent30:`#a1aed9`,accent35:`#91a0d3`,accent40:`#8292cc`,accent45:`#7285c6`,accent50:`#6578ba`,accent55:`#5c6da9`,accent60:`#536298`,accent65:`#4a5787`,accent70:`#404c76`,accent75:`#374165`,accent80:`#2e3654`,accent85:`#252b43`,accent90:`#1b2032`,accent95:`#121521`,transparent:`rgba(0,0,0,0)`,highlight:`rgba(255,231,130,0.8)`};for(var ff in C(Y,{primary:Y.neutral80,secondary:Y.neutral70,tertiary:Y.neutral60,quaternary:Y.neutral50,disabled:Y.neutral20,border:Y.neutral30,borderTint:Y.neutral20,borderShade:Y.neutral40,background:Y.neutral05,backgroundTint:`rgba(234,237,245,0.5)`,backgroundTransparent:`rgba(255,255,255,0)`,backgroundShade:Y.neutral10,shadow:`rgba(0,0,0,0.2)`,shadowTint:`rgba(129,130,136,0.2)`,axisLine:Y.neutral70,axisLineTint:Y.neutral40,axisTick:Y.neutral70,axisTickMinor:Y.neutral60,axisLabel:Y.neutral70,axisSplitLine:Y.neutral15,axisMinorSplitLine:Y.neutral05}),Y)if(Y.hasOwnProperty(ff)){var pf=Y[ff];ff===`theme`?df.darkColor.theme=Y.theme.slice():ff===`highlight`?df.darkColor.highlight=`rgba(255,231,130,0.4)`:ff.indexOf(`accent`)===0?df.darkColor[ff]=Ne(pf,null,function(e){return e*.5},function(e){return Math.min(1,1.3-e)}):df.darkColor[ff]=Ne(pf,null,function(e){return e*.9},function(e){return 1-e**1.5})}df.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var X=df,mf=``;typeof navigator<`u`&&(mf=navigator.platform||``);var hf=`rgba(0, 0, 0, 0.2)`,gf=X.color.theme[0],_f=Ne(gf,null,null,.9),vf={darkMode:`auto`,colorBy:`series`,color:X.color.theme,gradientColor:[_f,gf],aria:{decal:{decals:[{color:hf,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:hf,symbol:`circle`,dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:hf,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:hf,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:hf,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:hf,symbol:`triangle`,dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:mf.match(/^Win/)?`Microsoft YaHei`:`sans-serif`,fontSize:12,fontStyle:`normal`,fontWeight:`normal`},blendMode:null,stateAnimation:{duration:300,easing:`cubicOut`},animation:`auto`,animationDuration:1e3,animationDurationUpdate:500,animationEasing:`cubicInOut`,animationEasingUpdate:`cubicInOut`,animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},yf=A([`tooltip`,`label`,`itemName`,`itemId`,`itemGroupId`,`itemChildGroupId`,`seriesName`]),bf=`original`,xf=`arrayRows`,Sf=`objectRows`,Cf=`keyedColumns`,wf=`typedArray`,Tf=`unknown`,Ef=`column`,Df={Must:1,Might:2,Not:3},Of=G();function kf(e){Of(e).datasetMap=A()}function Af(e,t,n){var r={},a=jf(t);if(!a||!e)return r;var o=[],s=[],l=t.ecModel,u=Of(l).datasetMap,d=a.uid+`_`+n.seriesLayoutBy,f,p;e=e.slice(),c(e,function(t,n){var a=i(t)?t:e[n]={name:t};a.type===`ordinal`&&f==null&&(f=n,p=g(a)),r[a.name]=[]});var m=u.get(d)||u.set(d,{categoryWayDim:p,valueWayDim:0});c(e,function(e,t){var n=e.name,i=g(e);if(f==null){var a=m.valueWayDim;h(r[n],a,i),h(s,a,i),m.valueWayDim+=i}else if(f===t)h(r[n],0,i),h(o,0,i);else{var a=m.categoryWayDim;h(r[n],a,i),h(s,a,i),m.categoryWayDim+=i}});function h(e,t,n){for(var r=0;r<n;r++)e.push(t+r)}function g(e){var t=e.dimsDef;return t?t.length:1}return o.length&&(r.itemName=o),s.length&&(r.seriesName=s),r}function jf(e){if(!e.get(`data`,!0))return Ds(e.ecModel,`dataset`,{index:e.get(`datasetIndex`,!0),id:e.get(`datasetId`,!0)},Es).models[0]}function Mf(e){return!e.get(`transform`,!0)&&!e.get(`fromTransformResult`,!0)?[]:Ds(e.ecModel,`dataset`,{index:e.get(`fromDatasetIndex`,!0),id:e.get(`fromDatasetId`,!0)},Es).models}function Nf(e,t){return Pf(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function Pf(e,t,n,r,a,o){var s,c=5;if(Qe(e))return Df.Not;var l,u;if(r){var d=r[o];i(d)?(l=d.name,u=d.type):z(d)&&(l=d)}if(u!=null)return u===`ordinal`?Df.Must:Df.Not;if(t===`arrayRows`){var f=e;if(n===`row`){for(var p=f[o],m=0;m<(p||[]).length&&m<c;m++)if((s=x(p[a+m]))!=null)return s}else for(var m=0;m<f.length&&m<c;m++){var h=f[a+m];if(h&&(s=x(h[o]))!=null)return s}}else if(t===`objectRows`){var g=e;if(!l)return Df.Not;for(var m=0;m<g.length&&m<c;m++){var _=g[m];if(_&&(s=x(_[l]))!=null)return s}}else if(t===`keyedColumns`){var v=e;if(!l)return Df.Not;var p=v[l];if(!p||Qe(p))return Df.Not;for(var m=0;m<p.length&&m<c;m++)if((s=x(p[m]))!=null)return s}else if(t===`original`)for(var y=e,m=0;m<y.length&&m<c;m++){var _=y[m],b=as(_);if(!D(b))return Df.Not;if((s=x(b[o]))!=null)return s}function x(e){var t=z(e);if(e!=null&&Number.isFinite(Number(e))&&e!==``)return t?Df.Might:Df.Not;if(t&&e!==`-`)return Df.Must}return Df.Not}var Ff=A();function If(e,t,n){var r=Ff.get(t);if(!r)return n;var i=r(e);return i?n.concat(i):n}var Lf=G();G();var Rf=function(){function e(){}return e.prototype.getColorFromPalette=function(e,t,n){var r=ns(this.get(`color`,!0)),i=this.get(`colorLayer`,!0);return Bf(this,Lf,r,i,e,t,n)},e.prototype.clearColorPalette=function(){Vf(this,Lf)},e}();function zf(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].length>t)return e[r];return e[n-1]}function Bf(e,t,n,r,i,a,o){a||=e;var s=t(a),c=s.paletteIdx||0,l=s.paletteNameMap=s.paletteNameMap||{};if(l.hasOwnProperty(i))return l[i];var u=o==null||!r?n:zf(r,o);if(u||=n,!(!u||!u.length)){var d=u[c];return i&&(l[i]=d),s.paletteIdx=(c+1)%u.length,d}}function Vf(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}u();var Hf,Uf,Wf,Gf=`\0_ec_inner`,Kf=1,qf=function(e){P(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(e,t,n,r,i,a){r||={},this.option=null,this._theme=new Su(r),this._locale=new Su(i),this._optionManager=a},t.prototype.setOption=function(e,t,n){var r=Qf(t);this._optionManager.setOption(e,n,r),this._resetOption(null,r)},t.prototype.resetOption=function(e,t){return this._resetOption(e,Qf(t))},t.prototype._resetOption=function(e,t){var n=!1,r=this._optionManager;if(!e||e===`recreate`){var i=r.mountOption(e===`recreate`);!this.option||e===`recreate`?Wf(this,i):(this.restoreData(),this._mergeOption(i,t)),n=!0}if((e===`timeline`||e===`media`)&&this.restoreData(),!e||e===`recreate`||e===`timeline`){var a=r.getTimelineOption(this);a&&(n=!0,this._mergeOption(a,t))}if(!e||e===`recreate`||e===`media`){var o=r.getMediaOption(this);o.length&&c(o,function(e){n=!0,this._mergeOption(e,t)},this)}return n},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,t){var n=this.option,r=this._componentsMap,i=this._componentsCount,a=[],o=A(),s=t&&t.replaceMergeMainTypeMap;kf(this),c(e,function(e,t){e!=null&&(J.hasClass(t)?t&&(a.push(t),o.set(t,!0)):n[t]=n[t]==null?y(e):L(n[t],e,!0))}),s&&s.each(function(e,t){J.hasClass(t)&&!o.get(t)&&(a.push(t),o.set(t,!0))}),J.topologicalTravel(a,J.getAllClassMainTypes(),l,this);function l(t){var a=If(this,t,ns(e[t])),o=r.get(t),l=ss(o,a,o?s&&s.get(t)?`replaceMerge`:`normalMerge`:`replaceAll`);ys(l,t,J),n[t]=null,r.set(t,null),i.set(t,0);var u=[],d=[],f=0,p;c(l,function(e,n){var r=e.existing,i=e.newOption;if(!i)r&&(r.mergeOption({},this),r.optionUpdated({},!1));else{var a=t===`series`,o=J.getClass(t,e.keyInfo.subType,!a);if(!o)return;if(t===`tooltip`){if(p)return;p=!0}if(r&&r.constructor===o)r.name=e.keyInfo.name,r.mergeOption(i,this),r.optionUpdated(i,!1);else{var s=C({componentIndex:n},e.keyInfo);r=new o(i,this,this,s),C(r,s),e.brandNew&&(r.__requireNewView=!0),r.init(i,this,this),r.optionUpdated(null,!0)}}r?(u.push(r.option),d.push(r),f++):(u.push(void 0),d.push(void 0))},this),n[t]=u,r.set(t,d),i.set(t,f),t===`series`&&Hf(this)}this._seriesIndices||Hf(this)},t.prototype.getOption=function(){var e=y(this.option);return c(e,function(t,n){if(J.hasClass(n)){for(var r=ns(t),i=r.length,a=!1,o=i-1;o>=0;o--)r[o]&&!vs(r[o])?a=!0:(r[o]=null,!a&&i--);r.length=i,e[n]=r}}),delete e[Gf],e},t.prototype.setTheme=function(e){this._theme=new Su(e),this._resetOption(`recreate`,null)},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,t){var n=this._componentsMap.get(e);if(n){var r=n[t||0];if(r)return r;if(t==null){for(var i=0;i<n.length;i++)if(n[i])return n[i]}}},t.prototype.queryComponents=function(e){var t=e.mainType;if(!t)return[];var n=e.index,r=e.id,i=e.name,a=this._componentsMap.get(t);if(!a||!a.length)return[];var o;return n==null?o=r==null?i==null?_e(a,function(e){return!!e}):Xf(`name`,i,a):Xf(`id`,r,a):(o=[],c(ns(n),function(e){a[e]&&o.push(a[e])})),Zf(o,e)},t.prototype.findComponents=function(e){var t=e.query,n=e.mainType,r=i(t);return a(Zf(r?this.queryComponents(r):_e(this._componentsMap.get(n),function(e){return!!e}),e));function i(e){var t=n+`Index`,r=n+`Id`,i=n+`Name`;return e&&(e[t]!=null||e[r]!=null||e[i]!=null)?{mainType:n,index:e[t],id:e[r],name:e[i]}:null}function a(t){return e.filter?_e(t,e.filter):t}},t.prototype.eachComponent=function(e,t,n){var r=this._componentsMap;if(I(e)){var a=t,o=e;r.each(function(e,t){for(var n=0;e&&n<e.length;n++){var r=e[n];r&&o.call(a,t,r,r.componentIndex)}})}else for(var s=z(e)?r.get(e):i(e)?this.findComponents(e):null,c=0;s&&c<s.length;c++){var l=s[c];l&&t.call(n,l,l.componentIndex)}},t.prototype.getSeriesByName=function(e){var t=gs(e,null);return _e(this._componentsMap.get(`series`),function(e){return!!e&&t!=null&&e.name===t})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get(`series`)[e]},t.prototype.getSeriesByType=function(e){return _e(this._componentsMap.get(`series`),function(t){return!!t&&t.subType===e})},t.prototype.getSeries=function(){return _e(this._componentsMap.get(`series`),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get(`series`)},t.prototype.eachSeries=function(e,t){Uf(this),c(this._seriesIndices,function(n){var r=this._componentsMap.get(`series`)[n];e.call(t,r,n)},this)},t.prototype.eachRawSeries=function(e,t){c(this._componentsMap.get(`series`),function(n){n&&e.call(t,n,n.componentIndex)})},t.prototype.eachSeriesByType=function(e,t,n){Uf(this),c(this._seriesIndices,function(r){var i=this._componentsMap.get(`series`)[r];i.subType===e&&t.call(n,i,r)},this)},t.prototype.eachRawSeriesByType=function(e,t,n){return c(this.getSeriesByType(e),t,n)},t.prototype.isSeriesFiltered=function(e){return Uf(this),this._seriesIndicesMap.get(e.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,t){Uf(this);var n=[];c(this._seriesIndices,function(r){var i=this._componentsMap.get(`series`)[r];e.call(t,i,r)&&n.push(r)},this),this._seriesIndices=n,this._seriesIndicesMap=A(n)},t.prototype.restoreData=function(e){Hf(this);var t=this._componentsMap,n=[];t.each(function(e,t){J.hasClass(t)&&n.push(t)}),J.topologicalTravel(n,J.getAllClassMainTypes(),function(n){c(t.get(n),function(t){t&&(n!==`series`||!Jf(t,e))&&t.restoreData()})})},t.internalField=function(){Hf=function(e){var t=e._seriesIndices=[];c(e._componentsMap.get(`series`),function(e){e&&t.push(e.componentIndex)}),e._seriesIndicesMap=A(t)},Uf=function(e){},Wf=function(e,t){e.option={},e.option[Gf]=Kf,e._componentsMap=A({series:[]}),e._componentsCount=A();var n=t.aria;i(n)&&n.enabled==null&&(n.enabled=!0),Yf(t,e._theme.option),L(t,vf,!1),e._mergeOption(t,null)}}(),t}(Su);function Jf(e,t){if(t){var n=t.seriesIndex,r=t.seriesId,i=t.seriesName;return n!=null&&e.componentIndex!==n||r!=null&&e.id!==r||i!=null&&e.name!==i}}function Yf(e,t){var n=e.color&&!e.colorLayer;c(t,function(t,r){r===`colorLayer`&&n||r===`color`&&e.color||J.hasClass(r)||(typeof t==`object`?e[r]=e[r]?L(e[r],t,!1):y(t):e[r]??(e[r]=t))})}function Xf(e,t,n){if(D(t)){var r=A();return c(t,function(e){e!=null&&gs(e,null)!=null&&r.set(e,!0)}),_e(n,function(t){return t&&r.get(t[e])})}else{var i=gs(t,null);return _e(n,function(t){return t&&i!=null&&t[e]===i})}}function Zf(e,t){return t.hasOwnProperty(`subType`)?_e(e,function(e){return e&&e.subType===t.subType}):e}function Qf(e){var t=A();return e&&c(ns(e.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}et(qf,Rf);var $f=qf,ep=[`getDom`,`getZr`,`getWidth`,`getHeight`,`getDevicePixelRatio`,`dispatchAction`,`isSSR`,`isDisposed`,`on`,`off`,`getDataURL`,`getConnectedDataURL`,`getOption`,`getId`,`updateLabelLayout`],tp=function(){function e(e){c(ep,function(t){this[t]=M(e[t],e)},this)}return e}(),np=/^(min|max)?(.+)$/,rp=function(){function e(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return e.prototype.setOption=function(e,t,n){e&&(c(ns(e.series),function(e){e&&e.data&&Qe(e.data)&&nt(e.data)}),c(ns(e.dataset),function(e){e&&e.source&&Qe(e.source)&&nt(e.source)})),e=y(e);var r=this._optionBackup,i=ip(e,t,!r);this._newBaseOption=i.baseOption,r?(i.timelineOptions.length&&(r.timelineOptions=i.timelineOptions),i.mediaList.length&&(r.mediaList=i.mediaList),i.mediaDefault&&(r.mediaDefault=i.mediaDefault)):this._optionBackup=i},e.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],y(e?t.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var r=e.getComponent(`timeline`);r&&(t=y(n[r.getCurrentIndex()]))}return t},e.prototype.getMediaOption=function(e){var t=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,i=this._mediaDefault,a=[],o=[];if(!r.length&&!i)return o;for(var s=0,c=r.length;s<c;s++)ap(r[s].query,t,n)&&a.push(s);return!a.length&&i&&(a=[-1]),a.length&&!sp(a,this._currentMediaIndices)&&(o=B(a,function(e){return y(e===-1?i.option:r[e].option)})),this._currentMediaIndices=a,o},e}();function ip(e,t,n){var r=[],i,a,o=e.baseOption,s=e.timeline,l=e.options,u=e.media,d=!!e.media,f=!!(l||s||o&&o.timeline);o?(a=o,a.timeline||=s):((f||d)&&(e.options=e.media=null),a=e),d&&D(u)&&c(u,function(e){e&&e.option&&(e.query?r.push(e):i||=e)}),p(a),c(l,function(e){return p(e)}),c(r,function(e){return p(e.option)});function p(e){c(t,function(t){t(e,n)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:r}}function ap(e,t,n){var r={width:t,height:n,aspectratio:t/n},i=!0;return c(e,function(e,t){var n=t.match(np);if(!(!n||!n[1]||!n[2])){var a=n[1];op(r[n[2].toLowerCase()],e,a)||(i=!1)}}),i}function op(e,t,n){return n===`min`?e>=t:n===`max`?e<=t:e===t}function sp(e,t){return e.join(`,`)===t.join(`,`)}var cp=rp,lp=c,up=i,dp=[`areaStyle`,`lineStyle`,`nodeStyle`,`linkStyle`,`chordStyle`,`label`,`labelLine`];function fp(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=dp.length;n<r;n++){var i=dp[n],a=t.normal,o=t.emphasis;a&&a[i]&&(e[i]=e[i]||{},e[i].normal?L(e[i].normal,a[i]):e[i].normal=a[i],a[i]=null),o&&o[i]&&(e[i]=e[i]||{},e[i].emphasis?L(e[i].emphasis,o[i]):e[i].emphasis=o[i],o[i]=null)}}function pp(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,i=e[t].emphasis;r&&(n?(e[t].normal=e[t].emphasis=null,H(e[t],r)):e[t]=r),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function mp(e){pp(e,`itemStyle`),pp(e,`lineStyle`),pp(e,`areaStyle`),pp(e,`label`),pp(e,`labelLine`),pp(e,`upperLabel`),pp(e,`edgeLabel`)}function Z(e,t){var n=up(e)&&e[t],r=up(n)&&n.textStyle;if(r)for(var i=0,a=is.length;i<a;i++){var o=is[i];r.hasOwnProperty(o)&&(n[o]=r[o])}}function hp(e){e&&(mp(e),Z(e,`label`),e.emphasis&&Z(e.emphasis,`label`))}function gp(e){if(up(e)){fp(e),mp(e),Z(e,`label`),Z(e,`upperLabel`),Z(e,`edgeLabel`),e.emphasis&&(Z(e.emphasis,`label`),Z(e.emphasis,`upperLabel`),Z(e.emphasis,`edgeLabel`));var t=e.markPoint;t&&(fp(t),hp(t));var n=e.markLine;n&&(fp(n),hp(n));var r=e.markArea;r&&hp(r);var i=e.data;if(e.type===`graph`){i||=e.nodes;var a=e.links||e.edges;if(a&&!Qe(a))for(var o=0;o<a.length;o++)hp(a[o]);c(e.categories,function(e){mp(e)})}if(i&&!Qe(i))for(var o=0;o<i.length;o++)hp(i[o]);if(t=e.markPoint,t&&t.data)for(var s=t.data,o=0;o<s.length;o++)hp(s[o]);if(n=e.markLine,n&&n.data)for(var l=n.data,o=0;o<l.length;o++)D(l[o])?(hp(l[o][0]),hp(l[o][1])):hp(l[o]);e.type===`gauge`?(Z(e,`axisLabel`),Z(e,`title`),Z(e,`detail`)):e.type===`treemap`?(pp(e.breadcrumb,`itemStyle`),c(e.levels,function(e){mp(e)})):e.type===`tree`&&mp(e.leaves)}}function _p(e){return D(e)?e:e?[e]:[]}function vp(e){return(D(e)?e[0]:e)||{}}function yp(e,t){lp(_p(e.series),function(e){up(e)&&gp(e)});var n=[`xAxis`,`yAxis`,`radiusAxis`,`angleAxis`,`singleAxis`,`parallelAxis`,`radar`];t&&n.push(`valueAxis`,`categoryAxis`,`logAxis`,`timeAxis`),lp(n,function(t){lp(_p(e[t]),function(e){e&&(Z(e,`axisLabel`),Z(e.axisPointer,`label`))})}),lp(_p(e.parallel),function(e){var t=e&&e.parallelAxisDefault;Z(t,`axisLabel`),Z(t&&t.axisPointer,`label`)}),lp(_p(e.calendar),function(e){pp(e,`itemStyle`),Z(e,`dayLabel`),Z(e,`monthLabel`),Z(e,`yearLabel`)}),lp(_p(e.radar),function(e){Z(e,`name`),e.name&&e.axisName==null&&(e.axisName=e.name,delete e.name),e.nameGap!=null&&e.axisNameGap==null&&(e.axisNameGap=e.nameGap,delete e.nameGap)}),lp(_p(e.geo),function(e){up(e)&&(hp(e),lp(_p(e.regions),function(e){hp(e)}))}),lp(_p(e.timeline),function(e){hp(e),pp(e,`label`),pp(e,`itemStyle`),pp(e,`controlStyle`,!0);var t=e.data;D(t)&&c(t,function(e){i(e)&&(pp(e,`label`),pp(e,`itemStyle`))})}),lp(_p(e.toolbox),function(e){pp(e,`iconStyle`),lp(e.feature,function(e){pp(e,`iconStyle`)})}),Z(vp(e.axisPointer),`label`),Z(vp(e.tooltip).axisPointer,`label`)}function bp(e,t){for(var n=t.split(`,`),r=e,i=0;i<n.length&&(r&&=r[n[i]],r!=null);i++);return r}function xp(e,t,n,r){for(var i=t.split(`,`),a=e,o,s=0;s<i.length-1;s++)o=i[s],a[o]??(a[o]={}),a=a[o];(r||a[i[s]]==null)&&(a[i[s]]=n)}function Sp(e){e&&c(Cp,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var Cp=[[`x`,`left`],[`y`,`top`],[`x2`,`right`],[`y2`,`bottom`]],wp=[`grid`,`geo`,`parallel`,`legend`,`toolbox`,`title`,`visualMap`,`dataZoom`,`timeline`],Tp=[[`borderRadius`,`barBorderRadius`],[`borderColor`,`barBorderColor`],[`borderWidth`,`barBorderWidth`]];function Ep(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<Tp.length;n++){var r=Tp[n][1],i=Tp[n][0];t[r]!=null&&(t[i]=t[r])}}function Dp(e){e&&e.alignTo===`edge`&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function Op(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function kp(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus??(e.emphasis.focus=`adjacency`))}function Ap(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&Ap(e[n].children,t)}function jp(e,t){yp(e,t),e.series=ns(e.series),c(e.series,function(e){if(i(e)){var t=e.type;if(t===`line`)e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(t===`pie`||t===`gauge`){e.clockWise!=null&&(e.clockwise=e.clockWise),Dp(e.label);var n=e.data;if(n&&!Qe(n))for(var r=0;r<n.length;r++)Dp(n[r]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(t===`gauge`){var a=bp(e,`pointer.color`);a!=null&&xp(e,`itemStyle.color`,a)}else if(t===`bar`){Ep(e),Ep(e.backgroundStyle),Ep(e.emphasis);var n=e.data;if(n&&!Qe(n))for(var r=0;r<n.length;r++)typeof n[r]==`object`&&(Ep(n[r]),Ep(n[r]&&n[r].emphasis))}else if(t===`sunburst`){var o=e.highlightPolicy;o&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=o)),Op(e),Ap(e.data,Op)}else t===`graph`||t===`sankey`?kp(e):t===`map`&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&H(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),Sp(e)}}),e.dataRange&&(e.visualMap=e.dataRange),c(wp,function(t){var n=e[t];n&&(D(n)||(n=[n]),c(n,function(e){Sp(e)}))})}function Mp(e){var t=A();e.eachSeries(function(e){var n=e.get(`stack`);if(n){var r=t.get(n)||t.set(n,[]),i=e.getData(),a={stackResultDimension:i.getCalculationInfo(`stackResultDimension`),stackedOverDimension:i.getCalculationInfo(`stackedOverDimension`),stackedDimension:i.getCalculationInfo(`stackedDimension`),stackedByDimension:i.getCalculationInfo(`stackedByDimension`),isStackedByIndex:i.getCalculationInfo(`isStackedByIndex`),data:i,seriesModel:e};if(!a.stackedDimension||!(a.isStackedByIndex||a.stackedByDimension))return;r.push(a)}}),t.each(function(e){e.length!==0&&((e[0].seriesModel.get(`stackOrder`)||`seriesAsc`)===`seriesDesc`&&e.reverse(),c(e,function(t,n){t.data.setCalculationInfo(`stackedOnSeries`,n>0?e[n-1].seriesModel:null)}),Np(e))})}function Np(e){c(e,function(t,n){var r=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,c=t.seriesModel.get(`stackStrategy`)||`samesign`;o.modify(a,function(a,l,u){var d=o.get(t.stackedDimension,u);if(isNaN(d))return i;var f,p;s?p=o.getRawIndex(u):f=o.get(t.stackedByDimension,u);for(var m=NaN,h=n-1;h>=0;h--){var g=e[h];if(s||(p=g.data.rawIndexOf(g.stackedByDimension,f)),p>=0){var _=g.data.getByRawIndex(g.stackResultDimension,p);if(c===`all`||c===`positive`&&_>0||c===`negative`&&_<0||c===`samesign`&&d>=0&&_>0||c===`samesign`&&d<=0&&_<0){d=Mo(d,_),m=_;break}}}return r[0]=d,r[1]=m,r})})}var Pp=function(){function e(e){this.data=e.data||(e.sourceFormat===`keyedColumns`?{}:[]),this.sourceFormat=e.sourceFormat||`unknown`,this.seriesLayoutBy=e.seriesLayoutBy||`column`,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var r=t[n];r.type==null&&Nf(this,n)===Df.Must&&(r.type=`ordinal`)}}return e}();function Fp(e){return e instanceof Pp}function Ip(e,t,n){n||=zp(e);var r=t.seriesLayoutBy,i=Bp(e,n,r,t.sourceHeader,t.dimensions);return new Pp({data:e,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:y(t)})}function Lp(e){return new Pp({data:e,sourceFormat:Qe(e)?wf:bf})}function Rp(e){return new Pp({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:y(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function zp(e){var t=Tf;if(Qe(e))t=wf;else if(D(e)){e.length===0&&(t=xf);for(var n=0,r=e.length;n<r;n++){var a=e[n];if(a!=null){if(D(a)||Qe(a)){t=xf;break}else if(i(a)){t=Sf;break}}}}else if(i(e)){for(var o in e)if(x(e,o)&&we(e[o])){t=Cf;break}}return t}function Bp(e,t,n,r,i){var a,o;if(!e)return{dimensionsDefine:Hp(i),startIndex:o,dimensionsDetectedCount:a};if(t===`arrayRows`){var s=e;r===`auto`||r==null?Up(function(e){e!=null&&e!==`-`&&(z(e)?o??=1:o=0)},n,s,10):o=N(r)?r:r?1:0,!i&&o===1&&(i=[],Up(function(e,t){i[t]=e==null?``:e+``},n,s,1/0)),a=i?i.length:n===`row`?s.length:s[0]?s[0].length:null}else if(t===`objectRows`)i||=Vp(e);else if(t===`keyedColumns`)i||(i=[],c(e,function(e,t){i.push(t)}));else if(t===`original`){var l=as(e[0]);a=D(l)&&l.length||1}return{startIndex:o,dimensionsDefine:Hp(i),dimensionsDetectedCount:a}}function Vp(e){for(var t=0,n;t<e.length&&!(n=e[t++]););if(n)return ot(n)}function Hp(e){if(e){var t=A();return B(e,function(e,n){e=i(e)?e:{name:e};var r={name:e.name,displayName:e.displayName,type:e.type};if(r.name==null)return r;r.name+=``,r.displayName??=r.name;var a=t.get(r.name);return a?r.name+=`-`+ a.count++:t.set(r.name,{count:1}),r})}}function Up(e,t,n,r){if(t===`row`)for(var i=0;i<n.length&&i<r;i++)e(n[i]?n[i][0]:null,i);else for(var a=n[0]||[],i=0;i<a.length&&i<r;i++)e(a[i],i)}function Wp(e){var t=e.sourceFormat;return t===`objectRows`||t===`keyedColumns`}var Gp,Kp,qp,Jp,Yp,Xp,Zp=function(){function e(e,t){var n=Fp(e)?e:Lp(e);this._source=n;var r=this._data=n.data,i=n.sourceFormat;n.seriesLayoutBy,i===`typedArray`&&(this._offset=0,this._dimSize=t,this._data=r),Xp(this,r,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(e,t){},e.prototype.appendData=function(e){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var e;Xp=function(e,i,a){var o=a.sourceFormat,s=a.seriesLayoutBy,c=a.startIndex,l=a.dimensionsDefine,u=Yp[cm(o,s)];C(e,u),o===`typedArray`?(e.getItem=t,e.count=r,e.fillStorage=n):(e.getItem=M(tm(o,s),null,i,c,l),e.count=M(im(o,s),null,i,c,l))};var t=function(e,t){e-=this._offset,t||=[];for(var n=this._data,r=this._dimSize,i=r*e,a=0;a<r;a++)t[a]=n[i+a];return t},n=function(e,t,n,r){for(var i=this._data,a=this._dimSize,o=0;o<a;o++){for(var s=r[o],c=s[0]==null?1/0:s[0],l=s[1]==null?-1/0:s[1],u=t-e,d=n[o],f=0;f<u;f++){var p=i[f*a+o];d[e+f]=p,p<c&&(c=p),p>l&&(l=p)}s[0]=c,s[1]=l}},r=function(){return this._data?this._data.length/this._dimSize:0};Yp=(e={},e[xf+`_`+Ef]={pure:!0,appendData:i},e[xf+`_row`]={pure:!0,appendData:function(){throw Error(`Do not support appendData when set seriesLayoutBy: "row".`)}},e[Sf]={pure:!0,appendData:i},e[Cf]={pure:!0,appendData:function(e){var t=this._data;c(e,function(e,n){for(var r=t[n]||(t[n]=[]),i=0;i<(e||[]).length;i++)r.push(e[i])})}},e[bf]={appendData:i},e[wf]={persistent:!1,pure:!0,appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}},e);function i(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}}(),e}(),Qp=function(e){D(e)||Qo(`series.data or dataset.source must be an array.`)};Gp={},Gp[xf+`_`+Ef]=Qp,Gp[xf+`_row`]=Qp,Gp[Sf]=Qp,Gp[Cf]=function(e,t){for(var n=0;n<t.length;n++)t[n].name??Qo(`dimension name must not be null/undefined.`)},Gp[bf]=Qp;var $p=function(e,t,n,r){return e[r]},em=(Kp={},Kp[xf+`_`+Ef]=function(e,t,n,r){return e[r+t]},Kp[xf+`_row`]=function(e,t,n,r,i){r+=t;for(var a=i||[],o=e,s=0;s<o.length;s++){var c=o[s];a[s]=c?c[r]:null}return a},Kp[Sf]=$p,Kp[Cf]=function(e,t,n,r,i){for(var a=i||[],o=0;o<n.length;o++){var s=n[o].name,c=s==null?null:e[s];a[o]=c?c[r]:null}return a},Kp[bf]=$p,Kp);function tm(e,t){return em[cm(e,t)]}var nm=function(e,t,n){return e.length},rm=(qp={},qp[xf+`_`+Ef]=function(e,t,n){return Math.max(0,e.length-t)},qp[xf+`_row`]=function(e,t,n){var r=e[0];return r?Math.max(0,r.length-t):0},qp[Sf]=nm,qp[Cf]=function(e,t,n){var r=n[0].name,i=r==null?null:e[r];return i?i.length:0},qp[bf]=nm,qp);function im(e,t){return rm[cm(e,t)]}var am=function(e,t,n){return e[t]},om=(Jp={},Jp[xf]=am,Jp[Sf]=function(e,t,n){return e[n]},Jp[Cf]=am,Jp[bf]=function(e,t,n){var r=as(e);return r instanceof Array?r[t]:r},Jp[wf]=am,Jp);function sm(e){return om[e]}function cm(e,t){return e===`arrayRows`?e+`_`+t:e}function lm(e,t,n){if(e){var r=e.getRawDataItem(t);if(r!=null){var i=e.getStore(),a=i.getSource().sourceFormat;if(n!=null){var o=e.getDimensionIndex(n),s=i.getDimensionProperty(o);return sm(a)(r,o,s)}else{var c=r;return a===`original`&&(c=as(r)),c}}}}var um=/\{@(.+?)\}/g,dm=function(){function e(){}return e.prototype.getDataParams=function(e,t){var n=this.getData(t),r=this.getRawValue(e,t),i=n.getRawIndex(e),a=n.getName(e),o=n.getRawDataItem(e),s=n.getItemVisual(e,`style`),c=s&&s[n.getItemVisual(e,`drawType`)||`fill`],l=s&&s.stroke,u=this.mainType,d=u===`series`,f=n.userOutput&&n.userOutput.get();return{componentType:u,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:a,dataIndex:i,data:o,dataType:t,value:r,color:c,borderColor:l,dimensionNames:f?f.fullDimensions:null,encode:f?f.encode:null,$vars:[`seriesName`,`name`,`value`]}},e.prototype.getFormattedLabel=function(e,t,n,r,i,a){t||=`normal`;var o=this.getData(n),s=this.getDataParams(e,n);if(a&&(s.value=a.interpolatedValue),r!=null&&D(s.value)&&(s.value=s.value[r]),i||=o.getItemModel(e).get(t===`normal`?[`label`,`formatter`]:[t,`label`,`formatter`]),I(i))return s.status=t,s.dimensionIndex=r,i(s);if(z(i))return jd(i,s).replace(um,function(t,n){var r=n.length,i=n;i.charAt(0)===`[`&&i.charAt(r-1)===`]`&&(i=+i.slice(1,r-1));var s=lm(o,e,i);if(a&&D(a.interpolatedValue)){var c=o.getDimensionIndex(i);c>=0&&(s=a.interpolatedValue[c])}return s==null?``:s+``})},e.prototype.getRawValue=function(e,t){return lm(this.getData(t),e)},e.prototype.formatTooltip=function(e,t,n){},e}();function fm(e){var t,n;return i(e)?e.type&&(n=e):t=e,{text:t,frag:n}}function pm(e){return new mm(e)}var mm=function(){function e(e){e||={},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return e.prototype.perform=function(e){var t=this._upstream,n=e&&e.skip;if(this._dirty&&t){var r=this.context;r.data=r.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!n&&(i=this._plan(this.context));var a=l(this._modBy),o=this._modDataCount||0,s=l(e&&e.modBy),c=e&&e.modDataCount||0;(a!==s||o!==c)&&(i=`reset`);function l(e){return!(e>=1)&&(e=1),e}var u;(this._dirty||i===`reset`)&&(this._dirty=!1,u=this._doReset(n)),this._modBy=s,this._modDataCount=c;var d=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,p=Math.min(d==null?1/0:this._dueIndex+d,this._dueEnd);if(!n&&(u||f<p)){var m=this._progress;if(D(m))for(var h=0;h<m.length;h++)this._doProgress(m[h],f,p,s,c);else this._doProgress(m,f,p,s,c)}this._dueIndex=p,this._outputDueEnd=this._settedOutputEnd==null?p:this._settedOutputEnd}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd==null?this._dueEnd:this._settedOutputEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(e,t,n,r,i){hm.reset(t,n,r,i),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:hm.next},this.context)},e.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,n;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(n=t.forceFirstProgress,t=t.progress),D(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},e.prototype.dispose=function(){this._disposed||=(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},e}(),hm=function(){var e,t,n,r,i,a={reset:function(c,l,u,d){t=c,e=l,n=u,r=d,i=Math.ceil(r/n),a.next=n>1&&r>0?s:o}};return a;function o(){return t<e?t++:null}function s(){var a=t%i*n+Math.ceil(t/i),o=t>=e?null:a<r?a:t;return t++,o}}();function gm(e,t){var n=t&&t.type;return n===`ordinal`?e:(n===`time`&&!N(e)&&e!=null&&e!==`-`&&(e=+Lo(e)),e==null||e===``?NaN:Number(e))}A({number:function(e){return parseFloat(e)},time:function(e){return+Lo(e)},trim:function(e){return z(e)?Be(e):e}});var _m={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}};(function(){function e(e,t){N(t)||$o(``),this._opFn=_m[e],this._rvalFloat=Uo(t)}return e.prototype.evaluate=function(e){return N(e)?this._opFn(e,this._rvalFloat):this._opFn(Uo(e),this._rvalFloat)},e})();var vm=function(){function e(e,t){var n=e===`desc`;this._resultLT=n?1:-1,t??=n?`min`:`max`,this._incomparable=t===`min`?-1/0:1/0}return e.prototype.evaluate=function(e,t){var n=N(e)?e:Uo(e),r=N(t)?t:Uo(t),i=isNaN(n),a=isNaN(r);if(i&&(n=this._incomparable),a&&(r=this._incomparable),i&&a){var o=z(e),s=z(t);o&&(n=s?e:0),s&&(r=o?t:0)}return n<r?this._resultLT:n>r?-this._resultLT:0},e}();(function(){function e(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=Uo(t)}return e.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;n!==this._rvalTypeof&&(n===`number`||this._rvalTypeof===`number`)&&(t=Uo(e)===this._rvalFloat)}return this._isEQ?t:!t},e})();var ym=function(){function e(){}return e.prototype.getRawData=function(){throw Error(`not supported`)},e.prototype.getRawDataItem=function(e){throw Error(`not supported`)},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(e){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(e,t){},e.prototype.retrieveValueFromItem=function(e,t){},e.prototype.convertValue=function(e,t){return gm(e,t)},e}();function bm(e,t){var n=new ym,r=e.data,i=n.sourceFormat=e.sourceFormat,a=e.startIndex;e.seriesLayoutBy!==`column`&&$o(``);var o=[],s={},l=e.dimensionsDefine;if(l)c(l,function(e,t){var n=e.name,r={index:t,name:n,displayName:e.displayName};o.push(r),n!=null&&(x(s,n)&&$o(``),s[n]=r)});else for(var u=0;u<e.dimensionsDetectedCount;u++)o.push({index:u});var d=tm(i,Ef);t.__isBuiltIn&&(n.getRawDataItem=function(e){return d(r,a,o,e)},n.getRawData=M(xm,null,e)),n.cloneRawData=M(Sm,null,e),n.count=M(im(i,Ef),null,r,a,o);var f=sm(i);n.retrieveValue=function(e,t){return p(d(r,a,o,e),t)};var p=n.retrieveValueFromItem=function(e,t){if(e!=null){var n=o[t];if(n)return f(e,t,n.name)}};return n.getDimensionInfo=M(Cm,null,o,s),n.cloneAllDimensionInfo=M(wm,null,o),n}function xm(e){var t=e.sourceFormat;return km(t)||$o(``),e.data}function Sm(e){var t=e.sourceFormat,n=e.data;if(km(t)||$o(``),t===`arrayRows`){for(var r=[],i=0,a=n.length;i<a;i++)r.push(n[i].slice());return r}else if(t===`objectRows`){for(var r=[],i=0,a=n.length;i<a;i++)r.push(C({},n[i]));return r}}function Cm(e,t,n){if(n!=null){if(N(n)||!isNaN(n)&&!x(t,n))return e[n];if(x(t,n))return t[n]}}function wm(e){return y(e)}var Tm=A();function Em(e){e=y(e);var t=e.type,n=``;t||$o(n);var r=t.split(`:`);r.length!==2&&$o(n);var i=!1;r[0]===`echarts`&&(t=r[1],i=!0),e.__isBuiltIn=i,Tm.set(t,e)}function Dm(e,t,n){var r=ns(e),i=r.length;i||$o(``);for(var a=0,o=i;a<o;a++){var s=r[a];t=Om(s,t,n,i===1?null:a),a!==o-1&&(t.length=Math.max(t.length,1))}return t}function Om(e,t,n,r){var a=``;t.length||$o(a),i(e)||$o(a);var o=e.type,s=Tm.get(o);s||$o(a);var c=B(t,function(e){return bm(e,s)});return B(ns(s.transform({upstream:c[0],upstreamList:c,config:y(e.config)})),function(e,n){var r=``;i(e)||$o(r),e.data||$o(r),km(zp(e.data))||$o(r);var a,o=t[0];if(o&&n===0&&!e.dimensions){var s=o.startIndex;s&&(e.data=o.data.slice(0,s).concat(e.data)),a={seriesLayoutBy:Ef,sourceHeader:s,dimensions:o.metaRawOption.dimensions}}else a={seriesLayoutBy:Ef,sourceHeader:0,dimensions:e.dimensions};return Ip(e.data,a,null)})}function km(e){return e===`arrayRows`||e===`objectRows`}var Am=`undefined`,jm=typeof Uint32Array===Am?Array:Uint32Array,Mm=typeof Uint16Array===Am?Array:Uint16Array,Nm=typeof Int32Array===Am?Array:Int32Array,Pm=typeof Float64Array===Am?Array:Float64Array,Fm={float:Pm,int:Nm,ordinal:Array,number:Array,time:Pm},Im;function Lm(e){return e>65535?jm:Mm}function Rm(){return[1/0,-1/0]}function zm(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function Bm(e,t,n,r,i){var a=Fm[n||`float`];if(i){var o=e[t],s=o&&o.length;if(s!==r){for(var c=new a(r),l=0;l<s;l++)c[l]=o[l];e[t]=c}}else e[t]=new a(r)}var Vm=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=A()}return e.prototype.initData=function(e,t,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),i=this.defaultDimValueGetter=Im[r.sourceFormat];this._dimValueGetter=n||i,this._rawExtent=[],Wp(r),this._dimensions=B(t,function(e){return{type:e.type,property:e.property}}),this._initDataFromProvider(0,e.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,r=this._dimensions,i=n.get(e);if(i!=null){if(r[i].type===t)return i}else i=r.length;return r[i]={type:t},n.set(e,i),this._chunks[i]=new Fm[t||`float`](this._rawCount),this._rawExtent[i]=Rm(),i},e.prototype.collectOrdinalMeta=function(e,t){var n=this._chunks[e],r=this._dimensions[e],i=this._rawExtent,a=r.ordinalOffset||0,o=n.length;a===0&&(i[e]=Rm());for(var s=i[e],c=a;c<o;c++){var l=n[c]=t.parseAndCollect(n[c]);isNaN(l)||(s[0]=Math.min(l,s[0]),s[1]=Math.max(l,s[1]))}r.ordinalMeta=t,r.ordinalOffset=o,r.type=`ordinal`},e.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},e.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},e.prototype.appendData=function(e){var t=this._provider,n=this.count();t.appendData(e);var r=t.count();return t.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},e.prototype.appendValues=function(e,t){for(var n=this._chunks,r=this._dimensions,i=r.length,a=this._rawExtent,o=this.count(),s=o+Math.max(e.length,t||0),c=0;c<i;c++){var l=r[c];Bm(n,c,l.type,s,!0)}for(var u=[],d=o;d<s;d++)for(var f=d-o,p=0;p<i;p++){var l=r[p],m=Im.arrayRows.call(this,e[f]||u,l.property,f,p);n[p][d]=m;var h=a[p];m<h[0]&&(h[0]=m),m>h[1]&&(h[1]=m)}return this._rawCount=this._count=s,{start:o,end:s}},e.prototype._initDataFromProvider=function(e,t,n){for(var r=this._provider,i=this._chunks,a=this._dimensions,o=a.length,s=this._rawExtent,c=B(a,function(e){return e.property}),l=0;l<o;l++){var u=a[l];s[l]||(s[l]=Rm()),Bm(i,l,u.type,t,n)}if(r.fillStorage)r.fillStorage(e,t,i,s);else for(var d=[],f=e;f<t;f++){d=r.getItem(f,d);for(var p=0;p<o;p++){var m=i[p],h=this._dimValueGetter(d,c[p],f,p);m[f]=h;var g=s[p];h<g[0]&&(g[0]=h),h>g[1]&&(g[1]=h)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},e.prototype.getValues=function(e,t){var n=[],r=[];if(t==null){t=e,e=[];for(var i=0;i<this._dimensions.length;i++)r.push(i)}else r=e;for(var i=0,a=r.length;i<a;i++)n.push(this.get(r[i],t));return n},e.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},e.prototype.getSum=function(e){var t=this._chunks[e],n=0;if(t)for(var r=0,i=this.count();r<i;r++){var a=this.get(e,r);isNaN(a)||(n+=a)}return n},e.prototype.getMedian=function(e){var t=[];this.each([e],function(e){isNaN(e)||t.push(e)});var n=t.sort(function(e,t){return e-t}),r=this.count();return r===0?0:r%2==1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},e.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(n!=null&&n<this._count&&n===e)return e;for(var r=0,i=this._count-1;r<=i;){var a=(r+i)/2|0;if(t[a]<e)r=a+1;else if(t[a]>e)i=a-1;else return a}return-1},e.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,r=this._count;if(n===Array){e=new n(r);for(var i=0;i<r;i++)e[i]=t[i]}else e=new n(t.buffer,0,r)}else{var n=Lm(this._rawCount);e=new n(this.count());for(var i=0;i<e.length;i++)e[i]=i}return e},e.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),r=n.count(),i=new(Lm(n._rawCount))(r),a=[],o=e.length,s=0,c=e[0],l=n._chunks,u=0;u<r;u++){var d=void 0,f=n.getRawIndex(u);if(o===0)d=t(u);else if(o===1){var p=l[c][f];d=t(p,u)}else{for(var m=0;m<o;m++)a[m]=l[e[m]][f];a[m]=u,d=t.apply(null,a)}d&&(i[s++]=f)}return s<r&&(n._indices=i),n._count=s,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var r=ot(e),i=r.length;if(!i)return this;var a=t.count(),o=new(Lm(t._rawCount))(a),s=0,c=r[0],l=e[c][0],u=e[c][1],d=t._chunks,f=!1;if(!t._indices){var p=0;if(i===1){for(var m=d[r[0]],h=0;h<n;h++){var g=m[h];(g>=l&&g<=u||isNaN(g))&&(o[s++]=p),p++}f=!0}else if(i===2){for(var m=d[r[0]],_=d[r[1]],v=e[r[1]][0],y=e[r[1]][1],h=0;h<n;h++){var g=m[h],b=_[h];(g>=l&&g<=u||isNaN(g))&&(b>=v&&b<=y||isNaN(b))&&(o[s++]=p),p++}f=!0}}if(!f)if(i===1)for(var h=0;h<a;h++){var x=t.getRawIndex(h),g=d[r[0]][x];(g>=l&&g<=u||isNaN(g))&&(o[s++]=x)}else for(var h=0;h<a;h++){for(var S=!0,x=t.getRawIndex(h),C=0;C<i;C++){var w=r[C],g=d[w][x];(g<e[w][0]||g>e[w][1])&&(S=!1)}S&&(o[s++]=t.getRawIndex(h))}return s<a&&(t._indices=o),t._count=s,t._extent=[],t._updateGetRawIdx(),t},e.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},e.prototype.modify=function(e,t){this._updateDims(this,e,t)},e.prototype._updateDims=function(e,t,n){for(var r=e._chunks,i=[],a=t.length,o=e.count(),s=[],c=e._rawExtent,l=0;l<t.length;l++)c[t[l]]=Rm();for(var u=0;u<o;u++){for(var d=e.getRawIndex(u),f=0;f<a;f++)s[f]=r[t[f]][d];s[a]=u;var p=n&&n.apply(null,s);if(p!=null){typeof p!=`object`&&(i[0]=p,p=i);for(var l=0;l<p.length;l++){var m=t[l],h=p[l],g=c[m],_=r[m];_&&(_[d]=h),h<g[0]&&(g[0]=h),h>g[1]&&(g[1]=h)}}}},e.prototype.lttbDownSample=function(e,t){var n=this.clone([e],!0),r=n._chunks[e],i=this.count(),a=0,o=Math.floor(1/t),s=this.getRawIndex(0),c,l,u,d=new(Lm(this._rawCount))(Math.min((Math.ceil(i/o)+2)*2,i));d[a++]=s;for(var f=1;f<i-1;f+=o){for(var p=Math.min(f+o,i-1),m=Math.min(f+o*2,i),h=(m+p)/2,g=0,_=p;_<m;_++){var v=this.getRawIndex(_),y=r[v];isNaN(y)||(g+=y)}g/=m-p;var b=f,x=Math.min(f+o,i),S=f-1,C=r[s];c=-1,u=b;for(var w=-1,T=0,_=b;_<x;_++){var v=this.getRawIndex(_),y=r[v];if(isNaN(y)){T++,w<0&&(w=v);continue}l=Math.abs((S-h)*(y-C)-(S-_)*(g-C)),l>c&&(c=l,u=v)}T>0&&T<x-b&&(d[a++]=Math.min(w,u),u=Math.max(w,u)),d[a++]=u,s=u}return d[a++]=this.getRawIndex(i-1),n._count=a,n._indices=d,n.getRawIndex=this._getRawIdx,n},e.prototype.minmaxDownSample=function(e,t){for(var n=this.clone([e],!0),r=n._chunks,i=Math.floor(1/t),a=r[e],o=this.count(),s=new(Lm(this._rawCount))(Math.ceil(o/i)*2),c=0,l=0;l<o;l+=i){var u=l,d=a[this.getRawIndex(u)],f=l,p=a[this.getRawIndex(f)],m=i;l+i>o&&(m=o-l);for(var h=0;h<m;h++){var g=a[this.getRawIndex(l+h)];g<d&&(d=g,u=l+h),g>p&&(p=g,f=l+h)}var _=this.getRawIndex(u),v=this.getRawIndex(f);u<f?(s[c++]=_,s[c++]=v):(s[c++]=v,s[c++]=_)}return n._count=c,n._indices=s,n._updateGetRawIdx(),n},e.prototype.downSample=function(e,t,n,r){for(var i=this.clone([e],!0),a=i._chunks,o=[],s=Math.floor(1/t),c=a[e],l=this.count(),u=i._rawExtent[e]=Rm(),d=new(Lm(this._rawCount))(Math.ceil(l/s)),f=0,p=0;p<l;p+=s){s>l-p&&(s=l-p,o.length=s);for(var m=0;m<s;m++)o[m]=c[this.getRawIndex(p+m)];var h=n(o),g=this.getRawIndex(Math.min(p+r(o,h)||0,l-1));c[g]=h,h<u[0]&&(u[0]=h),h>u[1]&&(u[1]=h),d[f++]=g}return i._count=f,i._indices=d,i._updateGetRawIdx(),i},e.prototype.each=function(e,t){if(this._count)for(var n=e.length,r=this._chunks,i=0,a=this.count();i<a;i++){var o=this.getRawIndex(i);switch(n){case 0:t(i);break;case 1:t(r[e[0]][o],i);break;case 2:t(r[e[0]][o],r[e[1]][o],i);break;default:for(var s=0,c=[];s<n;s++)c[s]=r[e[s]][o];c[s]=i,t.apply(null,c)}}},e.prototype.getDataExtent=function(e){var t=this._chunks[e],n=Rm();if(!t)return n;var r=this.count(),i=!this._indices,a;if(i)return this._rawExtent[e].slice();if(a=this._extent[e],a)return a.slice();a=n;for(var o=a[0],s=a[1],c=0;c<r;c++){var l=t[this.getRawIndex(c)];l<o&&(o=l),l>s&&(s=l)}return a=[o,s],this._extent[e]=a,a},e.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],r=this._chunks,i=0;i<r.length;i++)n.push(r[i][t]);return n},e.prototype.clone=function(t,n){var r=new e,i=this._chunks,a=t&&Je(t,function(e,t){return e[t]=!0,e},{});if(a)for(var o=0;o<i.length;o++)r._chunks[o]=a[o]?zm(i[o]):i[o];else r._chunks=i;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},e.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=y(this._extent),e._rawExtent=y(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var n=this._indices.length;t=new e(n);for(var r=0;r<n;r++)t[r]=this._indices[r]}else t=new e(this._indices);return t}return null},e.prototype._getRawIdxIdentity=function(e){return e},e.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function e(e,t,n,r){return gm(e[r],this._dimensions[r])}Im={arrayRows:e,objectRows:function(e,t,n,r){return gm(e[t],this._dimensions[r])},keyedColumns:e,original:function(e,t,n,r){var i=e&&(e.value==null?e:e.value);return gm(i instanceof Array?i[r]:i,this._dimensions[r])},typedArray:function(e,t,n,r){return e[r]}}}(),e}(),Hm=function(){function e(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+`_`+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),n=!!t.length,r,i;if(Um(e)){var a=e,o=void 0,s=void 0,c=void 0;if(n){var l=t[0];l.prepareSource(),c=l.getSource(),o=c.data,s=c.sourceFormat,i=[l._getVersionSign()]}else o=a.get(`data`,!0),s=Qe(o)?wf:bf,i=[];var u=this._getSourceMetaRawOption()||{},d=c&&c.metaRawOption||{},f=R(u.seriesLayoutBy,d.seriesLayoutBy)||null,p=R(u.sourceHeader,d.sourceHeader),m=R(u.dimensions,d.dimensions);r=f!==d.seriesLayoutBy||!!p!=!!d.sourceHeader||m?[Ip(o,{seriesLayoutBy:f,sourceHeader:p,dimensions:m},s)]:[]}else{var h=e;if(n){var g=this._applyTransform(t);r=g.sourceList,i=g.upstreamSignList}else r=[Ip(h.get(`source`,!0),this._getSourceMetaRawOption(),null)],i=[]}this._setLocalSource(r,i)},e.prototype._applyTransform=function(e){var t=this._sourceHost,n=t.get(`transform`,!0),r=t.get(`fromTransformResult`,!0);r!=null&&e.length!==1&&Wm(``);var i,a=[],o=[];return c(e,function(e){e.prepareSource();var t=e.getSource(r||0);r!=null&&!t&&Wm(``),a.push(t),o.push(e._getVersionSign())}),n?i=Dm(n,a,{datasetIndex:t.componentIndex}):r!=null&&(i=[Rp(a[0])]),{sourceList:i,upstreamSignList:o}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},e.prototype.getSource=function(e){e||=0;var t=this._sourceList[e];if(!t){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return t},e.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},e.prototype._innerGetDataStore=function(e,t,n){var r=0,i=this._storeList,a=i[r];a||=i[r]={};var o=a[n];if(!o){var s=this._getUpstreamSourceManagers()[0];Um(this._sourceHost)&&s?o=s._innerGetDataStore(e,t,n):(o=new Vm,o.initData(new Zp(t,e.length),e)),a[n]=o}return o},e.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Um(e)){var t=jf(e);return t?[t.getSourceManager()]:[]}else return B(Mf(e),function(e){return e.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,n,r;if(Um(e))t=e.get(`seriesLayoutBy`,!0),n=e.get(`sourceHeader`,!0),r=e.get(`dimensions`,!0);else if(!this._getUpstreamSourceManagers().length){var i=e;t=i.get(`seriesLayoutBy`,!0),n=i.get(`sourceHeader`,!0),r=i.get(`dimensions`,!0)}return{seriesLayoutBy:t,sourceHeader:n,dimensions:r}},e}();function Um(e){return e.mainType===`series`}function Wm(e){throw Error(e)}var Gm=`line-height:1`;function Km(e){var t=e.lineHeight;return t==null?Gm:`line-height:`+he(t+``)+`px`}function qm(e,t){var n=e.color||X.color.tertiary,r=e.fontSize||12,i=e.fontWeight||`400`,a=e.color||X.color.secondary,o=e.fontSize||14,s=e.fontWeight||`900`;return t===`html`?{nameStyle:`font-size:`+he(r+``)+`px;color:`+he(n)+`;font-weight:`+he(i+``),valueStyle:`font-size:`+he(o+``)+`px;color:`+he(a)+`;font-weight:`+he(s+``)}:{nameStyle:{fontSize:r,fill:n,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var Jm=[0,10,20,30],Ym=[``,`
`,`

`,`


`];function Xm(e,t){return t.type=e,t}function Zm(e){return e.type===`section`}function Qm(e){return Zm(e)?eh:th}function $m(e){if(Zm(e)){var t=0,n=e.blocks.length,r=n>1||n>0&&!e.noHeader;return c(e.blocks,function(e){var n=$m(e);n>=t&&(t=n+ +(r&&(!n||Zm(e)&&!e.noHeader)))}),t}return 0}function eh(e,t,n,r){var i=t.noHeader,a=rh($m(t)),o=[],s=t.blocks||[];ie(!s||D(s)),s||=[];var l=e.orderMode;if(t.sortBlocks&&l){s=s.slice();var u={valueAsc:`asc`,valueDesc:`desc`};if(x(u,l)){var d=new vm(u[l],null);s.sort(function(e,t){return d.evaluate(e.sortParam,t.sortParam)})}else l===`seriesDesc`&&s.reverse()}c(s,function(n,i){var s=t.valueFormatter,c=Qm(n)(s?C(C({},e),{valueFormatter:s}):e,n,i>0?a.html:0,r);c!=null&&o.push(c)});var f=e.renderMode===`richText`?o.join(a.richText):ih(r,o.join(``),i?n:a.html);if(i)return f;var p=Od(t.header,`ordinal`,e.useUTC),m=qm(r,e.renderMode).nameStyle,h=Km(r);return e.renderMode===`richText`?sh(e,p,m)+a.richText+f:ih(r,`<div style="`+m+`;`+h+`;">`+he(p)+`</div>`+f,n)}function th(e,t,n,r){var i=e.renderMode,a=t.noName,o=t.noValue,s=!t.markerType,c=t.name,l=e.useUTC,u=t.valueFormatter||e.valueFormatter||function(e){return e=D(e)?e:[e],B(e,function(e,t){return Od(e,D(p)?p[t]:p,l)})};if(!(a&&o)){var d=s?``:e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||X.color.secondary,i),f=a?``:Od(c,`ordinal`,l),p=t.valueType,m=o?[]:u(t.value,t.dataIndex),h=!s||!a,g=!s&&a,_=qm(r,i),v=_.nameStyle,y=_.valueStyle;return i===`richText`?(s?``:d)+(a?``:sh(e,f,v))+(o?``:ch(e,m,h,g,y)):ih(r,(s?``:d)+(a?``:ah(f,!s,v))+(o?``:oh(m,h,g,y)),n)}}function nh(e,t,n,r,i,a){if(e)return Qm(e)({useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:t,valueFormatter:e.valueFormatter},e,0,a)}function rh(e){return{html:Jm[e],richText:Ym[e]}}function ih(e,t,n){var r=`<div style="clear:both"></div>`,i=`margin: `+n+`px 0 0`,a=Km(e);return`<div style="`+i+`;`+a+`;">`+t+r+`</div>`}function ah(e,t,n){var r=t?`margin-left:2px`:``;return`<span style="`+n+`;`+r+`">`+he(e)+`</span>`}function oh(e,t,n,r){var i=t?`float:right;margin-left:`+(n?`10px`:`20px`):``;return e=D(e)?e:[e],`<span style="`+i+`;`+r+`">`+B(e,function(e){return he(e)}).join(`&nbsp;&nbsp;`)+`</span>`}function sh(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function ch(e,t,n,r,i){var a=[i],o=r?10:20;return n&&a.push({padding:[0,0,0,o],align:`right`}),e.markupStyleCreator.wrapRichTextStyle(D(t)?t.join(`  `):t,a)}function lh(e,t){var n=e.getData().getItemVisual(t,`style`)[e.visualDrawType];return Fd(n)}function uh(e,t){return e.get(`padding`)??(t===`richText`?[8,10]:10)}var dh=function(){function e(){this.richTextStyles={},this._nextStyleNameId=Go()}return e.prototype._generateStyleName=function(){return`__EC_aUTo_`+ this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(e,t,n){var r=n===`richText`?this._generateStyleName():null,i=Md({color:t,type:e,renderMode:n,markerId:r});return z(i)?i:(this.richTextStyles[r]=i.style,i.content)},e.prototype.wrapRichTextStyle=function(e,t){var n={};D(t)?c(t,function(e){return C(n,e)}):C(n,t);var r=this._generateStyleName();return this.richTextStyles[r]=n,`{`+r+`|`+e+`}`},e}();function fh(e){var t=e.series,n=e.dataIndex,r=e.multipleSeries,i=t.getData(),a=i.mapDimensionsAll(`defaultedTooltip`),o=a.length,s=t.getRawValue(n),c=D(s),l=lh(t,n),u,d,f,p;if(o>1||c&&!o){var m=ph(s,t,n,a,l);u=m.inlineValues,d=m.inlineValueTypes,f=m.blocks,p=m.inlineValues[0]}else if(o){var h=i.getDimensionInfo(a[0]);p=u=lm(i,n,a[0]),d=h.type}else p=u=c?s[0]:s;var g=_s(t),_=g&&t.name||``,v=i.getName(n),y=r?_:v;return Xm(`section`,{header:_,noHeader:r||!g,sortParam:p,blocks:[Xm(`nameValue`,{markerType:`item`,markerColor:l,name:y,noName:!Be(y),value:u,valueType:d,dataIndex:n})].concat(f||[])})}function ph(e,t,n,r,i){var a=t.getData(),o=Je(e,function(e,t,n){var r=a.getDimensionInfo(n);return e||=r&&r.tooltip!==!1&&r.displayName!=null},!1),s=[],l=[],u=[];r.length?c(r,function(e){d(lm(a,n,e),e)}):c(e,d);function d(e,t){var n=a.getDimensionInfo(t);!n||n.otherDims.tooltip===!1||(o?u.push(Xm(`nameValue`,{markerType:`subItem`,markerColor:i,name:n.displayName,value:e,valueType:n.type})):(s.push(e),l.push(n.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}u();var mh=G();function hh(e,t){return e.getName(t)||e.getId(t)}var gh=function(e){P(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return t.prototype.init=function(e,t,n){this.seriesIndex=this.componentIndex,this.dataTask=pm({count:yh,reset:bh}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),(mh(this).sourceManager=new Hm(this)).prepareSource();var r=this.getInitialData(e,n);Sh(r,this),this.dataTask.context.data=r,mh(this).dataBeforeProcessed=r,_h(this),this._initSelectedMapFromData(r)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=rf(this),r=n?of(e):{},i=this.subType;J.hasClass(i)&&(i+=`Series`),L(e,t.getTheme().get(this.subType)),L(e,this.getDefaultOption()),rs(e,`label`,[`show`]),this.fillDataTextStyle(e.data),n&&af(e,r,n)},t.prototype.mergeOption=function(e,t){e=L(this.option,e,!0),this.fillDataTextStyle(e.data);var n=rf(this);n&&af(this.option,e,n);var r=mh(this).sourceManager;r.dirty(),r.prepareSource();var i=this.getInitialData(e,t);Sh(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,mh(this).dataBeforeProcessed=i,_h(this),this._initSelectedMapFromData(i)},t.prototype.fillDataTextStyle=function(e){if(e&&!Qe(e))for(var t=[`show`],n=0;n<e.length;n++)e[n]&&e[n].label&&rs(e[n],`label`,t)},t.prototype.getInitialData=function(e,t){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var t=wh(this);if(t){var n=t.context.data;return e==null||!n.getLinkedData?n:n.getLinkedData(e)}else return mh(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var t=wh(this);if(t){var n=t.context;n.outputData=e,t!==this.dataTask&&(n.data=e)}mh(this).data=e},t.prototype.getEncode=function(){var e=this.get(`encode`,!0);if(e)return A(e)},t.prototype.getSourceManager=function(){return mh(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return mh(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get(`colorBy`)||`series`},t.prototype.isColorBySeries=function(){return this.getColorBy()===`series`},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.indicesOfNearest=function(e,t,n,r){var i=this.getData(),a=this.coordinateSystem,o=a&&a.getAxis(e);if(!a||!o)return[];var s=o.dataToCoord(n);r??=1/0;var c=[],l=1/0,u=-1,d=0;return i.each(t,function(e,t){var n=s-o.dataToCoord(e),i=Math.abs(n);i<=r&&((i<l||i===l&&n>=0&&u<0)&&(l=i,u=n,d=0),n===u&&(c[d++]=t))}),c.length=d,c},t.prototype.formatTooltip=function(e,t,n){return fh({series:this,dataIndex:e,multipleSeries:t})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(V.node&&!(e&&e.ssr))return!1;var t=this.getShallow(`animation`);return t&&this.getData().count()>this.getShallow(`animationThreshold`)&&(t=!1),!!t},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,t,n){var r=this.ecModel,i=Rf.prototype.getColorFromPalette.call(this,e,t,n);return i||=r.getColorFromPalette(e,t,n),i},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get(`progressive`)},t.prototype.getProgressiveThreshold=function(){return this.get(`progressiveThreshold`)},t.prototype.select=function(e,t){this._innerSelect(this.getData(t),e)},t.prototype.unselect=function(e,t){var n=this.option.selectedMap;if(n){var r=this.option.selectedMode,i=this.getData(t);if(r===`series`||n===`all`){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var a=0;a<e.length;a++){var o=e[a],s=hh(i,o);n[s]=!1,this._selectedDataIndicesMap[s]=-1}}},t.prototype.toggleSelect=function(e,t){for(var n=[],r=0;r<e.length;r++)n[0]=e[r],this.isSelected(e[r],t)?this.unselect(n,t):this.select(n,t)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap===`all`)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,t=ot(e),n=[],r=0;r<t.length;r++){var i=e[t[r]];i>=0&&n.push(i)}return n},t.prototype.isSelected=function(e,t){var n=this.option.selectedMap;if(!n)return!1;var r=this.getData(t);return(n===`all`||n[hh(r,e)])&&!r.getItemModel(e).get([`select`,`disabled`])},t.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var e=this.option.universalTransition;return e?e===!0?!0:e&&e.enabled:!1},t.prototype._innerSelect=function(e,t){var n,r,a=this.option,o=a.selectedMode,s=t.length;if(!(!o||!s)){if(o===`series`)a.selectedMap=`all`;else if(o===`multiple`){i(a.selectedMap)||(a.selectedMap={});for(var c=a.selectedMap,l=0;l<s;l++){var u=t[l],d=hh(e,u);c[d]=!0,this._selectedDataIndicesMap[d]=e.getRawIndex(u)}}else if(o===`single`||o===!0){var f=t[s-1],d=hh(e,f);a.selectedMap=(n={},n[d]=!0,n),this._selectedDataIndicesMap=(r={},r[d]=e.getRawIndex(f),r)}}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var t=[];e.hasItemOption&&e.each(function(n){var r=e.getRawDataItem(n);r&&r.selected&&t.push(n)}),t.length>0&&this._innerSelect(e,t)}},t.registerClass=function(e){return J.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type=`series.__base__`,e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol=`circle`,e.visualStyleAccessPath=`itemStyle`,e.visualDrawType=`fill`}(),t}(J);et(gh,dm),et(gh,Rf),zs(gh,J);function _h(e){var t=e.name;_s(e)||(e.name=vh(e)||t)}function vh(e){var t=e.getRawData(),n=t.mapDimensionsAll(`seriesName`),r=[];return c(n,function(e){var n=t.getDimensionInfo(e);n.displayName&&r.push(n.displayName)}),r.join(` `)}function yh(e){return e.model.getRawData().count()}function bh(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),xh}function xh(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function Sh(e,t){c(T(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(n){e.wrapMethod(n,ue(Ch,t))})}function Ch(e,t){var n=wh(e);return n&&n.setOutputEnd((t||this).count()),t}function wh(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(e.uid))}return r}}var Th=gh,Eh=function(){function e(){this.group=new ce,this.uid=wu(`viewComponent`)}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,r){},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,r){},e.prototype.updateLayout=function(e,t,n,r){},e.prototype.updateVisual=function(e,t,n,r){},e.prototype.toggleBlurSeries=function(e,t,n){},e.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},e}();Ls(Eh),Ws(Eh);var Dh=Eh;function Oh(){var e=G();return function(t){var n=e(t),r=t.pipelineContext,i=!!n.large,a=!!n.progressiveRender,o=n.large=!!(r&&r.large),s=n.progressiveRender=!!(r&&r.progressiveRender);return(i!==o||a!==s)&&`reset`}}var kh=G(),Ah=Oh(),jh=function(){function e(){this.group=new ce,this.uid=wu(`viewChart`),this.renderTask=pm({plan:Ph,reset:Fh}),this.renderTask.context={view:this}}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,r){},e.prototype.highlight=function(e,t,n,r){var i=e.getData(r&&r.dataType);i&&Nh(i,r,`emphasis`)},e.prototype.downplay=function(e,t,n,r){var i=e.getData(r&&r.dataType);i&&Nh(i,r,`normal`)},e.prototype.remove=function(e,t){this.group.removeAll()},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,r){this.render(e,t,n,r)},e.prototype.updateLayout=function(e,t,n,r){this.render(e,t,n,r)},e.prototype.updateVisual=function(e,t,n,r){this.render(e,t,n,r)},e.prototype.eachRendered=function(e){Bl(this.group,e)},e.markUpdateMethod=function(e,t){kh(e).updateMethod=t},e.protoInitialize=function(){var t=e.prototype;t.type=`chart`}(),e}();function Mh(e,t,n){e&&qc(e)&&(t===`emphasis`?Tc:Ec)(e,n)}function Nh(e,t,n){var r=Ss(e,t),i=t&&t.highlightKey!=null?Jc(t.highlightKey):null;r==null?e.eachItemGraphicEl(function(e){Mh(e,n,i)}):c(ns(r),function(t){Mh(e.getItemGraphicEl(t),n,i)})}Ls(jh,[`dispose`]),Ws(jh);function Ph(e){return Ah(e.model)}function Fh(e){var t=e.model,n=e.ecModel,r=e.api,i=e.payload,a=t.pipelineContext.progressiveRender,o=e.view,s=i&&kh(i).updateMethod,c=a?`incrementalPrepareRender`:s&&o[s]?s:`render`;return c!==`render`&&o[c](t,n,r,i),Ih[c]}var Ih={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},Lh=jh,Rh=`\0__throttleOriginMethod`,zh=`\0__throttleRate`,Bh=`\0__throttleType`;function Vh(e,t,n){var r,i=0,a=0,o=null,s,c,l,u;t||=0;function d(){a=new Date().getTime(),o=null,e.apply(c,l||[])}var f=function(){var e=[...arguments];r=new Date().getTime(),c=this,l=e;var f=u||t,p=u||n;u=null,s=r-(p?i:a)-f,clearTimeout(o),p?o=setTimeout(d,f):s>=0?d():o=setTimeout(d,-s),i=r};return f.clear=function(){o&&=(clearTimeout(o),null)},f.debounceNextCall=function(e){u=e},f}function Hh(e,t,n,r){var i=e[t];if(i){var a=i[Rh]||i,o=i[Bh];if(i[zh]!==n||o!==r){if(n==null||!r)return e[t]=a;i=e[t]=Vh(a,n,r===`debounce`),i[Rh]=a,i[Bh]=r,i[zh]=n}return i}}function Uh(e,t){var n=e[t];n&&n[Rh]&&(n.clear&&n.clear(),e[t]=n[Rh])}var Wh=G(),Gh={itemStyle:Gs(vu,!0),lineStyle:Gs(hu,!0)},Kh={lineStyle:`stroke`,itemStyle:`fill`};function qh(e,t){return e.visualStyleMapper||Gh[t]||(console.warn(`Unknown style type '`+t+`'.`),Gh.itemStyle)}function Jh(e,t){return e.visualDrawType||Kh[t]||(console.warn(`Unknown style type '`+t+`'.`),`fill`)}var Yh={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),r=e.visualStyleAccessPath||`itemStyle`,i=e.getModel(r),a=qh(e,r)(i),o=i.getShallow(`decal`);o&&(n.setVisual(`decal`,o),o.dirty=!0);var s=Jh(e,r),c=a[s],l=I(c)?c:null,u=a.fill===`auto`||a.stroke===`auto`;if(!a[s]||l||u){var d=e.getColorFromPalette(e.name,null,t.getSeriesCount());a[s]||(a[s]=d,n.setVisual(`colorFromPalette`,!0)),a.fill=a.fill===`auto`||I(a.fill)?d:a.fill,a.stroke=a.stroke===`auto`||I(a.stroke)?d:a.stroke}if(n.setVisual(`style`,a),n.setVisual(`drawType`,s),!t.isSeriesFiltered(e)&&l)return n.setVisual(`colorFromPalette`,!1),{dataEach:function(t,n){var r=e.getDataParams(n),i=C({},a);i[s]=l(r),t.setItemVisual(n,`style`,i)}}}},Xh=new Su,Zh={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var n=e.getData(),r=e.visualStyleAccessPath||`itemStyle`,i=qh(e,r),a=n.getVisual(`drawType`);return{dataEach:n.hasItemOption?function(e,t){var n=e.getRawDataItem(t);if(n&&n[r]){Xh.option=n[r];var o=i(Xh);C(e.ensureUniqueItemVisual(t,`style`),o),Xh.option.decal&&(e.setItemVisual(t,`decal`,Xh.option.decal),Xh.option.decal.dirty=!0),a in o&&e.setItemVisual(t,`colorFromPalette`,!1)}}:null}}}},Qh={performRawSeries:!0,overallReset:function(e){var t=A();e.eachSeries(function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var r=e.type+`-`+n,i=t.get(r);i||(i={},t.set(r,i)),Wh(e).scope=i}}),e.eachSeries(function(t){if(!(t.isColorBySeries()||e.isSeriesFiltered(t))){var n=t.getRawData(),r={},i=t.getData(),a=Wh(t).scope,o=Jh(t,t.visualStyleAccessPath||`itemStyle`);i.each(function(e){var t=i.getRawIndex(e);r[t]=e}),n.each(function(e){var s=r[e];if(i.getItemVisual(s,`colorFromPalette`)){var c=i.ensureUniqueItemVisual(s,`style`),l=n.getName(e)||e+``,u=n.count();c[o]=t.getColorFromPalette(l,a,u)}})}})}},$h=Math.PI;function eg(e,t){t||={},H(t,{text:`loading`,textColor:X.color.primary,fontSize:12,fontWeight:`normal`,fontStyle:`normal`,fontFamily:`sans-serif`,maskColor:`rgba(255,255,255,0.8)`,showSpinner:!0,color:X.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var n=new ce,r=new F({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(r);var i=new s({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new F({style:{fill:`none`},textContent:i,textConfig:{position:`right`,distance:10},zlevel:t.zlevel,z:10001});n.add(a);var o;return t.showSpinner&&(o=new ae({shape:{startAngle:-$h/2,endAngle:-$h/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:`round`,lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:$h*3/2}).start(`circularInOut`),o.animateShape(!0).when(1e3,{startAngle:$h*3/2}).delay(300).start(`circularInOut`),n.add(o)),n.resize=function(){var n=i.getBoundingRect().width,s=t.showSpinner?t.spinnerRadius:0,c=(e.getWidth()-s*2-(t.showSpinner&&n?10:0)-n)/2-(t.showSpinner&&n?0:5+n/2)+(t.showSpinner?0:n/2)+(n?0:s),l=e.getHeight()/2;t.showSpinner&&o.setShape({cx:c,cy:l}),a.setShape({x:c-s,y:l-s,width:s*2,height:s*2}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}var tg=function(){function e(e,t,n,r){this._stageTaskMap=A(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return e.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(e){var t=e.overallTask;t&&t.dirty()})},e.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),r=n.context,i=!t&&n.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>n.blockIndex?n.step:null,a=r&&r.modDataCount;return{step:i,modBy:a==null?null:Math.ceil(a/i),modDataCount:a}}},e.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},e.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),r=e.getData().count(),i=n.progressiveEnabled&&t.incrementalPrepareRender&&r>=n.threshold,a=e.get(`large`)&&r>=e.get(`largeThreshold`);e.pipelineContext=n.context={progressiveRender:i,modDataCount:e.get(`progressiveChunkMode`)===`mod`?r:null,large:a}},e.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=A();e.eachSeries(function(e){var r=e.getProgressive(),i=e.uid;n.set(i,{id:i,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:r&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),t._pipe(e,e.dataTask)})},e.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;c(this._allHandlers,function(r){var i=e.get(r.uid)||e.set(r.uid,{});ie(!(r.reset&&r.overallReset),``),r.reset&&this._createSeriesStageTask(r,i,t,n),r.overallReset&&this._createOverallStageTask(r,i,t,n)},this)},e.prototype.prepareView=function(e,t,n,r){var i=e.renderTask,a=i.context;a.model=t,a.ecModel=n,a.api=r,i.__block=!e.incrementalPrepareRender,this._pipe(t,i)},e.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},e.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},e.prototype._performStageTasks=function(e,t,n,r){r||={};var i=!1,a=this;c(e,function(e,s){if(!(r.visualType&&r.visualType!==e.visualType)){var c=a._stageTaskMap.get(e.uid),l=c.seriesTaskMap,u=c.overallTask;if(u){var d,f=u.agentStubMap;f.each(function(e){o(r,e)&&(e.dirty(),d=!0)}),d&&u.dirty(),a.updatePayload(u,n);var p=a.getPerformArgs(u,r.block);f.each(function(e){e.perform(p)}),u.perform(p)&&(i=!0)}else l&&l.each(function(s,c){o(r,s)&&s.dirty();var l=a.getPerformArgs(s,r.block);l.skip=!e.performRawSeries&&t.isSeriesFiltered(s.context.model),a.updatePayload(s,n),s.perform(l)&&(i=!0)})}});function o(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}this.unfinished=i||this.unfinished},e.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(e){t=e.dataTask.perform()||t}),this.unfinished=t||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},e.prototype.updatePayload=function(e,t){t!==`remain`&&(e.context.payload=t)},e.prototype._createSeriesStageTask=function(e,t,n,r){var i=this,a=t.seriesTaskMap,o=t.seriesTaskMap=A(),s=e.seriesType,c=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(l):s?n.eachRawSeriesByType(s,l):c&&c(n,r).each(l);function l(t){var s=t.uid,c=o.set(s,a&&a.get(s)||pm({plan:og,reset:sg,count:ug}));c.context={model:t,ecModel:n,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:i},i._pipe(t,c)}},e.prototype._createOverallStageTask=function(e,t,n,r){var i=this,a=t.overallTask=t.overallTask||pm({reset:ng});a.context={ecModel:n,api:r,overallReset:e.overallReset,scheduler:i};var o=a.agentStubMap,s=a.agentStubMap=A(),l=e.seriesType,u=e.getTargetSeries,d=!0,f=!1;ie(!e.createOnAllSeries,``),l?n.eachRawSeriesByType(l,p):u?u(n,r).each(p):(d=!1,c(n.getSeries(),p));function p(e){var t=e.uid,n=s.set(t,o&&o.get(t)||(f=!0,pm({reset:rg,onDirty:ag})));n.context={model:e,overallProgress:d},n.agent=a,n.__block=d,i._pipe(e,n)}f&&a.dirty()},e.prototype._pipe=function(e,t){var n=e.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},e.wrapStageHandler=function(e,t){return I(e)&&(e={overallReset:e,seriesType:dg(e)}),e.uid=wu(`stageHandler`),t&&(e.visualType=t),e},e}();function ng(e){e.overallReset(e.ecModel,e.api,e.payload)}function rg(e){return e.overallProgress&&ig}function ig(){this.agent.dirty(),this.getDownstream().dirty()}function ag(){this.agent&&this.agent.dirty()}function og(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function sg(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=ns(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?B(t,function(e,t){return lg(t)}):cg}var cg=lg(0);function lg(e){return function(t,n){var r=n.data,i=n.resetDefines[e];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(t,r)}}function ug(e){return e.data.count()}function dg(e){mg=null;try{e(fg,pg)}catch{}return mg}var fg={},pg={},mg;hg(fg,$f),hg(pg,tp),fg.eachSeriesByType=fg.eachRawSeriesByType=function(e){mg=e},fg.eachComponent=function(e){e.mainType===`series`&&e.subType&&(mg=e.subType)};function hg(e,t){for(var n in t.prototype)e[n]=ct}var gg=tg,Q=X.darkColor,_g=Q.background,vg=function(){return{axisLine:{lineStyle:{color:Q.axisLine}},splitLine:{lineStyle:{color:Q.axisSplitLine}},splitArea:{areaStyle:{color:[Q.backgroundTint,Q.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:Q.axisMinorSplitLine}},axisLabel:{color:Q.axisLabel},axisName:{}}},yg={label:{color:Q.secondary},itemStyle:{borderColor:Q.borderTint},dividerLineStyle:{color:Q.border}},bg={darkMode:!0,color:Q.theme,backgroundColor:_g,axisPointer:{lineStyle:{color:Q.border},crossStyle:{color:Q.borderShade},label:{color:Q.tertiary}},legend:{textStyle:{color:Q.secondary},pageTextStyle:{color:Q.tertiary}},textStyle:{color:Q.secondary},title:{textStyle:{color:Q.primary},subtextStyle:{color:Q.quaternary}},toolbox:{iconStyle:{borderColor:Q.accent50}},tooltip:{backgroundColor:Q.neutral20,defaultBorderColor:Q.border,textStyle:{color:Q.tertiary}},dataZoom:{borderColor:Q.accent10,textStyle:{color:Q.tertiary},brushStyle:{color:Q.backgroundTint},handleStyle:{color:Q.neutral00,borderColor:Q.accent20},moveHandleStyle:{color:Q.accent40},emphasis:{handleStyle:{borderColor:Q.accent50}},dataBackground:{lineStyle:{color:Q.accent30},areaStyle:{color:Q.accent20}},selectedDataBackground:{lineStyle:{color:Q.accent50},areaStyle:{color:Q.accent30}}},visualMap:{textStyle:{color:Q.secondary},handleStyle:{borderColor:Q.neutral30}},timeline:{lineStyle:{color:Q.accent10},label:{color:Q.tertiary},controlStyle:{color:Q.accent30,borderColor:Q.accent30}},calendar:{itemStyle:{color:Q.neutral00,borderColor:Q.neutral20},dayLabel:{color:Q.tertiary},monthLabel:{color:Q.secondary},yearLabel:{color:Q.secondary}},matrix:{x:yg,y:yg,backgroundColor:{borderColor:Q.axisLine},body:{itemStyle:{borderColor:Q.borderTint}}},timeAxis:vg(),logAxis:vg(),valueAxis:vg(),categoryAxis:vg(),line:{symbol:`circle`},graph:{color:Q.theme},gauge:{title:{color:Q.secondary},axisLine:{lineStyle:{color:[[1,Q.neutral05]]}},axisLabel:{color:Q.axisLabel},detail:{color:Q.primary}},candlestick:{itemStyle:{color:`#f64e56`,color0:`#54ea92`,borderColor:`#f64e56`,borderColor0:`#54ea92`}},funnel:{itemStyle:{borderColor:Q.background}},radar:function(){var e=vg();return e.axisName={color:Q.axisLabel},e.axisLine.lineStyle.color=Q.neutral20,e}(),treemap:{breadcrumb:{itemStyle:{color:Q.neutral20,textStyle:{color:Q.secondary}},emphasis:{itemStyle:{color:Q.neutral30}}}},sunburst:{itemStyle:{borderColor:Q.background}},map:{itemStyle:{borderColor:Q.border,areaColor:Q.neutral10},label:{color:Q.tertiary},emphasis:{label:{color:Q.primary},itemStyle:{areaColor:Q.highlight}},select:{label:{color:Q.primary},itemStyle:{areaColor:Q.highlight}}},geo:{itemStyle:{borderColor:Q.border,areaColor:Q.neutral10},emphasis:{label:{color:Q.primary},itemStyle:{areaColor:Q.highlight}},select:{label:{color:Q.primary},itemStyle:{color:Q.highlight}}}};bg.categoryAxis.splitLine.show=!1;var xg=bg,Sg=function(){function e(){}return e.prototype.normalizeQuery=function(e){var t={},n={},r={};if(z(e)){var i=Ps(e);t.mainType=i.main||null,t.subType=i.sub||null}else{var a=[`Index`,`Name`,`Id`],o={name:1,dataIndex:1,dataType:1};c(e,function(e,i){for(var s=!1,c=0;c<a.length;c++){var l=a[c],u=i.lastIndexOf(l);if(u>0&&u===i.length-l.length){var d=i.slice(0,u);d!==`data`&&(t.mainType=d,t[l.toLowerCase()]=e,s=!0)}}o.hasOwnProperty(i)&&(n[i]=e,s=!0),s||(r[i]=e)})}return{cptQuery:t,dataQuery:n,otherQuery:r}},e.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,i=n.packedEvent,a=n.model,o=n.view;if(!a||!o)return!0;var s=t.cptQuery,c=t.dataQuery;return l(s,a,`mainType`)&&l(s,a,`subType`)&&l(s,a,`index`,`componentIndex`)&&l(s,a,`name`)&&l(s,a,`id`)&&l(c,i,`name`)&&l(c,i,`dataIndex`)&&l(c,i,`dataType`)&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,r,i));function l(e,t,n,r){return e[n]==null||t[r||n]===e[n]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),Cg=[`symbol`,`symbolSize`,`symbolRotate`,`symbolOffset`],wg=Cg.concat([`symbolKeepAspect`]),Tg={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual(`legendIcon`,e.legendIcon),!e.hasSymbolVisual)return;for(var r={},i={},a=!1,o=0;o<Cg.length;o++){var s=Cg[o],c=e.get(s);I(c)?(a=!0,i[s]=c):r[s]=c}if(r.symbol=r.symbol||e.defaultSymbol,n.setVisual(C({legendIcon:e.legendIcon||r.symbol,symbolKeepAspect:e.get(`symbolKeepAspect`)},r)),t.isSeriesFiltered(e))return;var l=ot(i);function u(t,n){for(var r=e.getRawValue(n),a=e.getDataParams(n),o=0;o<l.length;o++){var s=l[o];t.setItemVisual(n,s,i[s](r,a))}}return{dataEach:a?u:null}}},Eg={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var n=e.getData();function r(e,t){for(var n=e.getItemModel(t),r=0;r<wg.length;r++){var i=wg[r],a=n.getShallow(i,!0);a!=null&&e.setItemVisual(t,i,a)}}return{dataEach:n.hasItemOption?r:null}}};function Dg(e,t,n){switch(n){case`color`:return e.getItemVisual(t,`style`)[e.getVisual(`drawType`)];case`opacity`:return e.getItemVisual(t,`style`).opacity;case`symbol`:case`symbolSize`:case`liftZ`:return e.getItemVisual(t,n);default:}}function Og(e,t){switch(t){case`color`:return e.getVisual(`style`)[e.getVisual(`drawType`)];case`opacity`:return e.getVisual(`style`).opacity;case`symbol`:case`symbolSize`:case`liftZ`:return e.getVisual(t);default:}}function kg(e,t,n,r){switch(n){case`color`:var i=e.ensureUniqueItemVisual(t,`style`);i[e.getVisual(`drawType`)]=r,e.setItemVisual(t,`colorFromPalette`,!1);break;case`opacity`:e.ensureUniqueItemVisual(t,`style`).opacity=r;break;case`symbol`:case`symbolSize`:case`liftZ`:e.setItemVisual(t,n,r);break;default:}}function Ag(e,t,n,r,i){var a=e+t;n.isSilent(a)||r.eachComponent({mainType:`series`,subType:`pie`},function(e){for(var t=e.seriesIndex,r=e.option.selectedMap,o=i.selected,s=0;s<o.length;s++)if(o[s].seriesIndex===t){var c=e.getData(),l=Ss(c,i.fromActionPayload);n.trigger(a,{type:a,seriesId:e.id,name:D(l)?c.getName(l[0]):c.getName(l),selected:z(r)?r:C({},r)})}})}function jg(e,t,n){e.on(`selectchanged`,function(e){var r=n.getModel();e.isFromClick?(Ag(`map`,`selectchanged`,t,r,e),Ag(`pie`,`selectchanged`,t,r,e)):e.fromAction===`select`?(Ag(`map`,`selected`,t,r,e),Ag(`pie`,`selected`,t,r,e)):e.fromAction===`unselect`&&(Ag(`map`,`unselected`,t,r,e),Ag(`pie`,`unselected`,t,r,e))})}function Mg(e,t,n){for(var r;e&&!(t(e)&&(r=e,n));)e=e.__hostTarget||e.parent;return r}var Ng=O.extend({type:`triangle`,shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,a=t.height/2;e.moveTo(n,r-a),e.lineTo(n+i,r+a),e.lineTo(n-i,r+a),e.closePath()}}),Pg={line:a,rect:F,roundRect:F,square:F,circle:w,diamond:O.extend({type:`diamond`,shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,a=t.height/2;e.moveTo(n,r-a),e.lineTo(n+i,r),e.lineTo(n,r+a),e.lineTo(n-i,r),e.closePath()}}),pin:O.extend({type:`pin`,shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,i=t.width/5*3,a=Math.max(i,t.height),o=i/2,s=o*o/(a-o),c=r-a+o+s,l=Math.asin(s/o),u=Math.cos(l)*o,d=Math.sin(l),f=Math.cos(l),p=o*.6,m=o*.7;e.moveTo(n-u,c+s),e.arc(n,c,o,Math.PI-l,Math.PI*2+l),e.bezierCurveTo(n+u-d*p,c+s+f*p,n,r-m,n,r),e.bezierCurveTo(n,r-m,n-u+d*p,c+s+f*p,n-u,c+s),e.closePath()}}),arrow:O.extend({type:`arrow`,shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,i=t.x,a=t.y,o=r/3*2;e.moveTo(i,a),e.lineTo(i+o,a+n),e.lineTo(i,a+n/4*3),e.lineTo(i-o,a+n),e.lineTo(i,a),e.closePath()}}),triangle:Ng},Fg={line:function(e,t,n,r,i){i.x1=e,i.y1=t+r/2,i.x2=e+n,i.y2=t+r/2},rect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r},roundRect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(e,t,n,r,i){var a=Math.min(n,r);i.x=e,i.y=t,i.width=a,i.height=a},circle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.r=Math.min(n,r)/2},diamond:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r},pin:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},arrow:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},triangle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r}},Ig={};c(Pg,function(e,t){Ig[t]=new e});var Lg=O.extend({type:`symbol`,shape:{symbolType:``,x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var i=r(e,t,n),a=this.shape;return a&&a.symbolType===`pin`&&t.position===`inside`&&(i.y=n.y+n.height*.4),i},buildPath:function(e,t,n){var r=t.symbolType;if(r!==`none`){var i=Ig[r];i||=(r=`rect`,Ig[r]),Fg[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,n)}}});function Rg(e,t){if(this.type!==`image`){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||X.color.neutral00,n.lineWidth=2):this.shape.symbolType===`line`?n.stroke=e:n.fill=e,this.markRedraw()}}function zg(e,t,n,r,i,a,o){var s=e.indexOf(`empty`)===0;s&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var c=e.indexOf(`image://`)===0?gl(e.slice(8),new rt(t,n,r,i),o?`center`:`cover`):e.indexOf(`path://`)===0?hl(e.slice(7),{},new rt(t,n,r,i),o?`center`:`cover`):new Lg({shape:{symbolType:e,x:t,y:n,width:r,height:i}});return c.__isEmptyBrush=s,c.setColor=Rg,a&&c.setColor(a),c}function Bg(e,t){if(e!=null)return D(e)||(e=[e,e]),[So(e[0],t[0])||0,So(R(e[1],e[0]),t[1])||0]}var Vg=new de,Hg=new Pe(100),Ug=[`symbol`,`symbolSize`,`symbolKeepAspect`,`color`,`backgroundColor`,`dashArrayX`,`dashArrayY`,`maxTileWidth`,`maxTileHeight`];function Wg(e,t){if(e===`none`)return null;var n=t.getDevicePixelRatio(),r=t.getZr(),i=r.painter.type===`svg`;e.dirty&&Vg.delete(e);var a=Vg.get(e);if(a)return a;var o=H(e,{symbol:`rect`,symbolSize:1,symbolKeepAspect:!0,color:`rgba(0, 0, 0, 0.2)`,backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor===`none`&&(o.backgroundColor=null);var s={repeat:`repeat`};return c(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/n,Vg.set(e,s),e.dirty=!1,s;function c(e){for(var t=[n],a=!0,s=0;s<Ug.length;++s){var c=o[Ug[s]];if(c!=null&&!D(c)&&!z(c)&&!N(c)&&typeof c!=`boolean`){a=!1;break}t.push(c)}var l;if(a){l=t.join(`,`)+(i?`-svg`:``);var u=Hg.get(l);u&&(i?e.svgElement=u:e.image=u)}var d=Kg(o.dashArrayX),f=qg(o.dashArrayY),p=Gg(o.symbol),m=Jg(d),h=Yg(f),g=!i&&Ee.createCanvas(),_=i&&{tag:`g`,attrs:{},key:`dcl`,children:[]},v=b(),y;g&&(g.width=v.width*n,g.height=v.height*n,y=g.getContext(`2d`)),x(),a&&Hg.put(l,g||_),e.image=g,e.svgElement=_,e.svgWidth=v.width,e.svgHeight=v.height;function b(){for(var e=1,t=0,n=m.length;t<n;++t)e=qo(e,m[t]);for(var r=1,t=0,n=p.length;t<n;++t)r=qo(r,p[t].length);e*=r;var i=h*m.length*p.length;return{width:Math.max(1,Math.min(e,o.maxTileWidth)),height:Math.max(1,Math.min(i,o.maxTileHeight))}}function x(){y&&(y.clearRect(0,0,g.width,g.height),o.backgroundColor&&(y.fillStyle=o.backgroundColor,y.fillRect(0,0,g.width,g.height)));for(var e=0,t=0;t<f.length;++t)e+=f[t];if(e<=0)return;for(var a=-h,s=0,c=0,l=0;a<v.height;){if(s%2==0){for(var u=c/2%p.length,m=0,b=0,x=0;m<v.width*2;){for(var S=0,t=0;t<d[l].length;++t)S+=d[l][t];if(S<=0)break;if(b%2==0){var C=(1-o.symbolSize)*.5,w=m+d[l][b]*C,T=a+f[s]*C,E=d[l][b]*o.symbolSize,D=f[s]*o.symbolSize,O=x/2%p[u].length;k(w,T,E,D,p[u][O])}m+=d[l][b],++x,++b,b===d[l].length&&(b=0)}++l,l===d.length&&(l=0)}a+=f[s],++c,++s,s===f.length&&(s=0)}function k(e,t,a,s,c){var l=i?1:n,u=zg(c,e*l,t*l,a*l,s*l,o.color,o.symbolKeepAspect);if(i){var d=r.painter.renderOneToVNode(u);d&&_.children.push(d)}else yt(y,u)}}}}function Gg(e){if(!e||e.length===0)return[[`rect`]];if(z(e))return[[e]];for(var t=!0,n=0;n<e.length;++n)if(!z(e[n])){t=!1;break}if(t)return Gg([e]);for(var r=[],n=0;n<e.length;++n)z(e[n])?r.push([e[n]]):r.push(e[n]);return r}function Kg(e){if(!e||e.length===0)return[[0,0]];if(N(e)){var t=Math.ceil(e);return[[t,t]]}for(var n=!0,r=0;r<e.length;++r)if(!N(e[r])){n=!1;break}if(n)return Kg([e]);for(var i=[],r=0;r<e.length;++r)if(N(e[r])){var t=Math.ceil(e[r]);i.push([t,t])}else{var t=B(e[r],function(e){return Math.ceil(e)});t.length%2==1?i.push(t.concat(t)):i.push(t)}return i}function qg(e){if(!e||typeof e==`object`&&e.length===0)return[0,0];if(N(e)){var t=Math.ceil(e);return[t,t]}var n=B(e,function(e){return Math.ceil(e)});return e.length%2?n.concat(n):n}function Jg(e){return B(e,function(e){return Yg(e)})}function Yg(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2==1?t*2:t}function Xg(e,t){e.eachRawSeries(function(n){if(!e.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(e){var n=r.getItemVisual(e,`decal`);if(n){var i=r.ensureUniqueItemVisual(e,`style`);i.decal=Wg(n,t)}});var i=r.getVisual(`decal`);if(i){var a=r.getVisual(`style`);a.decal=Wg(i,t)}}})}var Zg=new oe,Qg={};function $g(e,t){Qg[e]=t}function e_(e){return Qg[e]}var t_={};function n_(e,t){t_[e]=t}u();var r_=`6.0.0`,i_={zrender:`6.0.0`},a_=1,o_=800,s_=900,c_=1e3,l_=2e3,u_=5e3,d_=1e3,f_=1100,p_=2e3,m_=3e3,h_=4e3,g_=4500,__=4600,v_=5e3,y_=6e3,b_=7e3,x_={PROCESSOR:{FILTER:c_,SERIES_FILTER:o_,STATISTIC:u_},VISUAL:{LAYOUT:d_,PROGRESSIVE_LAYOUT:f_,GLOBAL:p_,CHART:m_,POST_CHART_LAYOUT:__,COMPONENT:h_,BRUSH:v_,CHART_ITEM:g_,ARIA:y_,DECAL:b_}},$=`__flagInMainProcess`,S_=`__mainProcessVersion`,C_=`__pendingUpdate`,w_=`__needsUpdateStatus`,T_=/^[a-zA-Z0-9_]+$/,E_=`__connectUpdateStatus`,D_=0,O_=1,k_=2;function A_(e){return function(){var t=[...arguments];if(this.isDisposed()){this.id;return}return M_(this,e,t)}}function j_(e){return function(){return M_(this,e,[...arguments])}}function M_(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),oe.prototype[t].apply(e,n)}var N_=function(e){P(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(oe),P_=N_.prototype;P_.on=j_(`on`),P_.off=j_(`off`);var F_,I_,L_,R_,z_,B_,V_,H_,U_,W_,G_,K_,q_,J_,Y_,X_,Z_,Q_,$_,ev=function(e){P(t,e);function t(t,n,r){var i=e.call(this,new Sg)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],r||={},i._dom=t;var a=`canvas`,o=`auto`,s=!1;i[S_]=1,r.ssr&&xe(function(e){var t=K(e),n=t.dataIndex;if(n!=null){var r=A();return r.set(`series_index`,t.seriesIndex),r.set(`data_index`,n),t.ssrType&&r.set(`ssr_type`,t.ssrType),r}});var c=i._zr=E(t,{renderer:r.renderer||a,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:R(r.useDirtyRect,s),useCoarsePointer:R(r.useCoarsePointer,o),pointerSize:r.pointerSize});i._ssr=r.ssr,i._throttledZrFlush=Vh(M(c.flush,c),17),i._updateTheme(n),i._locale=Lu(r.locale||Fu),i._coordSysMgr=new Kd;var l=i._api=Y_(i);function u(e,t){return e.__prio-t.__prio}return Le(cv,u),Le(ov,u),i._scheduler=new gg(i,l,ov,cv),i._messageCenter=new N_,i._initEvents(),i.resize=M(i.resize,i),c.animation.on(`frame`,i._onframe,i),W_(c,i),G_(c,i),nt(i),i}return t.prototype._onframe=function(){if(!this._disposed){Q_(this);var e=this._scheduler;if(this[C_]){var t=this[C_].silent;this[$]=!0,$_(this);try{F_(this),R_.update.call(this,null,this[C_].updateParams)}catch(e){throw this[$]=!1,this[C_]=null,e}this._zr.flush(),this[$]=!1,this[C_]=null,H_.call(this,t),U_.call(this,t)}else if(e.unfinished){var n=a_,r=this._model,i=this._api;e.unfinished=!1;do{var a=+new Date;e.performSeriesTasks(r),e.performDataProcessorTasks(r),B_(this,r),e.performVisualTasks(r),J_(this,this._model,i,`remain`,{}),n-=+new Date-a}while(n>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,t,n){if(!this[$]){if(this._disposed){this.id;return}var r,a,o;if(i(t)&&(n=t.lazyUpdate,r=t.silent,a=t.replaceMerge,o=t.transition,t=t.notMerge),this[$]=!0,$_(this),!this._model||t){var s=new cp(this._api),c=this._theme,l=this._model=new $f;l.scheduler=this._scheduler,l.ssr=this._ssr,l.init(null,null,null,c,this._locale,s)}this._model.setOption(e,{replaceMerge:a},sv);var u={seriesTransition:o,optionChanged:!0};if(n)this[C_]={silent:r,updateParams:u},this[$]=!1,this.getZr().wakeUp();else{try{F_(this),R_.update.call(this,null,u)}catch(e){throw this[C_]=null,this[$]=!1,e}this._ssr||this._zr.flush(),this[C_]=null,this[$]=!1,H_.call(this,r),U_.call(this,r)}}},t.prototype.setTheme=function(e,t){if(!this[$]){if(this._disposed){this.id;return}var n=this._model;if(n){var r=t&&t.silent,i=null;this[C_]&&(r??=this[C_].silent,i=this[C_].updateParams,this[C_]=null),this[$]=!0,$_(this);try{this._updateTheme(e),n.setTheme(this._theme),F_(this),R_.update.call(this,{type:`setTheme`},i)}catch(e){throw this[$]=!1,e}this[$]=!1,H_.call(this,r),U_.call(this,r)}}},t.prototype._updateTheme=function(e){z(e)&&(e=lv[e]),e&&(e=y(e),e&&jp(e,!0),this._theme=e)},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||V.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return e||={},this._zr.painter.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get(`backgroundColor`),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return e||={},this._zr.painter.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){var e=this._zr;return c(e.storage.getDisplayList(),function(e){e.stopAnimation(null,!0)}),e.painter.toDataURL()},t.prototype.getDataURL=function(e){if(this._disposed){this.id;return}e||={};var t=e.excludeComponents,n=this._model,r=[],i=this;c(t,function(e){n.eachComponent({mainType:e},function(e){var t=i._componentsMap[e.__viewId];t.group.ignore||(r.push(t),t.group.ignore=!0)})});var a=this._zr.painter.getType()===`svg`?this.getSvgDataURL():this.renderToCanvas(e).toDataURL(`image/`+(e&&e.type||`png`));return c(r,function(e){e.group.ignore=!1}),a},t.prototype.getConnectedDataURL=function(e){if(this._disposed){this.id;return}var t=e.type===`svg`,n=this.group,r=Math.min,i=Math.max,a=1/0;if(fv[n]){var o=a,s=a,l=-a,u=-a,d=[],f=e&&e.pixelRatio||this.getDevicePixelRatio();c(dv,function(a,c){if(a.group===n){var f=t?a.getZr().painter.getSvgDom().innerHTML:a.renderToCanvas(y(e)),p=a.getDom().getBoundingClientRect();o=r(p.left,o),s=r(p.top,s),l=i(p.right,l),u=i(p.bottom,u),d.push({dom:f,left:p.left,top:p.top})}}),o*=f,s*=f,l*=f,u*=f;var p=l-o,m=u-s,h=Ee.createCanvas(),g=E(h,{renderer:t?`svg`:`canvas`});if(g.resize({width:p,height:m}),t){var _=``;return c(d,function(e){var t=e.left-o,n=e.top-s;_+=`<g transform="translate(`+t+`,`+n+`)">`+e.dom+`</g>`}),g.painter.getSvgRoot().innerHTML=_,e.connectedBackgroundColor&&g.painter.setBackgroundColor(e.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}else return e.connectedBackgroundColor&&g.add(new F({shape:{x:0,y:0,width:p,height:m},style:{fill:e.connectedBackgroundColor}})),c(d,function(e){var t=new b({style:{x:e.left*f-o,y:e.top*f-s,image:e.dom}});g.add(t)}),g.refreshImmediately(),h.toDataURL(`image/`+(e&&e.type||`png`))}else return this.getDataURL(e)},t.prototype.convertToPixel=function(e,t,n){return z_(this,`convertToPixel`,e,t,n)},t.prototype.convertToLayout=function(e,t,n){return z_(this,`convertToLayout`,e,t,n)},t.prototype.convertFromPixel=function(e,t,n){return z_(this,`convertFromPixel`,e,t,n)},t.prototype.containPixel=function(e,t){if(this._disposed){this.id;return}var n=this._model,r;return c(ws(n,e),function(e,n){n.indexOf(`Models`)>=0&&c(e,function(e){var i=e.coordinateSystem;if(i&&i.containPoint)r||=!!i.containPoint(t);else if(n===`seriesModels`){var a=this._chartsMap[e.__viewId];a&&a.containPoint&&(r||=a.containPoint(t,e))}},this)},this),!!r},t.prototype.getVisual=function(e,t){var n=this._model,r=ws(n,e,{defaultMainType:`series`}),i=r.seriesModel.getData(),a=r.hasOwnProperty(`dataIndexInside`)?r.dataIndexInside:r.hasOwnProperty(`dataIndex`)?i.indexOfRawIndex(r.dataIndex):null;return a==null?Og(i,t):Dg(i,a,t)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;c(nv,function(t){var n=function(n){var r=e.getModel(),i=n.target,a;if(t===`globalout`?a={}:i&&Mg(i,function(e){var t=K(e);if(t&&t.dataIndex!=null){var n=t.dataModel||r.getSeriesByIndex(t.seriesIndex);return a=n&&n.getDataParams(t.dataIndex,t.dataType,i)||{},!0}else if(t.eventData)return a=C({},t.eventData),!0},!0),a){var o=a.componentType,s=a.componentIndex;(o===`markLine`||o===`markPoint`||o===`markArea`)&&(o=`series`,s=a.seriesIndex);var c=o&&s!=null&&r.getComponent(o,s),l=c&&e[c.mainType===`series`?`_chartsMap`:`_componentsMap`][c.__viewId];a.event=n,a.type=t,e._$eventProcessor.eventInfo={targetEl:i,packedEvent:a,model:c,view:l},e.trigger(t,a)}};n.zrEventfulCallAtLast=!0,e._zr.on(t,n,e)});var t=this._messageCenter;c(av,function(n,r){t.on(r,function(t){e.trigger(r,t)})}),jg(t,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0,this.getDom()&&Os(this.getDom(),hv,``);var e=this,t=e._api,n=e._model;c(e._componentsViews,function(e){e.dispose(n,t)}),c(e._chartsViews,function(e){e.dispose(n,t)}),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete dv[e.id]},t.prototype.resize=function(e){if(!this[$]){if(this._disposed){this.id;return}this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption(`media`),r=e&&e.silent;this[C_]&&(r??=this[C_].silent,n=!0,this[C_]=null),this[$]=!0,$_(this);try{n&&F_(this),R_.update.call(this,{type:`resize`,animation:C({duration:0},e&&e.animation)})}catch(e){throw this[$]=!1,e}this[$]=!1,H_.call(this,r),U_.call(this,r)}}},t.prototype.showLoading=function(e,t){if(this._disposed){this.id;return}if(i(e)&&(t=e,e=``),e||=`default`,this.hideLoading(),uv[e]){var n=uv[e](this._api,t),r=this._zr;this._loadingFX=n,r.add(n)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(e){var t=C({},e);return t.type=iv[e.type],t},t.prototype.dispatchAction=function(e,t){if(this._disposed){this.id;return}if(i(t)||(t={silent:!!t}),rv[e.type]&&this._model){if(this[$]){this._pendingActions.push(e);return}var n=t.silent;V_.call(this,e,n);var r=t.flush;r?this._zr.flush():r!==!1&&V.browser.weChat&&this._throttledZrFlush(),H_.call(this,n),U_.call(this,n)}},t.prototype.updateLabelLayout=function(){Zg.trigger(`series:layoutlabels`,this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed){this.id;return}var t=e.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){F_=function(e){var t=e._scheduler;t.restorePipelines(e._model),t.prepareStageTasks(),I_(e,!0),I_(e,!1),t.plan()},I_=function(e,t){for(var n=e._model,r=e._scheduler,i=t?e._componentsViews:e._chartsViews,a=t?e._componentsMap:e._chartsMap,o=e._zr,s=e._api,c=0;c<i.length;c++)i[c].__alive=!1;t?n.eachComponent(function(e,t){e!==`series`&&l(t)}):n.eachSeries(l);function l(e){var c=e.__requireNewView;e.__requireNewView=!1;var l=`_ec_`+e.id+`_`+e.type,u=!c&&a[l];if(!u){var d=Ps(e.type);u=new(t?Dh.getClass(d.main,d.sub):Lh.getClass(d.sub)),u.init(n,s),a[l]=u,i.push(u),o.add(u.group)}e.__viewId=u.__id=l,u.__alive=!0,u.__model=e,u.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!t&&r.prepareView(u,e,n,s)}for(var c=0;c<i.length;){var u=i[c];u.__alive?c++:(!t&&u.renderTask.dispose(),o.remove(u.group),u.dispose(n,s),i.splice(c,1),a[u.__id]===u&&delete a[u.__id],u.__id=u.group.__ecComponentInfo=null)}},L_=function(e,t,n,r,i){var a=e._model;if(a.setUpdatePayload(n),!r){c([].concat(e._componentsViews,e._chartsViews),d);return}var o={};o[r+`Id`]=n[r+`Id`],o[r+`Index`]=n[r+`Index`],o[r+`Name`]=n[r+`Name`];var s={mainType:r,query:o};i&&(s.subType=i);var l=n.excludeSeriesId,u;l!=null&&(u=A(),c(ns(l),function(e){var t=gs(e,null);t!=null&&u.set(t,!0)})),a&&a.eachComponent(s,function(t){if(!(u&&u.get(t.id)!=null))if(Xc(n))if(t instanceof Th)n.type===`highlight`&&!n.notBlur&&!t.get([`emphasis`,`disabled`])&&Fc(t,n,e._api);else{var r=Ic(t.mainType,t.componentIndex,n.name,e._api),i=r.focusSelf,a=r.dispatchers;n.type===`highlight`&&i&&!n.notBlur&&Pc(t.mainType,t.componentIndex,e._api),a&&c(a,function(e){n.type===`highlight`?Tc(e):Ec(e)})}else Yc(n)&&t instanceof Th&&(zc(t,n,e._api),Bc(t),Z_(e))},e),a&&a.eachComponent(s,function(t){u&&u.get(t.id)!=null||d(e[r===`series`?`_chartsMap`:`_componentsMap`][t.__viewId])},e);function d(r){r&&r.__alive&&r[t]&&r[t](r.__model,a,e._api,n)}},R_={prepareAndUpdate:function(e){F_(this),R_.update.call(this,e,e&&{optionChanged:e.newOption!=null})},update:function(e,n){var r=this._model,i=this._api,a=this._zr,o=this._coordSysMgr,s=this._scheduler;if(r){r.setUpdatePayload(e),s.restoreData(r,e),s.performSeriesTasks(r),o.create(r,i),s.performDataProcessorTasks(r,e),B_(this,r),o.update(r,i),t(r),s.performVisualTasks(r,e);var c=r.get(`backgroundColor`)||`transparent`;a.setBackgroundColor(c);var l=r.get(`darkMode`);l!=null&&l!==`auto`&&a.setDarkMode(l),K_(this,r,i,e,n),Zg.trigger(`afterupdate`,r,i)}},updateTransform:function(e){var n=this,r=this._model,i=this._api;if(r){r.setUpdatePayload(e);var a=[];r.eachComponent(function(t,o){if(t!==`series`){var s=n.getViewOfComponentModel(o);if(s&&s.__alive)if(s.updateTransform){var c=s.updateTransform(o,r,i,e);c&&c.update&&a.push(s)}else a.push(s)}});var o=A();r.eachSeries(function(t){var a=n._chartsMap[t.__viewId];if(a.updateTransform){var s=a.updateTransform(t,r,i,e);s&&s.update&&o.set(t.uid,1)}else o.set(t.uid,1)}),t(r),this._scheduler.performVisualTasks(r,e,{setDirty:!0,dirtyMap:o}),J_(this,r,i,e,{},o),Zg.trigger(`afterupdate`,r,i)}},updateView:function(e){var n=this._model;n&&(n.setUpdatePayload(e),Lh.markUpdateMethod(e,`updateView`),t(n),this._scheduler.performVisualTasks(n,e,{setDirty:!0}),K_(this,n,this._api,e,{}),Zg.trigger(`afterupdate`,n,this._api))},updateVisual:function(e){var n=this,r=this._model;r&&(r.setUpdatePayload(e),r.eachSeries(function(e){e.getData().clearAllVisual()}),Lh.markUpdateMethod(e,`updateVisual`),t(r),this._scheduler.performVisualTasks(r,e,{visualType:`visual`,setDirty:!0}),r.eachComponent(function(t,i){if(t!==`series`){var a=n.getViewOfComponentModel(i);a&&a.__alive&&a.updateVisual(i,r,n._api,e)}}),r.eachSeries(function(t){n._chartsMap[t.__viewId].updateVisual(t,r,n._api,e)}),Zg.trigger(`afterupdate`,r,this._api))},updateLayout:function(e){R_.update.call(this,e)}};function e(e,t,n,r,i){if(e._disposed){e.id;return}for(var a=e._model,o=e._coordSysMgr.getCoordinateSystems(),s,c=ws(a,n),l=0;l<o.length;l++){var u=o[l];if(u[t]&&(s=u[t](a,c,r,i))!=null)return s}}z_=e,B_=function(e,t){var n=e._chartsMap,r=e._scheduler;t.eachSeries(function(e){r.updateStreamModes(e,n[e.__viewId])})},V_=function(e,t){var n=this,r=this.getModel(),a=e.type,o=e.escapeConnect,s=rv[a],l=(s.update||`update`).split(`:`),u=l.pop(),d=l[0]!=null&&Ps(l[0]);this[$]=!0,$_(this);var f=[e],p=!1;e.batch&&(p=!0,f=B(e.batch,function(t){return t=H(C({},t),e),t.batch=null,t}));var m=[],h,g=[],_=s.nonRefinedEventType,v=Yc(e),y=Xc(e);if(y&&Mc(this._api),c(f,function(t){var i=s.action(t,r,n._api);if(s.refineEvent?g.push(i):h=i,h||=C({},t),h.type=_,m.push(h),y){var a=Ts(e),o=a.queryOptionMap,c=a.mainTypeSpecified?o.keys()[0]:`series`;L_(n,u,t,c),Z_(n)}else v?(L_(n,u,t,`series`),Z_(n)):d&&L_(n,u,t,d.main,d.sub)}),u!==`none`&&!y&&!v&&!d)try{this[C_]?(F_(this),R_.update.call(this,e),this[C_]=null):R_[u].call(this,e)}catch(e){throw this[$]=!1,e}if(h=p?{type:_,escapeConnect:o,batch:m}:m[0],this[$]=!1,!t){var b=void 0;if(s.refineEvent){var x=s.refineEvent(g,e,r,this._api).eventContent;ie(i(x)),b=H({type:s.refinedEventType},x),b.fromAction=e.type,b.fromActionPayload=e,b.escapeConnect=!0}var S=this._messageCenter;S.trigger(h.type,h),b&&S.trigger(b.type,b)}},H_=function(e){for(var t=this._pendingActions;t.length;){var n=t.shift();V_.call(this,n,e)}},U_=function(e){!e&&this.trigger(`updated`)},W_=function(e,t){e.on(`rendered`,function(n){t.trigger(`rendered`,n),e.animation.isFinished()&&!t[C_]&&!t._scheduler.unfinished&&!t._pendingActions.length&&t.trigger(`finished`)})},G_=function(e,t){e.on(`mouseover`,function(e){var n=e.target,r=Mg(n,qc);r&&(Lc(r,e,t._api),Z_(t))}).on(`mouseout`,function(e){var n=e.target,r=Mg(n,qc);r&&(Rc(r,e,t._api),Z_(t))}).on(`click`,function(e){var n=e.target,r=Mg(n,function(e){return K(e).dataIndex!=null},!0);if(r){var i=r.selected?`unselect`:`select`,a=K(r);t._api.dispatchAction({type:i,dataType:a.dataType,dataIndexInside:a.dataIndex,seriesIndex:a.seriesIndex,isFromClick:!0})}})};function t(e){e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()})}function n(e){var t=[],n=[],r=!1;if(e.eachComponent(function(e,i){var a=i.get(`zlevel`)||0,o=i.get(`z`)||0,s=i.getZLevelKey();r||=!!s,(e===`series`?n:t).push({zlevel:a,z:o,idx:i.componentIndex,type:e,key:s})}),r){var i=t.concat(n),a,o;Le(i,function(e,t){return e.zlevel===t.zlevel?e.z-t.z:e.zlevel-t.zlevel}),c(i,function(t){var n=e.getComponent(t.type,t.idx),r=t.zlevel,i=t.key;a!=null&&(r=Math.max(a,r)),i?(r===a&&i!==o&&r++,o=i):o&&=(r===a&&r++,``),a=r,n.setZLevel(r)})}}K_=function(e,t,r,i,a){n(t),q_(e,t,r,i,a),c(e._chartsViews,function(e){e.__alive=!1}),J_(e,t,r,i,a),c(e._chartsViews,function(e){e.__alive||e.remove(t,r)})},q_=function(e,t,n,r,i,a){c(a||e._componentsViews,function(e){var i=e.__model;l(i,e),e.render(i,t,n,r),s(i,e),u(i,e)})},J_=function(e,t,n,r,i,c){var d=e._scheduler;i=C(i||{},{updatedSeries:t.getSeries()}),Zg.trigger(`series:beforeupdate`,t,n,i);var f=!1;t.eachSeries(function(t){var n=e._chartsMap[t.__viewId];n.__alive=!0;var i=n.renderTask;d.updatePayload(i,r),l(t,n),c&&c.get(t.uid)&&i.dirty(),i.perform(d.getPerformArgs(i))&&(f=!0),n.group.silent=!!t.get(`silent`),o(t,n),Bc(t)}),d.unfinished=f||d.unfinished,Zg.trigger(`series:layoutlabels`,t,n,i),Zg.trigger(`series:transition`,t,n,i),t.eachSeries(function(t){var n=e._chartsMap[t.__viewId];s(t,n),u(t,n)}),a(e,t),Zg.trigger(`series:afterupdate`,t,n,i)},Z_=function(e){e[w_]=!0,e.getZr().wakeUp()},$_=function(e){e[S_]=(e[S_]+1)%1e3},Q_=function(e){e[w_]&&(e.getZr().storage.traverse(function(e){nl(e)||r(e)}),e[w_]=!1)};function r(e){for(var t=[],n=e.currentStates,r=0;r<n.length;r++){var i=n[r];i===`emphasis`||i===`blur`||i===`select`||t.push(i)}e.selected&&e.states.select&&t.push(`select`),e.hoverState===2&&e.states.emphasis?t.push(`emphasis`):e.hoverState===1&&e.states.blur&&t.push(`blur`),e.useStates(t)}function a(e,t){var n=e._zr.storage,r=0;n.traverse(function(e){e.isGroup||r++}),r>t.get(`hoverLayerThreshold`)&&!V.node&&!V.worker&&t.eachSeries(function(t){if(!t.preventUsingHoverLayer){var n=e._chartsMap[t.__viewId];n.__alive&&n.eachRendered(function(e){e.states.emphasis&&(e.states.emphasis.hoverLayer=!0)})}})}function o(e,t){var n=e.get(`blendMode`)||null;t.eachRendered(function(e){e.isGroup||(e.style.blend=n)})}function s(e,t){if(!e.preventAutoZ){var n=Gl(e);t.eachRendered(function(e){return ql(e,n.z,n.zlevel),!0})}}function l(e,t){t.eachRendered(function(e){if(!nl(e)){var t=e.getTextContent(),n=e.getTextGuideLine();e.stateTransition&&=null,t&&t.stateTransition&&(t.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),e.hasState()?(e.prevStates=e.currentStates,e.clearStates()):e.prevStates&&=null}})}function u(e,t){var n=e.getModel(`stateAnimation`),i=e.isAnimationEnabled(),a=n.get(`duration`),o=a>0?{duration:a,delay:n.get(`delay`),easing:n.get(`easing`)}:null;t.eachRendered(function(e){if(e.states&&e.states.emphasis){if(nl(e))return;if(e instanceof O&&Zc(e),e.__dirty){var t=e.prevStates;t&&e.useStates(t)}if(i){e.stateTransition=o;var n=e.getTextContent(),a=e.getTextGuideLine();n&&(n.stateTransition=o),a&&(a.stateTransition=o)}e.__dirty&&r(e)}})}Y_=function(e){return new(function(t){P(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.getCoordinateSystems=function(){return e._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(t){for(;t;){var n=t.__ecComponentInfo;if(n!=null)return e._model.getComponent(n.mainType,n.index);t=t.parent}},n.prototype.enterEmphasis=function(t,n){Tc(t,n),Z_(e)},n.prototype.leaveEmphasis=function(t,n){Ec(t,n),Z_(e)},n.prototype.enterBlur=function(t){Dc(t),Z_(e)},n.prototype.leaveBlur=function(t){Oc(t),Z_(e)},n.prototype.enterSelect=function(t){kc(t),Z_(e)},n.prototype.leaveSelect=function(t){Ac(t),Z_(e)},n.prototype.getModel=function(){return e.getModel()},n.prototype.getViewOfComponentModel=function(t){return e.getViewOfComponentModel(t)},n.prototype.getViewOfSeriesModel=function(t){return e.getViewOfSeriesModel(t)},n.prototype.getMainProcessVersion=function(){return e[S_]},n}(tp))(e)},X_=function(e){function t(e,t){for(var n=0;n<e.length;n++){var r=e[n];r[E_]=t}}c(iv,function(n,r){e._messageCenter.on(r,function(n){if(fv[e.group]&&e[E_]!==D_){if(n&&n.escapeConnect)return;var r=e.makeActionFromEvent(n),i=[];c(dv,function(t){t!==e&&t.group===e.group&&i.push(t)}),t(i,D_),c(i,function(e){e[E_]!==O_&&e.dispatchAction(r)}),t(i,k_)}})})}}(),t}(oe),tv=ev.prototype;tv.on=A_(`on`),tv.off=A_(`off`),tv.one=function(e,t,n){var r=this;function i(){var n=[...arguments];t&&t.apply&&t.apply(this,n),r.off(e,i)}this.on.call(this,e,i,n)};var nv=[`click`,`dblclick`,`mouseover`,`mouseout`,`mousemove`,`mousedown`,`mouseup`,`globalout`,`contextmenu`],rv={},iv={},av={},ov=[],sv=[],cv=[],lv={},uv={},dv={},fv={},pv=new Date-0,mv=new Date-0,hv=`_echarts_instance_`;function gv(e,t,n){var r=!(n&&n.ssr);if(r){var i=xv(e);if(i)return i}var a=new ev(e,t,n);return a.id=`ec_`+ pv++,dv[a.id]=a,r&&Os(e,hv,a.id),X_(a),Zg.trigger(`afterinit`,a),a}function _v(e){if(D(e)){var t=e;e=null,c(t,function(t){t.group!=null&&(e=t.group)}),e||=`g_`+ mv++,c(t,function(t){t.group=e})}return fv[e]=!0,e}function vv(e){fv[e]=!1}var yv=vv;function bv(e){z(e)?e=dv[e]:e instanceof ev||(e=xv(e)),e instanceof ev&&!e.isDisposed()&&e.dispose()}function xv(e){return dv[ks(e,hv)]}function Sv(e){return dv[e]}function Cv(e,t){lv[e]=t}function wv(e){k(sv,e)<0&&sv.push(e)}function Tv(e,t){Iv(ov,e,t,l_)}function Ev(e){Ov(`afterinit`,e)}function Dv(e){Ov(`afterupdate`,e)}function Ov(e,t){Zg.on(e,t)}function kv(e,t,n){var r,a,o,s,c;I(t)&&(n=t,t=``),i(e)?(r=e.type,a=e.event,s=e.update,c=e.publishNonRefinedEvent,n||=e.action,o=e.refineEvent):(r=e,a=t);function l(e){return e.toLowerCase()}a=l(a||r);var u=o?l(r):a;rv[r]||(ie(T_.test(r)&&T_.test(a)),o&&ie(a!==r),rv[r]={actionType:r,refinedEventType:a,nonRefinedEventType:u,update:s,action:n,refineEvent:o},av[a]=1,o&&c&&(av[u]=1),iv[u]=r)}function Av(e,t){Kd.register(e,t)}function jv(e){var t=Kd.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function Mv(e,t){n_(e,t)}function Nv(e,t){Iv(cv,e,t,d_,`layout`)}function Pv(e,t){Iv(cv,e,t,m_,`visual`)}var Fv=[];function Iv(e,t,n,r,a){if((I(t)||i(t))&&(n=t,t=r),!(k(Fv,n)>=0)){Fv.push(n);var o=gg.wrapStageHandler(n,a);o.__prio=t,o.__raw=n,e.push(o)}}function Lv(e,t){uv[e]=t}function Rv(e){mt({createCanvas:e})}function zv(e,t,n){var r=e_(`registerMap`);r&&r(e,t,n)}function Bv(e){var t=e_(`getMap`);return t&&t(e)}var Vv=Em;Pv(p_,Yh),Pv(g_,Zh),Pv(g_,Qh),Pv(p_,Tg),Pv(g_,Eg),Pv(b_,Xg),wv(jp),Tv(s_,Mp),Lv(`default`,eg),kv({type:tc,event:tc,update:tc},ct),kv({type:nc,event:nc,update:nc},ct),kv({type:rc,event:oc,update:rc,action:ct,refineEvent:Hv,publishNonRefinedEvent:!0}),kv({type:ic,event:oc,update:ic,action:ct,refineEvent:Hv,publishNonRefinedEvent:!0}),kv({type:ac,event:oc,update:ac,action:ct,refineEvent:Hv,publishNonRefinedEvent:!0});function Hv(e,t,n,r){return{eventContent:{selected:Vc(n),isFromClick:t.isFromClick||!1}}}Cv(`default`,{}),Cv(`dark`,xg);var Uv={};function Wv(e){return e==null?0:e.length||1}function Gv(e){return e}var Kv=function(){function e(e,t,n,r,i,a){this._old=e,this._new=t,this._oldKeyGetter=n||Gv,this._newKeyGetter=r||Gv,this.context=i,this._diffModeMultiple=a===`multiple`}return e.prototype.add=function(e){return this._add=e,this},e.prototype.update=function(e){return this._update=e,this},e.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},e.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},e.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},e.prototype.remove=function(e){return this._remove=e,this},e.prototype.execute=function(){this[this._diffModeMultiple?`_executeMultiple`:`_executeOneToOne`]()},e.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},r=Array(e.length),i=Array(t.length);this._initIndexMap(e,null,r,`_oldKeyGetter`),this._initIndexMap(t,n,i,`_newKeyGetter`);for(var a=0;a<e.length;a++){var o=r[a],s=n[o],c=Wv(s);if(c>1){var l=s.shift();s.length===1&&(n[o]=s[0]),this._update&&this._update(l,a)}else c===1?(n[o]=null,this._update&&this._update(s,a)):this._remove&&this._remove(a)}this._performRestAdd(i,n)},e.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},r={},i=[],a=[];this._initIndexMap(e,n,i,`_oldKeyGetter`),this._initIndexMap(t,r,a,`_newKeyGetter`);for(var o=0;o<i.length;o++){var s=i[o],c=n[s],l=r[s],u=Wv(c),d=Wv(l);if(u>1&&d===1)this._updateManyToOne&&this._updateManyToOne(l,c),r[s]=null;else if(u===1&&d>1)this._updateOneToMany&&this._updateOneToMany(l,c),r[s]=null;else if(u===1&&d===1)this._update&&this._update(l,c),r[s]=null;else if(u>1&&d>1)this._updateManyToMany&&this._updateManyToMany(l,c),r[s]=null;else if(u>1)for(var f=0;f<u;f++)this._remove&&this._remove(c[f]);else this._remove&&this._remove(c)}this._performRestAdd(a,r)},e.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t[r],a=Wv(i);if(a>1)for(var o=0;o<a;o++)this._add&&this._add(i[o]);else a===1&&this._add&&this._add(i);t[r]=null}},e.prototype._initIndexMap=function(e,t,n,r){for(var i=this._diffModeMultiple,a=0;a<e.length;a++){var o=`_ec_`+this[r](e[a],a);if(i||(n[a]=o),t){var s=t[o],c=Wv(s);c===0?(t[o]=a,i&&n.push(o)):c===1?t[o]=[s,a]:s.push(a)}}},e}(),qv=function(){function e(e,t){this._encode=e,this._schema=t}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||=this._schema?this._schema.makeOutputDimensionNames():[],this._cachedDimNames},e}();function Jv(e,t){var n={},r=n.encode={},i=A(),a=[],o=[],s={};c(e.dimensions,function(t){var n=e.getDimensionInfo(t),c=n.coordDim;if(c){var l=n.coordDimIndex;Yv(r,c)[l]=t,n.isExtraCoord||(i.set(c,1),Zv(n.type)&&(a[0]=t),Yv(s,c)[l]=e.getDimensionIndex(n.name)),n.defaultTooltip&&o.push(t)}yf.each(function(e,t){var i=Yv(r,t),a=n.otherDims[t];a!=null&&a!==!1&&(i[a]=n.name)})});var l=[],u={};i.each(function(e,t){var n=r[t];u[t]=n[0],l=l.concat(n)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=B(l,function(t){return e.getDimensionInfo(t).storeDimIndex}),n.encodeFirstDimNotExtra=u;var d=r.label;d&&d.length&&(a=d.slice());var f=r.tooltip;return f&&f.length?o=f.slice():o.length||(o=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=o,n.userOutput=new qv(s,t),n}function Yv(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function Xv(e){return e===`category`?`ordinal`:e===`time`?`time`:`float`}function Zv(e){return!(e===`ordinal`||e===`time`)}var Qv=function(){function e(e){this.otherDims={},e!=null&&C(this,e)}return e}(),$v=G(),ey={float:`f`,int:`i`,ordinal:`o`,number:`n`,time:`t`},ty=function(){function e(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||=iy(this.source))},e.prototype.getSourceDimensionIndex=function(e){return R(this._dimNameMap.get(e),-1)},e.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},e.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Wp(this.source),n=!ay(e),r=``,i=[],a=0,o=0;a<e;a++){var s=void 0,c=void 0,l=void 0,u=this.dimensions[o];if(u&&u.storeDimIndex===a)s=t?u.name:null,c=u.type,l=u.ordinalMeta,o++;else{var d=this.getSourceDimension(a);d&&(s=t?d.name:null,c=d.type)}i.push({property:s,type:c,ordinalMeta:l}),t&&s!=null&&(!u||!u.isCalculationCoord)&&(r+=n?s.replace(/\`/g,"`1").replace(/\$/g,"`2"):s),r+=`$`,r+=ey[c]||`f`,l&&(r+=l.uid),r+=`$`}var f=this.source;return{dimensions:i,hash:[f.seriesLayoutBy,f.startIndex,r].join(`$$`)}},e.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var r=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===t)i.isCalculationCoord||(r=i.name),n++;else{var a=this.getSourceDimension(t);a&&(r=a.name)}e.push(r)}return e},e.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function ny(e){return e instanceof ty}function ry(e){for(var t=A(),n=0;n<(e||[]).length;n++){var r=e[n],a=i(r)?r.name:r;a!=null&&t.get(a)==null&&t.set(a,n)}return t}function iy(e){var t=$v(e);return t.dimNameMap||=ry(e.dimensionsDefine)}function ay(e){return e>30}var oy=i,sy=B,cy=typeof Int32Array>`u`?Array:Int32Array,ly=`e\0\0`,uy=-1,dy=[`hasItemOption`,`_nameList`,`_idList`,`_invertedIndicesMap`,`_dimSummary`,`userOutput`,`_rawData`,`_dimValueGetter`,`_nameDimIdx`,`_idDimIdx`,`_nameRepeatCount`],fy=[`_approximateExtent`],py,my,hy,gy,_y,vy,yy,by=function(){function e(e,t){this.type=`list`,this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=[`cloneShallow`,`downSample`,`minmaxDownSample`,`lttbDownSample`,`map`],this.CHANGABLE_METHODS=[`filterSelf`,`selectRange`],this.DOWNSAMPLE_METHODS=[`downSample`,`minmaxDownSample`,`lttbDownSample`];var n,r=!1;ny(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,n=e),n||=[`x`,`y`];for(var i={},a=[],o={},s=!1,l={},u=0;u<n.length;u++){var d=n[u],f=z(d)?new Qv({name:d}):d instanceof Qv?d:new Qv(d),p=f.name;f.type=f.type||`float`,f.coordDim||(f.coordDim=p,f.coordDimIndex=0);var m=f.otherDims=f.otherDims||{};a.push(p),i[p]=f,l[p]!=null&&(s=!0),f.createInvertedIndices&&(o[p]=[]);var h=u;N(f.storeDimIndex)&&(h=f.storeDimIndex),m.itemName===0&&(this._nameDimIdx=h),m.itemId===0&&(this._idDimIdx=h),r&&(f.storeDimIndex=u)}if(this.dimensions=a,this._dimInfos=i,this._initGetDimensionInfo(s),this.hostModel=t,this._invertedIndicesMap=o,this._dimOmitted){var g=this._dimIdxToName=A();c(a,function(e){g.set(i[e].storeDimIndex,e)})}}return e.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var n=this._dimIdxToName.get(t);if(n!=null)return n;var r=this._schema.getSourceDimension(t);if(r)return r.name},e.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},e.prototype._recognizeDimIndex=function(e){if(N(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},e.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},e.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},e.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(e){return t.hasOwnProperty(e)?t[e]:void 0}:function(e){return t[e]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(e,t){var n=this._dimSummary;if(t==null)return n.encodeFirstDimNotExtra[e];var r=n.encode[e];return r?r[t]:null},e.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(e,t,n){var r=this,i;if(e instanceof Vm&&(i=e),!i){var a=this.dimensions,o=Fp(e)||we(e)?new Zp(e,a.length):e;i=new Vm;var s=sy(a,function(e){return{type:r._dimInfos[e].type,property:e}});i.initData(o,s,n)}this._store=i,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=Jv(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},e.prototype.appendValues=function(e,t){var n=this._store.appendValues(e,t&&t.length),r=n.start,i=n.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=r;o<i;o++){var s=o-r;this._nameList[o]=t[s],a&&yy(this,o)}},e.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var r=this._dimInfos[t[n]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==`typedArray`&&!e.fillStorage},e.prototype._doInit=function(e,t){if(!(e>=t)){var n=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,i=this._idList;if(n.getSource().sourceFormat===`original`&&!n.pure)for(var a=[],o=e;o<t;o++){var s=n.getItem(o,a);if(!this.hasItemOption&&os(s)&&(this.hasItemOption=!0),s){var c=s.name;r[o]==null&&c!=null&&(r[o]=gs(c,null));var l=s.id;i[o]==null&&l!=null&&(i[o]=gs(l,null))}}if(this._shouldMakeIdFromName())for(var o=e;o<t;o++)yy(this,o);py(this)}},e.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},e.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},e.prototype.setCalculationInfo=function(e,t){oy(e)?C(this._calculationInfo,e):this._calculationInfo[e]=t},e.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return n==null&&this._nameDimIdx!=null&&(n=hy(this,this._nameDimIdx,t)),n??=``,n},e.prototype._getCategory=function(e,t){var n=this._store.get(e,t),r=this._store.getOrdinalMeta(e);return r?r.categories[n]:n},e.prototype.getId=function(e){return my(this,this.getRawIndex(e))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(e,t){var n=this._store,r=this._dimInfos[e];if(r)return n.get(r.storeDimIndex,t)},e.prototype.getByRawIndex=function(e,t){var n=this._store,r=this._dimInfos[e];if(r)return n.getByRawIndex(r.storeDimIndex,t)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},e.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},e.prototype.getValues=function(e,t){var n=this,r=this._store;return D(e)?r.getValues(sy(e,function(e){return n._getStoreDimIndex(e)}),t):r.getValues(e)},e.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,r=t.length;n<r;n++)if(isNaN(this._store.get(t[n],e)))return!1;return!0},e.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},e.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},e.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},e.prototype.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e],r=n&&n[t];return r==null||isNaN(r)?uy:r},e.prototype.each=function(e,t,n){I(e)&&(n=t,t=e,e=[]);var r=n||this,i=sy(gy(e),this._getStoreDimIndex,this);this._store.each(i,r?M(t,r):t)},e.prototype.filterSelf=function(e,t,n){I(e)&&(n=t,t=e,e=[]);var r=n||this,i=sy(gy(e),this._getStoreDimIndex,this);return this._store=this._store.filter(i,r?M(t,r):t),this},e.prototype.selectRange=function(e){var t=this,n={},r=ot(e),i=[];return c(r,function(r){var a=t._getStoreDimIndex(r);n[a]=e[r],i.push(a)}),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(e,t,n){I(e)&&(n=t,t=e,e=[]),n||=this;var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},n),r},e.prototype.map=function(e,t,n,r){var i=n||r||this,a=sy(gy(e),this._getStoreDimIndex,this),o=vy(this);return o._store=this._store.map(a,i?M(t,i):t),o},e.prototype.modify=function(e,t,n,r){var i=n||r||this,a=sy(gy(e),this._getStoreDimIndex,this);this._store.modify(a,i?M(t,i):t)},e.prototype.downSample=function(e,t,n,r){var i=vy(this);return i._store=this._store.downSample(this._getStoreDimIndex(e),t,n,r),i},e.prototype.minmaxDownSample=function(e,t){var n=vy(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),n},e.prototype.lttbDownSample=function(e,t){var n=vy(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},e.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},e.prototype.getItemModel=function(e){var t=this.hostModel;return new Su(this.getRawDataItem(e),t,t&&t.ecModel)},e.prototype.diff=function(e){var t=this;return new Kv(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(t){return my(e,t)},function(e){return my(t,e)})},e.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},e.prototype.setVisual=function(e,t){this._visual=this._visual||{},oy(e)?C(this._visual,e):this._visual[e]=t},e.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e];return(n&&n[t])??this.getVisual(t)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,r=n[e];r||=n[e]={};var i=r[t];return i??(i=this.getVisual(t),D(i)?i=i.slice():oy(i)&&(i=C({},i)),r[t]=i),i},e.prototype.setItemVisual=function(e,t,n){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,oy(t)?C(r,t):r[t]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(e,t){oy(e)?C(this._layout,e):this._layout[e]=t},e.prototype.getLayout=function(e){return this._layout[e]},e.prototype.getItemLayout=function(e){return this._itemLayouts[e]},e.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?C(this._itemLayouts[e]||{},t):t},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(e,t){Js(this.hostModel&&this.hostModel.seriesIndex,this.dataType,e,t),this._graphicEls[e]=t},e.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},e.prototype.eachItemGraphicEl=function(e,t){c(this._graphicEls,function(n,r){n&&e&&e.call(t,n,r)})},e.prototype.cloneShallow=function(t){return t||=new e(this._schema?this._schema:sy(this.dimensions,this._getDimInfo,this),this.hostModel),_y(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(e,t){var n=this[e];I(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(Xe(arguments)))})},e.internalField=function(){py=function(e){var t=e._invertedIndicesMap;c(t,function(n,r){var i=e._dimInfos[r],a=i.ordinalMeta,o=e._store;if(a){n=t[r]=new cy(a.categories.length);for(var s=0;s<n.length;s++)n[s]=uy;for(var s=0;s<o.count();s++)n[o.get(i.storeDimIndex,s)]=s}})},hy=function(e,t,n){return gs(e._getCategory(t,n),null)},my=function(e,t){var n=e._idList[t];return n==null&&e._idDimIdx!=null&&(n=hy(e,e._idDimIdx,t)),n??=ly+t,n},gy=function(e){return D(e)||(e=e==null?[]:[e]),e},vy=function(t){var n=new e(t._schema?t._schema:sy(t.dimensions,t._getDimInfo,t),t.hostModel);return _y(n,t),n},_y=function(e,t){c(dy.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods,c(fy,function(n){e[n]=y(t[n])}),e._calculationInfo=C({},t._calculationInfo)},yy=function(e,t){var n=e._nameList,r=e._idList,i=e._nameDimIdx,a=e._idDimIdx,o=n[t],s=r[t];if(o==null&&i!=null&&(n[t]=o=hy(e,i,t)),s==null&&a!=null&&(r[t]=s=hy(e,a,t)),s==null&&o!=null){var c=e._nameRepeatCount,l=c[o]=(c[o]||0)+1;s=o,l>1&&(s+=`__ec__`+l),r[t]=s}}}(),e}();function xy(e,t){return Sy(e,t).dimensions}function Sy(e,t){Fp(e)||(e=Lp(e)),t||={};var n=t.coordDimensions||[],r=t.dimensionsDefine||e.dimensionsDefine||[],a=A(),o=[],s=wy(e,n,r,t.dimensionsCount),l=t.canOmitUnusedDimensions&&ay(s),u=r===e.dimensionsDefine,d=u?iy(e):ry(r),f=t.encodeDefine;!f&&t.encodeDefaulter&&(f=t.encodeDefaulter(e,s));for(var p=A(f),m=new Nm(s),h=0;h<m.length;h++)m[h]=-1;function g(e){var t=m[e];if(t<0){var n=r[e],a=i(n)?n:{name:n},s=new Qv,c=a.name;return c!=null&&d.get(c)!=null&&(s.name=s.displayName=c),a.type!=null&&(s.type=a.type),a.displayName!=null&&(s.displayName=a.displayName),m[e]=o.length,s.storeDimIndex=e,o.push(s),s}return o[t]}if(!l)for(var h=0;h<s;h++)g(h);p.each(function(e,t){var n=ns(e).slice();if(n.length===1&&!z(n[0])&&n[0]<0){p.set(t,!1);return}var r=p.set(t,[]);c(n,function(e,n){var i=z(e)?d.get(e):e;i!=null&&i<s&&(r[n]=i,v(g(i),t,n))})});var _=0;c(n,function(e){var t,n,r,a;if(z(e))t=e,a={};else{a=e,t=a.name;var o=a.ordinalMeta;a.ordinalMeta=null,a=C({},a),a.ordinalMeta=o,n=a.dimsDef,r=a.otherDims,a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null}var l=p.get(t);if(l!==!1){if(l=ns(l),!l.length)for(var d=0;d<(n&&n.length||1);d++){for(;_<s&&g(_).coordDim!=null;)_++;_<s&&l.push(_++)}c(l,function(e,o){var s=g(e);if(u&&a.type!=null&&(s.type=a.type),v(H(s,a),t,o),s.name==null&&n){var c=n[o];!i(c)&&(c={name:c}),s.name=s.displayName=c.name,s.defaultTooltip=c.defaultTooltip}r&&H(s.otherDims,r)})}});function v(e,t,n){yf.get(t)==null?(e.coordDim=t,e.coordDimIndex=n,a.set(t,!0)):e.otherDims[t]=n}var y=t.generateCoord,b=t.generateCoordCount,x=b!=null;b=y?b||1:0;var S=y||`value`;function w(e){e.name??=e.coordDim}if(l)c(o,function(e){w(e)}),o.sort(function(e,t){return e.storeDimIndex-t.storeDimIndex});else for(var T=0;T<s;T++){var E=g(T);E.coordDim??(E.coordDim=Ty(S,a,x),E.coordDimIndex=0,(!y||b<=0)&&(E.isExtraCoord=!0),b--),w(E),E.type==null&&(Nf(e,T)===Df.Must||E.isExtraCoord&&(E.otherDims.itemName!=null||E.otherDims.seriesName!=null))&&(E.type=`ordinal`)}return Cy(o),new ty({source:e,dimensions:o,fullDimensionCount:s,dimensionOmitted:l})}function Cy(e){for(var t=A(),n=0;n<e.length;n++){var r=e[n],i=r.name,a=t.get(i)||0;a>0&&(r.name=i+(a-1)),a++,t.set(i,a)}}function wy(e,t,n,r){var a=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,r||0);return c(t,function(e){var t;i(e)&&(t=e.dimsDef)&&(a=Math.max(a,t.length))}),a}function Ty(e,t,n){if(n||t.hasKey(e)){for(var r=0;t.hasKey(e+r);)r++;e+=r}return t.set(e,!0),e}var Ey=function(){function e(e){this.coordSysDims=[],this.axisMap=A(),this.categoryAxisMap=A(),this.coordSysName=e}return e}();function Dy(e){var t=e.get(`coordinateSystem`),n=new Ey(t),r=Oy[t];if(r)return r(e,n,n.axisMap,n.categoryAxisMap),n}var Oy={cartesian2d:function(e,t,n,r){var i=e.getReferringComponents(`xAxis`,Es).models[0],a=e.getReferringComponents(`yAxis`,Es).models[0];t.coordSysDims=[`x`,`y`],n.set(`x`,i),n.set(`y`,a),ky(i)&&(r.set(`x`,i),t.firstCategoryDimIndex=0),ky(a)&&(r.set(`y`,a),t.firstCategoryDimIndex??=1)},singleAxis:function(e,t,n,r){var i=e.getReferringComponents(`singleAxis`,Es).models[0];t.coordSysDims=[`single`],n.set(`single`,i),ky(i)&&(r.set(`single`,i),t.firstCategoryDimIndex=0)},polar:function(e,t,n,r){var i=e.getReferringComponents(`polar`,Es).models[0],a=i.findAxisModel(`radiusAxis`),o=i.findAxisModel(`angleAxis`);t.coordSysDims=[`radius`,`angle`],n.set(`radius`,a),n.set(`angle`,o),ky(a)&&(r.set(`radius`,a),t.firstCategoryDimIndex=0),ky(o)&&(r.set(`angle`,o),t.firstCategoryDimIndex??=1)},geo:function(e,t,n,r){t.coordSysDims=[`lng`,`lat`]},parallel:function(e,t,n,r){var i=e.ecModel,a=i.getComponent(`parallel`,e.get(`parallelIndex`)),o=t.coordSysDims=a.dimensions.slice();c(a.parallelAxisIndex,function(e,a){var s=i.getComponent(`parallelAxis`,e),c=o[a];n.set(c,s),ky(s)&&(r.set(c,s),t.firstCategoryDimIndex??=a)})},matrix:function(e,t,n,r){var i=e.getReferringComponents(`matrix`,Es).models[0];t.coordSysDims=[`x`,`y`];var a=i.getDimensionModel(`x`),o=i.getDimensionModel(`y`);n.set(`x`,a),n.set(`y`,o),r.set(`x`,a),r.set(`y`,o)}};function ky(e){return e.get(`type`)===`category`}function Ay(e,t,n){n||={};var r=n.byIndex,i=n.stackedCoordDimension,a,o,s;jy(t)?a=t:(o=t.schema,a=o.dimensions,s=t.store);var l=!!(e&&e.get(`stack`)),u,d,f,p;if(c(a,function(e,t){z(e)&&(a[t]=e={name:e}),l&&!e.isExtraCoord&&(!r&&!u&&e.ordinalMeta&&(u=e),!d&&e.type!==`ordinal`&&e.type!==`time`&&(!i||i===e.coordDim)&&(d=e))}),d&&!r&&!u&&(r=!0),d){f=`__\0ecstackresult_`+e.id,p=`__\0ecstackedover_`+e.id,u&&(u.createInvertedIndices=!0);var m=d.coordDim,h=d.type,g=0;c(a,function(e){e.coordDim===m&&g++});var _={name:f,coordDim:m,coordDimIndex:g,type:h,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},v={name:p,coordDim:p,coordDimIndex:g+1,type:h,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(_.storeDimIndex=s.ensureCalculationDimension(p,h),v.storeDimIndex=s.ensureCalculationDimension(f,h)),o.appendCalculationDimension(_),o.appendCalculationDimension(v)):(a.push(_),a.push(v))}return{stackedDimension:d&&d.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:p,stackResultDimension:f}}function jy(e){return!ny(e.schema)}function My(e,t){return!!t&&t===e.getCalculationInfo(`stackedDimension`)}function Ny(e,t){return My(e,t)?e.getCalculationInfo(`stackResultDimension`):t}function Py(e,t){var n=e.get(`coordinateSystem`),r=Kd.get(n),i;return t&&t.coordSysDims&&(i=B(t.coordSysDims,function(e){var n={name:e},r=t.axisMap.get(e);return r&&(n.type=Xv(r.get(`type`))),n})),i||=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||[`x`,`y`],i}function Fy(e,t,n){var r,i;return n&&c(e,function(e,a){var o=e.coordDim,s=n.categoryAxisMap.get(o);s&&(r??=a,e.ordinalMeta=s.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),e.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(e[r].otherDims.itemName=0),r}function Iy(e,t,n){n||={};var r=t.getSourceManager(),i,a=!1;e?(a=!0,i=Lp(e)):(i=r.getSource(),a=i.sourceFormat===bf);var o=Dy(t),s=Py(t,o),c=n.useEncodeDefaulter,l=I(c)?c:c?ue(Af,s,t):null,u={coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!a},d=Sy(i,u),f=Fy(d.dimensions,n.createInvertedIndices,o),p=a?null:r.getSharedDataStore(d),m=Ay(t,{schema:d,store:p}),h=new by(d,t);h.setCalculationInfo(m);var g=f!=null&&Ly(i)?function(e,t,n,r){return r===f?n:this.defaultDimValueGetter(e,t,n,r)}:null;return h.hasItemOption=!1,h.initData(a?i:p,null,g),h}function Ly(e){if(e.sourceFormat===`original`)return!D(as(Ry(e.data||[])))}function Ry(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var zy=Iy;function By(e){return e.type===`interval`||e.type===`log`}function Vy(e,t,n,r,i){var a={},o=a.interval=Bo(t/n,!0);r!=null&&o<r&&(o=a.interval=r),i!=null&&o>i&&(o=a.interval=i);var s=a.intervalPrecision=Uy(o);return Gy(a.niceTickExtent=[To(Math.ceil(e[0]/o)*o,s),To(Math.floor(e[1]/o)*o,s)],e),a}function Hy(e){var t=10**zo(e),n=e/t;return n?n===2?n=3:n===3?n=5:n*=2:n=1,To(n*t)}function Uy(e){return Do(e)+2}function Wy(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function Gy(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Wy(e,0,t),Wy(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function Ky(e,t){return e>=t[0]&&e<=t[1]}var qy=function(){function e(){this.normalize=Jy,this.scale=Yy}return e.prototype.updateMethods=function(e){e.hasBreaks()?(this.normalize=M(e.normalize,e),this.scale=M(e.scale,e)):(this.normalize=Jy,this.scale=Yy)},e}();function Jy(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function Yy(e,t){return e*(t[1]-t[0])+t[0]}function Xy(e,t,n){var r=Math.log(e);return[Math.log(n?t[0]:Math.max(0,t[0]))/r,Math.log(n?t[1]:Math.max(0,t[1]))/r]}var Zy=function(){function e(e){this._calculator=new qy,this._setting=e||{},this._extent=[1/0,-1/0];var t=Vu();t&&(this._brkCtx=t.createScaleBreakContext(),this._brkCtx.update(this._extent))}return e.prototype.getSetting=function(e){return this._setting[e]},e.prototype._innerUnionExtent=function(e){var t=this._extent;this._innerSetExtent(e[0]<t[0]?e[0]:t[0],e[1]>t[1]?e[1]:t[1])},e.prototype.unionExtentFromData=function(e,t){this._innerUnionExtent(e.getApproximateExtent(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(e,t){this._innerSetExtent(e,t)},e.prototype._innerSetExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t),this._brkCtx&&this._brkCtx.update(n)},e.prototype.setBreaksFromOption=function(e){var t=Vu();t&&this._innerSetBreak(t.parseAxisBreakOption(e,M(this.parse,this)))},e.prototype._innerSetBreak=function(e){this._brkCtx&&(this._brkCtx.setBreaks(e),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},e.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},e.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},e.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},e.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(e){this._isBlank=e},e}();Ws(Zy);var Qy=Zy,$y=0,eb=function(){function e(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++$y,this._onCollect=e.onCollect}return e.createByAxisModel=function(t){var n=t.option,r=n.data,i=r&&B(r,tb);return new e({categories:i,needCollect:!i,deduplication:n.dedplication!==!1})},e.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},e.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if(!z(e)&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,this._onCollect&&this._onCollect(e,t),t;var r=this._getOrCreateMap();return t=r.get(e),t??(n?(t=this.categories.length,this.categories[t]=e,r.set(e,t),this._onCollect&&this._onCollect(e,t)):t=NaN),t},e.prototype._getOrCreateMap=function(){return this._map||=A(this.categories)},e}();function tb(e){return i(e)&&e.value!=null?e.value:e+``}var nb=eb;u();var rb=function(e){P(t,e);function t(t){var n=e.call(this,t)||this;n.type=`ordinal`;var r=n.getSetting(`ordinalMeta`);return r||=new nb({}),D(r)&&(r=new nb({categories:B(r,function(e){return i(e)?e.value:e})})),n._ordinalMeta=r,n._extent=n.getSetting(`extent`)||[0,r.categories.length-1],n}return t.prototype.parse=function(e){return e==null?NaN:z(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return Ky(e,this._extent)&&e>=0&&e<this._ordinalMeta.categories.length},t.prototype.normalize=function(e){return e=this._getTickNumber(e),this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(this._calculator.scale(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push({value:n}),n++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var t=e.ordinalNumbers,n=this._ordinalNumbersByTick=[],r=this._ticksByOrdinalNumber=[],i=0,a=this._ordinalMeta.categories.length,o=Math.min(a,t.length);i<o;++i){var s=t[i];n[i]=s,r[s]=i}for(var c=0;i<a;++i){for(;r[c]!=null;)c++;n.push(c),r[c]=i}},t.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var t=this.getRawOrdinalNumber(e.value),n=this._ordinalMeta.categories[t];return n==null?``:n+``}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type=`ordinal`,t}(Qy);Qy.registerClass(rb);var ib=rb;u();var ab=To,ob=function(e){P(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=`interval`,t._interval=0,t._intervalPrecision=2,t}return t.prototype.parse=function(e){return e==null||e===``?NaN:Number(e)},t.prototype.contain=function(e){return Ky(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Uy(e)},t.prototype.getTicks=function(e){e||={};var t=this._interval,n=this._extent,r=this._niceExtent,i=this._intervalPrecision,a=Vu(),o=[];if(!t)return o;if(e.breakTicks===`only_break`&&a)return a.addBreaksToTicks(o,this._brkCtx.breaks,this._extent),o;var s=1e4;n[0]<r[0]&&(e.expandToNicedExtent?o.push({value:ab(r[0]-t,i)}):o.push({value:n[0]}));for(var c=function(e,n){return Math.round((n-e)/t)},l=r[0];l<=r[1];){if(o.push({value:l}),l=ab(l+t,i),this._brkCtx){var u=this._brkCtx.calcNiceTickMultiple(l,c);u>=0&&(l=ab(l+u*t,i))}if(o.length>0&&l===o[o.length-1].value)break;if(o.length>s)return[]}var d=o.length?o[o.length-1].value:r[1];return n[1]>d&&(e.expandToNicedExtent?o.push({value:ab(d+t,i)}):o.push({value:n[1]})),a&&a.pruneTicksByBreak(e.pruneByBreak,o,this._brkCtx.breaks,function(e){return e.value},this._interval,this._extent),e.breakTicks!==`none`&&a&&a.addBreaksToTicks(o,this._brkCtx.breaks,this._extent),o},t.prototype.getMinorTicks=function(e){for(var t=this.getTicks({expandToNicedExtent:!0}),n=[],r=this.getExtent(),i=1;i<t.length;i++){var a=t[i],o=t[i-1];if(!(o.break||a.break)){for(var s=0,c=[],l=(a.value-o.value)/e,u=Uy(l);s<e-1;){var d=ab(o.value+(s+1)*l,u);d>r[0]&&d<r[1]&&c.push(d),s++}var f=Vu();f&&f.pruneTicksByBreak(`auto`,c,this._getNonTransBreaks(),function(e){return e},this._interval,r),n.push(c)}}return n},t.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},t.prototype.getLabel=function(e,t){if(e==null)return``;var n=t&&t.precision;return n==null?n=Do(e.value)||0:n===`auto`&&(n=this._intervalPrecision),Td(ab(e.value,n,!0))},t.prototype.calcNiceTicks=function(e,t,n){e||=5;var r=this._extent.slice(),i=this._getExtentSpanWithBreaks();if(isFinite(i)){i<0&&(i=-i,r.reverse(),this._innerSetExtent(r[0],r[1]),r=this._extent.slice());var a=Vy(r,i,e,t,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var t=this._extent.slice();if(t[0]===t[1])if(t[0]!==0){var n=Math.abs(t[0]);e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;var r=t[1]-t[0];isFinite(r)||(t[0]=0,t[1]=1),this._innerSetExtent(t[0],t[1]),t=this._extent.slice(),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval,a=this._intervalPrecision;e.fixMin||(t[0]=ab(Math.floor(t[0]/i)*i,a)),e.fixMax||(t[1]=ab(Math.ceil(t[1]/i)*i,a)),this._innerSetExtent(t[0],t[1])},t.prototype.setNiceExtent=function(e,t){this._niceExtent=[e,t]},t.type=`interval`,t}(Qy);Qy.registerClass(ob);var sb=ob,cb=`__ec_stack_`;function lb(e){return e.get(`stack`)||cb+e.seriesIndex}function ub(e){return e.dim+e.index}function db(e,t){var n=[];return t.eachSeriesByType(e,function(e){gb(e)&&n.push(e)}),n}function fb(e){var t={};c(e,function(e){var n=e.coordinateSystem.getBaseAxis();if(!(n.type!==`time`&&n.type!==`value`))for(var r=e.getData(),i=n.dim+`_`+n.index,a=r.getDimensionIndex(r.mapDimension(n.dim)),o=r.getStore(),s=0,c=o.count();s<c;++s){var l=o.get(a,s);t[i]?t[i].push(l):t[i]=[l]}});var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(i){i.sort(function(e,t){return e-t});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}n[r]=a}}return n}function pb(e){var t=fb(e),n=[];return c(e,function(e){var r=e.coordinateSystem.getBaseAxis(),i=r.getExtent(),a;if(r.type===`category`)a=r.getBandWidth();else if(r.type===`value`||r.type===`time`){var o=t[r.dim+`_`+r.index],s=Math.abs(i[1]-i[0]),c=r.scale.getExtent(),l=Math.abs(c[1]-c[0]);a=o?s/l*o:s}else{var u=e.getData();a=Math.abs(i[1]-i[0])/u.count()}var d=So(e.get(`barWidth`),a),f=So(e.get(`barMaxWidth`),a),p=So(e.get(`barMinWidth`)||(_b(e)?.5:1),a),m=e.get(`barGap`),h=e.get(`barCategoryGap`),g=e.get(`defaultBarGap`);n.push({bandWidth:a,barWidth:d,barMaxWidth:f,barMinWidth:p,barGap:m,barCategoryGap:h,defaultBarGap:g,axisKey:ub(r),stackId:lb(e)})}),mb(n)}function mb(e){var t={};c(e,function(e,n){var r=e.axisKey,i=e.bandWidth,a=t[r]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:null,gap:e.defaultBarGap||0,stacks:{}},o=a.stacks;t[r]=a;var s=e.stackId;o[s]||a.autoWidthCount++,o[s]=o[s]||{width:0,maxWidth:0};var c=e.barWidth;c&&!o[s].width&&(o[s].width=c,c=Math.min(a.remainedWidth,c),a.remainedWidth-=c);var l=e.barMaxWidth;l&&(o[s].maxWidth=l);var u=e.barMinWidth;u&&(o[s].minWidth=u);var d=e.barGap;d!=null&&(a.gap=d);var f=e.barCategoryGap;f!=null&&(a.categoryGap=f)});var n={};return c(t,function(e,t){n[t]={};var r=e.stacks,i=e.bandWidth,a=e.categoryGap;if(a==null){var o=ot(r).length;a=Math.max(35-o*4,15)+`%`}var s=So(a,i),l=So(e.gap,1),u=e.remainedWidth,d=e.autoWidthCount,f=(u-s)/(d+(d-1)*l);f=Math.max(f,0),c(r,function(e){var t=e.maxWidth,n=e.minWidth;if(e.width){var r=e.width;t&&(r=Math.min(r,t)),n&&(r=Math.max(r,n)),e.width=r,u-=r+l*r,d--}else{var r=f;t&&t<r&&(r=Math.min(t,u)),n&&n>r&&(r=n),r!==f&&(e.width=r,u-=r+l*r,d--)}}),f=(u-s)/(d+(d-1)*l),f=Math.max(f,0);var p=0,m;c(r,function(e,t){e.width||=f,m=e,p+=e.width*(1+l)}),m&&(p-=m.width*l);var h=-p/2;c(r,function(e,r){n[t][r]=n[t][r]||{bandWidth:i,offset:h,width:e.width},h+=e.width*(1+l)})}),n}function hb(e,t,n){if(e&&t){var r=e[ub(t)];return r!=null&&n!=null?r[lb(n)]:r}}function gb(e){return e.coordinateSystem&&e.coordinateSystem.type===`cartesian2d`}function _b(e){return e.pipelineContext&&e.pipelineContext.large}u();var vb=function(e,t,n,r){for(;n<r;){var i=n+r>>>1;e[i][1]<t?n=i+1:r=i}return n},yb=function(e){P(t,e);function t(t){var n=e.call(this,t)||this;return n.type=`time`,n}return t.prototype.getLabel=function(e){var t=this.getSetting(`useUTC`);return od(e.value,Zu[ad(rd(this._minLevelUnit))]||Zu.second,t,this.getSetting(`locale`))},t.prototype.getFormattedLabel=function(e,t,n){var r=this.getSetting(`useUTC`);return sd(e,t,n,this.getSetting(`locale`),r)},t.prototype.getTicks=function(e){e||={};var t=this._interval,n=this._extent,r=Vu(),i=[];if(!t)return i;var a=this.getSetting(`useUTC`);if(r&&e.breakTicks===`only_break`)return Vu().addBreaksToTicks(i,this._brkCtx.breaks,this._extent),i;var o=cd(n[1],a);i.push({value:n[0],time:{level:0,upperTimeUnit:o,lowerTimeUnit:o}});var s=kb(this._minLevelUnit,this._approxInterval,a,n,this._getExtentSpanWithBreaks(),this._brkCtx);i=i.concat(s);var l=cd(n[1],a);i.push({value:n[1],time:{level:0,upperTimeUnit:l,lowerTimeUnit:l}});var u=this.getSetting(`useUTC`),d=Qu.length-1,f=0;return c(i,function(e){d=Math.min(d,k(Qu,e.time.upperTimeUnit)),f=Math.max(f,e.time.level)}),r&&Vu().pruneTicksByBreak(e.pruneByBreak,i,this._brkCtx.breaks,function(e){return e.value},this._approxInterval,this._extent),r&&e.breakTicks!==`none`&&Vu().addBreaksToTicks(i,this._brkCtx.breaks,this._extent,function(e){for(var t=Math.max(k(Qu,cd(e.vmin,u)),k(Qu,cd(e.vmax,u))),n=0,r=0;r<Qu.length;r++)if(!xb(Qu[r],e.vmin,e.vmax,u)){n=r;break}var i=Math.min(n,d);return{level:f,lowerTimeUnit:Qu[Math.max(i,t)],upperTimeUnit:Qu[i]}}),i},t.prototype.calcNiceExtent=function(e){var t=this.getExtent();if(t[0]===t[1]&&(t[0]-=Gu,t[1]+=Gu),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-Gu}this._innerSetExtent(t[0],t[1]),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,t,n){e||=10,this._approxInterval=this._getExtentSpanWithBreaks()/e,t!=null&&this._approxInterval<t&&(this._approxInterval=t),n!=null&&this._approxInterval>n&&(this._approxInterval=n);var r=bb.length,i=Math.min(vb(bb,this._approxInterval,0,r),r-1);this._interval=bb[i][1],this._intervalPrecision=Uy(this._interval),this._minLevelUnit=bb[Math.max(i-1,0)][0]},t.prototype.parse=function(e){return N(e)?e:+Lo(e)},t.prototype.contain=function(e){return Ky(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.type=`time`,t}(sb),bb=[[`second`,Hu],[`minute`,Uu],[`hour`,Wu],[`quarter-day`,Wu*6],[`half-day`,Wu*12],[`day`,Gu*1.2],[`half-week`,Gu*3.5],[`week`,Gu*7],[`month`,Gu*31],[`quarter`,Gu*95],[`half-year`,Ku/2],[`year`,Ku]];function xb(e,t,n,r){return ld(new Date(t),e,r).getTime()===ld(new Date(n),e,r).getTime()}function Sb(e,t){return e/=Gu,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function Cb(e){var t=30*Gu;return e/=t,e>6?6:e>3?3:e>2?2:1}function wb(e){return e/=Wu,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function Tb(e,t){return e/=t?Uu:Hu,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function Eb(e){return Bo(e,!0)}function Db(e,t,n){var r=Math.max(0,k(Qu,t)-1);return ld(new Date(e),Qu[r],n).getTime()}function Ob(e,t){var n=new Date(0);n[e](1);var r=n.getTime();n[e](1+t);var i=n.getTime()-r;return function(e,t){return Math.max(0,Math.round((t-e)/i))}}function kb(e,t,n,r,i,a){var o=1e4,s=$u,c=0;function l(e,t,n,i,s,l,u){for(var d=Ob(s,e),f=t,p=new Date(f);f<n&&f<=r[1]&&(u.push({value:f}),!(c++>o));)if(p[s](p[i]()+e),f=p.getTime(),a){var m=a.calcNiceTickMultiple(f,d);m>0&&(p[s](p[i]()+m*e),f=p.getTime())}u.push({value:f,notAdd:!0})}function u(e,i,a){var o=[],s=!i.length;if(!xb(rd(e),r[0],r[1],n)){s&&(i=[{value:Db(r[0],e,n)},{value:r[1]}]);for(var c=0;c<i.length-1;c++){var u=i[c].value,d=i[c+1].value;if(u!==d){var f=void 0,p=void 0,m=void 0,h=!1;switch(e){case`year`:f=Math.max(1,Math.round(t/Gu/365)),p=ud(n),m=_d(n);break;case`half-year`:case`quarter`:case`month`:f=Cb(t),p=dd(n),m=vd(n);break;case`week`:case`half-week`:case`day`:f=Sb(t,31),p=fd(n),m=yd(n),h=!0;break;case`half-day`:case`quarter-day`:case`hour`:f=wb(t),p=pd(n),m=bd(n);break;case`minute`:f=Tb(t,!0),p=md(n),m=xd(n);break;case`second`:f=Tb(t,!1),p=hd(n),m=Sd(n);break;case`millisecond`:f=Eb(t),p=gd(n),m=Cd(n);break}d>=r[0]&&u<=r[1]&&l(f,u,d,p,m,h,o),e===`year`&&a.length>1&&c===0&&a.unshift({value:a[0].value-f})}}for(var c=0;c<o.length;c++)a.push(o[c])}}for(var d=[],f=[],p=0,m=0,h=0;h<s.length;++h){var g=rd(s[h]);if(id(s[h])&&(u(s[h],d[d.length-1]||[],f),g!==(s[h+1]?rd(s[h+1]):null))){if(f.length){m=p,f.sort(function(e,t){return e.value-t.value});for(var _=[],v=0;v<f.length;++v){var y=f[v].value;(v===0||f[v-1].value!==y)&&(_.push(f[v]),y>=r[0]&&y<=r[1]&&p++)}var b=i/t;if(p>b*1.5&&m>b/1.5||(d.push(_),p>b||e===s[h]))break}f=[]}}for(var x=_e(B(d,function(e){return _e(e,function(e){return e.value>=r[0]&&e.value<=r[1]&&!e.notAdd})}),function(e){return e.length>0}),S=[],C=x.length-1,h=0;h<x.length;++h)for(var w=x[h],T=0;T<w.length;++T){var E=cd(w[T].value,n);S.push({value:w[T].value,time:{level:C-h,upperTimeUnit:E,lowerTimeUnit:E}})}S.sort(function(e,t){return e.value-t.value});for(var D=[],h=0;h<S.length;++h)(h===0||S[h].value!==S[h-1].value)&&D.push(S[h]);return D}Qy.registerClass(yb);var Ab=yb;u();var jb=To,Mb=Math.floor,Nb=Math.ceil,Pb=Math.pow,Fb=Math.log,Ib=function(e){P(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=`log`,t.base=10,t._originalScale=new sb,t}return t.prototype.getTicks=function(t){t||={};var n=this._extent.slice(),r=this._originalScale.getExtent(),i=e.prototype.getTicks.call(this,t),a=this.base,o=this._originalScale._innerGetBreaks(),s=Vu();return B(i,function(e){var t=e.value,i=null,c=Pb(a,t);t===n[0]&&this._fixMin?i=r[0]:t===n[1]&&this._fixMax&&(i=r[1]);var l;if(s){var u=s.getTicksLogTransformBreak(e,a,o,Lb);l=u.vBreak,i??=u.brkRoundingCriterion}return i!=null&&(c=Lb(c,i)),{value:c,break:l}},this)},t.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},t.prototype.setExtent=function(t,n){this._originalScale.setExtent(t,n);var r=Xy(this.base,[t,n]);e.prototype.setExtent.call(this,r[0],r[1])},t.prototype.getExtent=function(){var t=this.base,n=e.prototype.getExtent.call(this);n[0]=Pb(t,n[0]),n[1]=Pb(t,n[1]);var r=this._originalScale.getExtent();return this._fixMin&&(n[0]=Lb(n[0],r[0])),this._fixMax&&(n[1]=Lb(n[1],r[1])),n},t.prototype.unionExtentFromData=function(e,t){this._originalScale.unionExtentFromData(e,t);var n=Xy(this.base,e.getApproximateExtent(t),!0);this._innerUnionExtent(n)},t.prototype.calcNiceTicks=function(e){e||=10;var t=this._extent.slice(),n=this._getExtentSpanWithBreaks();if(!(!isFinite(n)||n<=0)){var r=Ro(n);for(e/n*r<=.5&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0;)r*=10;var i=[jb(Nb(t[0]/r)*r),jb(Mb(t[1]/r)*r)];this._interval=r,this._intervalPrecision=Uy(r),this._niceExtent=i}},t.prototype.calcNiceExtent=function(t){e.prototype.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},t.prototype.contain=function(t){return t=Fb(t)/Fb(this.base),e.prototype.contain.call(this,t)},t.prototype.normalize=function(t){return t=Fb(t)/Fb(this.base),e.prototype.normalize.call(this,t)},t.prototype.scale=function(t){return t=e.prototype.scale.call(this,t),Pb(this.base,t)},t.prototype.setBreaksFromOption=function(e){var t=Vu();if(t){var n=t.logarithmicParseBreaksFromOption(e,this.base,M(this.parse,this)),r=n.parsedOriginal,i=n.parsedLogged;this._originalScale._innerSetBreak(r),this._innerSetBreak(i)}},t.type=`log`,t}(sb);function Lb(e,t){return jb(e,Do(t))}Qy.registerClass(Ib);var Rb=Ib,zb=function(){function e(e,t,n){this._prepareParams(e,t,n)}return e.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal=e.type===`ordinal`;this._needCrossZero=e.type===`interval`&&t.getNeedCrossZero&&t.getNeedCrossZero();var i=t.get(`min`,!0);i??=t.get(`startValue`,!0);var a=this._modelMinRaw=i;I(a)?this._modelMinNum=Ub(e,a({min:n[0],max:n[1]})):a!==`dataMin`&&(this._modelMinNum=Ub(e,a));var o=this._modelMaxRaw=t.get(`max`,!0);if(I(o)?this._modelMaxNum=Ub(e,o({min:n[0],max:n[1]})):o!==`dataMax`&&(this._modelMaxNum=Ub(e,o)),r)this._axisDataLen=t.getCategories().length;else{var s=t.get(`boundaryGap`),c=D(s)?s:[s||0,s||0];typeof c[0]==`boolean`||typeof c[1]==`boolean`?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[dt(c[0],1),dt(c[1],1)]}},e.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,r=this._axisDataLen,i=this._boundaryGapInner,a=e?null:n-t||Math.abs(t),o=this._modelMinRaw===`dataMin`?t:this._modelMinNum,s=this._modelMaxRaw===`dataMax`?n:this._modelMaxNum,c=o!=null,l=s!=null;o??=e?r?0:NaN:t-i[0]*a,s??=e?r?r-1:NaN:n+i[1]*a,(o==null||!isFinite(o))&&(o=NaN),(s==null||!isFinite(s))&&(s=NaN);var u=ve(o)||ve(s)||e&&!r;this._needCrossZero&&(o>0&&s>0&&!c&&(o=0),o<0&&s<0&&!l&&(s=0));var d=this._determinedMin,f=this._determinedMax;return d!=null&&(o=d,c=!0),f!=null&&(s=f,l=!0),{min:o,max:s,minFixed:c,maxFixed:l,isBlank:u}},e.prototype.modifyDataMinMax=function(e,t){this[Vb[e]]=t},e.prototype.setDeterminedMinMax=function(e,t){var n=Bb[e];this[n]=t},e.prototype.freeze=function(){this.frozen=!0},e}(),Bb={min:`_determinedMin`,max:`_determinedMax`},Vb={min:`_dataMin`,max:`_dataMax`};function Hb(e,t,n){var r=e.rawExtentInfo;return r||(r=new zb(e,t,n),e.rawExtentInfo=r,r)}function Ub(e,t){return t==null?null:ve(t)?NaN:e.parse(t)}function Wb(e,t){var n=e.type,r=Hb(e,t,e.getExtent()).calculate();e.setBlank(r.isBlank);var i=r.min,a=r.max,o=t.ecModel;if(o&&n===`time`){var s=db(`bar`,o),l=!1;if(c(s,function(e){l||=e.getBaseAxis()===t.axis}),l){var u=pb(s),d=Gb(i,a,t,u);i=d.min,a=d.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function Gb(e,t,n,r){var i=n.axis.getExtent(),a=Math.abs(i[1]-i[0]),o=hb(r,n.axis);if(o===void 0)return{min:e,max:t};var s=1/0;c(o,function(e){s=Math.min(e.offset,s)});var l=-1/0;c(o,function(e){l=Math.max(e.offset+e.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,d=t-e,f=d/(1-(s+l)/a)-d;return t+=f*(l/u),e-=f*(s/u),{min:e,max:t}}function Kb(e,t){var n=t,r=Wb(e,n),i=r.extent,a=n.get(`splitNumber`);e instanceof Rb&&(e.base=n.get(`logBase`));var o=e.type,s=n.get(`interval`),c=o===`interval`||o===`time`;e.setBreaksFromOption(nx(n)),e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:c?n.get(`minInterval`):null,maxInterval:c?n.get(`maxInterval`):null}),s!=null&&e.setInterval&&e.setInterval(s)}function qb(e,t){if(t||=e.get(`type`),t)switch(t){case`category`:return new ib({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case`time`:return new Ab({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get(`useUTC`)});default:return new((Qy.getClass(t))||sb)}}function Jb(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)}function Yb(e){var t=e.getLabelModel().get(`formatter`);if(e.type===`time`){var n=ed(t);return function(t,r){return e.scale.getFormattedLabel(t,r,n)}}else if(z(t))return function(n){var r=e.scale.getLabel(n);return t.replace(`{value}`,r??``)};else if(I(t)){if(e.type===`category`)return function(n,r){return t(Xb(e,n),n.value-e.scale.getExtent()[0],null)};var r=Vu();return function(n,i){var a=null;return r&&(a=r.makeAxisLabelFormatterParamBreak(a,n.break)),t(Xb(e,n),i,a)}}else return function(t){return e.scale.getLabel(t)}}function Xb(e,t){return e.type===`category`?e.scale.getLabel(t):t.value}function Zb(e){return e.get(`interval`)??`auto`}function Qb(e){return e.type===`category`&&Zb(e.getLabelModel())===0}function $b(e,t){var n={};return c(e.mapDimensionsAll(t),function(t){n[Ny(e,t)]=!0}),ot(n)}function ex(e){return e===`middle`||e===`center`}function tx(e){return e.getShallow(`show`)}function nx(e){var t=e.get(`breaks`,!0);if(t!=null)return!Vu()||!rx(e.axis)?void 0:t}function rx(e){return(e.dim===`x`||e.dim===`y`||e.dim===`z`||e.dim===`single`)&&e.type!==`category`}var ix=function(){function e(){}return e.prototype.getNeedCrossZero=function(){return!this.option.scale},e.prototype.getCoordSysModel=function(){},e}(),ax=t({createDimensions:()=>xy,createList:()=>ox,createScale:()=>cx,createSymbol:()=>zg,createTextStyle:()=>ux,dataStack:()=>sx,enableHoverEmphasis:()=>Hc,getECData:()=>K,getLayoutRect:()=>$d,mixinAxisModelCommonMethods:()=>lx});function ox(e){return zy(null,e)}var sx={isDimensionStacked:My,enableDataStack:Ay,getStackedDimension:Ny};function cx(e,t){var n=t;t instanceof Su||(n=new Su(t));var r=qb(n);return r.setExtent(e[0],e[1]),Kb(r,n),r}function lx(e){et(e,ix)}function ux(e,t){return t||={},eu(e,null,null,t.state!==`normal`)}var dx=[],fx={registerPreprocessor:wv,registerProcessor:Tv,registerPostInit:Ev,registerPostUpdate:Dv,registerUpdateLifecycle:Ov,registerAction:kv,registerCoordinateSystem:Av,registerLayout:Nv,registerVisual:Pv,registerTransform:Vv,registerLoading:Lv,registerMap:zv,registerImpl:$g,PRIORITY:x_,ComponentModel:J,ComponentView:Dh,SeriesModel:Th,ChartView:Lh,registerComponentModel:function(e){J.registerClass(e)},registerComponentView:function(e){Dh.registerClass(e)},registerSeriesModel:function(e){Th.registerClass(e)},registerChartView:function(e){Lh.registerClass(e)},registerCustomSeries:function(e,t){n_(e,t)},registerSubTypeDefaulter:function(e,t){J.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){Ce(e,t)}};function px(e){if(D(e)){c(e,function(e){px(e)});return}k(dx,e)>=0||(dx.push(e),I(e)&&(e={install:e}),e.install(fx))}u();var mx=[];function hx(e,t){for(var n=0;n<e.length;n++)qe(e[n],e[n],t)}function gx(e,t,n,r){for(var i=0;i<e.length;i++){var a=e[i];r&&(a=r.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(We(t,t,a),o(n,n,a))}}function _x(e){for(var t=0,n=0,r=0,i=e.length,a=e[i-1][0],o=e[i-1][1],s=0;s<i;s++){var c=e[s][0],l=e[s][1],u=a*l-c*o;t+=u,n+=(a+c)*u,r+=(o+l)*u,a=c,o=l}return t?[n/t/3,r/t/3,t]:[e[0][0]||0,e[0][1]||0]}var vx=function(){function e(e){this.name=e}return e.prototype.setCenter=function(e){this._center=e},e.prototype.getCenter=function(){var e=this._center;return e||=this._center=this.calcCenter(),e},e}(),yx=function(){function e(e,t){this.type=`polygon`,this.exterior=e,this.interiors=t}return e}(),bx=function(){function e(e){this.type=`linestring`,this.points=e}return e}(),xx=function(e){P(t,e);function t(t,n,r){var i=e.call(this,t)||this;return i.type=`geoJSON`,i.geometries=n,i._center=r&&[r[0],r[1]],i}return t.prototype.calcCenter=function(){for(var e=this.geometries,t,n=0,r=0;r<e.length;r++){var i=e[r],a=i.exterior,o=a&&a.length;o>n&&(t=i,n=o)}if(t)return _x(t.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},t.prototype.getBoundingRect=function(e){var t=this._rect;if(t&&!e)return t;var n=[1/0,1/0],r=[-1/0,-1/0],i=this.geometries;return c(i,function(t){t.type===`polygon`?gx(t.exterior,n,r,e):c(t.points,function(t){gx(t,n,r,e)})}),isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])||(n[0]=n[1]=r[0]=r[1]=0),t=new rt(n[0],n[1],r[0]-n[0],r[1]-n[1]),e||(this._rect=t),t},t.prototype.contain=function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;loopGeo:for(var r=0,i=n.length;r<i;r++){var a=n[r];if(a.type===`polygon`){var o=a.exterior,s=a.interiors;if(ke(o,e[0],e[1])){for(var c=0;c<(s?s.length:0);c++)if(ke(s[c],e[0],e[1]))continue loopGeo;return!0}}}return!1},t.prototype.transformTo=function(e,t,n,r){var i=this.getBoundingRect(),a=i.width/i.height;n?r||=n/a:n=a*r;for(var o=new rt(e,t,n,r),s=i.calculateTransform(o),l=this.geometries,u=0;u<l.length;u++){var d=l[u];d.type===`polygon`?(hx(d.exterior,s),c(d.interiors,function(e){hx(e,s)})):c(d.points,function(e){hx(e,s)})}i=this._rect,i.copy(o),this._center=[i.x+i.width/2,i.y+i.height/2]},t.prototype.cloneShallow=function(e){e??=this.name;var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(vx);(function(e){P(t,e);function t(t,n){var r=e.call(this,t)||this;return r.type=`geoSVG`,r._elOnlyForCalculate=n,r}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,t=e.getBoundingRect(),n=[t.x+t.width/2,t.y+t.height/2],r=De(mx),i=e;i&&!i.isGeoSVGGraphicRoot;)je(r,i.getLocalTransform(),r),i=i.parent;return ht(r,r),qe(n,n,r),n},t})(vx);function Sx(e){if(!e.UTF8Encoding)return e;var t=e,n=t.UTF8Scale;n??=1024;var r=t.features;return c(r,function(e){var t=e.geometry,r=t.encodeOffsets,i=t.coordinates;if(r)switch(t.type){case`LineString`:t.coordinates=wx(i,r,n);break;case`Polygon`:Cx(i,r,n);break;case`MultiLineString`:Cx(i,r,n);break;case`MultiPolygon`:c(i,function(e,t){return Cx(e,r[t],n)})}}),t.UTF8Encoding=!1,t}function Cx(e,t,n){for(var r=0;r<e.length;r++)e[r]=wx(e[r],t[r],n)}function wx(e,t,n){for(var r=[],i=t[0],a=t[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,c=e.charCodeAt(o+1)-64;s=s>>1^-(s&1),c=c>>1^-(c&1),s+=i,c+=a,i=s,a=c,r.push([s/n,c/n])}return r}function Tx(e,t){return e=Sx(e),B(_e(e.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var n=e.properties,r=e.geometry,i=[];switch(r.type){case`Polygon`:var a=r.coordinates;i.push(new yx(a[0],a.slice(1)));break;case`MultiPolygon`:c(r.coordinates,function(e){e[0]&&i.push(new yx(e[0],e.slice(1)))});break;case`LineString`:i.push(new bx([r.coordinates]));break;case`MultiLineString`:i.push(new bx(r.coordinates))}var o=new xx(n[t||`name`],i,n.cp);return o.properties=n,o})}var Ex=t({MAX_SAFE_INTEGER:()=>No,asc:()=>Eo,getPercentWithPrecision:()=>Ao,getPixelPrecision:()=>ko,getPrecision:()=>Do,getPrecisionSafe:()=>Oo,isNumeric:()=>Wo,isRadianAroundZero:()=>Fo,linearMap:()=>xo,nice:()=>Bo,numericToNumber:()=>Uo,parseDate:()=>Lo,parsePercent:()=>So,quantile:()=>Vo,quantity:()=>Ro,quantityExponent:()=>zo,reformIntervals:()=>Ho,remRadian:()=>Po,round:()=>To}),Dx=t({format:()=>od,parse:()=>Lo,roundTime:()=>ld}),Ox=t({Arc:()=>ae,BezierCurve:()=>Ge,BoundingRect:()=>rt,Circle:()=>w,CompoundPath:()=>f,Ellipse:()=>v,Group:()=>ce,Image:()=>b,IncrementalDisplayable:()=>l,Line:()=>a,LinearGradient:()=>h,Polygon:()=>te,Polyline:()=>Ue,RadialGradient:()=>pe,Rect:()=>F,Ring:()=>re,Sector:()=>se,Text:()=>s,clipPointsByRect:()=>kl,clipRectByRect:()=>Al,createIcon:()=>jl,extendPath:()=>fl,extendShape:()=>ul,getShapeClass:()=>ml,getTransform:()=>Cl,initProps:()=>tl,makeImage:()=>gl,makePath:()=>hl,mergePath:()=>vl,registerShape:()=>pl,resizePath:()=>yl,updateProps:()=>el}),kx=t({addCommas:()=>Td,capitalFirst:()=>Pd,encodeHTML:()=>he,formatTime:()=>Nd,formatTpl:()=>jd,getTextRect:()=>wd,getTooltipMarker:()=>Md,normalizeCssArray:()=>Dd,toCamelCase:()=>Ed,truncateText:()=>it}),Ax=t({bind:()=>M,clone:()=>y,curry:()=>ue,defaults:()=>H,each:()=>c,extend:()=>C,filter:()=>_e,indexOf:()=>k,inherits:()=>at,isArray:()=>D,isFunction:()=>I,isObject:()=>i,isString:()=>z,map:()=>B,merge:()=>L,reduce:()=>Je}),jx=G(),Mx=G(),Nx={estimate:1,determine:2};function Px(e){return{out:{noPxChangeTryDetermine:[]},kind:e}}function Fx(e,t){var n=B(t,function(t){return e.scale.parse(t)});return e.type===`time`&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function Ix(e,t){var n=e.getLabelModel().get(`customValues`);if(n){var r=Yb(e),i=e.scale.getExtent();return{labels:B(_e(Fx(e,n),function(e){return e>=i[0]&&e<=i[1]}),function(t){var n={value:t};return{formattedLabel:r(n),rawLabel:e.scale.getLabel(n),tickValue:t,time:void 0,break:void 0}})}}return e.type===`category`?Rx(e,t):Vx(e)}function Lx(e,t,n){var r=e.getTickModel().get(`customValues`);if(r){var i=e.scale.getExtent();return{ticks:_e(Fx(e,r),function(e){return e>=i[0]&&e<=i[1]})}}return e.type===`category`?Bx(e,t):{ticks:B(e.scale.getTicks(n),function(e){return e.value})}}function Rx(e,t){var n=e.getLabelModel(),r=zx(e,n,t);return!n.get(`show`)||e.scale.isBlank()?{labels:[]}:r}function zx(e,t,n){var r=Ux(e),i=Zb(t),a=n.kind===Nx.estimate;if(!a){var o=Gx(r,i);if(o)return o}var s,c;I(i)?s=$x(e,i):(c=i===`auto`?qx(e,n):i,s=Qx(e,c));var l={labels:s,labelCategoryInterval:c};return a?n.out.noPxChangeTryDetermine.push(function(){return Kx(r,i,l),!0}):Kx(r,i,l),l}function Bx(e,t){var n=Hx(e),r=Zb(t),i=Gx(n,r);if(i)return i;var a,o;if((!t.get(`show`)||e.scale.isBlank())&&(a=[]),I(r))a=$x(e,r,!0);else if(r===`auto`){var s=zx(e,e.getLabelModel(),Px(Nx.determine));o=s.labelCategoryInterval,a=B(s.labels,function(e){return e.tickValue})}else o=r,a=Qx(e,o,!0);return Kx(n,r,{ticks:a,tickCategoryInterval:o})}function Vx(e){var t=e.scale.getTicks(),n=Yb(e);return{labels:B(t,function(t,r){return{formattedLabel:n(t,r),rawLabel:e.scale.getLabel(t),tickValue:t.value,time:t.time,break:t.break}})}}var Hx=Wx(`axisTick`),Ux=Wx(`axisLabel`);function Wx(e){return function(t){return Mx(t)[e]||(Mx(t)[e]={list:[]})}}function Gx(e,t){for(var n=0;n<e.list.length;n++)if(e.list[n].key===t)return e.list[n].value}function Kx(e,t,n){return e.list.push({key:t,value:n}),n}function qx(e,t){if(t.kind===Nx.estimate){var n=e.calculateCategoryInterval(t);return t.out.noPxChangeTryDetermine.push(function(){return Mx(e).autoInterval=n,!0}),n}return Mx(e).autoInterval??(Mx(e).autoInterval=e.calculateCategoryInterval(t))}function Jx(e,t){var n=t.kind,r=Zx(e),i=Yb(e),a=(r.axisRotate-r.labelRotate)/180*Math.PI,o=e.scale,s=o.getExtent(),c=o.count();if(s[1]-s[0]<1)return 0;var l=1,u=40;c>u&&(l=Math.max(1,Math.floor(c/u)));for(var d=s[0],f=e.dataToCoord(d+1)-e.dataToCoord(d),p=Math.abs(f*Math.cos(a)),m=Math.abs(f*Math.sin(a)),h=0,g=0;d<=s[1];d+=l){var _=0,v=0,y=Fe(i({value:d}),r.font,`center`,`top`);_=y.width*1.3,v=y.height*1.3,h=Math.max(h,_,7),g=Math.max(g,v,7)}var b=h/p,x=g/m;isNaN(b)&&(b=1/0),isNaN(x)&&(x=1/0);var S=Math.max(0,Math.floor(Math.min(b,x)));return n===Nx.estimate?(t.out.noPxChangeTryDetermine.push(M(Yx,null,e,S,c)),S):Xx(e,S,c)??S}function Yx(e,t,n){return Xx(e,t,n)==null}function Xx(e,t,n){var r=jx(e.model),i=e.getExtent(),a=r.lastAutoInterval,o=r.lastTickCount;if(a!=null&&o!=null&&Math.abs(a-t)<=1&&Math.abs(o-n)<=1&&a>t&&r.axisExtent0===i[0]&&r.axisExtent1===i[1])return a;r.lastTickCount=n,r.lastAutoInterval=t,r.axisExtent0=i[0],r.axisExtent1=i[1]}function Zx(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get(`rotate`)||0,font:t.getFont()}}function Qx(e,t,n){var r=Yb(e),i=e.scale,a=i.getExtent(),o=e.getLabelModel(),s=[],c=Math.max((t||0)+1,1),l=a[0],u=i.count();l!==0&&c>1&&u/c>2&&(l=Math.round(Math.ceil(l/c)*c));var d=Qb(e),f=o.get(`showMinLabel`)||d,p=o.get(`showMaxLabel`)||d;f&&l!==a[0]&&h(a[0]);for(var m=l;m<=a[1];m+=c)h(m);p&&m-c!==a[1]&&h(a[1]);function h(e){var t={value:e};s.push(n?e:{formattedLabel:r(t),rawLabel:i.getLabel(t),tickValue:e,time:void 0,break:void 0})}return s}function $x(e,t,n){var r=e.scale,i=Yb(e),a=[];return c(r.getTicks(),function(e){var o=r.getLabel(e),s=e.value;t(e.value,o)&&a.push(n?s:{formattedLabel:i(e),rawLabel:o,tickValue:s,time:void 0,break:void 0})}),a}var eS=[0,1],tS=function(){function e(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return e.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=n&&e<=r},e.prototype.containData=function(e){return this.scale.contain(this.scale.parse(e))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(e){return ko(e||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},e.prototype.dataToCoord=function(e,t){var n=this._extent,r=this.scale;return e=r.normalize(r.parse(e)),this.onBand&&r.type===`ordinal`&&(n=n.slice(),nS(n,r.count())),xo(e,eS,n,t)},e.prototype.coordToData=function(e,t){var n=this._extent,r=this.scale;this.onBand&&r.type===`ordinal`&&(n=n.slice(),nS(n,r.count()));var i=xo(e,n,eS,t);return this.scale.scale(i)},e.prototype.pointToData=function(e,t){},e.prototype.getTicksCoords=function(e){e||={};var t=e.tickModel||this.getTickModel(),n=Lx(this,t,{breakTicks:e.breakTicks,pruneByBreak:e.pruneByBreak}).ticks,r=B(n,function(e){return{coord:this.dataToCoord(this.scale.type===`ordinal`?this.scale.getRawOrdinalNumber(e):e),tickValue:e}},this),i=t.get(`alignWithLabel`);return rS(this,r,i,e.clamp),r},e.prototype.getMinorTicksCoords=function(){if(this.scale.type===`ordinal`)return[];var e=this.model.getModel(`minorTick`).get(`splitNumber`);return e>0&&e<100||(e=5),B(this.scale.getMinorTicks(e),function(e){return B(e,function(e){return{coord:this.dataToCoord(e),tickValue:e}},this)},this)},e.prototype.getViewLabels=function(e){return e||=Px(Nx.determine),Ix(this,e).labels},e.prototype.getLabelModel=function(){return this.model.getModel(`axisLabel`)},e.prototype.getTickModel=function(){return this.model.getModel(`axisTick`)},e.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);n===0&&(n=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/n},e.prototype.calculateCategoryInterval=function(e){return e||=Px(Nx.determine),Jx(this,e)},e}();function nS(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}function rS(e,t,n,r){var i=t.length;if(!e.onBand||n||!i)return;var a=e.getExtent(),o,s;if(i===1)t[0].coord=a[0],t[0].onBand=!0,o=t[1]={coord:a[1],tickValue:t[0].tickValue,onBand:!0};else{var l=t[i-1].tickValue-t[0].tickValue,u=(t[i-1].coord-t[0].coord)/l;c(t,function(e){e.coord-=u/2,e.onBand=!0});var d=e.scale.getExtent();s=1+d[1]-t[i-1].tickValue,o={coord:t[i-1].coord+u*s,tickValue:d[1]+1,onBand:!0},t.push(o)}var f=a[0]>a[1];p(t[0].coord,a[0])&&(r?t[0].coord=a[0]:t.shift()),r&&p(a[0],t[0].coord)&&t.unshift({coord:a[0],onBand:!0}),p(a[1],o.coord)&&(r?o.coord=a[1]:t.pop()),r&&p(o.coord,a[1])&&t.push({coord:a[1],onBand:!0});function p(e,t){return e=To(e),t=To(t),f?e>t:e<t}}var iS=tS;function aS(e){var t=J.extend(e);return J.registerClass(t),t}function oS(e){var t=Dh.extend(e);return Dh.registerClass(t),t}function sS(e){var t=Th.extend(e);return Th.registerClass(t),t}function cS(e){var t=Lh.extend(e);return Lh.registerClass(t),t}var lS=[`label`,`labelLine`,`layoutOption`,`priority`,`defaultAttr`,`marginForce`,`minMarginForce`,`marginDefault`,`suggestIgnore`],uS=1,dS=2,fS=uS|dS;function pS(e,t,n){n||=fS,t?e.dirty|=n:e.dirty&=~n}function mS(e,t){return t||=fS,e.dirty==null||!!(e.dirty&t)}function hS(e){if(e)return mS(e)&&gS(e,e.label,e),e}function gS(e,t,n){var r=t.getComputedTransform();e.transform=Wl(e.transform,r);var i=e.localRect=Ul(e.localRect,t.getBoundingRect()),a=t.style,o=a.margin,s=n&&n.marginForce,c=n&&n.minMarginForce,l=n&&n.marginDefault,u=a.__marginType;u==null&&l&&(o=l,u=uu.textMargin);for(var d=0;d<4;d++)_S[d]=u===uu.minMargin&&c&&c[d]!=null?c[d]:s&&s[d]!=null?s[d]:o?o[d]:0;u===uu.textMargin&&Il(i,_S,!1,!1);var f=e.rect=Ul(e.rect,i);return r&&f.applyTransform(r),u===uu.minMargin&&Il(f,_S,!1,!1),e.axisAligned=Vl(r),(e.label=e.label||{}).ignore=t.ignore,pS(e,!1),pS(e,!0,dS),e}var _S=[0,0,0,0];function vS(e,t,n){return e.transform=Wl(e.transform,n),e.localRect=Ul(e.localRect,t),e.rect=Ul(e.rect,t),n&&e.rect.applyTransform(n),e.axisAligned=Vl(n),e.obb=void 0,(e.label=e.label||{}).ignore=!1,e}function yS(e,t){if(e){e.label.x+=t.x,e.label.y+=t.y,e.label.markRedraw();var n=e.transform;n&&(n[4]+=t.x,n[5]+=t.y);var r=e.rect;r&&(r.x+=t.x,r.y+=t.y);var i=e.obb;i&&i.fromBoundingRect(e.localRect,n)}}function bS(e,t){for(var n=0;n<lS.length;n++){var r=lS[n];e[r]??(e[r]=t[r])}return hS(e)}function xS(e){var t=e.obb;return(!t||mS(e,dS))&&(e.obb=t||=new gt,t.fromBoundingRect(e.localRect,e.transform),pS(e,!1,dS)),t}function SS(e){var t=[];e.sort(function(e,t){return(t.suggestIgnore?1:0)-(e.suggestIgnore?1:0)||t.priority-e.priority});function n(e){if(!e.ignore){var t=e.ensureState(`emphasis`);t.ignore??=!1}e.ignore=!0}for(var r=0;r<e.length;r++){var i=hS(e[r]);if(!i.label.ignore){for(var a=i.label,o=i.labelLine,s=!1,c=0;c<t.length;c++)if(CS(i,t[c],null,{touchThreshold:.05})){s=!0;break}s?(n(a),o&&n(o)):t.push(i)}}}function CS(e,t,n,r){return!e||!t||e.label&&e.label.ignore||t.label&&t.label.ignore||!e.rect.intersect(t.rect,n,r)?!1:e.axisAligned&&t.axisAligned?!0:xS(e).intersect(xS(t),n,r)}var wS=t({Axis:()=>iS,ChartView:()=>Lh,ComponentModel:()=>J,ComponentView:()=>Dh,List:()=>by,Model:()=>Su,PRIORITY:()=>x_,SeriesModel:()=>Th,color:()=>He,connect:()=>_v,dataTool:()=>Uv,dependencies:()=>i_,disConnect:()=>yv,disconnect:()=>vv,dispose:()=>bv,env:()=>V,extendChartView:()=>cS,extendComponentModel:()=>aS,extendComponentView:()=>oS,extendSeriesModel:()=>sS,format:()=>kx,getCoordinateSystemDimensions:()=>jv,getInstanceByDom:()=>xv,getInstanceById:()=>Sv,getMap:()=>Bv,graphic:()=>Ox,helper:()=>ax,init:()=>gv,innerDrawElementOnCanvas:()=>yt,matrix:()=>Ct,number:()=>Ex,parseGeoJSON:()=>Tx,parseGeoJson:()=>Tx,registerAction:()=>kv,registerCoordinateSystem:()=>Av,registerCustomSeries:()=>Mv,registerLayout:()=>Nv,registerLoading:()=>Lv,registerLocale:()=>Iu,registerMap:()=>zv,registerPostInit:()=>Ev,registerPostUpdate:()=>Dv,registerPreprocessor:()=>wv,registerProcessor:()=>Tv,registerTheme:()=>Cv,registerTransform:()=>Vv,registerUpdateLifecycle:()=>Ov,registerVisual:()=>Pv,setCanvasCreator:()=>Rv,setPlatformAPI:()=>mt,throttle:()=>Vh,time:()=>Dx,use:()=>px,util:()=>Ax,vector:()=>ne,version:()=>r_,zrUtil:()=>Re,zrender:()=>Te});function TS(e,t){return e.type===t}u();var ES={left:0,right:0,top:0,bottom:0},DS=[`25%`,`25%`],OS=function(e){P(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.mergeDefaultAndTheme=function(t,n){var r=of(t.outerBounds);e.prototype.mergeDefaultAndTheme.apply(this,arguments),r&&t.outerBounds&&af(t.outerBounds,r)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&t.outerBounds&&af(this.option.outerBounds,t.outerBounds)},t.type=`grid`,t.dependencies=[`xAxis`,`yAxis`],t.layoutMode=`box`,t.defaultOption={show:!1,z:0,left:`15%`,top:65,right:`10%`,bottom:80,containLabel:!1,outerBoundsMode:`auto`,outerBounds:ES,outerBoundsContain:`all`,outerBoundsClampWidth:DS[0],outerBoundsClampHeight:DS[1],backgroundColor:X.color.transparent,borderWidth:1,borderColor:X.color.neutral30},t}(J);u();var kS=function(e){P(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents(`grid`,Es).models[0]},t.type=`cartesian2dAxis`,t}(J);et(kS,ix);var AS={show:!0,z:0,inverse:!1,name:``,nameLocation:`end`,nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:`...`,placeholder:`.`},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:X.color.axisLine,width:1,type:`solid`},symbol:[`none`,`none`],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:X.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:X.color.axisSplitLine,width:1,type:`solid`}},splitArea:{show:!1,areaStyle:{color:[X.color.backgroundTint,X.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:X.color.neutral00,borderColor:X.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:`auto`}},jS=L({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:`auto`,show:`auto`},axisLabel:{interval:`auto`}},AS),MS=L({boundaryGap:[0,0],axisLine:{show:`auto`},axisTick:{show:`auto`},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:X.color.axisMinorSplitLine,width:1}}},AS),NS={category:jS,value:MS,time:L({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:`bold`}}},splitLine:{show:!1}},MS),log:H({logBase:10},MS)},PS={value:1,category:1,time:1,log:1},FS=null;function IS(){return FS}u();function LS(e,t,n,r){c(PS,function(i,a){var o=L(L({},NS[a],!0),r,!0),s=function(e){P(n,e);function n(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t+`Axis.`+a,n}return n.prototype.mergeDefaultAndTheme=function(e,t){var n=rf(this),r=n?of(e):{};L(e,t.getTheme().get(a+`Axis`)),L(e,this.getDefaultOption()),e.type=RS(e),n&&af(e,r,n)},n.prototype.optionUpdated=function(){this.option.type===`category`&&(this.__ordinalMeta=nb.createByAxisModel(this))},n.prototype.getCategories=function(e){var t=this.option;if(t.type===`category`)return e?t.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.prototype.updateAxisBreaks=function(e){var t=IS();return t?t.updateModelAxisBreak(this,e):{breaks:[]}},n.type=t+`Axis.`+a,n.defaultOption=o,n}(n);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(t+`Axis`,RS)}function RS(e){return e.type||(e.data?`category`:`value`)}var zS=function(){function e(e){this.type=`cartesian`,this._dimList=[],this._axes={},this.name=e||``}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return B(this._dimList,function(e){return this._axes[e]},this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),_e(this.getAxes(),function(t){return t.scale.type===e})},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}();u();var BS=[`x`,`y`];function VS(e){return(e.type===`interval`||e.type===`time`)&&!e.hasBreaks()}var HS=function(e){P(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=`cartesian2d`,t.dimensions=BS,t}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis(`x`).scale,t=this.getAxis(`y`).scale;if(!(!VS(e)||!VS(t))){var n=e.getExtent(),r=t.getExtent(),i=this.dataToPoint([n[0],r[0]]),a=this.dataToPoint([n[1],r[1]]),o=n[1]-n[0],s=r[1]-r[0];if(!(!o||!s)){var c=(a[0]-i[0])/o,l=(a[1]-i[1])/s;this._invTransform=ht([],this._transform=[c,0,0,l,i[0]-n[0]*c,i[1]-r[0]*l])}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale(`ordinal`)[0]||this.getAxesByScale(`time`)[0]||this.getAxis(`x`)},t.prototype.containPoint=function(e){var t=this.getAxis(`x`),n=this.getAxis(`y`);return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis(`x`).containData(e[0])&&this.getAxis(`y`).containData(e[1])},t.prototype.containZone=function(e,t){var n=this.dataToPoint(e),r=this.dataToPoint(t),i=this.getArea(),a=new rt(n[0],n[1],r[0]-n[0],r[1]-n[1]);return i.intersect(a)},t.prototype.dataToPoint=function(e,t,n){n||=[];var r=e[0],i=e[1];if(this._transform&&r!=null&&isFinite(r)&&i!=null&&isFinite(i))return qe(n,e,this._transform);var a=this.getAxis(`x`),o=this.getAxis(`y`);return n[0]=a.toGlobalCoord(a.dataToCoord(r,t)),n[1]=o.toGlobalCoord(o.dataToCoord(i,t)),n},t.prototype.clampData=function(e,t){var n=this.getAxis(`x`).scale,r=this.getAxis(`y`).scale,i=n.getExtent(),a=r.getExtent(),o=n.parse(e[0]),s=r.parse(e[1]);return t||=[],t[0]=Math.min(Math.max(Math.min(i[0],i[1]),o),Math.max(i[0],i[1])),t[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),t},t.prototype.pointToData=function(e,t,n){if(n||=[],this._invTransform)return qe(n,e,this._invTransform);var r=this.getAxis(`x`),i=this.getAxis(`y`);return n[0]=r.coordToData(r.toLocalCoord(e[0]),t),n[1]=i.coordToData(i.toLocalCoord(e[1]),t),n},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim===`x`?`y`:`x`)},t.prototype.getArea=function(e){e||=0;var t=this.getAxis(`x`).getGlobalExtent(),n=this.getAxis(`y`).getGlobalExtent(),r=Math.min(t[0],t[1])-e,i=Math.min(n[0],n[1])-e;return new rt(r,i,Math.max(t[0],t[1])-r+e,Math.max(n[0],n[1])-i+e)},t}(zS);u();var US=function(e){P(t,e);function t(t,n,r,i,a){var o=e.call(this,t,n,r)||this;return o.index=0,o.type=i||`value`,o.position=a||`bottom`,o}return t.prototype.isHorizontal=function(){var e=this.position;return e===`top`||e===`bottom`},t.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},t.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e[this.dim===`x`?0:1]),t)},t.prototype.setCategorySortInfo=function(e){if(this.type!==`category`)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(iS),WS=`expandAxisBreak`,GS=Math.PI,KS=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],qS=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],JS=G(),YS=G(),XS=function(){function e(e){this.recordMap={},this.resolveAxisNameOverlap=e}return e.prototype.ensureRecord=function(e){var t=e.axis.dim,n=e.componentIndex,r=this.recordMap,i=r[t]||(r[t]=[]);return i[n]||(i[n]={ready:{}})},e}();function ZS(e,t,n,r){var i=n.axis,a=t.ensureRecord(n),o=[],s,l=xC(e.axisName)&&ex(e.nameLocation);c(r,function(e){var t=hS(e);if(!(!t||t.label.ignore)){o.push(t);var n=a.transGroup;l&&(n.transform?ht(QS,n.transform):De(QS),t.transform&&je(QS,QS,t.transform),rt.copy($S,t.localRect),$S.applyTransform(QS),s?s.union($S):rt.copy(s=new rt(0,0,0,0),$S))}});var u=Math.abs(a.dirVec.x)>.1?`x`:`y`,d=a.transGroup[u];if(o.sort(function(e,t){return Math.abs(e.label[u]-d)-Math.abs(t.label[u]-d)}),l&&s){var f=i.getExtent(),p=Math.min(f[0],f[1]),m=Math.max(f[0],f[1])-p;s.union(new rt(p,0,m,1))}a.stOccupiedRect=s,a.labelInfoList=o}var QS=ze(),$S=new rt(0,0,0,0),eC=function(e,t,n,r,i,a){if(ex(e.nameLocation)){var o=a.stOccupiedRect;o&&tC(vS({},o,a.transGroup.transform),r,i)}else nC(a.labelInfoList,a.dirVec,r,i)};function tC(e,t,n){var r=new Ze;CS(e,t,r,{direction:Math.atan2(n.y,n.x),bidirectional:!1,touchThreshold:.05})&&yS(t,r)}function nC(e,t,n,r){for(var i=Ze.dot(r,t)>=0,a=0,o=e.length;a<o;a++){var s=e[i?a:o-1-a];s.label.ignore||tC(s,n,r)}}var rC=function(){function e(e,t,n,r){this.group=new ce,this._axisModel=e,this._api=t,this._local={},this._shared=r||new XS(eC),this._resetCfgDetermined(n)}return e.prototype.updateCfg=function(e){var t=this._cfg.raw;t.position=e.position,t.labelOffset=e.labelOffset,this._resetCfgDetermined(t)},e.prototype.__getRawCfg=function(){return this._cfg.raw},e.prototype._resetCfgDetermined=function(e){var t=this._axisModel,n=t.getDefaultOption?t.getDefaultOption():{},r=R(e.axisName,t.get(`name`)),i=t.get(`nameMoveOverlap`);(i==null||i===`auto`)&&(i=R(e.defaultNameMoveOverlap,!0));var a={raw:e,position:e.position,rotation:e.rotation,nameDirection:R(e.nameDirection,1),tickDirection:R(e.tickDirection,1),labelDirection:R(e.labelDirection,1),labelOffset:R(e.labelOffset,0),silent:R(e.silent,!0),axisName:r,nameLocation:Ie(t.get(`nameLocation`),n.nameLocation,`end`),shouldNameMoveOverlap:xC(r)&&i,optionHideOverlap:t.get([`axisLabel`,`hideOverlap`]),showMinorTicks:t.get([`minorTick`,`show`])};this._cfg=a;var o=new ce({x:a.position[0],y:a.position[1],rotation:a.rotation});o.updateTransform(),this._transformGroup=o;var s=this._shared.ensureRecord(t);s.transGroup=this._transformGroup,s.dirVec=new Ze(Math.cos(-a.rotation),Math.sin(-a.rotation))},e.prototype.build=function(e,t){var n=this;return e||={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0},c(iC,function(r){e[r]&&aC[r](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,t||{})}),this},e.innerTextLayout=function(e,t,n){var r=Po(t-e),i,a;return Fo(r)?(a=n>0?`top`:`bottom`,i=`center`):Fo(r-GS)?(a=n>0?`bottom`:`top`,i=`center`):(a=`middle`,i=r>0&&r<GS?n>0?`right`:`left`:n>0?`left`:`right`),{rotation:r,textAlign:i,textVerticalAlign:a}},e.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+`Index`]=e.componentIndex,t},e.isLabelSilent=function(e){var t=e.get(`tooltip`);return e.get(`silent`)||!(e.get(`triggerEvent`)||t&&t.show)},e}(),iC=[`axisLine`,`axisTickLabelEstimate`,`axisTickLabelDetermine`,`axisName`],aC={axisLine:function(e,t,n,r,i,o,s){var l=r.get([`axisLine`,`show`]);if(l===`auto`&&(l=!0,e.raw.axisLineAutoShow!=null&&(l=!!e.raw.axisLineAutoShow)),l){var u=r.axis.getExtent(),d=o.transform,f=[u[0],0],p=[u[1],0],m=f[0]>p[0];d&&(qe(f,f,d),qe(p,p,d));var h=C({lineCap:`round`},r.getModel([`axisLine`,`lineStyle`]).getLineStyle()),g={strokeContainThreshold:e.raw.strokeContainThreshold||5,silent:!0,z2:1,style:h};if(r.get([`axisLine`,`breakLine`])&&r.axis.scale.hasBreaks())IS().buildAxisBreakLine(r,i,o,g);else{var _=new a(C({shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]}},g));bl(_.shape,_.style.lineWidth),_.anid=`line`,i.add(_)}var v=r.get([`axisLine`,`symbol`]);if(v!=null){var y=r.get([`axisLine`,`symbolSize`]);z(v)&&(v=[v,v]),(z(y)||N(y))&&(y=[y,y]);var b=Bg(r.get([`axisLine`,`symbolOffset`])||0,y),x=y[0],S=y[1];c([{rotate:e.rotation+Math.PI/2,offset:b[0],r:0},{rotate:e.rotation-Math.PI/2,offset:b[1],r:Math.sqrt((f[0]-p[0])*(f[0]-p[0])+(f[1]-p[1])*(f[1]-p[1]))}],function(t,n){if(v[n]!==`none`&&v[n]!=null){var r=zg(v[n],-x/2,-S/2,x,S,h.stroke,!0),a=t.r+t.offset,o=m?p:f;r.attr({rotation:t.rotate,x:o[0]+a*Math.cos(e.rotation),y:o[1]-a*Math.sin(e.rotation),silent:!0,z2:11}),i.add(r)}})}}},axisTickLabelEstimate:function(e,t,n,r,i,a,o,s){mC(t,i,s)&&oC(e,t,n,r,i,a,o,Nx.estimate)},axisTickLabelDetermine:function(e,t,n,r,i,a,o,s){mC(t,i,s)&&oC(e,t,n,r,i,a,o,Nx.determine);var c=fC(e,i,a,r);lC(e,t.labelLayoutList,c),pC(e,i,a,r,e.tickDirection)},axisName:function(e,t,n,r,i,a,o,c){var l=n.ensureRecord(r);t.nameEl&&=(i.remove(t.nameEl),l.nameLayout=l.nameLocation=null);var u=e.axisName;if(xC(u)){var d=e.nameLocation,f=e.nameDirection,p=r.getModel(`nameTextStyle`),m=r.get(`nameGap`)||0,h=r.axis.getExtent(),g=r.axis.inverse?-1:1,_=new Ze(0,0),v=new Ze(0,0);d===`start`?(_.x=h[0]-g*m,v.x=-g):d===`end`?(_.x=h[1]+g*m,v.x=g):(_.x=(h[0]+h[1])/2,_.y=e.labelOffset+f*m,v.y=f);var y=ze();v.transform(xt(y,y,e.rotation));var b=r.get(`nameRotate`);b!=null&&(b=b*GS/180);var x,S;ex(d)?x=rC.innerTextLayout(e.rotation,b??e.rotation,f):(x=sC(e.rotation,d,b||0,h),S=e.raw.axisNameAvailableWidth,S!=null&&(S=Math.abs(S/Math.sin(x.rotation)),!isFinite(S)&&(S=null)));var C=p.getFont(),w=r.get(`nameTruncate`,!0)||{},T=w.ellipsis,E=ft(e.raw.nameTruncateMaxWidth,w.maxWidth,S),D=c.nameMarginLevel||0,O=new s({x:_.x,y:_.y,rotation:x.rotation,silent:rC.isLabelSilent(r),style:eu(p,{text:u,font:C,overflow:`truncate`,width:E,ellipsis:T,fill:p.getTextColor()||r.get([`axisLine`,`lineStyle`,`color`]),align:p.get(`align`)||x.textAlign,verticalAlign:p.get(`verticalAlign`)||x.textVerticalAlign}),z2:1});if(Rl({el:O,componentModel:r,itemName:u}),O.__fullText=u,O.anid=`name`,r.get(`triggerEvent`)){var k=rC.makeAxisEventDataBase(r);k.targetType=`axisName`,k.name=u,K(O).eventData=k}a.add(O),O.updateTransform(),t.nameEl=O;var ee=l.nameLayout=hS({label:O,priority:O.z2,defaultAttr:{ignore:O.ignore},marginDefault:ex(d)?KS[D]:qS[D]});if(l.nameLocation=d,i.add(O),O.decomposeTransform(),e.shouldNameMoveOverlap&&ee){var A=n.ensureRecord(r);n.resolveAxisNameOverlap(e,n,r,ee,v,A)}}}};function oC(e,t,n,r,i,a,o,s){gC(t)||hC(e,t,i,s,r,o);var c=t.labelLayoutList;vC(e,r,c,a),CC(r,e.rotation,c);var l=e.optionHideOverlap;cC(r,c,l),l&&SS(_e(c,function(e){return e&&!e.label.ignore})),ZS(e,n,r,c)}function sC(e,t,n,r){var i=Po(n-e),a,o,s=r[0]>r[1],c=t===`start`&&!s||t!==`start`&&s;return Fo(i-GS/2)?(o=c?`bottom`:`top`,a=`center`):Fo(i-GS*1.5)?(o=c?`top`:`bottom`,a=`center`):(o=`middle`,a=i<GS*1.5&&i>GS/2?c?`left`:`right`:c?`right`:`left`),{rotation:i,textAlign:a,textVerticalAlign:o}}function cC(e,t,n){if(Qb(e.axis))return;function r(e,r,i){var a=hS(t[r]),o=hS(t[i]);if(!(!a||!o)){if(e===!1||a.suggestIgnore){uC(a.label);return}if(o.suggestIgnore){uC(o.label);return}var s=.1;if(!n){var c=[0,0,0,0];a=bS({marginForce:c},a),o=bS({marginForce:c},o)}CS(a,o,null,{touchThreshold:s})&&uC(e?o.label:a.label)}}var i=e.get([`axisLabel`,`showMinLabel`]),a=e.get([`axisLabel`,`showMaxLabel`]),o=t.length;r(i,0,1),r(a,o-1,o-2)}function lC(e,t,n){e.showMinorTicks||c(t,function(e){if(e&&e.label.ignore)for(var t=0;t<n.length;t++){var r=n[t],i=YS(r),a=JS(e.label);if(i.tickValue!=null&&!i.onBand&&i.tickValue===a.tickValue){uC(r);return}}})}function uC(e){e&&(e.ignore=!0)}function dC(e,t,n,r,i){for(var o=[],s=[],c=[],l=0;l<e.length;l++){var u=e[l].coord;s[0]=u,s[1]=0,c[0]=u,c[1]=n,t&&(qe(s,s,t),qe(c,c,t));var d=new a({shape:{x1:s[0],y1:s[1],x2:c[0],y2:c[1]},style:r,z2:2,autoBatch:!0,silent:!0});bl(d.shape,d.style.lineWidth),d.anid=i+`_`+e[l].tickValue,o.push(d);var f=YS(d);f.onBand=!!e[l].onBand,f.tickValue=e[l].tickValue}return o}function fC(e,t,n,r){var i=r.axis,a=r.getModel(`axisTick`),o=a.get(`show`);if(o===`auto`&&(o=!0,e.raw.axisTickAutoShow!=null&&(o=!!e.raw.axisTickAutoShow)),!o||i.scale.isBlank())return[];for(var s=a.getModel(`lineStyle`),c=e.tickDirection*a.get(`length`),l=dC(i.getTicksCoords(),n.transform,c,H(s.getLineStyle(),{stroke:r.get([`axisLine`,`lineStyle`,`color`])}),`ticks`),u=0;u<l.length;u++)t.add(l[u]);return l}function pC(e,t,n,r,i){var a=r.axis,o=r.getModel(`minorTick`);if(!(!e.showMinorTicks||a.scale.isBlank())){var s=a.getMinorTicksCoords();if(s.length)for(var c=o.getModel(`lineStyle`),l=i*o.get(`length`),u=H(c.getLineStyle(),H(r.getModel(`axisTick`).getLineStyle(),{stroke:r.get([`axisLine`,`lineStyle`,`color`])})),d=0;d<s.length;d++)for(var f=dC(s[d],n.transform,l,u,`minorticks_`+d),p=0;p<f.length;p++)t.add(f[p])}}function mC(e,t,n){if(gC(e)){var r=e.axisLabelsCreationContext.out.noPxChangeTryDetermine;if(n.noPxChange){for(var i=!0,a=0;a<r.length;a++)i&&=r[a]();if(i)return!1}r.length&&(t.remove(e.labelGroup),_C(e,null,null,null))}return!0}function hC(e,t,n,r,a,o){var l=a.axis,u=ft(e.raw.axisLabelShow,a.get([`axisLabel`,`show`])),d=new ce;n.add(d);var f=Px(r);if(!u||l.scale.isBlank()){_C(t,[],d,f);return}var p=a.getModel(`axisLabel`),m=l.getViewLabels(f),h=(ft(e.raw.labelRotate,p.get(`rotate`))||0)*GS/180,g=rC.innerTextLayout(e.rotation,h,e.labelDirection),_=a.getCategories&&a.getCategories(!0),v=[],y=a.get(`triggerEvent`),b=1/0,x=-1/0;c(m,function(e,t){var n=l.scale.type===`ordinal`?l.scale.getRawOrdinalNumber(e.tickValue):e.tickValue,r=e.formattedLabel,c=e.rawLabel,u=p;if(_&&_[n]){var f=_[n];i(f)&&f.textStyle&&(u=new Su(f.textStyle,p,a.ecModel))}var h=u.getTextColor()||a.get([`axisLine`,`lineStyle`,`color`]),S=u.getShallow(`align`,!0)||g.textAlign,C=R(u.getShallow(`alignMinLabel`,!0),S),w=R(u.getShallow(`alignMaxLabel`,!0),S),T=u.getShallow(`verticalAlign`,!0)||u.getShallow(`baseline`,!0)||g.textVerticalAlign,E=R(u.getShallow(`verticalAlignMinLabel`,!0),T),D=R(u.getShallow(`verticalAlignMaxLabel`,!0),T),O=10+(e.time?.level||0);b=Math.min(b,O),x=Math.max(x,O);var k=new s({x:0,y:0,rotation:0,silent:rC.isLabelSilent(a),z2:O,style:eu(u,{text:r,align:t===0?C:t===m.length-1?w:S,verticalAlign:t===0?E:t===m.length-1?D:T,fill:I(h)?h(l.type===`category`?c:l.type===`value`?n+``:n,t):h})});k.anid=`label_`+n;var ee=JS(k);if(ee.break=e.break,ee.tickValue=n,ee.layoutRotation=g.rotation,Rl({el:k,componentModel:a,itemName:r,formatterParamsExtra:{isTruncated:function(){return k.isTruncated},value:c,tickIndex:t}}),y){var A=rC.makeAxisEventDataBase(a);A.targetType=`axisLabel`,A.value=c,A.tickIndex=t,e.break&&(A.break={start:e.break.parsedBreak.vmin,end:e.break.parsedBreak.vmax}),l.type===`category`&&(A.dataIndex=n),K(k).eventData=A,e.break&&SC(a,o,k,e.break)}v.push(k),d.add(k)}),_C(t,B(v,function(e){return{label:e,priority:JS(e).break?e.z2+(x-b+1):e.z2,defaultAttr:{ignore:e.ignore}}}),d,f)}function gC(e){return!!e.labelLayoutList}function _C(e,t,n,r){e.labelLayoutList=t,e.labelGroup=n,e.axisLabelsCreationContext=r}function vC(e,t,n,r){var i=t.get([`axisLabel`,`margin`]);c(n,function(n,a){var o=hS(n);if(o){var s=o.label,c=JS(s);o.suggestIgnore=s.ignore,s.ignore=!1,st(yC,bC),yC.x=t.axis.dataToCoord(c.tickValue),yC.y=e.labelOffset+e.labelDirection*i,yC.rotation=c.layoutRotation,r.add(yC),yC.updateTransform(),r.remove(yC),yC.decomposeTransform(),st(s,yC),s.markRedraw(),pS(o,!0),hS(o)}})}var yC=new F,bC=new F;function xC(e){return!!e}function SC(e,t,n,r){n.on(`click`,function(n){var i={type:WS,breaks:[{start:r.parsedBreak.breakOption.start,end:r.parsedBreak.breakOption.end}]};i[e.axis.dim+`AxisIndex`]=e.componentIndex,t.dispatchAction(i)})}function CC(e,t,n){var r=Vu();if(r){var i=r.retrieveAxisBreakPairs(n,function(e){return e&&JS(e.label).break},!0),a=e.get([`breakLabelLayout`,`moveOverlap`],!0);(a===!0||a===`auto`)&&c(i,function(r){IS().adjustBreakLabelPair(e.axis.inverse,t,[hS(n[r[0]]),hS(n[r[1]])])})}}var wC=rC;function TC(e,t,n){n||={};var r=t.axis,i={},a=r.getAxesOnZeroOf()[0],o=r.position,s=a?`onZero`:o,c=r.dim,l=[e.x,e.x+e.width,e.y,e.y+e.height],u={left:0,right:1,top:0,bottom:1,onZero:2},d=t.get(`offset`)||0,f=c===`x`?[l[2]-d,l[3]+d]:[l[0]-d,l[1]+d];if(a){var p=a.toGlobalCoord(a.dataToCoord(0));f[u.onZero]=Math.max(Math.min(p,f[1]),f[0])}i.position=[c===`y`?f[u[s]]:l[0],c===`x`?f[u[s]]:l[3]],i.rotation=Math.PI/2*(c===`x`?0:1),i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,left:-1,right:1}[o],i.labelOffset=a?f[u[o]]-f[u.onZero]:0,t.get([`axisTick`,`inside`])&&(i.tickDirection=-i.tickDirection),ft(n.labelInside,t.get([`axisLabel`,`inside`]))&&(i.labelDirection=-i.labelDirection);var m=t.get([`axisLabel`,`rotate`]);return i.labelRotate=s===`top`?-m:m,i.z2=1,i}function EC(e){return e.coordinateSystem&&e.coordinateSystem.type===`cartesian2d`}function DC(e){var t={xAxisModel:null,yAxisModel:null};return c(t,function(n,r){var i=r.replace(/Model$/,``);t[r]=e.getReferringComponents(i,Es).models[0]}),t}function OC(e,t,n,r,i,a){for(var o=TC(e,n),s=!1,c=!1,l=0;l<t.length;l++)By(t[l].getOtherAxis(n.axis).scale)&&(s=c=!0,n.axis.type===`category`&&n.axis.onBand&&(c=!1));return o.axisLineAutoShow=s,o.axisTickAutoShow=c,o.defaultNameMoveOverlap=a,new wC(n,r,o,i)}function kC(e,t,n){var r=TC(t,n);e.updateCfg(r)}function AC(e,t,n){var r=sb.prototype,i=r.getTicks.call(n),a=r.getTicks.call(n,{expandToNicedExtent:!0}),o=i.length-1,s=r.getInterval.call(n),c=Wb(e,t),l=c.extent,u=c.fixMin,d=c.fixMax;e.type===`log`&&(l=Xy(e.base,l,!0)),e.setBreaksFromOption(nx(t)),e.setExtent(l[0],l[1]),e.calcNiceExtent({splitNumber:o,fixMin:u,fixMax:d});var f=r.getExtent.call(e);u&&(l[0]=f[0]),d&&(l[1]=f[1]);var p=r.getInterval.call(e),m=l[0],h=l[1];if(u&&d)p=(h-m)/o;else if(u)for(h=l[0]+p*o;h<l[1]&&isFinite(h)&&isFinite(l[1]);)p=Hy(p),h=l[0]+p*o;else if(d)for(m=l[1]-p*o;m>l[0]&&isFinite(m)&&isFinite(l[0]);)p=Hy(p),m=l[1]-p*o;else{e.getTicks().length-1>o&&(p=Hy(p));var g=p*o;h=Math.ceil(l[1]/p)*p,m=To(h-g),m<0&&l[0]>=0?(m=0,h=To(g)):h>0&&l[1]<=0&&(h=0,m=-To(g))}var _=(i[0].value-a[0].value)/s,v=(i[o].value-a[o].value)/s;r.setExtent.call(e,m+p*_,h+p*v),r.setInterval.call(e,p),(_||v)&&r.setNiceExtent.call(e,m+p,h-p)}var jC=[[3,1],[0,2]],MC=function(){function e(e,t,n){this.type=`grid`,this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=BS,this._initCartesian(e,t,n),this.model=e}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model);function r(e){var t,n=ot(e),r=n.length;if(r){for(var i=[],a=r-1;a>=0;a--){var o=e[+n[a]],s=o.model,l=o.scale;By(l)&&s.get(`alignTicks`)&&s.get(`interval`)==null?i.push(o):(Kb(l,s),By(l)&&(t=o))}i.length&&(t||(t=i.pop(),Kb(t.scale,t.model)),c(i,function(e){AC(e.scale,e.model,t.scale)}))}}r(n.x),r(n.y);var i={};c(n.x,function(e){PC(n,`y`,e,i)}),c(n.y,function(e){PC(n,`x`,e,i)}),this.resize(this.model,t)},e.prototype.resize=function(e,t,n){var r=tf(e,t),i=this._rect=$d(e.getBoxLayoutParams(),r.refContainer),a=this._axesMap,o=this._coordsList,s=e.get(`containLabel`);if(LC(a,i),!n){var l=VC(i,o,a,s,t),u=void 0;if(s)zC?(zC(this._axesList,i),LC(a,i)):u=BC(i.clone(),`axisLabel`,null,i,a,l,r);else{var d=UC(e,i,r),f=d.outerBoundsRect,p=d.parsedOuterBoundsContain,m=d.outerBoundsClamp;f&&(u=BC(f,p,m,i,a,l,r))}HC(i,a,Nx.determine,null,u,r)}c(this._coordsList,function(e){e.calcAffineTransform()})},e.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(n!=null)return n[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var n=`x`+e+`y`+t;return this._coordsMap[n]}i(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,a=this._coordsList;r<a.length;r++)if(a[r].getAxis(`x`).index===e||a[r].getAxis(`y`).index===t)return a[r]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(e){var t=e.seriesModel,n=e.xAxisModel||t&&t.getReferringComponents(`xAxis`,Es).models[0],r=e.yAxisModel||t&&t.getReferringComponents(`yAxis`,Es).models[0],i=e.gridModel,a=this._coordsList,o,s;return t?(o=t.coordinateSystem,k(a,o)<0&&(o=null)):n&&r?o=this.getCartesian(n.componentIndex,r.componentIndex):n?s=this.getAxis(`x`,n.componentIndex):r?s=this.getAxis(`y`,r.componentIndex):i&&i.coordinateSystem===this&&(o=this._coordsList[0]),{cartesian:o,axis:s}},e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},e.prototype._initCartesian=function(e,t,n){var r=this,i=this,a={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},s={x:0,y:0};if(t.eachComponent(`xAxis`,l(`x`),this),t.eachComponent(`yAxis`,l(`y`),this),!s.x||!s.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,c(o.x,function(t,n){c(o.y,function(i,a){var o=`x`+n+`y`+a,s=new HS(o);s.master=r,s.model=e,r._coordsMap[o]=s,r._coordsList.push(s),s.addAxis(t),s.addAxis(i)})});function l(t){return function(n,r){if(NC(n,e)){var c=n.get(`position`);t===`x`?c!==`top`&&c!==`bottom`&&(c=a.bottom?`top`:`bottom`):c!==`left`&&c!==`right`&&(c=a.left?`right`:`left`),a[c]=!0;var l=new US(t,qb(n),[0,0],n.get(`type`),c);l.onBand=l.type===`category`&&n.get(`boundaryGap`),l.inverse=n.get(`inverse`),n.axis=l,l.model=n,l.grid=i,l.index=r,i._axesList.push(l),o[t][r]=l,s[t]++}}}},e.prototype._updateScale=function(e,t){c(this._axesList,function(e){if(e.scale.setExtent(1/0,-1/0),e.type===`category`){var t=e.model.get(`categorySortInfo`);e.scale.setSortInfo(t)}}),e.eachSeries(function(e){if(EC(e)){var r=DC(e),i=r.xAxisModel,a=r.yAxisModel;if(!NC(i,t)||!NC(a,t))return;var o=this.getCartesian(i.componentIndex,a.componentIndex),s=e.getData(),c=o.getAxis(`x`),l=o.getAxis(`y`);n(s,c),n(s,l)}},this);function n(e,t){c($b(e,t.dim),function(n){t.scale.unionExtentFromData(e,n)})}},e.prototype.getTooltipAxes=function(e){var t=[],n=[];return c(this.getCartesians(),function(r){var i=e!=null&&e!==`auto`?r.getAxis(e):r.getBaseAxis(),a=r.getOtherAxis(i);k(t,i)<0&&t.push(i),k(n,a)<0&&n.push(a)}),{baseAxes:t,otherAxes:n}},e.create=function(t,n){var r=[];return t.eachComponent(`grid`,function(i,a){var o=new e(i,t,n);o.name=`grid_`+a,o.resize(i,n,!0),i.coordinateSystem=o,r.push(o)}),t.eachSeries(function(e){Gd({targetModel:e,coordSysType:`cartesian2d`,coordSysProvider:t});function t(){var t=DC(e),n=t.xAxisModel,r=t.yAxisModel;return n.getCoordSysModel().coordinateSystem.getCartesian(n.componentIndex,r.componentIndex)}}),r},e.dimensions=BS,e}();function NC(e,t){return e.getCoordSysModel()===t}function PC(e,t,n,r){n.getAxesOnZeroOf=function(){return a?[a]:[]};var i=e[t],a,o=n.model,s=o.get([`axisLine`,`onZero`]),c=o.get([`axisLine`,`onZeroAxisIndex`]);if(!s)return;if(c!=null)FC(i[c])&&(a=i[c]);else for(var l in i)if(i.hasOwnProperty(l)&&FC(i[l])&&!r[u(i[l])]){a=i[l];break}a&&(r[u(a)]=!0);function u(e){return e.dim+`_`+e.index}}function FC(e){return e&&e.type!==`category`&&e.type!==`time`&&Jb(e)}function IC(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord=e.dim===`x`?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord=e.dim===`x`?function(e){return e-t}:function(e){return r-e+t}}function LC(e,t){c(e.x,function(e){return RC(e,t.x,t.width)}),c(e.y,function(e){return RC(e,t.y,t.height)})}function RC(e,t,n){var r=[0,n],i=e.inverse?1:0;e.setExtent(r[i],r[1-i]),IC(e,t)}var zC;function BC(e,t,n,r,i,a,o){HC(r,i,Nx.estimate,t,!1,o);var s=[0,0,0,0];u(0),u(1),d(r,0,NaN),d(r,1,NaN);var l=be(s,function(e){return e>0})==null;return Il(r,s,!0,!0,n),LC(i,r),l;function u(e){c(i[cl[e]],function(t){if(tx(t.model)){var n=a.ensureRecord(t.model),r=n.labelInfoList;if(r)for(var i=0;i<r.length;i++){var o=r[i],s=t.scale.normalize(JS(o.label).tickValue);s=e===1?1-s:s,d(o.rect,e,s),d(o.rect,1-e,NaN)}var c=n.nameLayout;if(c){var s=ex(n.nameLocation)?.5:NaN;d(c.rect,e,s),d(c.rect,1-e,NaN)}}})}function d(t,n,r){var i=e[cl[n]]-t[cl[n]],a=t[ll[n]]+t[cl[n]]-(e[ll[n]]+e[cl[n]]);i=f(i,1-r),a=f(a,r);var o=jC[n][0],c=jC[n][1];s[o]=yo(s[o],i),s[c]=yo(s[c],a)}function f(e,t){return e>0&&!ve(t)&&t>1e-4&&(e/=t),e}}function VC(e,t,n,r,i){var a=new XS(WC);return c(n,function(n){return c(n,function(n){if(tx(n.model)){var o=!r;n.axisBuilder=OC(e,t,n.model,i,a,o)}})}),a}function HC(e,t,n,r,i,a){var o=n===Nx.determine;c(t,function(t){return c(t,function(t){tx(t.model)&&(kC(t.axisBuilder,e,t.model),t.axisBuilder.build(o?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:i}))})});var s={x:0,y:0};l(0),l(1);function l(t){s[cl[1-t]]=e[ll[t]]<=a.refContainer[ll[t]]*.5?0:1-t==1?2:1}c(t,function(e,t){return c(e,function(e){tx(e.model)&&((r===`all`||o)&&e.axisBuilder.build({axisName:!0},{nameMarginLevel:s[t]}),o&&e.axisBuilder.build({axisLine:!0}))})})}function UC(e,t,n){var r,i=e.get(`outerBoundsMode`,!0);i===`same`?r=t.clone():(i==null||i===`auto`)&&(r=$d(e.get(`outerBounds`,!0)||ES,n.refContainer));var a=e.get(`outerBoundsContain`,!0),o=a==null||a===`auto`||k([`all`,`axisLabel`],a)<0?`all`:a,s=[wo(R(e.get(`outerBoundsClampWidth`,!0),DS[0]),t.width),wo(R(e.get(`outerBoundsClampHeight`,!0),DS[1]),t.height)];return{outerBoundsRect:r,parsedOuterBoundsContain:o,outerBoundsClamp:s}}var WC=function(e,t,n,r,i,a){var o=n.axis.dim===`x`?`y`:`x`;eC(e,t,n,r,i,a),ex(e.nameLocation)||c(t.recordMap[o],function(e){e&&e.labelInfoList&&e.dirVec&&nC(e.labelInfoList,e.dirVec,r,i)})},GC=MC;function KC(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return qC(n,e,t),n.seriesInvolved&&YC(n,e),n}function qC(e,t,n){var r=t.getComponent(`tooltip`),i=t.getComponent(`axisPointer`),a=i.get(`link`,!0)||[],o=[];c(n.getCoordinateSystems(),function(n){if(!n.axisPointerEnabled)return;var s=nw(n.model),l=e.coordSysAxesInfo[s]={};e.coordSysMap[s]=n;var u=n.model.getModel(`tooltip`,r);if(c(n.getAxes(),ue(m,!1,null)),n.getTooltipAxes&&r&&u.get(`show`)){var d=u.get(`trigger`)===`axis`,f=u.get([`axisPointer`,`type`])===`cross`,p=n.getTooltipAxes(u.get([`axisPointer`,`axis`]));(d||f)&&c(p.baseAxes,ue(m,f?`cross`:!0,d)),f&&c(p.otherAxes,ue(m,`cross`,!1))}function m(r,s,c){var d=c.model.getModel(`axisPointer`,i),f=d.get(`show`);if(!(!f||f===`auto`&&!r&&!tw(d))){s??=d.get(`triggerTooltip`),d=r?JC(c,u,i,t,r,s):d;var p=d.get(`snap`),m=d.get(`triggerEmphasis`),h=nw(c.model),g=s||p||c.type===`category`,_=e.axesInfo[h]={key:h,axis:c,coordSys:n,axisPointerModel:d,triggerTooltip:s,triggerEmphasis:m,involveSeries:g,snap:p,useHandle:tw(d),seriesModels:[],linkGroup:null};l[h]=_,e.seriesInvolved=e.seriesInvolved||g;var v=XC(a,c);if(v!=null){var y=o[v]||(o[v]={axesInfo:{}});y.axesInfo[h]=_,y.mapper=a[v].mapper,_.linkGroup=y}}}})}function JC(e,t,n,r,i,a){var o=t.getModel(`axisPointer`),s=[`type`,`snap`,`lineStyle`,`shadowStyle`,`label`,`animation`,`animationDurationUpdate`,`animationEasingUpdate`,`z`],l={};c(s,function(e){l[e]=y(o.get(e))}),l.snap=e.type!==`category`&&!!a,o.get(`type`)===`cross`&&(l.type=`line`);var u=l.label||={};if(u.show??=!1,i===`cross`&&(u.show=o.get([`label`,`show`])??!0,!a)){var d=l.lineStyle=o.get(`crossStyle`);d&&H(u,d.textStyle)}return e.model.getModel(`axisPointer`,new Su(l,n,r))}function YC(e,t){t.eachSeries(function(t){var n=t.coordinateSystem,r=t.get([`tooltip`,`trigger`],!0),i=t.get([`tooltip`,`show`],!0);!n||!n.model||r===`none`||r===!1||r===`item`||i===!1||t.get([`axisPointer`,`show`],!0)===!1||c(e.coordSysAxesInfo[nw(n.model)],function(e){var r=e.axis;n.getAxis(r.dim)===r&&(e.seriesModels.push(t),e.seriesDataCount??=0,e.seriesDataCount+=t.getData().count())})})}function XC(e,t){for(var n=t.model,r=t.dim,i=0;i<e.length;i++){var a=e[i]||{};if(ZC(a[r+`AxisId`],n.id)||ZC(a[r+`AxisIndex`],n.componentIndex)||ZC(a[r+`AxisName`],n.name))return i}}function ZC(e,t){return e===`all`||D(e)&&k(e,t)>=0||e===t}function QC(e){var t=$C(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,i=n.option,a=n.get(`status`),o=n.get(`value`);o!=null&&(o=r.parse(o));var s=tw(n);a??(i.status=s?`show`:`hide`);var c=r.getExtent().slice();c[0]>c[1]&&c.reverse(),(o==null||o>c[1])&&(o=c[1]),o<c[0]&&(o=c[0]),i.value=o,s&&(i.status=t.axis.scale.isBlank()?`hide`:`show`)}}function $C(e){var t=(e.ecModel.getComponent(`axisPointer`)||{}).coordSysAxesInfo;return t&&t.axesInfo[nw(e)]}function ew(e){var t=$C(e);return t&&t.axisPointerModel}function tw(e){return!!e.get([`handle`,`show`])}function nw(e){return e.type+`||`+e.id}u();var rw={},iw=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(t,n,r,i){this.axisPointerClass&&QC(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},t.prototype.updateAxisPointer=function(e,t,n,r){this._doUpdateAxisPointerClass(e,n,!1)},t.prototype.remove=function(e,t){var n=this._axisPointer;n&&n.remove(t)},t.prototype.dispose=function(t,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,r){var i=t.getAxisPointerClass(this.axisPointerClass);if(i){var a=ew(e);a?(this._axisPointer||=new i).render(e,a,n,r):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,t){rw[e]=t},t.getAxisPointerClass=function(e){return e&&rw[e]},t.type=`axis`,t}(Dh),aw=G();function ow(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel(`splitArea`),o=a.getModel(`areaStyle`),s=o.get(`color`),c=r.coordinateSystem.getRect(),l=i.getTicksCoords({tickModel:a,clamp:!0,breakTicks:`none`,pruneByBreak:`preserve_extent_bound`});if(l.length){var u=s.length,d=aw(e).splitAreaColors,f=A(),p=0;if(d)for(var m=0;m<l.length;m++){var h=d.get(l[m].tickValue);if(h!=null){p=(h+(u-1)*m)%u;break}}var g=i.toGlobalCoord(l[0].coord),_=o.getAreaStyle();s=D(s)?s:[s];for(var m=1;m<l.length;m++){var v=i.toGlobalCoord(l[m].coord),y=void 0,b=void 0,x=void 0,S=void 0;i.isHorizontal()?(y=g,b=c.y,x=v-y,S=c.height,g=y+x):(y=c.x,b=g,x=c.width,S=v-b,g=b+S);var C=l[m-1].tickValue;C!=null&&f.set(C,p),t.add(new F({anid:C==null?null:`area_`+C,shape:{x:y,y:b,width:x,height:S},style:H({fill:s[p]},_),autoBatch:!0,silent:!0})),p=(p+1)%u}aw(e).splitAreaColors=f}}}function sw(e){aw(e).splitAreaColors=null}u();var cw=[`splitArea`,`splitLine`,`minorSplitLine`,`breakArea`],lw=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass=`CartesianAxisPointer`,n}return t.prototype.render=function(t,n,r,i){this.group.removeAll();var a=this._axisGroup;this._axisGroup=new ce,this.group.add(this._axisGroup),tx(t)&&(this._axisGroup.add(t.axis.axisBuilder.group),c(cw,function(e){t.get([e,`show`])&&uw[e](this,this._axisGroup,t,t.getCoordSysModel(),r)},this),i&&i.type===`changeAxisOrder`&&i.isInitSort||Ol(a,this._axisGroup,t),e.prototype.render.call(this,t,n,r,i))},t.prototype.remove=function(){sw(this)},t.type=`cartesianAxis`,t}(iw),uw={splitLine:function(e,t,n,r,i){var o=n.axis;if(!o.scale.isBlank()){var s=n.getModel(`splitLine`),c=s.getModel(`lineStyle`),l=c.get(`color`),u=s.get(`showMinLine`)!==!1,d=s.get(`showMaxLine`)!==!1;l=D(l)?l:[l];for(var f=r.coordinateSystem.getRect(),p=o.isHorizontal(),m=0,h=o.getTicksCoords({tickModel:s,breakTicks:`none`,pruneByBreak:`preserve_extent_bound`}),g=[],_=[],v=c.getLineStyle(),y=0;y<h.length;y++){var b=o.toGlobalCoord(h[y].coord);if(!(y===0&&!u||y===h.length-1&&!d)){var x=h[y].tickValue;p?(g[0]=b,g[1]=f.y,_[0]=b,_[1]=f.y+f.height):(g[0]=f.x,g[1]=b,_[0]=f.x+f.width,_[1]=b);var S=m++%l.length,C=new a({anid:x==null?null:`line_`+x,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:_[0],y2:_[1]},style:H({stroke:l[S]},v),silent:!0});bl(C.shape,v.lineWidth),t.add(C)}}}},minorSplitLine:function(e,t,n,r,i){var o=n.axis,s=n.getModel(`minorSplitLine`).getModel(`lineStyle`),c=r.coordinateSystem.getRect(),l=o.isHorizontal(),u=o.getMinorTicksCoords();if(u.length)for(var d=[],f=[],p=s.getLineStyle(),m=0;m<u.length;m++)for(var h=0;h<u[m].length;h++){var g=o.toGlobalCoord(u[m][h].coord);l?(d[0]=g,d[1]=c.y,f[0]=g,f[1]=c.y+c.height):(d[0]=c.x,d[1]=g,f[0]=c.x+c.width,f[1]=g);var _=new a({anid:`minor_line_`+u[m][h].tickValue,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:p,silent:!0});bl(_.shape,p.lineWidth),t.add(_)}},splitArea:function(e,t,n,r,i){ow(e,t,n,r)},breakArea:function(e,t,n,r,i){var a=IS(),o=n.axis.scale;a&&o.type!==`ordinal`&&a.rectCoordBuildBreakAxis(t,e,n,r.coordinateSystem.getRect(),i)}},dw=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type=`xAxis`,t}(lw),fw=function(e){P(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=dw.type,t}return t.type=`yAxis`,t}(lw);u();var pw=function(e){P(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=`grid`,t}return t.prototype.render=function(e,t){this.group.removeAll(),e.get(`show`)&&this.group.add(new F({shape:e.coordinateSystem.getRect(),style:H({fill:e.get(`backgroundColor`)},e.getItemStyle()),silent:!0,z2:-1}))},t.type=`grid`,t}(Dh),mw={offset:0};function hw(e){e.registerComponentView(pw),e.registerComponentModel(OS),e.registerCoordinateSystem(`cartesian2d`,GC),LS(e,`x`,kS,mw),LS(e,`y`,kS,mw),e.registerComponentView(dw),e.registerComponentView(fw),e.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var gw=c,_w=i,vw=-1,yw=function(){function e(t){var n=t.mappingMethod,r=t.type,i=this.option=y(t);this.type=r,this.mappingMethod=n,this._normalizeData=jw[n];var a=e.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[n],n===`piecewise`?(Sw(i),bw(i)):n===`category`?i.categories?xw(i):Sw(i,!0):(ie(n!==`linear`||i.dataExtent),Sw(i))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return M(this._normalizeData,this)},e.listVisualTypes=function(){return ot(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,n){i(e)?c(e,t,n):t.call(n,e)},e.mapVisual=function(t,n,r){var a,o=D(t)?[]:i(t)?{}:(a=!0,null);return e.eachVisual(t,function(e,t){var i=n.call(r,e,t);a?o=i:o[t]=i}),o},e.retrieveVisuals=function(t){var n={},r;return t&&gw(e.visualHandlers,function(e,i){t.hasOwnProperty(i)&&(n[i]=t[i],r=!0)}),r?n:null},e.prepareVisualTypes=function(e){if(D(e))e=e.slice();else if(_w(e)){var t=[];gw(e,function(e,n){t.push(n)}),e=t}else return[];return e.sort(function(e,t){return t===`color`&&e!==`color`&&e.indexOf(`color`)===0?1:-1}),e},e.dependsOn=function(e,t){return t===`color`?!!(e&&e.indexOf(t)===0):e===t},e.findPieceIndex=function(e,t,n){for(var r,i=1/0,a=0,o=t.length;a<o;a++){var s=t[a].value;if(s!=null){if(s===e||z(s)&&s===e+``)return a;n&&d(s,a)}}for(var a=0,o=t.length;a<o;a++){var c=t[a],l=c.interval,u=c.close;if(l){if(l[0]===-1/0){if(Mw(u[1],e,l[1]))return a}else if(l[1]===1/0){if(Mw(u[0],l[0],e))return a}else if(Mw(u[0],l[0],e)&&Mw(u[1],e,l[1]))return a;n&&d(l[0],a),n&&d(l[1],a)}}if(n)return e===1/0?t.length-1:e===-1/0?0:r;function d(t,n){var a=Math.abs(t-e);a<i&&(i=a,r=n)}},e.visualHandlers={color:{applyVisual:Tw(`color`),getColorMapper:function(){var e=this.option;return M(e.mappingMethod===`category`?function(e,t){return!t&&(e=this._normalizeData(e)),Ew.call(this,e)}:function(t,n,r){var i=!!r;return!n&&(t=this._normalizeData(t)),r=Oe(t,e.parsedVisual,r),i?r:pt(r,`rgba`)},this)},_normalizedToVisual:{linear:function(e){return pt(Oe(e,this.option.parsedVisual),`rgba`)},category:Ew,piecewise:function(e,t){var n=kw.call(this,t);return n??=pt(Oe(e,this.option.parsedVisual),`rgba`),n},fixed:Dw}},colorHue:Cw(function(e,t){return Ne(e,t)}),colorSaturation:Cw(function(e,t){return Ne(e,null,t)}),colorLightness:Cw(function(e,t){return Ne(e,null,null,t)}),colorAlpha:Cw(function(e,t){return lt(e,t)}),decal:{applyVisual:Tw(`decal`),_normalizedToVisual:{linear:null,category:Ew,piecewise:null,fixed:null}},opacity:{applyVisual:Tw(`opacity`),_normalizedToVisual:Ow([0,1])},liftZ:{applyVisual:Tw(`liftZ`),_normalizedToVisual:{linear:Dw,category:Dw,piecewise:Dw,fixed:Dw}},symbol:{applyVisual:function(e,t,n){n(`symbol`,this.mapValueToVisual(e))},_normalizedToVisual:{linear:ww,category:Ew,piecewise:function(e,t){var n=kw.call(this,t);return n??=ww.call(this,e),n},fixed:Dw}},symbolSize:{applyVisual:Tw(`symbolSize`),_normalizedToVisual:Ow([0,1])}},e}();function bw(e){var t=e.pieceList;e.hasSpecialVisual=!1,c(t,function(t,n){t.originIndex=n,t.visual!=null&&(e.hasSpecialVisual=!0)})}function xw(e){var t=e.categories,n=e.categoryMap={},r=e.visual;if(gw(t,function(e,t){n[e]=t}),!D(r)){var a=[];i(r)?gw(r,function(e,t){var r=n[t];a[r??vw]=e}):a[vw]=r,r=Aw(e,a)}for(var o=t.length-1;o>=0;o--)r[o]??(delete n[t[o]],t.pop())}function Sw(e,t){var n=e.visual,r=[];i(n)?gw(n,function(e){r.push(e)}):n!=null&&r.push(n),!t&&r.length===1&&!{color:1,symbol:1}.hasOwnProperty(e.type)&&(r[1]=r[0]),Aw(e,r)}function Cw(e){return{applyVisual:function(t,n,r){var i=this.mapValueToVisual(t);r(`color`,e(n(`color`),i))},_normalizedToVisual:Ow([0,1])}}function ww(e){var t=this.option.visual;return t[Math.round(xo(e,[0,1],[0,t.length-1],!0))]||{}}function Tw(e){return function(t,n,r){r(e,this.mapValueToVisual(t))}}function Ew(e){var t=this.option.visual;return t[this.option.loop&&e!==vw?e%t.length:e]}function Dw(){return this.option.visual[0]}function Ow(e){return{linear:function(t){return xo(t,e,this.option.visual,!0)},category:Ew,piecewise:function(t,n){var r=kw.call(this,n);return r??=xo(t,e,this.option.visual,!0),r},fixed:Dw}}function kw(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var r=n[yw.findPieceIndex(e,n)];if(r&&r.visual)return r.visual[this.type]}}function Aw(e,t){return e.visual=t,e.type===`color`&&(e.parsedVisual=B(t,function(e){return Ye(e)||[0,0,0,1]})),t}var jw={linear:function(e){return xo(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=yw.findPieceIndex(e,t,!0);if(n!=null)return xo(n,[0,t.length-1],[0,1],!0)},category:function(e){return(this.option.categories?this.option.categoryMap[e]:e)??vw},fixed:ct};function Mw(e,t,n){return e?t<=n:t<n}var Nw=yw;function Pw(e,t,n,r,i,a){e||=0;var o=n[1]-n[0];if(i!=null&&(i=Iw(i,[0,o])),a!=null&&(a=Math.max(a,i??0)),r===`all`){var s=Math.abs(t[1]-t[0]);s=Iw(s,[0,o]),i=a=Iw(s,[i,a]),r=0}t[0]=Iw(t[0],n),t[1]=Iw(t[1],n);var c=Fw(t,r);t[r]+=e;var l=i||0,u=n.slice();c.sign<0?u[0]+=l:u[1]-=l,t[r]=Iw(t[r],u);var d=Fw(t,r);return i!=null&&(d.sign!==c.sign||d.span<i)&&(t[1-r]=t[r]+c.sign*i),d=Fw(t,r),a!=null&&d.span>a&&(t[1-r]=t[r]+d.sign*a),t}function Fw(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function Iw(e,t){return Math.min(t[1]==null?1/0:t[1],Math.max(t[0]==null?-1/0:t[0],e))}var Lw=256,Rw=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null},this.canvas=Ee.createCanvas()}return e.prototype.update=function(e,t,n,r,i,a){var o=this._getBrush(),s=this._getGradient(i,`inRange`),c=this._getGradient(i,`outOfRange`),l=this.pointSize+this.blurSize,u=this.canvas,d=u.getContext(`2d`),f=e.length;u.width=t,u.height=n;for(var p=0;p<f;++p){var m=e[p],h=m[0],g=m[1],_=m[2],v=r(_);d.globalAlpha=v,d.drawImage(o,h-l,g-l)}if(!u.width||!u.height)return u;for(var y=d.getImageData(0,0,u.width,u.height),b=y.data,x=0,S=b.length,C=this.minOpacity,w=this.maxOpacity-C;x<S;){var v=b[x+3]/256,T=Math.floor(v*(Lw-1))*4;if(v>0){var E=a(v)?s:c;v>0&&(v=v*w+C),b[x++]=E[T],b[x++]=E[T+1],b[x++]=E[T+2],b[x++]=E[T+3]*v*256}else x+=4}return d.putImageData(y,0,0),u},e.prototype._getBrush=function(){var e=this._brushCanvas||=Ee.createCanvas(),t=this.pointSize+this.blurSize,n=t*2;e.width=n,e.height=n;var r=e.getContext(`2d`);return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor=X.color.neutral99,r.beginPath(),r.arc(-t,t,this.pointSize,0,Math.PI*2,!0),r.closePath(),r.fill(),e},e.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,r=n[t]||(n[t]=new Uint8ClampedArray(256*4)),i=[0,0,0,0],a=0,o=0;o<256;o++)e[t](o/255,!0,i),r[a++]=i[0],r[a++]=i[1],r[a++]=i[2],r[a++]=i[3];return r},e}();u();function zw(e,t,n){var r=e[1]-e[0];t=B(t,function(t){return{interval:[(t.interval[0]-e[0])/r,(t.interval[1]-e[0])/r]}});var i=t.length,a=0;return function(e){var r;for(r=a;r<i;r++){var o=t[r].interval;if(o[0]<=e&&e<=o[1]){a=r;break}}if(r===i)for(r=a-1;r>=0;r--){var o=t[r].interval;if(o[0]<=e&&e<=o[1]){a=r;break}}return r>=0&&r<i&&n[r]}}function Bw(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}function Vw(e){var t=e.dimensions;return t[0]===`lng`&&t[1]===`lat`}var Hw=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(e,t,n){var r;t.eachComponent(`visualMap`,function(t){t.eachTargetSeries(function(n){n===e&&(r=t)})}),this._progressiveEls=null,this.group.removeAll();var i=e.coordinateSystem;i.type===`cartesian2d`||i.type===`calendar`||i.type===`matrix`?this._renderOnGridLike(e,n,0,e.getData().count()):Vw(i)&&this._renderOnGeo(i,e,r,n)},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,r){var i=t.coordinateSystem;i&&(Vw(i)?this.render(t,n,r):(this._progressiveEls=[],this._renderOnGridLike(t,r,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Bl(this._progressiveEls||this.group,e)},t.prototype._renderOnGridLike=function(e,t,n,r,i){var a=e.coordinateSystem,o=TS(a,`cartesian2d`),s=TS(a,`matrix`),c,l,u,d;if(o){var f=a.getAxis(`x`),p=a.getAxis(`y`);c=f.getBandWidth()+.5,l=p.getBandWidth()+.5,u=f.scale.getExtent(),d=p.scale.getExtent()}for(var m=this.group,h=e.getData(),g=e.getModel([`emphasis`,`itemStyle`]).getItemStyle(),_=e.getModel([`blur`,`itemStyle`]).getItemStyle(),v=e.getModel([`select`,`itemStyle`]).getItemStyle(),y=e.get([`itemStyle`,`borderRadius`]),b=$l(e),x=e.getModel(`emphasis`),S=x.get(`focus`),C=x.get(`blurScope`),w=x.get(`disabled`),T=o||s?[h.mapDimension(`x`),h.mapDimension(`y`),h.mapDimension(`value`)]:[h.mapDimension(`time`),h.mapDimension(`value`)],E=n;E<r;E++){var D=void 0,O=h.getItemVisual(E,`style`);if(o){var k=h.get(T[0],E),ee=h.get(T[1],E);if(isNaN(h.get(T[2],E))||isNaN(k)||isNaN(ee)||k<u[0]||k>u[1]||ee<d[0]||ee>d[1])continue;var A=a.dataToPoint([k,ee]);D=new F({shape:{x:A[0]-c/2,y:A[1]-l/2,width:c,height:l},style:O})}else if(s){var te=a.dataToLayout([h.get(T[0],E),h.get(T[1],E)]).rect;if(ve(te.x))continue;D=new F({z2:1,shape:te,style:O})}else{if(isNaN(h.get(T[1],E)))continue;var ne=a.dataToLayout([h.get(T[0],E)]),te=ne.contentRect||ne.rect;if(ve(te.x)||ve(te.y))continue;D=new F({z2:1,shape:te,style:O})}if(h.hasItemOption){var re=h.getItemModel(E),ie=re.getModel(`emphasis`);g=ie.getModel(`itemStyle`).getItemStyle(),_=re.getModel([`blur`,`itemStyle`]).getItemStyle(),v=re.getModel([`select`,`itemStyle`]).getItemStyle(),y=re.get([`itemStyle`,`borderRadius`]),S=ie.get(`focus`),C=ie.get(`blurScope`),w=ie.get(`disabled`),b=$l(re)}D.shape.r=y;var ae=e.getRawValue(E),j=`-`;ae&&ae[2]!=null&&(j=ae[2]+``),Ql(D,b,{labelFetcher:e,labelDataIndex:E,defaultOpacity:O.opacity,defaultText:j}),D.ensureState(`emphasis`).style=g,D.ensureState(`blur`).style=_,D.ensureState(`select`).style=v,Wc(D,S,C,w),D.incremental=i,i&&(D.states.emphasis.hoverLayer=!0),m.add(D),h.setItemGraphicEl(E,D),this._progressiveEls&&this._progressiveEls.push(D)}},t.prototype._renderOnGeo=function(e,t,n,r){var i=n.targetVisuals.inRange,a=n.targetVisuals.outOfRange,o=t.getData(),s=this._hmLayer||this._hmLayer||new Rw;s.blurSize=t.get(`blurSize`),s.pointSize=t.get(`pointSize`),s.minOpacity=t.get(`minOpacity`),s.maxOpacity=t.get(`maxOpacity`);var c=e.getViewRect().clone(),l=e.getRoamTransform();c.applyTransform(l);var u=Math.max(c.x,0),d=Math.max(c.y,0),f=Math.min(c.width+c.x,r.getWidth()),p=Math.min(c.height+c.y,r.getHeight()),m=f-u,h=p-d,g=[o.mapDimension(`lng`),o.mapDimension(`lat`),o.mapDimension(`value`)],_=o.mapArray(g,function(t,n,r){var i=e.dataToPoint([t,n]);return i[0]-=u,i[1]-=d,i.push(r),i}),v=n.getExtent(),y=n.type===`visualMap.continuous`?Bw(v,n.option.range):zw(v,n.getPieceList(),n.option.selected);s.update(_,m,h,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:a.color.getColorMapper()},y);var x=new b({style:{width:m,height:h,x:u,y:d,image:s.canvas},silent:!0});this.group.add(x)},t.type=`heatmap`,t}(Lh);u();var Uw=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(e,t){return zy(null,this,{generateCoord:`value`})},t.prototype.preventIncremental=function(){var e=Kd.get(this.get(`coordinateSystem`));if(e&&e.dimensions)return e.dimensions[0]===`lng`&&e.dimensions[1]===`lat`},t.type=`series.heatmap`,t.dependencies=[`grid`,`geo`,`calendar`,`matrix`],t.defaultOption={coordinateSystem:`cartesian2d`,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:X.color.primary}}},t}(Th);function Ww(e){e.registerChartView(Hw),e.registerSeriesModel(Uw)}var Gw=G(),Kw=y,qw=M,Jw=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(e,t,n,r){var i=t.get(`value`),a=t.get(`status`);if(this._axisModel=e,this._axisPointerModel=t,this._api=n,!(!r&&this._lastValue===i&&this._lastStatus===a)){this._lastValue=i,this._lastStatus=a;var o=this._group,s=this._handle;if(!a||a===`hide`){o&&o.hide(),s&&s.hide();return}o&&o.show(),s&&s.show();var c={};this.makeElOption(c,i,e,t,n);var l=c.graphicKey;l!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=l;var u=this._moveAnimation=this.determineAnimation(e,t);if(!o)o=this._group=new ce,this.createPointerEl(o,c,e,t),this.createLabelEl(o,c,e,t),n.getZr().add(o);else{var d=ue(Yw,t,u);this.updatePointerEl(o,c,d),this.updateLabelEl(o,c,d,t)}$w(o,t,!0),this._renderHandle(i)}},e.prototype.remove=function(e){this.clear(e)},e.prototype.dispose=function(e){this.clear(e)},e.prototype.determineAnimation=function(e,t){var n=t.get(`animation`),r=e.axis,i=r.type===`category`,a=t.get(`snap`);if(!a&&!i)return!1;if(n===`auto`||n==null){var o=this.animationThreshold;if(i&&r.getBandWidth()>o)return!0;if(a){var s=$C(e).seriesDataCount,c=r.getExtent();return Math.abs(c[0]-c[1])/s>o}return!1}return n===!0},e.prototype.makeElOption=function(e,t,n,r,i){},e.prototype.createPointerEl=function(e,t,n,r){var i=t.pointer;if(i){var a=Gw(e).pointerEl=new ol[i.type](Kw(t.pointer));e.add(a)}},e.prototype.createLabelEl=function(e,t,n,r){if(t.label){var i=Gw(e).labelEl=new s(Kw(t.label));e.add(i),Zw(i,r)}},e.prototype.updatePointerEl=function(e,t,n){var r=Gw(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),n(r,{shape:t.pointer.shape}))},e.prototype.updateLabelEl=function(e,t,n,r){var i=Gw(e).labelEl;i&&(i.setStyle(t.label.style),n(i,{x:t.label.x,y:t.label.y}),Zw(i,r))},e.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,n=this._api.getZr(),r=this._handle,i=t.getModel(`handle`),a=t.get(`status`);if(!i.get(`show`)||!a||a===`hide`){r&&n.remove(r),this._handle=null;return}var o;this._handle||(o=!0,r=this._handle=jl(i.get(`icon`),{cursor:`move`,draggable:!0,onmousemove:function(e){vt(e.event)},onmousedown:qw(this._onHandleDragMove,this,0,0),drift:qw(this._onHandleDragMove,this),ondragend:qw(this._onHandleDragEnd,this)}),n.add(r)),$w(r,t,!1),r.setStyle(i.getItemStyle(null,[`color`,`borderColor`,`borderWidth`,`opacity`,`shadowColor`,`shadowBlur`,`shadowOffsetX`,`shadowOffsetY`]));var s=i.get(`size`);D(s)||(s=[s,s]),r.scaleX=s[0]/2,r.scaleY=s[1]/2,Hh(this,`_doDispatchAxisPointer`,i.get(`throttle`)||0,`fixRate`),this._moveHandleToValue(e,o)}},e.prototype._moveHandleToValue=function(e,t){Yw(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Qw(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(Qw(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(Qw(r)),Gw(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:`updateAxisPointer`,x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get(`value`);this._moveHandleToValue(e),this._api.dispatchAction({type:`hideTip`})}},e.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,r=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),Uh(this,`_doDispatchAxisPointer`)},e.prototype.doClear=function(){},e.prototype.buildLabel=function(e,t,n){return n||=0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}},e}();function Yw(e,t,n,r){Xw(Gw(n).lastProp,r)||(Gw(n).lastProp=r,t?el(n,r,e):(n.stopAnimation(),n.attr(r)))}function Xw(e,t){if(i(e)&&i(t)){var n=!0;return c(t,function(t,r){n&&=Xw(e[r],t)}),!!n}else return e===t}function Zw(e,t){e[t.get([`label`,`show`])?`show`:`hide`]()}function Qw(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function $w(e,t,n){var r=t.get(`z`),i=t.get(`zlevel`);e&&e.traverse(function(e){e.type!==`group`&&(r!=null&&(e.z=r),i!=null&&(e.zlevel=i),e.silent=n)})}var eT=Jw;function tT(e){var t=e.get(`type`),n=e.getModel(t+`Style`),r;return t===`line`?(r=n.getLineStyle(),r.fill=null):t===`shadow`&&(r=n.getAreaStyle(),r.stroke=null),r}function nT(e,t,n,r,i){var a=iT(n.get(`value`),t.axis,t.ecModel,n.get(`seriesDataIndices`),{precision:n.get([`label`,`precision`]),formatter:n.get([`label`,`formatter`])}),o=n.getModel(`label`),s=Dd(o.get(`padding`)||0),c=o.getFont(),l=Fe(a,c),u=i.position,d=l.width+s[1]+s[3],f=l.height+s[0]+s[2],p=i.align;p===`right`&&(u[0]-=d),p===`center`&&(u[0]-=d/2);var m=i.verticalAlign;m===`bottom`&&(u[1]-=f),m===`middle`&&(u[1]-=f/2),rT(u,d,f,r);var h=o.get(`backgroundColor`);(!h||h===`auto`)&&(h=t.get([`axisLine`,`lineStyle`,`color`])),e.label={x:u[0],y:u[1],style:eu(o,{text:a,font:c,fill:o.getTextColor(),padding:s,backgroundColor:h}),z2:10}}function rT(e,t,n,r){var i=r.getWidth(),a=r.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+n,a)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function iT(e,t,n,r,i){e=t.scale.parse(e);var a=t.scale.getLabel({value:e},{precision:i.precision}),o=i.formatter;if(o){var s={value:Xb(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};c(r,function(e){var t=n.getSeriesByIndex(e.seriesIndex),r=e.dataIndexInside,i=t&&t.getDataParams(r);i&&s.seriesData.push(i)}),z(o)?a=o.replace(`{value}`,a):I(o)&&(a=o(s))}return a}function aT(e,t,n){var r=ze();return xt(r,r,n.rotation),fe(r,r,n.position),wl([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function oT(e,t,n,r,i,a){var o=wC.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get([`label`,`margin`]),nT(t,r,i,a,{position:aT(r.axis,e,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function sT(e,t,n){return n||=0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function cT(e,t,n){return n||=0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}u();var lT=function(e){P(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,t,n,r,i){var a=n.axis,o=a.grid,s=r.get(`type`),c=uT(o,a).getOtherAxis(a).getGlobalExtent(),l=a.toGlobalCoord(a.dataToCoord(t,!0));if(s&&s!==`none`){var u=tT(r),d=dT[s](a,l,c);d.style=u,e.graphicKey=d.type,e.pointer=d}oT(t,e,TC(o.getRect(),n),n,r,i)},t.prototype.getHandleTransform=function(e,t,n){var r=TC(t.axis.grid.getRect(),t,{labelInside:!1});r.labelMargin=n.get([`handle`,`margin`]);var i=aT(t.axis,e,r);return{x:i[0],y:i[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n,r){var i=n.axis,a=i.grid,o=i.getGlobalExtent(!0),s=uT(a,i).getOtherAxis(i).getGlobalExtent(),c=i.dim===`x`?0:1,l=[e.x,e.y];l[c]+=t[c],l[c]=Math.min(o[1],l[c]),l[c]=Math.max(o[0],l[c]);var u=(s[1]+s[0])/2,d=[u,u];return d[c]=l[c],{x:l[0],y:l[1],rotation:e.rotation,cursorPoint:d,tooltipOption:[{verticalAlign:`middle`},{align:`center`}][c]}},t}(eT);function uT(e,t){var n={};return n[t.dim+`AxisIndex`]=t.index,e.getCartesian(n)}var dT={line:function(e,t,n){return{type:`Line`,subPixelOptimize:!0,shape:sT([t,n[0]],[t,n[1]],fT(e))}},shadow:function(e,t,n){var r=Math.max(1,e.getBandWidth()),i=n[1]-n[0];return{type:`Rect`,shape:cT([t-r/2,n[0]],[r,i],fT(e))}}};function fT(e){return e.dim===`x`?0:1}var pT=lT;u();var mT=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type=`axisPointer`,t.defaultOption={show:`auto`,z:50,type:`line`,snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:X.color.border,width:1,type:`dashed`},shadowStyle:{color:X.color.shadowTint},label:{show:!0,formatter:null,precision:`auto`,margin:3,color:X.color.neutral00,padding:[5,7,5,7],backgroundColor:X.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:`M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z`,size:45,margin:50,color:X.color.accent40,throttle:40}},t}(J),hT=G(),gT=c;function _T(e,t,n){if(!V.node){var r=t.getZr();hT(r).records||(hT(r).records={}),vT(r,t);var i=hT(r).records[e]||(hT(r).records[e]={});i.handler=n}}function vT(e,t){if(hT(e).initialized)return;hT(e).initialized=!0,n(`click`,ue(xT,`click`)),n(`mousemove`,ue(xT,`mousemove`)),n(`globalout`,bT);function n(n,r){e.on(n,function(n){var i=ST(t);gT(hT(e).records,function(e){e&&r(e,n,i.dispatchAction)}),yT(i.pendings,t)})}}function yT(e,t){var n=e.showTip.length,r=e.hideTip.length,i;n?i=e.showTip[n-1]:r&&(i=e.hideTip[r-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function bT(e,t,n){e.handler(`leave`,null,n)}function xT(e,t,n,r){t.handler(e,n,r)}function ST(e){var t={showTip:[],hideTip:[]},n=function(r){var i=t[r.type];i?i.push(r):(r.dispatchAction=n,e.dispatchAction(r))};return{dispatchAction:n,pendings:t}}function CT(e,t){if(!V.node){var n=t.getZr();(hT(n).records||{})[e]&&(hT(n).records[e]=null)}}u();var wT=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(e,t,n){var r=t.getComponent(`tooltip`),i=e.get(`triggerOn`)||r&&r.get(`triggerOn`)||`mousemove|click`;_T(`axisPointer`,n,function(e,t,n){i!==`none`&&(e===`leave`||i.indexOf(e)>=0)&&n({type:`updateAxisPointer`,currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})})},t.prototype.remove=function(e,t){CT(`axisPointer`,t)},t.prototype.dispose=function(e,t){CT(`axisPointer`,t)},t.type=`axisPointer`,t}(Dh);function TT(e,t){var n=[],r=e.seriesIndex,i;if(r==null||!(i=t.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),o=Ss(a,e);if(o==null||o<0||D(o))return{point:[]};var s=a.getItemGraphicEl(o),c=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(o)||[];else if(c&&c.dataToPoint)if(e.isStacked){var l=c.getBaseAxis(),u=c.getOtherAxis(l).dim,d=l.dim,f=u===`x`||u===`radius`?1:0,p=a.mapDimension(d),m=[];m[f]=a.get(p,o),m[1-f]=a.get(a.getCalculationInfo(`stackResultDimension`),o),n=c.dataToPoint(m)||[]}else n=c.dataToPoint(a.getValues(B(c.dimensions,function(e){return a.mapDimension(e)}),o))||[];else if(s){var h=s.getBoundingRect().clone();h.applyTransform(s.transform),n=[h.x+h.width/2,h.y+h.height/2]}return{point:n,el:s}}var ET=G();function DT(e,t,n){var r=e.currTrigger,i=[e.x,e.y],a=e,o=e.dispatchAction||M(n.dispatchAction,n),s=t.getComponent(`axisPointer`).coordSysAxesInfo;if(s){LT(i)&&(i=TT({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var l=LT(i),u=a.axesInfo,d=s.axesInfo,f=r===`leave`||LT(i),p={},m={},h={list:[],map:{}},g={showPointer:ue(AT,m),showTooltip:ue(jT,h)};c(s.coordSysMap,function(e,t){var n=l||e.containPoint(i);c(s.coordSysAxesInfo[t],function(e,t){var r=e.axis,a=FT(u,e);if(!f&&n&&(!u||a)){var o=a&&a.value;o==null&&!l&&(o=r.pointToData(i)),o!=null&&OT(e,o,g,!1,p)}})});var _={};return c(d,function(e,t){var n=e.linkGroup;n&&!m[t]&&c(n.axesInfo,function(t,r){var i=m[r];if(t!==e&&i){var a=i.value;n.mapper&&(a=e.axis.scale.parse(n.mapper(a,IT(t),IT(e)))),_[e.key]=a}})}),c(_,function(e,t){OT(d[t],e,g,!0,p)}),MT(m,d,p),NT(h,i,e,o),PT(d,o,n),p}}function OT(e,t,n,r,i){var a=e.axis;if(!(a.scale.isBlank()||!a.containData(t))){if(!e.involveSeries){n.showPointer(e,t);return}var o=kT(t,e),s=o.payloadBatch,c=o.snapToValue;s[0]&&i.seriesIndex==null&&C(i,s[0]),!r&&e.snap&&a.containData(c)&&c!=null&&(t=c),n.showPointer(e,t,s),n.showTooltip(e,o,c)}}function kT(e,t){var n=t.axis,r=n.dim,i=e,a=[],o=Number.MAX_VALUE,s=-1;return c(t.seriesModels,function(t,l){var u=t.getData().mapDimensionsAll(r),d,f;if(t.getAxisTooltipData){var p=t.getAxisTooltipData(u,e,n);f=p.dataIndices,d=p.nestestValue}else{if(f=t.indicesOfNearest(r,u[0],e,n.type===`category`?.5:null),!f.length)return;d=t.getData().get(u[0],f[0])}if(!(d==null||!isFinite(d))){var m=e-d,h=Math.abs(m);h<=o&&((h<o||m>=0&&s<0)&&(o=h,s=m,i=d,a.length=0),c(f,function(e){a.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})}))}}),{payloadBatch:a,snapToValue:i}}function AT(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function jT(e,t,n,r){var i=n.payloadBatch,a=t.axis,o=a.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var c=t.coordSys.model,l=nw(c),u=e.map[l];u||(u=e.map[l]={coordSysId:c.id,coordSysIndex:c.componentIndex,coordSysType:c.type,coordSysMainType:c.mainType,dataByAxis:[]},e.list.push(u)),u.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get([`label`,`precision`]),formatter:s.get([`label`,`formatter`])},seriesDataIndices:i.slice()})}}function MT(e,t,n){var r=n.axesInfo=[];c(t,function(t,n){var i=t.axisPointerModel.option,a=e[n];a?(!t.useHandle&&(i.status=`show`),i.value=a.value,i.seriesDataIndices=(a.payloadBatch||[]).slice()):!t.useHandle&&(i.status=`hide`),i.status===`show`&&r.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:i.value})})}function NT(e,t,n,r){if(LT(t)||!e.list.length){r({type:`hideTip`});return}var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:`showTip`,escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function PT(e,t,n){var r=n.getZr(),i=`axisPointerLastHighlights`,a=ET(r)[i]||{},o=ET(r)[i]={};c(e,function(e,t){var n=e.axisPointerModel.option;n.status===`show`&&e.triggerEmphasis&&c(n.seriesDataIndices,function(e){var t=e.seriesIndex+` | `+e.dataIndex;o[t]=e})});var s=[],l=[];c(a,function(e,t){!o[t]&&l.push(e)}),c(o,function(e,t){!a[t]&&s.push(e)}),l.length&&n.dispatchAction({type:`downplay`,escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:`highlight`,escapeConnect:!0,notBlur:!0,batch:s})}function FT(e,t){for(var n=0;n<(e||[]).length;n++){var r=e[n];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}function IT(e){var t=e.axis.model,n={},r=n.axisDim=e.axis.dim;return n.axisIndex=n[r+`AxisIndex`]=t.componentIndex,n.axisName=n[r+`AxisName`]=t.name,n.axisId=n[r+`AxisId`]=t.id,n}function LT(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function RT(e){iw.registerAxisPointerClass(`CartesianAxisPointer`,pT),e.registerComponentModel(mT),e.registerComponentView(wT),e.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!D(t)&&(e.axisPointer.link=[t])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent(`axisPointer`).coordSysAxesInfo=KC(e,t)}),e.registerAction({type:`updateAxisPointer`,event:`updateAxisPointer`,update:`:updateAxisPointer`},DT)}function zT(e){px(hw),px(RT)}u();var BT=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type=`tooltip`,t.dependencies=[`axisPointer`],t.defaultOption={z:60,show:!0,showContent:!0,trigger:`item`,triggerOn:`mousemove|click`,alwaysShowContent:!1,renderMode:`auto`,confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:X.color.neutral00,shadowBlur:10,shadowColor:`rgba(0, 0, 0, .2)`,shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:X.color.border,padding:null,extraCssText:``,axisPointer:{type:`line`,axis:`auto`,animation:`auto`,animationDurationUpdate:200,animationEasingUpdate:`exponentialOut`,crossStyle:{color:X.color.borderShade,width:1,type:`dashed`,textStyle:{}}},textStyle:{color:X.color.tertiary,fontSize:14}},t}(J);function VT(e){var t=e.get(`confine`);return t==null?e.get(`renderMode`)===`richText`:!!t}function HT(e){if(V.domSupported){for(var t=document.documentElement.style,n=0,r=e.length;n<r;n++)if(e[n]in t)return e[n]}}var UT=HT([`transform`,`webkitTransform`,`OTransform`,`MozTransform`,`msTransform`]),WT=HT([`webkitTransition`,`transition`,`OTransition`,`MozTransition`,`msTransition`]);function GT(e,t){if(!e)return t;t=Ed(t,!0);var n=e.indexOf(t);return e=n===-1?t:`-`+e.slice(0,n)+`-`+t,e.toLowerCase()}function KT(e,t){var n=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return n?t?n[t]:n:null}var qT=GT(WT,`transition`),JT=GT(UT,`transform`),YT=`position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;`+(V.transform3dSupported?`will-change:transform;`:``);function XT(e){return e=e===`left`?`right`:e===`right`?`left`:e===`top`?`bottom`:`top`,e}function ZT(e,t,n){if(!z(n)||n===`inside`)return``;var r=e.get(`backgroundColor`),i=e.get(`borderWidth`);t=Fd(t);var a=XT(n),o=Math.max(Math.round(i)*1.5,6),s=``,c=JT+`:`,l;k([`left`,`right`],a)>-1?(s+=`top:50%`,c+=`translateY(-50%) rotate(`+(l=a===`left`?-225:-45)+`deg)`):(s+=`left:50%`,c+=`translateX(-50%) rotate(`+(l=a===`top`?225:45)+`deg)`);var u=l*Math.PI/180,d=o+i,f=d*Math.abs(Math.cos(u))+d*Math.abs(Math.sin(u)),p=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-d)/2)*100)/100;s+=`;`+a+`:-`+p+`px`;var m=t+` solid `+i+`px;`;return`<div style="`+[`position:absolute;width:`+o+`px;height:`+o+`px;z-index:-1;`,s+`;`+c+`;`,`border-bottom:`+m,`border-right:`+m,`background-color:`+r+`;`].join(``)+`"></div>`}function QT(e,t,n){var r=`cubic-bezier(0.23,1,0.32,1)`,i=``,a=``;return n&&(i=` `+e/2+`s `+r,a=`opacity`+i+`,visibility`+i),t||(i=` `+e+`s `+r,a+=(a.length?`,`:``)+(V.transformSupported?``+JT+i:`,left`+i+`,top`+i)),qT+`:`+a}function $T(e,t,n){var r=e.toFixed(0)+`px`,i=t.toFixed(0)+`px`;if(!V.transformSupported)return n?`top:`+i+`;left:`+r+`;`:[[`top`,i],[`left`,r]];var a=V.transform3dSupported,o=`translate`+(a?`3d`:``)+`(`+r+`,`+i+(a?`,0`:``)+`)`;return n?`top:0;left:0;`+JT+`:`+o+`;`:[[`top`,0],[`left`,0],[UT,o]]}function eE(e){var t=[],n=e.get(`fontSize`),r=e.getTextColor();r&&t.push(`color:`+r),t.push(`font:`+e.getFont());var i=R(e.get(`lineHeight`),Math.round(n*3/2));n&&t.push(`line-height:`+i+`px`);var a=e.get(`textShadowColor`),o=e.get(`textShadowBlur`)||0,s=e.get(`textShadowOffsetX`)||0,l=e.get(`textShadowOffsetY`)||0;return a&&o&&t.push(`text-shadow:`+s+`px `+l+`px `+o+`px `+a),c([`decoration`,`align`],function(n){var r=e.get(n);r&&t.push(`text-`+n+`:`+r)}),t.join(`;`)}function tE(e,t,n,r){var i=[],a=e.get(`transitionDuration`),o=e.get(`backgroundColor`),s=e.get(`shadowBlur`),l=e.get(`shadowColor`),u=e.get(`shadowOffsetX`),d=e.get(`shadowOffsetY`),f=e.getModel(`textStyle`),p=uh(e,`html`),m=u+`px `+d+`px `+s+`px `+l;return i.push(`box-shadow:`+m),t&&a>0&&i.push(QT(a,n,r)),o&&i.push(`background-color:`+o),c([`width`,`color`,`radius`],function(t){var n=`border-`+t,r=Ed(n),a=e.get(r);a!=null&&i.push(n+`:`+a+(t===`color`?``:`px`))}),i.push(eE(f)),p!=null&&i.push(`padding:`+Dd(p).join(`px `)+`px`),i.join(`;`)+`;`}function nE(e,t,n,r,i){var a=t&&t.painter;if(n){var o=a&&a.getViewportRoot();o&&_(e,o,n,r,i)}else{e[0]=r,e[1]=i;var s=a&&a.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var rE=function(){function e(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,V.wxa)return null;var n=document.createElement(`div`);n.domBelongToZr=!0,this.el=n;var r=this._zr=e.getZr(),i=t.appendTo,a=i&&(z(i)?document.querySelector(i):Se(i)?i:I(i)&&i(e.getDom()));nE(this._styleCoord,r,a,e.getWidth()/2,e.getHeight()/2),(a||e.getDom()).appendChild(n),this._api=e,this._container=a;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(e){if(e||=window.event,!o._enterable){var t=r.handler;d(r.painter.getViewportRoot(),e,!0),t.dispatch(`mousemove`,e)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return e.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),n=KT(t,`position`),r=t.style;r.position!==`absolute`&&n!==`absolute`&&(r.position=`relative`)}var i=e.get(`alwaysShowContent`);i&&this._moveIfResized(),this._alwaysShowContent=i,this._enableDisplayTransition=e.get(`displayTransition`)&&e.get(`transitionDuration`)>0,this.el.className=e.get(`className`)||``},e.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=n.style,i=this._styleCoord;n.innerHTML?r.cssText=YT+tE(e,!this._firstShow,this._longHide,this._enableDisplayTransition)+$T(i[0],i[1],!0)+(`border-color:`+Fd(t)+`;`)+(e.get(`extraCssText`)||``)+(`;pointer-events:`+(this._enterable?`auto`:`none`)):r.display=`none`,this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(e,t,n,r,i){var a=this.el;if(e==null){a.innerHTML=``;return}var o=``;if(z(i)&&n.get(`trigger`)===`item`&&!VT(n)&&(o=ZT(n,r,i)),z(e))a.innerHTML=e+o;else if(e){a.innerHTML=``,D(e)||(e=[e]);for(var s=0;s<e.length;s++)Se(e[s])&&e[s].parentNode!==a&&a.appendChild(e[s]);if(o&&a.childNodes.length){var c=document.createElement(`div`);c.innerHTML=o,a.appendChild(c)}}},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},e.prototype.moveTo=function(e,t){if(this.el){var n=this._styleCoord;if(nE(n,this._zr,this._container,e,t),n[0]!=null&&n[1]!=null){var r=this.el.style;c($T(n[0],n[1]),function(e){r[e[0]]=e[1]})}}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var e=this,t=this.el.style;this._enableDisplayTransition?(t.visibility=`hidden`,t.opacity=`0`):t.display=`none`,V.transform3dSupported&&(t.willChange=``),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},e.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(M(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this._zr;m(e&&e.painter&&e.painter.getViewportRoot(),this._container);var t=this.el;if(t){t.onmouseenter=t.onmousemove=t.onmouseleave=null;var n=t.parentNode;n&&n.removeChild(t)}this.el=this._container=null},e}(),iE=function(){function e(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),sE(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return e.prototype.update=function(e){var t=e.get(`alwaysShowContent`);t&&this._moveIfResized(),this._alwaysShowContent=t},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(e,t,n,r,a){var o=this;i(e)&&$o(``),this.el&&this._zr.remove(this.el);var l=n.getModel(`textStyle`);this.el=new s({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:l.get(`textShadowColor`),fill:n.get([`textStyle`,`color`]),padding:uh(n,`richText`),verticalAlign:`top`,align:`left`},z:n.get(`z`)}),c([`backgroundColor`,`borderRadius`,`shadowColor`,`shadowBlur`,`shadowOffsetX`,`shadowOffsetY`],function(e){o.el.style[e]=n.get(e)}),c([`textShadowBlur`,`textShadowOffsetX`,`textShadowOffsetY`],function(e){o.el.style[e]=l.get(e)||0}),this._zr.add(this.el);var u=this;this.el.on(`mouseover`,function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on(`mouseout`,function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=oE(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},e.prototype.moveTo=function(e,t){var n=this.el;if(n){var r=this._styleCoord;sE(r,this._zr,e,t),e=r[0],t=r[1];var i=n.style,a=aE(i.borderWidth||0),o=oE(i);n.x=e+a+o.left,n.y=t+a+o.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(M(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function aE(e){return Math.max(0,e)}function oE(e){var t=aE(e.shadowBlur||0),n=aE(e.shadowOffsetX||0),r=aE(e.shadowOffsetY||0);return{left:aE(t-n),right:aE(t+n),top:aE(t-r),bottom:aE(t+r)}}function sE(e,t,n,r){e[0]=n,e[1]=r,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var cE=iE;u();var lE=new F({shape:{x:-1,y:-1,width:2,height:2}}),uE=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(e,t){if(!(V.node||!t.getDom())){var n=e.getComponent(`tooltip`);this._tooltipContent=(this._renderMode=As(n.get(`renderMode`)))===`richText`?new cE(t):new rE(t,{appendTo:n.get(`appendToBody`,!0)?`body`:n.get(`appendTo`,!0)})}},t.prototype.render=function(e,t,n){if(!(V.node||!n.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n;var r=this._tooltipContent;r.update(e),r.setEnterable(e.get(`enterable`)),this._initGlobalListener(),this._keepShow(),this._renderMode!==`richText`&&e.get(`transitionDuration`)?Hh(this,`_updatePosition`,50,`fixRate`):Uh(this,`_updatePosition`)}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get(`triggerOn`);_T(`itemTooltip`,this._api,M(function(t,n,r){e!==`none`&&(e.indexOf(t)>=0?this._tryShow(n,r):t===`leave`&&this._hide(r))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,t=this._ecModel,n=this._api,r=e.get(`triggerOn`);if(this._lastX!=null&&this._lastY!=null&&r!==`none`&&r!==`click`){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&i.manuallyShowTip(e,t,n,{x:i._lastX,y:i._lastY,dataByCoordSys:i._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,t,n,r){if(!(r.from===this.uid||V.node||!n.getDom())){var i=fE(r,n);this._ticket=``;var a=r.dataByCoordSys,o=_E(r,t,n);if(o){var s=o.el.getBoundingRect().clone();s.applyTransform(o.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:o.el,position:r.position,positionDefault:`bottom`},i)}else if(r.tooltip&&r.x!=null&&r.y!=null){var c=lE;c.x=r.x,c.y=r.y,c.update(),K(c).tooltipConfig={name:null,option:r.tooltip},this._tryShow({offsetX:r.x,offsetY:r.y,target:c},i)}else if(a)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,dataByCoordSys:a,tooltipOption:r.tooltipOption},i);else if(r.seriesIndex!=null){if(this._manuallyAxisShowTip(e,t,n,r))return;var l=TT(r,t),u=l.point[0],d=l.point[1];u!=null&&d!=null&&this._tryShow({offsetX:u,offsetY:d,target:l.el,position:r.position,positionDefault:`bottom`},i)}else r.x!=null&&r.y!=null&&(n.dispatchAction({type:`updateAxisPointer`,x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target},i))}},t.prototype.manuallyHideTip=function(e,t,n,r){var i=this._tooltipContent;this._tooltipModel&&i.hideLater(this._tooltipModel.get(`hideDelay`)),this._lastX=this._lastY=this._lastDataByCoordSys=null,r.from!==this.uid&&this._hide(fE(r,n))},t.prototype._manuallyAxisShowTip=function(e,t,n,r){var i=r.seriesIndex,a=r.dataIndex,o=t.getComponent(`axisPointer`).coordSysAxesInfo;if(!(i==null||a==null||o==null)){var s=t.getSeriesByIndex(i);if(s&&dE([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model],this._tooltipModel).get(`trigger`)===`axis`)return n.dispatchAction({type:`updateAxisPointer`,seriesIndex:i,dataIndex:a,position:r.position}),!0}},t.prototype._tryShow=function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var r=e.dataByCoordSys;if(r&&r.length)this._showAxisTooltip(r,e);else if(n){if(K(n).ssrType===`legend`)return;this._lastDataByCoordSys=null;var i,a;Mg(n,function(e){if(e.tooltipDisabled)return i=a=null,!0;i||a||(K(e).dataIndex==null?K(e).tooltipConfig!=null&&(a=e):i=e)},!0),i?this._showSeriesItemTooltip(e,i,t):a?this._showComponentItemTooltip(e,a,t):this._hide(t)}else this._lastDataByCoordSys=null,this._hide(t)}},t.prototype._showOrMove=function(e,t){var n=e.get(`showDelay`);t=M(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},t.prototype._showAxisTooltip=function(e,t){var n=this._ecModel,r=this._tooltipModel,i=[t.offsetX,t.offsetY],a=dE([t.tooltipOption],r),o=this._renderMode,s=[],l=Xm(`section`,{blocks:[],noHeader:!0}),u=[],d=new dh;c(e,function(e){c(e.dataByAxis,function(e){var t=n.getComponent(e.axisDim+`Axis`,e.axisIndex),i=e.value;if(!(!t||i==null)){var a=iT(i,t.axis,n,e.seriesDataIndices,e.valueLabelOpt),f=Xm(`section`,{header:a,noHeader:!Be(a),sortBlocks:!0,blocks:[]});l.blocks.push(f),c(e.seriesDataIndices,function(c){var l=n.getSeriesByIndex(c.seriesIndex),p=c.dataIndexInside,m=l.getDataParams(p);if(!(m.dataIndex<0)){m.axisDim=e.axisDim,m.axisIndex=e.axisIndex,m.axisType=e.axisType,m.axisId=e.axisId,m.axisValue=Xb(t.axis,{value:i}),m.axisValueLabel=a,m.marker=d.makeTooltipMarker(`item`,Fd(m.color),o);var h=fm(l.formatTooltip(p,!0,null)),g=h.frag;if(g){var _=dE([l],r).get(`valueFormatter`);f.blocks.push(_?C({valueFormatter:_},g):g)}h.text&&u.push(h.text),s.push(m)}})}})}),l.blocks.reverse(),u.reverse();var f=t.position,p=nh(l,d,o,a.get(`order`),n.get(`useUTC`),a.get(`textStyle`));p&&u.unshift(p);var m=o===`richText`?`

`:`<br/>`,h=u.join(m);this._showOrMove(a,function(){this._updateContentNotChangedOnAxis(e,s)?this._updatePosition(a,f,i[0],i[1],this._tooltipContent,s):this._showTooltipContent(a,h,s,Math.random()+``,i[0],i[1],f,null,d)})},t.prototype._showSeriesItemTooltip=function(e,t,n){var r=this._ecModel,i=K(t),a=i.seriesIndex,o=r.getSeriesByIndex(a),s=i.dataModel||o,c=i.dataIndex,l=i.dataType,u=s.getData(l),d=this._renderMode,f=e.positionDefault,p=dE([u.getItemModel(c),s,o&&(o.coordinateSystem||{}).model],this._tooltipModel,f?{position:f}:null),m=p.get(`trigger`);if(!(m!=null&&m!==`item`)){var h=s.getDataParams(c,l),g=new dh;h.marker=g.makeTooltipMarker(`item`,Fd(h.color),d);var _=fm(s.formatTooltip(c,!1,l)),v=p.get(`order`),y=p.get(`valueFormatter`),b=_.frag,x=b?nh(y?C({valueFormatter:y},b):b,g,d,v,r.get(`useUTC`),p.get(`textStyle`)):_.text,S=`item_`+s.name+`_`+c;this._showOrMove(p,function(){this._showTooltipContent(p,x,h,S,e.offsetX,e.offsetY,e.position,e.target,g)}),n({type:`showTip`,dataIndexInside:c,dataIndex:u.getRawIndex(c),seriesIndex:a,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,t,n){var r=this._renderMode===`html`,i=K(t),a=i.tooltipConfig.option||{},o=a.encodeHTMLContent;if(z(a)){var s=a;a={content:s,formatter:s},o=!0}o&&r&&a.content&&(a=y(a),a.content=he(a.content));var c=[a],l=this._ecModel.getComponent(i.componentMainType,i.componentIndex);l&&c.push(l),c.push({formatter:a.content});var u=e.positionDefault,d=dE(c,this._tooltipModel,u?{position:u}:null),f=d.get(`content`),p=Math.random()+``,m=new dh;this._showOrMove(d,function(){var n=y(d.get(`formatterParams`)||{});this._showTooltipContent(d,f,n,p,e.offsetX,e.offsetY,e.position,t,m)}),n({type:`showTip`,from:this.uid})},t.prototype._showTooltipContent=function(e,t,n,r,i,a,o,s,c){if(this._ticket=``,!(!e.get(`showContent`)||!e.get(`show`))){var l=this._tooltipContent;l.setEnterable(e.get(`enterable`));var u=e.get(`formatter`);o||=e.get(`position`);var d=t,f=this._getNearestPoint([i,a],n,e.get(`trigger`),e.get(`borderColor`),e.get(`defaultBorderColor`,!0)).color;if(u)if(z(u)){var p=e.ecModel.get(`useUTC`),m=D(n)?n[0]:n,h=m&&m.axisType&&m.axisType.indexOf(`time`)>=0;d=u,h&&(d=od(m.axisValue,d,p)),d=jd(d,n,!0)}else if(I(u)){var g=M(function(t,r){t===this._ticket&&(l.setContent(r,c,e,f,o),this._updatePosition(e,o,i,a,l,n,s))},this);this._ticket=r,d=u(n,r,g)}else d=u;l.setContent(d,c,e,f,o),l.show(e,f),this._updatePosition(e,o,i,a,l,n,s)}},t.prototype._getNearestPoint=function(e,t,n,r,i){if(n===`axis`||D(t))return{color:r||i};if(!D(t))return{color:r||t.color||t.borderColor}},t.prototype._updatePosition=function(e,t,n,r,a,o,s){var c=this._api.getWidth(),l=this._api.getHeight();t||=e.get(`position`);var u=a.getSize(),d=e.get(`align`),f=e.get(`verticalAlign`),p=s&&s.getBoundingRect().clone();if(s&&p.applyTransform(s.transform),I(t)&&(t=t([n,r],o,a.el,p,{viewSize:[c,l],contentSize:u.slice()})),D(t))n=So(t[0],c),r=So(t[1],l);else if(i(t)){var m=t;m.width=u[0],m.height=u[1];var h=$d(m,{width:c,height:l});n=h.x,r=h.y,d=null,f=null}else if(z(t)&&s){var g=hE(t,p,u,e.get(`borderWidth`));n=g[0],r=g[1]}else{var g=pE(n,r,a,c,l,d?null:20,f?null:20);n=g[0],r=g[1]}if(d&&(n-=gE(d)?u[0]/2:d===`right`?u[0]:0),f&&(r-=gE(f)?u[1]/2:f===`bottom`?u[1]:0),VT(e)){var g=mE(n,r,a,c,l);n=g[0],r=g[1]}a.moveTo(n,r)},t.prototype._updateContentNotChangedOnAxis=function(e,t){var n=this._lastDataByCoordSys,r=this._cbParamsList,i=!!n&&n.length===e.length;return i&&c(n,function(n,a){var o=n.dataByAxis||[],s=(e[a]||{}).dataByAxis||[];i&&=o.length===s.length,i&&c(o,function(e,n){var a=s[n]||{},o=e.seriesDataIndices||[],l=a.seriesDataIndices||[];i=i&&e.value===a.value&&e.axisType===a.axisType&&e.axisId===a.axisId&&o.length===l.length,i&&c(o,function(e,t){var n=l[t];i=i&&e.seriesIndex===n.seriesIndex&&e.dataIndex===n.dataIndex}),r&&c(e.seriesDataIndices,function(e){var n=e.seriesIndex,a=t[n],o=r[n];a&&o&&o.data!==a.data&&(i=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=t,!!i},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:`hideTip`,from:this.uid})},t.prototype.dispose=function(e,t){V.node||!t.getDom()||(Uh(this,`_updatePosition`),this._tooltipContent.dispose(),CT(`itemTooltip`,t))},t.type=`tooltip`,t}(Dh);function dE(e,t,n){var r=t.ecModel,i;n?(i=new Su(n,r,r),i=new Su(t.option,i,r)):i=t;for(var a=e.length-1;a>=0;a--){var o=e[a];o&&(o instanceof Su&&(o=o.get(`tooltip`,!0)),z(o)&&(o={formatter:o}),o&&(i=new Su(o,i,r)))}return i}function fE(e,t){return e.dispatchAction||M(t.dispatchAction,t)}function pE(e,t,n,r,i,a,o){var s=n.getSize(),c=s[0],l=s[1];return a!=null&&(e+c+a+2>r?e-=c+a:e+=a),o!=null&&(t+l+o>i?t-=l+o:t+=o),[e,t]}function mE(e,t,n,r,i){var a=n.getSize(),o=a[0],s=a[1];return e=Math.min(e+o,r)-o,t=Math.min(t+s,i)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function hE(e,t,n,r){var i=n[0],a=n[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,c=0,l=t.width,u=t.height;switch(e){case`inside`:s=t.x+l/2-i/2,c=t.y+u/2-a/2;break;case`top`:s=t.x+l/2-i/2,c=t.y-a-o;break;case`bottom`:s=t.x+l/2-i/2,c=t.y+u+o;break;case`left`:s=t.x-i-o,c=t.y+u/2-a/2;break;case`right`:s=t.x+l+o,c=t.y+u/2-a/2}return[s,c]}function gE(e){return e===`center`||e===`middle`}function _E(e,t,n){var r=Ts(e).queryOptionMap,i=r.keys()[0];if(!(!i||i===`series`)){var a=Ds(t,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(a){var o=n.getViewOfComponentModel(a),s;if(o.group.traverse(function(t){var n=K(t).tooltipConfig;if(n&&n.name===e.name)return s=t,!0}),s)return{componentMainType:i,componentIndex:a.componentIndex,el:s}}}}var vE=uE;function yE(e){px(RT),e.registerComponentModel(BT),e.registerComponentView(vE),e.registerAction({type:`showTip`,event:`showTip`,update:`tooltip:manuallyShowTip`},ct),e.registerAction({type:`hideTip`,event:`hideTip`,update:`tooltip:manuallyHideTip`},ct)}var bE=c;function xE(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!0}}function SE(e,t,n){var r={};return bE(t,function(t){var a=r[t]=i();bE(e[t],function(e,r){if(Nw.isValidType(r)){var i={type:r,visual:e};n&&n(i,t),a[r]=new Nw(i),r===`opacity`&&(i=y(i),i.type=`colorAlpha`,a.__hidden.__alphaForOpacity=new Nw(i))}})}),r;function i(){var e=function(){};return e.prototype.__hidden=e.prototype,new e}}function CE(e,t,n){var r;c(n,function(e){t.hasOwnProperty(e)&&xE(t[e])&&(r=!0)}),r&&c(n,function(n){t.hasOwnProperty(n)&&xE(t[n])?e[n]=y(t[n]):delete e[n]})}function wE(e,t,n,r){var i={};return c(e,function(e){i[e]=Nw.prepareVisualTypes(t[e])}),{progress:function(e,a){var o;r!=null&&(o=a.getDimensionIndex(r));function s(e){return Dg(a,l,e)}function c(e,t){kg(a,l,e,t)}for(var l,u=a.getStore();(l=e.next())!=null;){var d=a.getRawDataItem(l);if(!(d&&d.visualMap===!1))for(var f=r==null?l:u.get(o,l),p=n(f),m=t[p],h=i[p],g=0,_=h.length;g<_;g++){var v=h[g];m[v]&&m[v].applyVisual(f,s,c)}}}}}var TE={get:function(e,t,n){var r=y((EE[e]||{})[t]);return n&&D(r)?r[r.length-1]:r}},EE={color:{active:[`#006edd`,`#e0ffff`],inactive:[X.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:[`circle`,`roundRect`,`diamond`],inactive:[`none`]},symbolSize:{active:[10,50],inactive:[0,0]}},DE=TE;u();var OE=Nw.mapVisual,kE=Nw.eachVisual,AE=D,jE=c,ME=Eo,NE=xo,PE=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.stateList=[`inRange`,`outOfRange`],n.replacableOptionKeys=[`inRange`,`outOfRange`,`target`,`controller`,`color`],n.layoutMode={type:`box`,ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&CE(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel(`textStyle`),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=M(e,this),this.controllerVisuals=SE(this.option.controller,t,e),this.targetVisuals=SE(this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesId,t=this.option.seriesIndex;t==null&&e==null&&(t=`all`);var n=Ds(this.ecModel,`series`,{index:t,id:e},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return B(n,function(e){return e.componentIndex})},t.prototype.eachTargetSeries=function(e,t){c(this.getTargetSeriesIndices(),function(n){var r=this.ecModel.getSeriesByIndex(n);r&&e.call(t,r)},this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},t.prototype.formatValueText=function(e,t,n){var r=this.option,i=r.precision,a=this.dataBound,o=r.formatter,s;n||=[`<`,`>`],D(e)&&(e=e.slice(),s=!0);var c=t?e:s?[l(e[0]),l(e[1])]:l(e);if(z(o))return o.replace(`{value}`,s?c[0]:c).replace(`{value2}`,s?c[1]:c);if(I(o))return s?o(e[0],e[1]):o(e);if(s)return e[0]===a[0]?n[0]+` `+c[1]:e[1]===a[1]?n[1]+` `+c[0]:c[0]+` - `+c[1];return c;function l(e){return e===a[0]?`min`:e===a[1]?`max`:(+e).toFixed(Math.min(i,20))}},t.prototype.resetExtent=function(){var e=this.option;this._dataExtent=ME([e.min,e.max])},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(t!=null)return e.getDimensionIndex(t);for(var n=e.dimensions,r=n.length-1;r>=0;r--){var i=n[r],a=e.getDimensionInfo(i);if(!a.isCalculationCoord)return a.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},r=t.target||={},i=t.controller||={};L(r,n),L(i,n);var a=this.isCategory();o.call(this,r),o.call(this,i),s.call(this,r,`inRange`,`outOfRange`),c.call(this,i);function o(n){AE(t.color)&&!n.inRange&&(n.inRange={color:t.color.slice().reverse()}),n.inRange=n.inRange||{color:e.get(`gradientColor`)}}function s(e,t,n){var r=e[t],i=e[n];r&&!i&&(i=e[n]={},jE(r,function(e,t){if(Nw.isValidType(t)){var n=DE.get(t,`inactive`,a);n!=null&&(i[t]=n,t===`color`&&!i.hasOwnProperty(`opacity`)&&!i.hasOwnProperty(`colorAlpha`)&&(i.opacity=[0,0]))}}))}function c(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,r=this.get(`inactiveColor`),i=this.getItemSymbol()||`roundRect`;jE(this.stateList,function(o){var s=this.itemSize,c=e[o];c||=e[o]={color:a?r:[r]},c.symbol??=t&&y(t)||(a?i:[i]),c.symbolSize??=n&&y(n)||(a?s[0]:[s[0],s[0]]),c.symbol=OE(c.symbol,function(e){return e===`none`?i:e});var l=c.symbolSize;if(l!=null){var u=-1/0;kE(l,function(e){e>u&&(u=e)}),c.symbolSize=OE(l,function(e){return NE(e,[0,u],[0,s[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get(`itemWidth`)),parseFloat(this.get(`itemHeight`))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type=`visualMap`,t.dependencies=[`series`],t.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:`vertical`,backgroundColor:X.color.transparent,borderColor:X.color.borderTint,contentColor:X.color.theme[0],inactiveColor:X.color.disabled,borderWidth:0,padding:X.size.m,textGap:10,precision:0,textStyle:{color:X.color.secondary}},t}(J);u();var FE=[20,140],IE=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod=`linear`,e.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=FE[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=FE[1])},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):D(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),c(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=Eo((this.get(`range`)||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,n=this.getExtent(),r=R(this.option.unboundedRange,!0);return(r&&t[0]<=n[0]||t[0]<=e)&&(r&&t[1]>=n[1]||e<=t[1])?`inRange`:`outOfRange`},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries(function(n){var r=[],i=n.getData();i.each(this.getDataDimensionIndex(i),function(t,n){e[0]<=t&&t<=e[1]&&r.push(n)},this),t.push({seriesId:n.id,dataIndex:r})},this),t},t.prototype.getVisualMeta=function(e){var t=LE(this,`outOfRange`,this.getExtent()),n=LE(this,`inRange`,this.option.range.slice()),r=[];function i(t,n){r.push({value:t,color:e(t,n)})}for(var a=0,o=0,s=n.length,c=t.length;o<c&&(!n.length||t[o]<=n[0]);o++)t[o]<n[a]&&i(t[o],`outOfRange`);for(var l=1;a<s;a++,l=0)l&&r.length&&i(n[a],`outOfRange`),i(n[a],`inRange`);for(var l=1;o<c;o++)(!n.length||n[n.length-1]<t[o])&&(l&&=(r.length&&i(r[r.length-1].value,`outOfRange`),0),i(t[o],`outOfRange`));var u=r.length;return{stops:r,outerColors:[u?r[0].color:`transparent`,u?r[u-1].color:`transparent`]}},t.type=`visualMap.continuous`,t.defaultOption=Du(PE.defaultOption,{align:`auto`,calculable:!1,hoverLink:!0,realtime:!0,handleIcon:`path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z`,handleSize:`120%`,handleStyle:{borderColor:X.color.neutral00,borderWidth:1},indicatorIcon:`circle`,indicatorSize:`50%`,indicatorStyle:{borderColor:X.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:X.color.shadow}}),t}(PE);function LE(e,t,n){if(n[0]===n[1])return n.slice();for(var r=200,i=(n[1]-n[0])/r,a=n[0],o=[],s=0;s<=r&&a<n[1];s++)o.push(a),a+=i;return o.push(n[1]),o}var RE=IE;u();var zE=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,n,r){if(this.visualMapModel=e,e.get(`show`)===!1){this.group.removeAll();return}this.doRender(e,t,n,r)},t.prototype.renderBackground=function(e){var t=this.visualMapModel,n=Dd(t.get(`padding`)||0),r=e.getBoundingRect();e.add(new F({z2:-1,silent:!0,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:t.get(`backgroundColor`),stroke:t.get(`borderColor`),lineWidth:t.get(`borderWidth`)}}))},t.prototype.getControllerVisual=function(e,t,n){n||={};var r=n.forceState,i=this.visualMapModel,a={};t===`color`&&(a.color=i.get(`contentColor`));function o(e){return a[e]}function s(e,t){a[e]=t}var l=i.controllerVisuals[r||i.getValueState(e)];return c(Nw.prepareVisualTypes(l),function(r){var i=l[r];n.convertOpacityToAlpha&&r===`opacity`&&(r=`colorAlpha`,i=l.__alphaForOpacity),Nw.dependsOn(r,t)&&i&&i.applyVisual(e,o,s)}),a[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,n=this.api,r=tf(t,n).refContainer;nf(e,t.getBoxLayoutParams(),r)},t.prototype.doRender=function(e,t,n,r){},t.type=`visualMap`,t}(Dh),BE=[[`left`,`right`,`width`],[`top`,`bottom`,`height`]];function VE(e,t,n){var r=e.option,i=r.align;if(i!=null&&i!==`auto`)return i;for(var a={width:t.getWidth(),height:t.getHeight()},o=r.orient===`horizontal`?1:0,s=BE[o],c=[0,null,10],l={},u=0;u<3;u++)l[BE[1-o][u]]=c[u],l[s[u]]=u===2?n[0]:r[s[u]];var d=[[`x`,`width`,3],[`y`,`height`,0]][o],f=$d(l,a,r.padding);return s[(f.margin[d[2]]||0)+f[d[0]]+f[d[1]]*.5<a[d[1]]*.5?0:1]}function HE(e,t){return c(e||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey=`visualMap`+(t?t.componentIndex:``)}),e}u();var UE=xo,WE=c,GE=Math.min,KE=Math.max,qE=12,JE=6,YE=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return t.prototype.init=function(t,n){e.prototype.init.call(this,t,n),this._hoverLinkFromSeriesMouseOver=M(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=M(this._hideIndicator,this)},t.prototype.doRender=function(e,t,n,r){(!r||r.type!==`selectDataRange`||r.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get(`orient`),this._useHandle=e.get(`calculable`),this._resetInterval(),this._renderBar(t);var n=e.get(`text`);this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,n){if(t){var r=t[1-n];r=r==null?``:r+``;var i=this.visualMapModel,a=i.get(`textGap`),o=i.itemSize,c=this._shapes.mainGroup,l=this._applyTransform([o[0]/2,n===0?-a:o[1]+a],c),u=this._applyTransform(n===0?`bottom`:`top`,c),d=this._orient,f=this.visualMapModel.textStyleModel;this.group.add(new s({style:eu(f,{x:l[0],y:l[1],verticalAlign:f.get(`verticalAlign`)||(d===`horizontal`?`middle`:u),align:f.get(`align`)||(d===`horizontal`?u:`center`),text:r})}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,n=this._shapes,r=t.itemSize,i=this._orient,a=this._useHandle,o=VE(t,this.api,r),s=n.mainGroup=this._createBarGroup(o),c=new ce;s.add(c),c.add(n.outOfRange=XE()),c.add(n.inRange=XE(null,a?$E(this._orient):null,M(this._dragHandle,this,`all`,!1),M(this._dragHandle,this,`all`,!0))),c.setClipPath(new F({shape:{x:0,y:0,width:r[0],height:r[1],r:3}}));var l=t.textStyleModel.getTextRect(`å›½`),u=KE(l.width,l.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(t,s,0,r,u,i),this._createHandle(t,s,1,r,u,i)),this._createIndicator(t,s,r,u,i),e.add(s)},t.prototype._createHandle=function(e,t,n,r,i,a){var o=M(this._dragHandle,this,n,!1),c=M(this._dragHandle,this,n,!0),l=dt(e.get(`handleSize`),r[0]),u=zg(e.get(`handleIcon`),-l/2,-l/2,l,l,null,!0),d=$E(this._orient);u.attr({cursor:d,draggable:!0,drift:o,ondragend:c,onmousemove:function(e){vt(e.event)}}),u.x=r[0]/2,u.useStyle(e.getModel(`handleStyle`).getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState(`emphasis`).style=e.getModel([`emphasis`,`handleStyle`]).getItemStyle(),Kc(u,!0),t.add(u);var f=this.visualMapModel.textStyleModel,p=new s({cursor:d,draggable:!0,drift:o,onmousemove:function(e){vt(e.event)},ondragend:c,style:eu(f,{x:0,y:0,text:``})});p.ensureState(`blur`).style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var m=[l,0],h=this._shapes;h.handleThumbs[n]=u,h.handleLabelPoints[n]=m,h.handleLabels[n]=p},t.prototype._createIndicator=function(e,t,n,r,i){var a=dt(e.get(`indicatorSize`),n[0]),o=zg(e.get(`indicatorIcon`),-a/2,-a/2,a,a,null,!0);o.attr({cursor:`move`,invisible:!0,silent:!0,x:n[0]/2});var c=e.getModel(`indicatorStyle`).getItemStyle();if(o instanceof b){var l=o.style;o.useStyle(C({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},c))}else o.useStyle(c);t.add(o);var u=this.visualMapModel.textStyleModel,d=new s({silent:!0,invisible:!0,style:eu(u,{x:0,y:0,text:``})});this.group.add(d);var f=[(i===`horizontal`?r/2:JE)+n[0]/2,0],p=this._shapes;p.indicator=o,p.indicatorLabel=d,p.indicatorLabelPoint=f,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,n,r){if(this._useHandle){if(this._dragging=!t,!t){var i=this._applyTransform([n,r],this._shapes.mainGroup,!0);this._updateInterval(e,i[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get(`realtime`)&&this.api.dispatchAction({type:`selectDataRange`,from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():QE(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),r=[0,e.itemSize[1]];this._handleEnds=[UE(t[0],n,r,!0),UE(t[1],n,r,!0)]},t.prototype._updateInterval=function(e,t){t||=0;var n=this.visualMapModel,r=this._handleEnds,i=[0,n.itemSize[1]];Pw(t,r,i,e,0);var a=n.getExtent();this._dataInterval=[UE(r[0],i,a,!0),UE(r[1],i,a,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,n=t.getExtent(),r=this._shapes,i=[0,t.itemSize[1]],a=e?i:this._handleEnds,o=this._createBarVisual(this._dataInterval,n,a,`inRange`),s=this._createBarVisual(n,n,i,`outOfRange`);r.inRange.setStyle({fill:o.barColor}).setShape(`points`,o.barPoints),r.outOfRange.setStyle({fill:s.barColor}).setShape(`points`,s.barPoints),this._updateHandle(a,o)},t.prototype._createBarVisual=function(e,t,n,r){var i={forceState:r,convertOpacityToAlpha:!0},a=this._makeColorGradient(e,i),o=[this.getControllerVisual(e[0],`symbolSize`,i),this.getControllerVisual(e[1],`symbolSize`,i)],s=this._createBarPoints(n,o);return{barColor:new h(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var n=100,r=[],i=(e[1]-e[0])/n;r.push({color:this.getControllerVisual(e[0],`color`,t),offset:0});for(var a=1;a<n;a++){var o=e[0]+i*a;if(o>e[1])break;r.push({color:this.getControllerVisual(o,`color`,t),offset:a/n})}return r.push({color:this.getControllerVisual(e[1],`color`,t),offset:1}),r},t.prototype._createBarPoints=function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,n=this.visualMapModel.get(`inverse`);return new ce(t===`horizontal`&&!n?{scaleX:e===`bottom`?1:-1,rotation:Math.PI/2}:t===`horizontal`&&n?{scaleX:e===`bottom`?-1:1,rotation:-Math.PI/2}:t===`vertical`&&!n?{scaleX:e===`left`?1:-1,scaleY:-1}:{scaleX:e===`left`?1:-1})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var n=this._shapes,r=this.visualMapModel,i=n.handleThumbs,a=n.handleLabels,o=r.itemSize,s=r.getExtent(),c=this._applyTransform(`left`,n.mainGroup);WE([0,1],function(l){var u=i[l];u.setStyle(`fill`,t.handlesColor[l]),u.y=e[l];var d=UE(e[l],[0,o[1]],s,!0),f=this.getControllerVisual(d,`symbolSize`);u.scaleX=u.scaleY=f/o[0],u.x=o[0]-f/2;var p=wl(n.handleLabelPoints[l],Cl(u,this.group));if(this._orient===`horizontal`){var m=c===`left`||c===`top`?(o[0]-f)/2:(o[0]-f)/-2;p[1]+=m}a[l].setStyle({x:p[0],y:p[1],text:r.formatValueText(this._dataInterval[l]),verticalAlign:`middle`,align:this._orient===`vertical`?this._applyTransform(`left`,n.mainGroup):`center`})},this)}},t.prototype._showIndicator=function(e,t,n,r){var i=this.visualMapModel,a=i.getExtent(),o=i.itemSize,s=[0,o[1]],c=this._shapes,l=c.indicator;if(l){l.attr(`invisible`,!1);var u=this.getControllerVisual(e,`color`,{convertOpacityToAlpha:!0}),d=this.getControllerVisual(e,`symbolSize`),f=UE(e,a,s,!0),p=o[0]-d/2,m={x:l.x,y:l.y};l.y=f,l.x=p;var h=wl(c.indicatorLabelPoint,Cl(l,this.group)),g=c.indicatorLabel;g.attr(`invisible`,!1);var _=this._applyTransform(`left`,c.mainGroup),v=this._orient===`horizontal`;g.setStyle({text:(n||``)+i.formatValueText(t),verticalAlign:v?_:`middle`,align:v?`center`:_});var y={x:p,y:f,style:{fill:u}},b={style:{x:h[0],y:h[1]}};if(i.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var x={duration:100,easing:`cubicInOut`,additive:!0};l.x=m.x,l.y=m.y,l.animateTo(y,x),g.animateTo(b,x)}else l.attr(y),g.attr(b);this._firstShowIndicator=!1;var S=this._shapes.handleLabels;if(S)for(var C=0;C<S.length;C++)this.api.enterBlur(S[C])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on(`mousemove`,function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,r=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);r[1]=GE(KE(0,r[1]),n[1]),e._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=n[0])}}).on(`mouseout`,function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on(`mouseover`,this._hoverLinkFromSeriesMouseOver,this),e.on(`mouseout`,this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var n=this.visualMapModel,r=n.itemSize;if(n.option.hoverLink){var i=[0,r[1]],a=n.getExtent();e=GE(KE(i[0],e),i[1]);var o=ZE(n,a,i),s=[e-o,e+o],c=UE(e,i,a,!0),l=[UE(s[0],i,a,!0),UE(s[1],i,a,!0)];s[0]<i[0]&&(l[0]=-1/0),s[1]>i[1]&&(l[1]=1/0),t&&(l[0]===-1/0?this._showIndicator(c,l[1],`< `,o):l[1]===1/0?this._showIndicator(c,l[0],`> `,o):this._showIndicator(c,c,`â‰ˆ `,o));var u=this._hoverLinkDataIndices,d=[];(t||QE(n))&&(d=this._hoverLinkDataIndices=n.findTargetDataIndices(l));var f=xs(u,d);this._dispatchHighDown(`downplay`,HE(f[0],n)),this._dispatchHighDown(`highlight`,HE(f[1],n))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t;if(Mg(e.target,function(e){var n=K(e);if(n.dataIndex!=null)return t=n,!0},!0),t){var n=this.ecModel.getSeriesByIndex(t.seriesIndex),r=this.visualMapModel;if(r.isTargetSeries(n)){var i=n.getData(t.dataType),a=i.getStore().get(r.getDataDimensionIndex(i),t.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr(`invisible`,!0),e.indicatorLabel&&e.indicatorLabel.attr(`invisible`,!0);var t=this._shapes.handleLabels;if(t)for(var n=0;n<t.length;n++)this.api.leaveBlur(t[n])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown(`downplay`,HE(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off(`mouseover`,this._hoverLinkFromSeriesMouseOver),e.off(`mouseout`,this._hideIndicator)},t.prototype._applyTransform=function(e,t,n,r){var i=Cl(t,r?null:this.group);return D(e)?wl(e,i,n):Tl(e,i,n)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type=`visualMap.continuous`,t}(zE);function XE(e,t,n,r){return new te({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){vt(e.event)},ondragend:r})}function ZE(e,t,n){var r=qE/2,i=e.get(`hoverLinkDataSize`);return i&&(r=UE(i,t,n,!0)/2),r}function QE(e){return!!(e.get(`hoverLinkOnHandle`)??e.get(`realtime`))}function $E(e){return e===`vertical`?`ns-resize`:`ew-resize`}var eD=YE,tD={type:`selectDataRange`,event:`dataRangeSelected`,update:`update`},nD=function(e,t){t.eachComponent({mainType:`visualMap`,query:e},function(t){t.setSelected(e.selected)})},rD=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent(`visualMap`,function(t){var r=e.pipelineContext;!t.isTargetSeries(e)||r&&r.large||n.push(wE(t.stateList,t.targetVisuals,M(t.getValueState,t),t.getDataDimensionIndex(e.getData())))}),n}},{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),r=[];t.eachComponent(`visualMap`,function(t){if(t.isTargetSeries(e)){var i=t.getVisualMeta(M(iD,null,e,t))||{stops:[],outerColors:[]},a=t.getDataDimensionIndex(n);a>=0&&(i.dimension=a,r.push(i))}}),e.getData().setVisual(`visualMeta`,r)}}];function iD(e,t,n,r){for(var i=t.targetVisuals[r],a=Nw.prepareVisualTypes(i),o={color:Og(e.getData(),`color`)},s=0,c=a.length;s<c;s++){var l=a[s],u=i[l===`opacity`?`__alphaForOpacity`:l];u&&u.applyVisual(n,d,f)}return o.color;function d(e){return o[e]}function f(e,t){o[e]=t}}var aD=c;function oD(e){var t=e&&e.visualMap;D(t)||(t=t?[t]:[]),aD(t,function(e){if(e){sD(e,`splitList`)&&!sD(e,`pieces`)&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&D(t)&&aD(t,function(e){i(e)&&(sD(e,`start`)&&!sD(e,`min`)&&(e.min=e.start),sD(e,`end`)&&!sD(e,`max`)&&(e.max=e.end))})}})}function sD(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var cD=!1;function lD(e){cD||(cD=!0,e.registerSubTypeDefaulter(`visualMap`,function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?`continuous`:`piecewise`}),e.registerAction(tD,nD),c(rD,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor(oD))}function uD(e){e.registerComponentModel(RE),e.registerComponentView(eD),lD(e)}u();var dD=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._pieceList=[],n}return t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],fD[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var i=this.option.categories;this.resetVisual(function(e,t){r===`categories`?(e.mappingMethod=`category`,e.categories=y(i)):(e.dataExtent=this.getExtent(),e.mappingMethod=`piecewise`,e.pieceList=B(this._pieceList,function(e){return e=y(e),t!==`inRange`&&(e.visual=null),e}))})},t.prototype.completeVisualOption=function(){var t=this.option,n={},r=Nw.listVisualTypes(),i=this.isCategory();c(t.pieces,function(e){c(r,function(t){e.hasOwnProperty(t)&&(n[t]=1)})}),c(n,function(e,n){var r=!1;c(this.stateList,function(e){r=r||a(t,e,n)||a(t.target,e,n)},this),!r&&c(this.stateList,function(e){(t[e]||(t[e]={}))[n]=DE.get(n,e===`inRange`?`active`:`inactive`,i)})},this);function a(e,t,n){return e&&e[t]&&e[t].hasOwnProperty(n)}e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var n=this.option,r=this._pieceList,i=(t?n:e).selected||{};if(n.selected=i,c(r,function(e,t){var n=this.getSelectedMapKey(e);i.hasOwnProperty(n)||(i[n]=!0)},this),n.selectedMode===`single`){var a=!1;c(r,function(e,t){var n=this.getSelectedMapKey(e);i[n]&&(a?i[n]=!1:a=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get(`itemSymbol`)},t.prototype.getSelectedMapKey=function(e){return this._mode===`categories`?e.value+``:e.index+``},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?`pieces`:this.option.categories?`categories`:`splitNumber`},t.prototype.setSelected=function(e){this.option.selected=y(e)},t.prototype.getValueState=function(e){var t=Nw.findPieceIndex(e,this._pieceList);return t==null?`outOfRange`:this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?`inRange`:`outOfRange`},t.prototype.findTargetDataIndices=function(e){var t=[],n=this._pieceList;return this.eachTargetSeries(function(r){var i=[],a=r.getData();a.each(this.getDataDimensionIndex(a),function(t,r){Nw.findPieceIndex(t,n)===e&&i.push(r)},this),t.push({seriesId:r.id,dataIndex:i})},this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(e.value!=null)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},t.prototype.getVisualMeta=function(e){if(this.isCategory())return;var t=[],n=[``,``],r=this;function i(i,a){var o=r.getRepresentValue({interval:i});a||=r.getValueState(o);var s=e(o,a);i[0]===-1/0?n[0]=s:i[1]===1/0?n[1]=s:t.push({value:i[0],color:s},{value:i[1],color:s})}var a=this._pieceList.slice();if(!a.length)a.push({interval:[-1/0,1/0]});else{var o=a[0].interval[0];o!==-1/0&&a.unshift({interval:[-1/0,o]}),o=a[a.length-1].interval[1],o!==1/0&&a.push({interval:[o,1/0]})}var s=-1/0;return c(a,function(e){var t=e.interval;t&&(t[0]>s&&i([s,t[0]],`outOfRange`),i(t.slice()),s=t[1])},this),{stops:t,outerColors:n}},t.type=`visualMap.piecewise`,t.defaultOption=Du(PE.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:`auto`,itemWidth:20,itemHeight:14,itemSymbol:`roundRect`,pieces:null,categories:null,splitNumber:5,selectedMode:`multiple`,itemGap:10,hoverLink:!0}),t}(PE),fD={splitNumber:function(e){var t=this.option,n=Math.min(t.precision,20),r=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(r[1]-r[0])/i;+a.toFixed(n)!==a&&n<5;)n++;t.precision=n,a=+a.toFixed(n),t.minOpen&&e.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<i;s+=a,o++){var l=o===i-1?r[1]:s+a;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[r[1],1/0],close:[0,0]}),Ho(e),c(e,function(e,t){e.index=t,e.text=this.formatValueText(e.interval)},this)},categories:function(e){var t=this.option;c(t.categories,function(t){e.push({text:this.formatValueText(t,!0),value:t})},this),pD(t,e)},pieces:function(e){var t=this.option;c(t.pieces,function(t,n){i(t)||(t={value:t});var r={text:``,index:n};if(t.label!=null&&(r.text=t.label),t.hasOwnProperty(`value`)){var a=r.value=t.value;r.interval=[a,a],r.close=[1,1]}else{for(var o=r.interval=[],s=r.close=[0,0],c=[1,0,1],l=[-1/0,1/0],u=[],d=0;d<2;d++){for(var f=[[`gte`,`gt`,`min`],[`lte`,`lt`,`max`]][d],p=0;p<3&&o[d]==null;p++)o[d]=t[f[p]],s[d]=c[p],u[d]=p===2;o[d]??(o[d]=l[d])}u[0]&&o[1]===1/0&&(s[0]=0),u[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(r.value=o[0])}r.visual=Nw.retrieveVisuals(t),e.push(r)},this),pD(t,e),Ho(e),c(e,function(e){var t=e.close,n=[[`<`,`â‰¤`][t[1]],[`>`,`â‰¥`][t[0]]];e.text=e.text||this.formatValueText(e.value==null?e.interval:e.value,!1,n)},this)}};function pD(e,t){var n=e.inverse;(e.orient===`vertical`?!n:n)&&t.reverse()}var mD=dD;u();var hD=function(e){P(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get(`textGap`),r=t.textStyleModel,i=this._getItemAlign(),a=t.itemSize,o=this._getViewData(),l=o.endsText,u=ft(t.get(`showLabel`,!0),!l),d=!t.get(`selectedMode`);l&&this._renderEndsText(e,l[0],a,u,i),c(o.viewPieceList,function(o){var c=o.piece,l=new ce;l.onclick=M(this._onItemClick,this,c),this._enableHoverLink(l,o.indexInModelPieceList);var f=t.getRepresentValue(c);if(this._createItemSymbol(l,f,[0,0,a[0],a[1]],d),u){var p=this.visualMapModel.getValueState(f),m=r.get(`align`)||i;l.add(new s({style:eu(r,{x:m===`right`?-n:a[0]+n,y:a[1]/2,text:c.text,verticalAlign:r.get(`verticalAlign`)||`middle`,align:m,opacity:R(r.get(`opacity`),p===`outOfRange`?.5:1)}),silent:d}))}e.add(l)},this),l&&this._renderEndsText(e,l[1],a,u,i),Zd(t.get(`orient`),e,t.get(`itemGap`)),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var n=this;e.on(`mouseover`,function(){return r(`highlight`)}).on(`mouseout`,function(){return r(`downplay`)});var r=function(e){var r=n.visualMapModel;r.option.hoverLink&&n.api.dispatchAction({type:e,batch:HE(r.findTargetDataIndices(t),r)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if(t.orient===`vertical`)return VE(e,this.api,e.itemSize);var n=t.align;return(!n||n===`auto`)&&(n=`left`),n},t.prototype._renderEndsText=function(e,t,n,r,i){if(t){var a=new ce,o=this.visualMapModel.textStyleModel;a.add(new s({style:eu(o,{x:r?i===`right`?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:`middle`,align:r?i:`center`,text:t})})),e.add(a)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=B(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),n=e.get(`text`),r=e.get(`orient`),i=e.get(`inverse`);return(r===`horizontal`?i:!i)?t.reverse():n&&=n.slice().reverse(),{viewPieceList:t,endsText:n}},t.prototype._createItemSymbol=function(e,t,n,r){var i=zg(this.getControllerVisual(t,`symbol`),n[0],n[1],n[2],n[3],this.getControllerVisual(t,`color`));i.silent=r,e.add(i)},t.prototype._onItemClick=function(e){var t=this.visualMapModel,n=t.option,r=n.selectedMode;if(r){var i=y(n.selected),a=t.getSelectedMapKey(e);r===`single`||r===!0?(i[a]=!0,c(i,function(e,t){i[t]=t===a})):i[a]=!i[a],this.api.dispatchAction({type:`selectDataRange`,from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}},t.type=`visualMap.piecewise`,t}(zE);function gD(e){e.registerComponentModel(mD),e.registerComponentView(hD),lD(e)}function _D(e){px(uD),px(gD)}function vD(e){e.registerPainter(`canvas`,St)}export{Ww as a,mo as c,co as d,zT as i,pn as l,_D as n,wS as o,yE as r,px as s,vD as t,ai as u};