const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OptionsChain-B_uis1dm.js","assets/vendor-Bna3BMbj.js","assets/rolldown-runtime-Cn8xt2Gj.js","assets/vendor-mui-8knhrtHX.js","assets/vendor-query-BOInhiz5.js","assets/LivePriceChart-Dp68OaDL.js","assets/vendor-charts-G-6mPCR0.js","assets/GreeksHeatmap-DQHBA0fc.js","assets/VolatilitySurface3D-DFBO5JS_.js","assets/vendor-three-Bz26NrVH.js"])))=>i.map(i=>d[i]);
import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{Jn as t,kr as n,zn as r}from"./vendor-Bna3BMbj.js";import{F as i,G as a,J as o,K as s,N as c,Q as l,V as u,Z as d,c as f,d as p,n as m,rt as h,tt as g,w as _}from"./vendor-mui-8knhrtHX.js";import{t as v}from"./vendor-query-BOInhiz5.js";import{t as y}from"./PortfolioSummary-B6Ihpc8u.js";var b=e(n(),1),x=t();const S=b.memo(({symbol:e})=>{let t=g(),{data:n,isLoading:r,error:c}=v({queryKey:[`ml-predictions`,e],queryFn:async()=>{let t=await fetch(`/api/v1/ml/predictions?symbol=${e}`);if(!t.ok)throw Error(`Failed to fetch predictions`);return t.json()},refetchInterval:1e4});if(r)return(0,x.jsx)(a,{sx:{display:`flex`,justifyContent:`center`,alignItems:`center`,height:`100%`,minHeight:200},children:(0,x.jsx)(d,{size:30,"aria-label":`Loading predictions`})});if(c||!n)return(0,x.jsx)(a,{sx:{p:2,textAlign:`center`},children:(0,x.jsx)(o,{color:`error`,variant:`body2`,children:`ML Engine unavailable`})});let{predictedPrice:l,confidenceInterval:u,drift:y,modelName:b,lastUpdated:S}=n,C=y>=0;return(0,x.jsxs)(a,{sx:{p:2},children:[(0,x.jsxs)(_,{direction:`row`,spacing:1,alignItems:`center`,sx:{mb:2},children:[(0,x.jsx)(f,{sx:{color:`secondary.main`}}),(0,x.jsx)(o,{variant:`subtitle1`,fontWeight:`bold`,children:`ML Price Prediction`})]}),(0,x.jsxs)(_,{spacing:2,children:[(0,x.jsxs)(a,{children:[(0,x.jsxs)(o,{variant:`caption`,color:`text.secondary`,sx:{display:`flex`,alignItems:`center`,gap:.5},children:[(0,x.jsx)(p,{sx:{fontSize:14}}),` Target Price (24h)`]}),(0,x.jsx)(a,{children:(0,x.jsxs)(o,{variant:`h4`,fontWeight:`bold`,color:`primary.main`,children:[`$`,l.toLocaleString(void 0,{minimumFractionDigits:2})]})})]}),(0,x.jsx)(_,{direction:`row`,spacing:1,alignItems:`center`,children:(0,x.jsx)(s,{label:`${C?`+`:``}${(y*100).toFixed(2)}% Predicted Drift`,size:`small`,color:C?`success`:`error`,variant:`outlined`,sx:{fontWeight:`bold`}})}),(0,x.jsxs)(a,{sx:{bgcolor:h(t.palette.background.paper,.5),p:1.5,borderRadius:1,border:`1px solid ${h(t.palette.divider,.1)}`},children:[(0,x.jsx)(o,{variant:`caption`,color:`text.secondary`,gutterBottom:!0,children:`95% Confidence Interval`}),(0,x.jsxs)(o,{variant:`body2`,fontWeight:`medium`,children:[`$`,u[0].toFixed(2),` â€” $`,u[1].toFixed(2)]})]}),(0,x.jsx)(i,{sx:{opacity:.1}}),(0,x.jsxs)(_,{direction:`row`,justifyContent:`space-between`,alignItems:`center`,children:[(0,x.jsxs)(a,{children:[(0,x.jsx)(o,{variant:`caption`,color:`text.secondary`,display:`block`,children:`Model`}),(0,x.jsx)(o,{variant:`caption`,fontWeight:`bold`,children:b})]}),(0,x.jsxs)(a,{sx:{textAlign:`right`},children:[(0,x.jsxs)(o,{variant:`caption`,color:`text.secondary`,sx:{display:`flex`,alignItems:`center`,gap:.5},children:[(0,x.jsx)(m,{sx:{fontSize:12}}),` Updated`]}),(0,x.jsx)(o,{variant:`caption`,children:new Date(S).toLocaleTimeString()})]})]})]})]})});var C=(0,b.lazy)(()=>r(()=>import(`./OptionsChain-B_uis1dm.js`),__vite__mapDeps([0,1,2,3,4])).then(e=>({default:e.OptionsChain}))),w=(0,b.lazy)(()=>r(()=>import(`./LivePriceChart-Dp68OaDL.js`),__vite__mapDeps([5,1,2,3,6])).then(e=>({default:e.LivePriceChart}))),T=(0,b.lazy)(()=>r(()=>import(`./GreeksHeatmap-DQHBA0fc.js`),__vite__mapDeps([7,1,2,3,4,6])).then(e=>({default:e.GreeksHeatmap}))),E=(0,b.lazy)(()=>r(()=>import(`./VolatilitySurface3D-DFBO5JS_.js`),__vite__mapDeps([8,1,2,3,9])).then(e=>({default:e.VolatilitySurface3D}))),D=()=>(0,x.jsx)(a,{sx:{display:`flex`,justifyContent:`center`,alignItems:`center`,height:`100%`},children:(0,x.jsx)(d,{size:40,"aria-label":`Loading component`})});const O=()=>(0,x.jsx)(u,{maxWidth:`xl`,sx:{mt:2,mb:2},children:(0,x.jsxs)(c,{container:!0,spacing:3,children:[(0,x.jsx)(c,{size:{xs:12,lg:8},children:(0,x.jsxs)(l,{"data-testid":`live-price-chart-paper`,sx:{p:2,display:`flex`,flexDirection:`column`,height:450},children:[(0,x.jsx)(o,{variant:`h6`,gutterBottom:!0,children:`Real-Time Price Chart - AAPL`}),(0,x.jsx)(a,{sx:{flex:1,overflow:`hidden`},children:(0,x.jsx)(b.Suspense,{fallback:(0,x.jsx)(D,{}),children:(0,x.jsx)(w,{symbol:`AAPL`})})})]})}),(0,x.jsx)(c,{size:{xs:12,lg:4},children:(0,x.jsx)(l,{"data-testid":`ml-predictions-paper`,sx:{p:0,display:`flex`,flexDirection:`column`,height:450,overflow:`hidden`},children:(0,x.jsx)(S,{symbol:`AAPL`})})}),(0,x.jsx)(c,{size:{xs:12,lg:8},children:(0,x.jsx)(l,{"data-testid":`options-chain-container`,sx:{p:0,display:`flex`,flexDirection:`column`,height:600,overflow:`hidden`},children:(0,x.jsx)(b.Suspense,{fallback:(0,x.jsx)(D,{}),children:(0,x.jsx)(C,{symbol:`AAPL`})})})}),(0,x.jsx)(c,{size:{xs:12,lg:4},children:(0,x.jsx)(l,{"data-testid":`portfolio-summary-container`,sx:{p:0,display:`flex`,flexDirection:`column`,height:600,overflow:`hidden`},children:(0,x.jsx)(y,{})})}),(0,x.jsx)(c,{size:{xs:12,lg:4},children:(0,x.jsxs)(l,{"data-testid":`greeks-heatmap-paper`,sx:{p:2,display:`flex`,flexDirection:`column`,height:450},children:[(0,x.jsx)(o,{variant:`h6`,gutterBottom:!0,children:`Greeks Analysis (Delta)`}),(0,x.jsx)(a,{sx:{flex:1,overflow:`hidden`},children:(0,x.jsx)(b.Suspense,{fallback:(0,x.jsx)(D,{}),children:(0,x.jsx)(T,{symbol:`AAPL`,greek:`delta`})})})]})}),(0,x.jsx)(c,{size:{xs:12,lg:8},children:(0,x.jsxs)(l,{"data-testid":`volatility-surface-paper`,sx:{p:2,display:`flex`,flexDirection:`column`,height:450},children:[(0,x.jsx)(o,{variant:`h6`,gutterBottom:!0,children:`Implied Volatility Surface`}),(0,x.jsx)(a,{sx:{flex:1,overflow:`hidden`},children:(0,x.jsx)(b.Suspense,{fallback:(0,x.jsx)(D,{}),children:(0,x.jsx)(E,{symbol:`AAPL`})})})]})})]})});var k=O;export{O as DashboardPage,k as default};