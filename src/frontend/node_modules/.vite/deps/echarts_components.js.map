{"version":3,"file":"echarts_components.js","names":["inner","clone","zrUtil.clone","bind","zrUtil.bind","BaseAxisPointer","graphic.Group","zrUtil.curry","updateProps","axisPointerModelHelper.getAxisInfo","graphic","graphic.Text","graphic.createIcon","zrUtil.isArray","graphic.updateProps","zrUtil.isObject","formatUtil.normalizeCssArray","textContain.getBoundingRect","axisHelper.getAxisRawValue","zrUtil.isString","zrUtil.isFunction","matrix.create","graphic.applyTransform","AxisBuilder","CartesianAxisPointer","viewHelper.buildElStyle","pointerShapeBuilder","cartesianAxisHelper.layout","viewHelper.getTransformedPosition","BaseAxisPointer","viewHelper.makeLineShape","viewHelper.makeRectShape","AxisPointerModel","tokens","ComponentModel","inner","each","zrUtil.each","env","zrUtil.curry","makeDispatchAction","dispatchAction","AxisPointerView","ComponentView","modelUtil.queryDataIndex","zrUtil.isArray","zrUtil.map","inner","dispatchAction","modelHelper.makeKey","key","install","CartesianAxisPointer","AxisPointerModel","AxisPointerView","install","installSimple","installAxisPointer","PolarAxisPointer","viewHelper.buildElStyle","pointerShapeBuilder","BaseAxisPointer","matrix.create","graphic.applyTransform","AxisBuilder","viewHelper.makeLineShape","viewHelper.makeSectorShape","PolarModel","ComponentModel","PolarAxisModel","ComponentModel","zrUtil.mixin","AngleAxisModel","RadiusAxisModel","RadiusAxis","Axis","inner","AngleAxis","textContain.getBoundingRect","Axis","Polar","RadiusAxis","AngleAxis","getCoordSys","parsePercent","zrUtil.isArray","createScaleByModel","Polar","zrUtil.retrieve","AngleAxisView","zrUtil.map","zrUtil.clone","AxisView","graphic","graphic.Ring","graphic.Line","graphic.mergePath","zrUtil.defaults","zrUtil.isObject","Model","graphic.Text","AxisBuilder","graphic.Sector","selfBuilderAttrs","RadiusAxisView","graphic.Group","AxisBuilder","AxisView","axisElementBuilders","graphic","graphic.mergePath","zrUtil.defaults","graphic.Circle","graphic.Sector","zrUtil.filter","parsePercent","PolarView","ComponentView","install","installAxisPointer","PolarAxisPointer","polarCreator","PolarModel","AngleAxisView","RadiusAxisView","barLayoutPolar","layout","zrUtil.retrieve","SingleAxisView","graphic.Group","AxisBuilder","singleAxisHelper.layout","AxisView","graphic.Line","graphic.mergePath","zrUtil.defaults","SingleAxisModel","ComponentModel","SingleAxis","Axis","Single","SingleAxis","axisHelper.createScaleByModel","getCoordSys","Single","XY","WH","SingleAxisPointer","viewHelper.buildElStyle","singleAxisHelper.layout","viewHelper.getTransformedPosition","BaseAxisPointer","viewHelper.makeLineShape","viewHelper.makeRectShape","SingleView","ComponentView","install","installAxisPointer","SingleAxisPointer","SingleAxisView","SingleAxisModel","singleCreator","CalendarModel","tokens","ComponentModel","mergeAndNormalizeLayoutParams","zrUtil.isArray","zrUtil.map","CalendarView","graphic.Rect","date","graphic.Polyline","rotate","graphic.Text","parsePercent","ComponentView","Calendar","numberUtil.parseDate","layout.getLayoutRect","cellSize","getCoordSys","zrUtil.isArray","install","CalendarModel","CalendarView","Calendar","XY","mathMax","mathMin","layout","WH","MatrixDim","dimModelData","Point","XY","Ordinal","OrdinalMeta","count","layout","WH","mathMax","MatrixBodyCorner","idx","locatorRange","parsed","Point","tokens","MatrixModel","Model","ComponentModel","MatrixDimensionModel","MatrixView","ComponentView","XY","Model","Rect","Line","Matrix","XY","WH","Model","mathMin","mathMax","install","MatrixModel","MatrixView","Matrix","zrUtil.extend","GraphicComponentModel","modelUtil.mappingToExists","zrUtil.isObject","zrUtil.filter","ComponentModel","graphicUtil.Group","graphicUtil.Image","graphicUtil.Text","inner","modelUtil.makeInner","GraphicComponentView","zrUtil.createHashMap","modelUtil.convertOptionIdName","zrUtil.assert","parsePercent","layoutUtil.positionElement","zrUtil.indexOf","ComponentView","zrUtil.hasOwn","graphicUtil.getShapeClass","Displayable","zrUtil.retrieve2","zrUtil.keys","zrUtil.isFunction","zrUtil.extend","layoutUtil.LOCATION_PARAMS","install","DataZoomAxisInfo","DataZoomModel","axisModels","axisDim","ComponentModel","SelectDataZoomModel","DataZoomModel","DataZoomView","ComponentView","SelectDataZoomView","DataZoomView","each","zrUtil.each","asc","numberUtil.asc","AxisProxy","zrUtil.clone","numberUtil.linearMap","zrUtil.map","numberUtil.getPixelPrecision","AxisProxy","installed","installCommon","dataZoomProcessor","install","SelectZoomModel","SelectZoomView","ToolboxFeature","ToolboxModel","featureManager.getFeature","tokens","ComponentModel","formatUtil.normalizeCssArray","graphic.Rect","ToolboxView","features","DataDiffer","zrUtil.curry","Model","zrUtil.isString","graphic.createIcon","ZRText","tokens","zrUtil.bind","listComponentHelper.makeBackground","zrUtil.isFunction","textContain.getBoundingRect","ComponentView","SaveAsImage","tokens","env","MagicType","zrUtil.indexOf","zrUtil.merge","echarts.registerAction","zrUtil.map","series","zrUtil.filter","trim","DataView","tokens","zrUtil.isFunction","zrUtil.isString","zrUtil.isDom","zrUtil.isObject","zrUtil.isArray","zrUtil.defaults","echarts.registerAction","zrUtil.extend","each","zrUtil.each","inner","clear","RestoreOption","echarts.registerAction","BrushTargetManager","parseFinder","brushHelper.makeRectPanelClipPath","brushHelper.makeRectIsTargetByCursor","brushHelper.makeLinearBrushOtherExtent","modelUtilParseFinder","graphic.getTransform","each","zrUtil.each","DataZoomFeature","BrushController","zrUtil.bind","BrushTargetManager","zrUtil.clone","tokens","history.pop","history.count","install","ToolboxModel","ToolboxView","SaveAsImage","MagicType","DataView","DataZoom","Restore","installDataZoomSelect","TooltipModel","tokens","ComponentModel","env","env","translate","makeStyleCoord","TooltipHTMLContent","TooltipRichContent","zrUtil.isObject","ZRText","zrUtil.bind","Rect","TooltipView","env","TooltipRichContent","TooltipHTMLContent","dispatchAction","axisPointerViewHelper.getValueLabel","axisHelper.getAxisRawValue","timeFormat","html","parsePercent","ComponentView","Model","install","installAxisPointer","TooltipModel","TooltipView","zrUtil.isArray","map","each","zrUtil.each","VisualMapping","zrUtil.clone","has","keys","value","polygonContain.contain","BoundingRect","BrushTargetManager","zrUtil.clone","zrUtil.map","zrUtil.defaults","visualSolution.createVisualMappings","zrUtil.each","visualSolution.applyVisual","dispatchAction","throttleUtil.createOrUpdate","zrUtil.isArray","zrUtil.indexOf","BoundingRect","BrushView","BrushController","zrUtil.bind","zrUtil.clone","ComponentView","BrushModel","visualSolution.replaceVisualOption","zrUtil.isArray","zrUtil.map","tokens","ComponentModel","zrUtil.merge","Model","BrushFeature","install","BrushView","BrushModel","BrushFeature","TitleModel","tokens","ComponentModel","TitleView","zrUtil.retrieve2","graphic.Text","graphic.Rect","ComponentView","install","TimelineModel","count","SeriesData","tokens","ComponentModel","SliderTimelineModel","TimelineModel","tokens","TimelineView","ComponentView","TimelineAxis","Axis","SliderTimelineView","matrix.create","TimelineAxis","graphic.Group","graphic.Line","graphic.Text","numberUtil.asc","graphic.applyTransform","TimelineView","OrdinalScale","TimeScale","IntervalScale","layout.getLayoutRect","layout.createBoxLayoutReference","graphic.createIcon","BoundingRect","zrUtil.isArray","has","zrUtil.isObject","install","SliderTimelineModel","SliderTimelineView","preprocessor","inner","MarkerModel","env","ComponentModel","zrUtil.mixin","MarkPointModel","MarkerModel","numberUtil.getPrecision","inner","MarkerView","markerModel","MarkerModel","ComponentView","updateZ","numberUtil.parsePercent","MarkPointView","MarkerModel","SymbolDraw","MarkerView","SeriesData","markerHelper.dataTransform","markerHelper.dataFilter","markerHelper.createMarkerDimValueGetter","install","MarkPointModel","MarkPointView","MarkLineModel","MarkerModel","inner","markerHelper.getAxisInfo","markerHelper.numCalculate","markerHelper.dataTransform","isInfinity","markerHelper.dataFilter","numberUtil.parsePercent","MarkLineView","MarkerModel","LineDraw","createList","MarkerView","SeriesData","markerHelper.createMarkerDimValueGetter","install","MarkLineModel","MarkLineView","MarkAreaModel","MarkerModel","inner","markerHelper.dataTransform","markerHelper.zoneFilter","markerHelper.dataFilter","numberUtil.parsePercent","MarkAreaView","MarkerModel","graphic.Group","colorUtil.modifyAlpha","layout","graphic.Polygon","tokens","MarkerView","SeriesData","install","MarkAreaModel","MarkAreaView","LegendModel","selector","zrUtil.isArray","zrUtil.merge","zrUtil.createHashMap","zrUtil.map","zrUtil.isString","zrUtil.isNumber","Model","zrUtil.filter","zrUtil.indexOf","tokens","ComponentModel","curry","zrUtil.curry","each","zrUtil.each","Group","graphic.Group","LegendView","selector","layoutUtil.createBoxLayoutReference","layoutUtil.getLayoutRect","zrUtil.defaults","zrUtil.createHashMap","_this","seriesModel","style","legendIcon","zrUtil.extend","itemGroup","graphic.Text","zrUtil.isFunction","rotate","zrUtil.isString","graphic.Rect","ComponentView","tokens","install","LegendModel","LegendView","ScrollableLegendModel","LegendModel","tokens","graphic.Group","ScrollableLegendView","selector","zrUtil.isArray","graphic.Text","graphic.createIcon","zrUtil.bind","layoutUtil.box","zrUtil.clone","zrUtil.retrieve2","graphic.Rect","graphic.updateProps","zrUtil.isString","LegendView","install","installLegendPlain","ScrollableLegendModel","ScrollableLegendView","install","installLegendPlain","installLegendScroll","InsideZoomModel","DataZoomModel","inner","RoamController","InsideZoomView","DataZoomView","install","InsideZoomModel","InsideZoomView","SliderZoomModel","DataZoomModel","tokens","graphic.Rect","SliderZoomView","graphic.Group","layout.createBoxLayoutReference","layout.getLayoutParams","layout.getLayoutRect","linearMap","group","graphic.Polygon","graphic.Polyline","tokens","getCursor","parsePercent","graphic.Text","asc","graphic.getTransform","graphic.transformDirection","graphic.applyTransform","graphic.Point","DataZoomView","install","SliderZoomModel","SliderZoomView","install","installDataZoomInside","installDataZoomSlider","zrUtil.clone","zrUtil.isArray","tokens","VisualMapping","isArray","zrUtil.isArray","each","zrUtil.each","numberUtil.asc","linearMap","numberUtil.linearMap","VisualMapModel","visualSolution.replaceVisualOption","zrUtil.bind","visualSolution.createVisualMappings","modelUtil.queryReferringComponents","zrUtil.map","zrUtil.isString","zrUtil.isFunction","base","visualDefault","controller","zrUtil.clone","tokens","ComponentModel","ContinuousModel","zrUtil.isArray","numberUtil.asc","zrUtil.retrieve2","getColorVisual","VisualMapModel","tokens","count","VisualMapView","formatUtil.normalizeCssArray","Rect","VisualMapping","layout.createBoxLayoutReference","ComponentView","numberUtil.linearMap","each","zrUtil.each","ContinuousView","zrUtil.bind","graphic.Text","helper.getItemAlign","graphic.Group","graphic.Rect","ZRImage","zrUtil.extend","LinearGradient","graphic.applyTransform","graphic.getTransform","modelUtil.compressBatches","helper.makeHighDownBatch","zrUtil.isArray","graphic.transformDirection","VisualMapView","graphic.Polygon","visualSolution.incrementalApplyVisual","zrUtil.bind","VisualMapping","value","each","zrUtil.each","zrUtil.isArray","zrUtil.isObject","preprocessor","install","ContinuousModel","ContinuousView","PiecewiseModel","zrUtil.clone","zrUtil.map","VisualMapping","has","zrUtil.each","visualDefault","getColorVisual","VisualMapModel","index","zrUtil.isObject","PiecewiseVisualMapView","zrUtil.retrieve","graphic.Group","zrUtil.bind","graphic.Text","zrUtil.retrieve2","helper.makeHighDownBatch","helper.getItemAlign","zrUtil.map","zrUtil.clone","VisualMapView","install","PiecewiseModel","PiecewiseView","install","installVisualMapContinuous","installVisualMapPiecewise","ThumbnailBridgeImpl","ThumbnailModel","tokens","ComponentModel","ThumbnailView","View","tokens","Group","Rect","matrix.invert","matrix.mul","BoundingRect","RoamController","ComponentView","install","defaultOption","zrUtil.clone","zrUtil.createHashMap","zrUtil.isFunction","paletteDecal","specifiedDecal","zrUtil.extend","zrUtil.defaults","zrUtil.filter","zrUtil.indexOf","zrUtil.isString","RegExpEvaluator","ConstConditionInternal","AndConditionInternal","OrConditionInternal","NotConditionInternal","RelationalConditionInternal","ConditionalExpressionParsed","i","install","DatasetModel","ComponentModel","DatasetView","ComponentView","install"],"sources":["../../echarts/lib/component/axisPointer/BaseAxisPointer.js","../../echarts/lib/component/axisPointer/viewHelper.js","../../echarts/lib/component/axisPointer/CartesianAxisPointer.js","../../echarts/lib/component/axisPointer/AxisPointerModel.js","../../echarts/lib/component/axisPointer/globalListener.js","../../echarts/lib/component/axisPointer/AxisPointerView.js","../../echarts/lib/component/axisPointer/findPointFromSeries.js","../../echarts/lib/component/axisPointer/axisTrigger.js","../../echarts/lib/component/axisPointer/install.js","../../echarts/lib/component/grid/install.js","../../echarts/lib/component/axisPointer/PolarAxisPointer.js","../../echarts/lib/coord/polar/PolarModel.js","../../echarts/lib/coord/polar/AxisModel.js","../../echarts/lib/coord/polar/RadiusAxis.js","../../echarts/lib/coord/polar/AngleAxis.js","../../echarts/lib/coord/polar/Polar.js","../../echarts/lib/coord/polar/polarCreator.js","../../echarts/lib/component/axis/AngleAxisView.js","../../echarts/lib/component/axis/RadiusAxisView.js","../../echarts/lib/layout/barPolar.js","../../echarts/lib/component/polar/install.js","../../echarts/lib/coord/single/singleAxisHelper.js","../../echarts/lib/component/axis/SingleAxisView.js","../../echarts/lib/coord/single/AxisModel.js","../../echarts/lib/coord/single/SingleAxis.js","../../echarts/lib/coord/single/Single.js","../../echarts/lib/coord/single/singleCreator.js","../../echarts/lib/component/axisPointer/SingleAxisPointer.js","../../echarts/lib/component/singleAxis/install.js","../../echarts/lib/coord/calendar/CalendarModel.js","../../echarts/lib/component/calendar/CalendarView.js","../../echarts/lib/coord/calendar/Calendar.js","../../echarts/lib/component/calendar/install.js","../../echarts/lib/coord/matrix/matrixCoordHelper.js","../../echarts/lib/coord/matrix/MatrixDim.js","../../echarts/lib/coord/matrix/MatrixBodyCorner.js","../../echarts/lib/coord/matrix/MatrixModel.js","../../echarts/lib/component/matrix/MatrixView.js","../../echarts/lib/coord/matrix/Matrix.js","../../echarts/lib/component/matrix/install.js","../../echarts/lib/component/graphic/GraphicModel.js","../../echarts/lib/component/graphic/GraphicView.js","../../echarts/lib/component/graphic/install.js","../../echarts/lib/component/dataZoom/helper.js","../../echarts/lib/component/dataZoom/DataZoomModel.js","../../echarts/lib/component/dataZoom/SelectZoomModel.js","../../echarts/lib/component/dataZoom/DataZoomView.js","../../echarts/lib/component/dataZoom/SelectZoomView.js","../../echarts/lib/component/dataZoom/AxisProxy.js","../../echarts/lib/component/dataZoom/dataZoomProcessor.js","../../echarts/lib/component/dataZoom/dataZoomAction.js","../../echarts/lib/component/dataZoom/installCommon.js","../../echarts/lib/component/dataZoom/installDataZoomSelect.js","../../echarts/lib/component/toolbox/featureManager.js","../../echarts/lib/component/toolbox/ToolboxModel.js","../../echarts/lib/component/helper/listComponent.js","../../echarts/lib/component/toolbox/ToolboxView.js","../../echarts/lib/component/toolbox/feature/SaveAsImage.js","../../echarts/lib/component/toolbox/feature/MagicType.js","../../echarts/lib/component/toolbox/feature/DataView.js","../../echarts/lib/component/dataZoom/history.js","../../echarts/lib/component/toolbox/feature/Restore.js","../../echarts/lib/component/helper/BrushTargetManager.js","../../echarts/lib/component/toolbox/feature/DataZoom.js","../../echarts/lib/component/toolbox/install.js","../../echarts/lib/component/tooltip/TooltipModel.js","../../echarts/lib/component/tooltip/helper.js","../../echarts/lib/component/tooltip/TooltipHTMLContent.js","../../echarts/lib/component/tooltip/TooltipRichContent.js","../../echarts/lib/component/tooltip/TooltipView.js","../../echarts/lib/component/tooltip/install.js","../../echarts/lib/component/brush/preprocessor.js","../../echarts/lib/visual/visualSolution.js","../../echarts/lib/component/brush/selector.js","../../echarts/lib/component/brush/visualEncoding.js","../../echarts/lib/component/brush/BrushView.js","../../echarts/lib/component/brush/BrushModel.js","../../echarts/lib/component/toolbox/feature/Brush.js","../../echarts/lib/component/brush/install.js","../../echarts/lib/component/title/install.js","../../echarts/lib/component/timeline/TimelineModel.js","../../echarts/lib/component/timeline/SliderTimelineModel.js","../../echarts/lib/component/timeline/TimelineView.js","../../echarts/lib/component/timeline/TimelineAxis.js","../../echarts/lib/component/timeline/SliderTimelineView.js","../../echarts/lib/component/timeline/timelineAction.js","../../echarts/lib/component/timeline/preprocessor.js","../../echarts/lib/component/timeline/install.js","../../echarts/lib/component/marker/checkMarkerInSeries.js","../../echarts/lib/component/marker/MarkerModel.js","../../echarts/lib/component/marker/MarkPointModel.js","../../echarts/lib/component/marker/markerHelper.js","../../echarts/lib/component/marker/MarkerView.js","../../echarts/lib/component/marker/MarkPointView.js","../../echarts/lib/component/marker/installMarkPoint.js","../../echarts/lib/component/marker/MarkLineModel.js","../../echarts/lib/component/marker/MarkLineView.js","../../echarts/lib/component/marker/installMarkLine.js","../../echarts/lib/component/marker/MarkAreaModel.js","../../echarts/lib/component/marker/MarkAreaView.js","../../echarts/lib/component/marker/installMarkArea.js","../../echarts/lib/component/legend/LegendModel.js","../../echarts/lib/component/legend/LegendView.js","../../echarts/lib/component/legend/legendFilter.js","../../echarts/lib/component/legend/legendAction.js","../../echarts/lib/component/legend/installLegendPlain.js","../../echarts/lib/component/legend/ScrollableLegendModel.js","../../echarts/lib/component/legend/ScrollableLegendView.js","../../echarts/lib/component/legend/scrollableLegendAction.js","../../echarts/lib/component/legend/installLegendScroll.js","../../echarts/lib/component/legend/install.js","../../echarts/lib/component/dataZoom/InsideZoomModel.js","../../echarts/lib/component/dataZoom/roams.js","../../echarts/lib/component/dataZoom/InsideZoomView.js","../../echarts/lib/component/dataZoom/installDataZoomInside.js","../../echarts/lib/component/dataZoom/SliderZoomModel.js","../../echarts/lib/component/dataZoom/SliderZoomView.js","../../echarts/lib/component/dataZoom/installDataZoomSlider.js","../../echarts/lib/component/dataZoom/install.js","../../echarts/lib/visual/visualDefault.js","../../echarts/lib/component/visualMap/VisualMapModel.js","../../echarts/lib/component/visualMap/ContinuousModel.js","../../echarts/lib/component/visualMap/VisualMapView.js","../../echarts/lib/component/visualMap/helper.js","../../echarts/lib/component/visualMap/ContinuousView.js","../../echarts/lib/component/visualMap/visualMapAction.js","../../echarts/lib/component/visualMap/visualEncoding.js","../../echarts/lib/component/visualMap/preprocessor.js","../../echarts/lib/component/visualMap/installCommon.js","../../echarts/lib/component/visualMap/installVisualMapContinuous.js","../../echarts/lib/component/visualMap/PiecewiseModel.js","../../echarts/lib/component/visualMap/PiecewiseView.js","../../echarts/lib/component/visualMap/installVisualMapPiecewise.js","../../echarts/lib/component/visualMap/install.js","../../echarts/lib/component/thumbnail/ThumbnailBridgeImpl.js","../../echarts/lib/component/thumbnail/ThumbnailModel.js","../../echarts/lib/component/thumbnail/ThumbnailView.js","../../echarts/lib/component/thumbnail/install.js","../../echarts/lib/visual/aria.js","../../echarts/lib/component/aria/preprocessor.js","../../echarts/lib/component/aria/install.js","../../echarts/lib/util/conditionalExpression.js","../../echarts/lib/component/transform/filterTransform.js","../../echarts/lib/component/transform/sortTransform.js","../../echarts/lib/component/transform/install.js","../../echarts/lib/component/dataset/install.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as axisPointerModelHelper from './modelHelper.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nvar clone = zrUtil.clone;\nvar bind = zrUtil.bind;\n/**\n * Base axis pointer class in 2D.\n */\nvar BaseAxisPointer = /** @class */function () {\n  function BaseAxisPointer() {\n    this._dragging = false;\n    /**\n     * In px, arbitrary value. Do not set too small,\n     * no animation is ok for most cases.\n     */\n    this.animationThreshold = 15;\n  }\n  /**\n   * @implement\n   */\n  BaseAxisPointer.prototype.render = function (axisModel, axisPointerModel, api, forceRender) {\n    var value = axisPointerModel.get('value');\n    var status = axisPointerModel.get('status');\n    // Bind them to `this`, not in closure, otherwise they will not\n    // be replaced when user calling setOption in not merge mode.\n    this._axisModel = axisModel;\n    this._axisPointerModel = axisPointerModel;\n    this._api = api;\n    // Optimize: `render` will be called repeatedly during mouse move.\n    // So it is power consuming if performing `render` each time,\n    // especially on mobile device.\n    if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n      return;\n    }\n    this._lastValue = value;\n    this._lastStatus = status;\n    var group = this._group;\n    var handle = this._handle;\n    if (!status || status === 'hide') {\n      // Do not clear here, for animation better.\n      group && group.hide();\n      handle && handle.hide();\n      return;\n    }\n    group && group.show();\n    handle && handle.show();\n    // Otherwise status is 'show'\n    var elOption = {};\n    this.makeElOption(elOption, value, axisModel, axisPointerModel, api);\n    // Enable change axis pointer type.\n    var graphicKey = elOption.graphicKey;\n    if (graphicKey !== this._lastGraphicKey) {\n      this.clear(api);\n    }\n    this._lastGraphicKey = graphicKey;\n    var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n    if (!group) {\n      group = this._group = new graphic.Group();\n      this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n      this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n      api.getZr().add(group);\n    } else {\n      var doUpdateProps = zrUtil.curry(updateProps, axisPointerModel, moveAnimation);\n      this.updatePointerEl(group, elOption, doUpdateProps);\n      this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n    }\n    updateMandatoryProps(group, axisPointerModel, true);\n    this._renderHandle(value);\n  };\n  /**\n   * @implement\n   */\n  BaseAxisPointer.prototype.remove = function (api) {\n    this.clear(api);\n  };\n  /**\n   * @implement\n   */\n  BaseAxisPointer.prototype.dispose = function (api) {\n    this.clear(api);\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.determineAnimation = function (axisModel, axisPointerModel) {\n    var animation = axisPointerModel.get('animation');\n    var axis = axisModel.axis;\n    var isCategoryAxis = axis.type === 'category';\n    var useSnap = axisPointerModel.get('snap');\n    // Value axis without snap always do not snap.\n    if (!useSnap && !isCategoryAxis) {\n      return false;\n    }\n    if (animation === 'auto' || animation == null) {\n      var animationThreshold = this.animationThreshold;\n      if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n        return true;\n      }\n      // It is important to auto animation when snap used. Consider if there is\n      // a dataZoom, animation will be disabled when too many points exist, while\n      // it will be enabled for better visual effect when little points exist.\n      if (useSnap) {\n        var seriesDataCount = axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount;\n        var axisExtent = axis.getExtent();\n        // Approximate band width\n        return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n      }\n      return false;\n    }\n    return animation === true;\n  };\n  /**\n   * add {pointer, label, graphicKey} to elOption\n   * @protected\n   */\n  BaseAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {\n    // Should be implemenented by sub-class.\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.createPointerEl = function (group, elOption, axisModel, axisPointerModel) {\n    var pointerOption = elOption.pointer;\n    if (pointerOption) {\n      var pointerEl = inner(group).pointerEl = new graphic[pointerOption.type](clone(elOption.pointer));\n      group.add(pointerEl);\n    }\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.createLabelEl = function (group, elOption, axisModel, axisPointerModel) {\n    if (elOption.label) {\n      var labelEl = inner(group).labelEl = new graphic.Text(clone(elOption.label));\n      group.add(labelEl);\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.updatePointerEl = function (group, elOption, updateProps) {\n    var pointerEl = inner(group).pointerEl;\n    if (pointerEl && elOption.pointer) {\n      pointerEl.setStyle(elOption.pointer.style);\n      updateProps(pointerEl, {\n        shape: elOption.pointer.shape\n      });\n    }\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.updateLabelEl = function (group, elOption, updateProps, axisPointerModel) {\n    var labelEl = inner(group).labelEl;\n    if (labelEl) {\n      labelEl.setStyle(elOption.label.style);\n      updateProps(labelEl, {\n        // Consider text length change in vertical axis, animation should\n        // be used on shape, otherwise the effect will be weird.\n        // TODOTODO\n        // shape: elOption.label.shape,\n        x: elOption.label.x,\n        y: elOption.label.y\n      });\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  };\n  /**\n   * @private\n   */\n  BaseAxisPointer.prototype._renderHandle = function (value) {\n    if (this._dragging || !this.updateHandleTransform) {\n      return;\n    }\n    var axisPointerModel = this._axisPointerModel;\n    var zr = this._api.getZr();\n    var handle = this._handle;\n    var handleModel = axisPointerModel.getModel('handle');\n    var status = axisPointerModel.get('status');\n    if (!handleModel.get('show') || !status || status === 'hide') {\n      handle && zr.remove(handle);\n      this._handle = null;\n      return;\n    }\n    var isInit;\n    if (!this._handle) {\n      isInit = true;\n      handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n        cursor: 'move',\n        draggable: true,\n        onmousemove: function (e) {\n          // For mobile device, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        onmousedown: bind(this._onHandleDragMove, this, 0, 0),\n        drift: bind(this._onHandleDragMove, this),\n        ondragend: bind(this._onHandleDragEnd, this)\n      });\n      zr.add(handle);\n    }\n    updateMandatoryProps(handle, axisPointerModel, false);\n    // update style\n    handle.setStyle(handleModel.getItemStyle(null, ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY']));\n    // update position\n    var handleSize = handleModel.get('size');\n    if (!zrUtil.isArray(handleSize)) {\n      handleSize = [handleSize, handleSize];\n    }\n    handle.scaleX = handleSize[0] / 2;\n    handle.scaleY = handleSize[1] / 2;\n    throttleUtil.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n    this._moveHandleToValue(value, isInit);\n  };\n  BaseAxisPointer.prototype._moveHandleToValue = function (value, isInit) {\n    updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n  };\n  BaseAxisPointer.prototype._onHandleDragMove = function (dx, dy) {\n    var handle = this._handle;\n    if (!handle) {\n      return;\n    }\n    this._dragging = true;\n    // Persistent for throttle.\n    var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n    this._payloadInfo = trans;\n    handle.stopAnimation();\n    handle.attr(getHandleTransProps(trans));\n    inner(handle).lastProp = null;\n    this._doDispatchAxisPointer();\n  };\n  /**\n   * Throttled method.\n   */\n  BaseAxisPointer.prototype._doDispatchAxisPointer = function () {\n    var handle = this._handle;\n    if (!handle) {\n      return;\n    }\n    var payloadInfo = this._payloadInfo;\n    var axisModel = this._axisModel;\n    this._api.dispatchAction({\n      type: 'updateAxisPointer',\n      x: payloadInfo.cursorPoint[0],\n      y: payloadInfo.cursorPoint[1],\n      tooltipOption: payloadInfo.tooltipOption,\n      axesInfo: [{\n        axisDim: axisModel.axis.dim,\n        axisIndex: axisModel.componentIndex\n      }]\n    });\n  };\n  BaseAxisPointer.prototype._onHandleDragEnd = function () {\n    this._dragging = false;\n    var handle = this._handle;\n    if (!handle) {\n      return;\n    }\n    var value = this._axisPointerModel.get('value');\n    // Consider snap or categroy axis, handle may be not consistent with\n    // axisPointer. So move handle to align the exact value position when\n    // drag ended.\n    this._moveHandleToValue(value);\n    // For the effect: tooltip will be shown when finger holding on handle\n    // button, and will be hidden after finger left handle button.\n    this._api.dispatchAction({\n      type: 'hideTip'\n    });\n  };\n  /**\n   * @private\n   */\n  BaseAxisPointer.prototype.clear = function (api) {\n    this._lastValue = null;\n    this._lastStatus = null;\n    var zr = api.getZr();\n    var group = this._group;\n    var handle = this._handle;\n    if (zr && group) {\n      this._lastGraphicKey = null;\n      group && zr.remove(group);\n      handle && zr.remove(handle);\n      this._group = null;\n      this._handle = null;\n      this._payloadInfo = null;\n    }\n    throttleUtil.clear(this, '_doDispatchAxisPointer');\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.doClear = function () {\n    // Implemented by sub-class if necessary.\n  };\n  BaseAxisPointer.prototype.buildLabel = function (xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  };\n  return BaseAxisPointer;\n}();\nfunction updateProps(animationModel, moveAnimation, el, props) {\n  // Animation optimize.\n  if (!propsEqual(inner(el).lastProp, props)) {\n    inner(el).lastProp = props;\n    moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n  }\n}\nfunction propsEqual(lastProps, newProps) {\n  if (zrUtil.isObject(lastProps) && zrUtil.isObject(newProps)) {\n    var equals_1 = true;\n    zrUtil.each(newProps, function (item, key) {\n      equals_1 = equals_1 && propsEqual(lastProps[key], item);\n    });\n    return !!equals_1;\n  } else {\n    return lastProps === newProps;\n  }\n}\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n  labelEl[axisPointerModel.get(['label', 'show']) ? 'show' : 'hide']();\n}\nfunction getHandleTransProps(trans) {\n  return {\n    x: trans.x || 0,\n    y: trans.y || 0,\n    rotation: trans.rotation || 0\n  };\n}\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n  var z = axisPointerModel.get('z');\n  var zlevel = axisPointerModel.get('zlevel');\n  group && group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n      el.silent = silent;\n    }\n  });\n}\nexport default BaseAxisPointer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport * as formatUtil from '../../util/format.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport * as axisHelper from '../../coord/axisHelper.js';\nimport AxisBuilder from '../axis/AxisBuilder.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nexport function buildElStyle(axisPointerModel) {\n  var axisPointerType = axisPointerModel.get('type');\n  var styleModel = axisPointerModel.getModel(axisPointerType + 'Style');\n  var style;\n  if (axisPointerType === 'line') {\n    style = styleModel.getLineStyle();\n    style.fill = null;\n  } else if (axisPointerType === 'shadow') {\n    style = styleModel.getAreaStyle();\n    style.stroke = null;\n  }\n  return style;\n}\n/**\n * @param {Function} labelPos {align, verticalAlign, position}\n */\nexport function buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos) {\n  var value = axisPointerModel.get('value');\n  var text = getValueLabel(value, axisModel.axis, axisModel.ecModel, axisPointerModel.get('seriesDataIndices'), {\n    precision: axisPointerModel.get(['label', 'precision']),\n    formatter: axisPointerModel.get(['label', 'formatter'])\n  });\n  var labelModel = axisPointerModel.getModel('label');\n  var paddings = formatUtil.normalizeCssArray(labelModel.get('padding') || 0);\n  var font = labelModel.getFont();\n  var textRect = textContain.getBoundingRect(text, font);\n  var position = labelPos.position;\n  var width = textRect.width + paddings[1] + paddings[3];\n  var height = textRect.height + paddings[0] + paddings[2];\n  // Adjust by align.\n  var align = labelPos.align;\n  align === 'right' && (position[0] -= width);\n  align === 'center' && (position[0] -= width / 2);\n  var verticalAlign = labelPos.verticalAlign;\n  verticalAlign === 'bottom' && (position[1] -= height);\n  verticalAlign === 'middle' && (position[1] -= height / 2);\n  // Not overflow ec container\n  confineInContainer(position, width, height, api);\n  var bgColor = labelModel.get('backgroundColor');\n  if (!bgColor || bgColor === 'auto') {\n    bgColor = axisModel.get(['axisLine', 'lineStyle', 'color']);\n  }\n  elOption.label = {\n    // shape: {x: 0, y: 0, width: width, height: height, r: labelModel.get('borderRadius')},\n    x: position[0],\n    y: position[1],\n    style: createTextStyle(labelModel, {\n      text: text,\n      font: font,\n      fill: labelModel.getTextColor(),\n      padding: paddings,\n      backgroundColor: bgColor\n    }),\n    // Label should be over axisPointer.\n    z2: 10\n  };\n}\n// Do not overflow ec container\nfunction confineInContainer(position, width, height, api) {\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  position[0] = Math.min(position[0] + width, viewWidth) - width;\n  position[1] = Math.min(position[1] + height, viewHeight) - height;\n  position[0] = Math.max(position[0], 0);\n  position[1] = Math.max(position[1], 0);\n}\nexport function getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {\n  value = axis.scale.parse(value);\n  var text = axis.scale.getLabel({\n    value: value\n  }, {\n    // If `precision` is set, width can be fixed (like '12.00500'), which\n    // helps to debounce when when moving label.\n    precision: opt.precision\n  });\n  var formatter = opt.formatter;\n  if (formatter) {\n    var params_1 = {\n      value: axisHelper.getAxisRawValue(axis, {\n        value: value\n      }),\n      axisDimension: axis.dim,\n      axisIndex: axis.index,\n      seriesData: []\n    };\n    zrUtil.each(seriesDataIndices, function (idxItem) {\n      var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n      var dataIndex = idxItem.dataIndexInside;\n      var dataParams = series && series.getDataParams(dataIndex);\n      dataParams && params_1.seriesData.push(dataParams);\n    });\n    if (zrUtil.isString(formatter)) {\n      text = formatter.replace('{value}', text);\n    } else if (zrUtil.isFunction(formatter)) {\n      text = formatter(params_1);\n    }\n  }\n  return text;\n}\nexport function getTransformedPosition(axis, value, layoutInfo) {\n  var transform = matrix.create();\n  matrix.rotate(transform, transform, layoutInfo.rotation);\n  matrix.translate(transform, transform, layoutInfo.position);\n  return graphic.applyTransform([axis.dataToCoord(value), (layoutInfo.labelOffset || 0) + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)], transform);\n}\nexport function buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api) {\n  var textLayout = AxisBuilder.innerTextLayout(layoutInfo.rotation, 0, layoutInfo.labelDirection);\n  layoutInfo.labelMargin = axisPointerModel.get(['label', 'margin']);\n  buildLabelElOption(elOption, axisModel, axisPointerModel, api, {\n    position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n    align: textLayout.textAlign,\n    verticalAlign: textLayout.textVerticalAlign\n  });\n}\nexport function makeLineShape(p1, p2, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x1: p1[xDimIndex],\n    y1: p1[1 - xDimIndex],\n    x2: p2[xDimIndex],\n    y2: p2[1 - xDimIndex]\n  };\n}\nexport function makeRectShape(xy, wh, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x: xy[xDimIndex],\n    y: xy[1 - xDimIndex],\n    width: wh[xDimIndex],\n    height: wh[1 - xDimIndex]\n  };\n}\nexport function makeSectorShape(cx, cy, r0, r, startAngle, endAngle) {\n  return {\n    cx: cx,\n    cy: cy,\n    r0: r0,\n    r: r,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    clockwise: true\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseAxisPointer from './BaseAxisPointer.js';\nimport * as viewHelper from './viewHelper.js';\nimport * as cartesianAxisHelper from '../../coord/cartesian/cartesianAxisHelper.js';\nvar CartesianAxisPointer = /** @class */function (_super) {\n  __extends(CartesianAxisPointer, _super);\n  function CartesianAxisPointer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @override\n   */\n  CartesianAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisPointerType = axisPointerModel.get('type');\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n    var layoutInfo = cartesianAxisHelper.layout(grid.getRect(), axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  };\n  /**\n   * @override\n   */\n  CartesianAxisPointer.prototype.getHandleTransform = function (value, axisModel, axisPointerModel) {\n    var layoutInfo = cartesianAxisHelper.layout(axisModel.axis.grid.getRect(), axisModel, {\n      labelInside: false\n    });\n    layoutInfo.labelMargin = axisPointerModel.get(['handle', 'margin']);\n    var pos = viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo);\n    return {\n      x: pos[0],\n      y: pos[1],\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  };\n  /**\n   * @override\n   */\n  CartesianAxisPointer.prototype.updateHandleTransform = function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisExtent = axis.getGlobalExtent(true);\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var dimIndex = axis.dim === 'x' ? 0 : 1;\n    var currPosition = [transform.x, transform.y];\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex];\n    // Make tooltip do not overlap axisPointer and in the middle of the grid.\n    var tooltipOptions = [{\n      verticalAlign: 'middle'\n    }, {\n      align: 'center'\n    }];\n    return {\n      x: currPosition[0],\n      y: currPosition[1],\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: tooltipOptions[dimIndex]\n    };\n  };\n  return CartesianAxisPointer;\n}(BaseAxisPointer);\nfunction getCartesian(grid, axis) {\n  var opt = {};\n  opt[axis.dim + 'AxisIndex'] = axis.index;\n  return grid.getCartesian(opt);\n}\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getAxisDimIndex(axis));\n    return {\n      type: 'Line',\n      subPixelOptimize: true,\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent) {\n    var bandWidth = Math.max(1, axis.getBandWidth());\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getAxisDimIndex(axis))\n    };\n  }\n};\nfunction getAxisDimIndex(axis) {\n  return axis.dim === 'x' ? 0 : 1;\n}\nexport default CartesianAxisPointer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nimport tokens from '../../visual/tokens.js';\nvar AxisPointerModel = /** @class */function (_super) {\n  __extends(AxisPointerModel, _super);\n  function AxisPointerModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AxisPointerModel.type;\n    return _this;\n  }\n  AxisPointerModel.type = 'axisPointer';\n  AxisPointerModel.defaultOption = {\n    // 'auto' means that show when triggered by tooltip or handle.\n    show: 'auto',\n    // zlevel: 0,\n    z: 50,\n    type: 'line',\n    // axispointer triggered by tootip determine snap automatically,\n    // see `modelHelper`.\n    snap: false,\n    triggerTooltip: true,\n    triggerEmphasis: true,\n    value: null,\n    status: null,\n    link: [],\n    // Do not set 'auto' here, otherwise global animation: false\n    // will not effect at this axispointer.\n    animation: null,\n    animationDurationUpdate: 200,\n    lineStyle: {\n      color: tokens.color.border,\n      width: 1,\n      type: 'dashed'\n    },\n    shadowStyle: {\n      color: tokens.color.shadowTint\n    },\n    label: {\n      show: true,\n      formatter: null,\n      precision: 'auto',\n      margin: 3,\n      color: tokens.color.neutral00,\n      padding: [5, 7, 5, 7],\n      backgroundColor: tokens.color.accent60,\n      borderColor: null,\n      borderWidth: 0,\n      borderRadius: 3\n    },\n    handle: {\n      show: false,\n      // eslint-disable-next-line\n      icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',\n      size: 45,\n      // handle margin is from symbol center to axis, which is stable when circular move.\n      margin: 50,\n      // color: '#1b8bbd'\n      // color: '#2f4554'\n      color: tokens.color.accent40,\n      // For mobile performance\n      throttle: 40\n    }\n  };\n  return AxisPointerModel;\n}(ComponentModel);\nexport default AxisPointerModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nvar each = zrUtil.each;\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n * @param {Function} handler\n *      param: {string} currTrigger\n *      param: {Array.<number>} point\n */\nexport function register(key, api, handler) {\n  if (env.node) {\n    return;\n  }\n  var zr = api.getZr();\n  inner(zr).records || (inner(zr).records = {});\n  initGlobalListeners(zr, api);\n  var record = inner(zr).records[key] || (inner(zr).records[key] = {});\n  record.handler = handler;\n}\nfunction initGlobalListeners(zr, api) {\n  if (inner(zr).initialized) {\n    return;\n  }\n  inner(zr).initialized = true;\n  useHandler('click', zrUtil.curry(doEnter, 'click'));\n  useHandler('mousemove', zrUtil.curry(doEnter, 'mousemove'));\n  // useHandler('mouseout', onLeave);\n  useHandler('globalout', onLeave);\n  function useHandler(eventType, cb) {\n    zr.on(eventType, function (e) {\n      var dis = makeDispatchAction(api);\n      each(inner(zr).records, function (record) {\n        record && cb(record, e, dis.dispatchAction);\n      });\n      dispatchTooltipFinally(dis.pendings, api);\n    });\n  }\n}\nfunction dispatchTooltipFinally(pendings, api) {\n  var showLen = pendings.showTip.length;\n  var hideLen = pendings.hideTip.length;\n  var actuallyPayload;\n  if (showLen) {\n    actuallyPayload = pendings.showTip[showLen - 1];\n  } else if (hideLen) {\n    actuallyPayload = pendings.hideTip[hideLen - 1];\n  }\n  if (actuallyPayload) {\n    actuallyPayload.dispatchAction = null;\n    api.dispatchAction(actuallyPayload);\n  }\n}\nfunction onLeave(record, e, dispatchAction) {\n  record.handler('leave', null, dispatchAction);\n}\nfunction doEnter(currTrigger, record, e, dispatchAction) {\n  record.handler(currTrigger, e, dispatchAction);\n}\nfunction makeDispatchAction(api) {\n  var pendings = {\n    showTip: [],\n    hideTip: []\n  };\n  // FIXME\n  // better approach?\n  // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n  // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n  // So we have to add \"final stage\" to merge those dispatched actions.\n  var dispatchAction = function (payload) {\n    var pendingList = pendings[payload.type];\n    if (pendingList) {\n      pendingList.push(payload);\n    } else {\n      payload.dispatchAction = dispatchAction;\n      api.dispatchAction(payload);\n    }\n  };\n  return {\n    dispatchAction: dispatchAction,\n    pendings: pendings\n  };\n}\nexport function unregister(key, api) {\n  if (env.node) {\n    return;\n  }\n  var zr = api.getZr();\n  var record = (inner(zr).records || {})[key];\n  if (record) {\n    inner(zr).records[key] = null;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as globalListener from './globalListener.js';\nimport ComponentView from '../../view/Component.js';\nvar AxisPointerView = /** @class */function (_super) {\n  __extends(AxisPointerView, _super);\n  function AxisPointerView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AxisPointerView.type;\n    return _this;\n  }\n  AxisPointerView.prototype.render = function (globalAxisPointerModel, ecModel, api) {\n    var globalTooltipModel = ecModel.getComponent('tooltip');\n    var triggerOn = globalAxisPointerModel.get('triggerOn') || globalTooltipModel && globalTooltipModel.get('triggerOn') || 'mousemove|click';\n    // Register global listener in AxisPointerView to enable\n    // AxisPointerView to be independent to Tooltip.\n    globalListener.register('axisPointer', api, function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none' && (currTrigger === 'leave' || triggerOn.indexOf(currTrigger) >= 0)) {\n        dispatchAction({\n          type: 'updateAxisPointer',\n          currTrigger: currTrigger,\n          x: e && e.offsetX,\n          y: e && e.offsetY\n        });\n      }\n    });\n  };\n  AxisPointerView.prototype.remove = function (ecModel, api) {\n    globalListener.unregister('axisPointer', api);\n  };\n  AxisPointerView.prototype.dispose = function (ecModel, api) {\n    globalListener.unregister('axisPointer', api);\n  };\n  AxisPointerView.type = 'axisPointer';\n  return AxisPointerView;\n}(ComponentView);\nexport default AxisPointerView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\n/**\n * @param finder contains {seriesIndex, dataIndex, dataIndexInside}\n * @param ecModel\n * @return  {point: [x, y], el: ...} point Will not be null.\n */\nexport default function findPointFromSeries(finder, ecModel) {\n  var point = [];\n  var seriesIndex = finder.seriesIndex;\n  var seriesModel;\n  if (seriesIndex == null || !(seriesModel = ecModel.getSeriesByIndex(seriesIndex))) {\n    return {\n      point: []\n    };\n  }\n  var data = seriesModel.getData();\n  var dataIndex = modelUtil.queryDataIndex(data, finder);\n  if (dataIndex == null || dataIndex < 0 || zrUtil.isArray(dataIndex)) {\n    return {\n      point: []\n    };\n  }\n  var el = data.getItemGraphicEl(dataIndex);\n  var coordSys = seriesModel.coordinateSystem;\n  if (seriesModel.getTooltipPosition) {\n    point = seriesModel.getTooltipPosition(dataIndex) || [];\n  } else if (coordSys && coordSys.dataToPoint) {\n    if (finder.isStacked) {\n      var baseAxis = coordSys.getBaseAxis();\n      var valueAxis = coordSys.getOtherAxis(baseAxis);\n      var valueAxisDim = valueAxis.dim;\n      var baseAxisDim = baseAxis.dim;\n      var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n      var baseDim = data.mapDimension(baseAxisDim);\n      var stackedData = [];\n      stackedData[baseDataOffset] = data.get(baseDim, dataIndex);\n      stackedData[1 - baseDataOffset] = data.get(data.getCalculationInfo('stackResultDimension'), dataIndex);\n      point = coordSys.dataToPoint(stackedData) || [];\n    } else {\n      point = coordSys.dataToPoint(data.getValues(zrUtil.map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }), dataIndex)) || [];\n    }\n  } else if (el) {\n    // Use graphic bounding rect\n    var rect = el.getBoundingRect().clone();\n    rect.applyTransform(el.transform);\n    point = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  }\n  return {\n    point: point,\n    el: el\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner } from '../../util/model.js';\nimport * as modelHelper from './modelHelper.js';\nimport findPointFromSeries from './findPointFromSeries.js';\nimport { each, curry, bind, extend } from 'zrender/lib/core/util.js';\nvar inner = makeInner();\n/**\n * Basic logic: check all axis, if they do not demand show/highlight,\n * then hide/downplay them.\n *\n * @return content of event obj for echarts.connect.\n */\nexport default function axisTrigger(payload, ecModel, api) {\n  var currTrigger = payload.currTrigger;\n  var point = [payload.x, payload.y];\n  var finder = payload;\n  var dispatchAction = payload.dispatchAction || bind(api.dispatchAction, api);\n  var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n  // Pending\n  // See #6121. But we are not able to reproduce it yet.\n  if (!coordSysAxesInfo) {\n    return;\n  }\n  if (illegalPoint(point)) {\n    // Used in the default behavior of `connection`: use the sample seriesIndex\n    // and dataIndex. And also used in the tooltipView trigger.\n    point = findPointFromSeries({\n      seriesIndex: finder.seriesIndex,\n      // Do not use dataIndexInside from other ec instance.\n      // FIXME: auto detect it?\n      dataIndex: finder.dataIndex\n    }, ecModel).point;\n  }\n  var isIllegalPoint = illegalPoint(point);\n  // Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).\n  // Notice: In this case, it is difficult to get the `point` (which is necessary to show\n  // tooltip, so if point is not given, we just use the point found by sample seriesIndex\n  // and dataIndex.\n  var inputAxesInfo = finder.axesInfo;\n  var axesInfo = coordSysAxesInfo.axesInfo;\n  var shouldHide = currTrigger === 'leave' || illegalPoint(point);\n  var outputPayload = {};\n  var showValueMap = {};\n  var dataByCoordSys = {\n    list: [],\n    map: {}\n  };\n  var updaters = {\n    showPointer: curry(showPointer, showValueMap),\n    showTooltip: curry(showTooltip, dataByCoordSys)\n  };\n  // Process for triggered axes.\n  each(coordSysAxesInfo.coordSysMap, function (coordSys, coordSysKey) {\n    // If a point given, it must be contained by the coordinate system.\n    var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);\n    each(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function (axisInfo, key) {\n      var axis = axisInfo.axis;\n      var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo);\n      // If no inputAxesInfo, no axis is restricted.\n      if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {\n        var val = inputAxisInfo && inputAxisInfo.value;\n        if (val == null && !isIllegalPoint) {\n          val = axis.pointToData(point);\n        }\n        val != null && processOnAxis(axisInfo, val, updaters, false, outputPayload);\n      }\n    });\n  });\n  // Process for linked axes.\n  var linkTriggers = {};\n  each(axesInfo, function (tarAxisInfo, tarKey) {\n    var linkGroup = tarAxisInfo.linkGroup;\n    // If axis has been triggered in the previous stage, it should not be triggered by link.\n    if (linkGroup && !showValueMap[tarKey]) {\n      each(linkGroup.axesInfo, function (srcAxisInfo, srcKey) {\n        var srcValItem = showValueMap[srcKey];\n        // If srcValItem exist, source axis is triggered, so link to target axis.\n        if (srcAxisInfo !== tarAxisInfo && srcValItem) {\n          var val = srcValItem.value;\n          linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo))));\n          linkTriggers[tarAxisInfo.key] = val;\n        }\n      });\n    }\n  });\n  each(linkTriggers, function (val, tarKey) {\n    processOnAxis(axesInfo[tarKey], val, updaters, true, outputPayload);\n  });\n  updateModelActually(showValueMap, axesInfo, outputPayload);\n  dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);\n  dispatchHighDownActually(axesInfo, dispatchAction, api);\n  return outputPayload;\n}\nfunction processOnAxis(axisInfo, newValue, updaters, noSnap, outputFinder) {\n  var axis = axisInfo.axis;\n  if (axis.scale.isBlank() || !axis.containData(newValue)) {\n    return;\n  }\n  if (!axisInfo.involveSeries) {\n    updaters.showPointer(axisInfo, newValue);\n    return;\n  }\n  // Heavy calculation. So put it after axis.containData checking.\n  var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);\n  var payloadBatch = payloadInfo.payloadBatch;\n  var snapToValue = payloadInfo.snapToValue;\n  // Fill content of event obj for echarts.connect.\n  // By default use the first involved series data as a sample to connect.\n  if (payloadBatch[0] && outputFinder.seriesIndex == null) {\n    extend(outputFinder, payloadBatch[0]);\n  }\n  // If no linkSource input, this process is for collecting link\n  // target, where snap should not be accepted.\n  if (!noSnap && axisInfo.snap) {\n    if (axis.containData(snapToValue) && snapToValue != null) {\n      newValue = snapToValue;\n    }\n  }\n  updaters.showPointer(axisInfo, newValue, payloadBatch);\n  // Tooltip should always be snapToValue, otherwise there will be\n  // incorrect \"axis value ~ series value\" mapping displayed in tooltip.\n  updaters.showTooltip(axisInfo, payloadInfo, snapToValue);\n}\nfunction buildPayloadsBySeries(value, axisInfo) {\n  var axis = axisInfo.axis;\n  var dim = axis.dim;\n  var snapToValue = value;\n  var payloadBatch = [];\n  var minDist = Number.MAX_VALUE;\n  var minDiff = -1;\n  each(axisInfo.seriesModels, function (series, idx) {\n    var dataDim = series.getData().mapDimensionsAll(dim);\n    var seriesNestestValue;\n    var dataIndices;\n    if (series.getAxisTooltipData) {\n      var result = series.getAxisTooltipData(dataDim, value, axis);\n      dataIndices = result.dataIndices;\n      seriesNestestValue = result.nestestValue;\n    } else {\n      dataIndices = series.indicesOfNearest(dim, dataDim[0], value,\n      // Add a threshold to avoid find the wrong dataIndex\n      // when data length is not same.\n      // false,\n      axis.type === 'category' ? 0.5 : null);\n      if (!dataIndices.length) {\n        return;\n      }\n      seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);\n    }\n    if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {\n      return;\n    }\n    var diff = value - seriesNestestValue;\n    var dist = Math.abs(diff);\n    // Consider category case\n    if (dist <= minDist) {\n      if (dist < minDist || diff >= 0 && minDiff < 0) {\n        minDist = dist;\n        minDiff = diff;\n        snapToValue = seriesNestestValue;\n        payloadBatch.length = 0;\n      }\n      each(dataIndices, function (dataIndex) {\n        payloadBatch.push({\n          seriesIndex: series.seriesIndex,\n          dataIndexInside: dataIndex,\n          dataIndex: series.getData().getRawIndex(dataIndex)\n        });\n      });\n    }\n  });\n  return {\n    payloadBatch: payloadBatch,\n    snapToValue: snapToValue\n  };\n}\nfunction showPointer(showValueMap, axisInfo, value, payloadBatch) {\n  showValueMap[axisInfo.key] = {\n    value: value,\n    payloadBatch: payloadBatch\n  };\n}\nfunction showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {\n  var payloadBatch = payloadInfo.payloadBatch;\n  var axis = axisInfo.axis;\n  var axisModel = axis.model;\n  var axisPointerModel = axisInfo.axisPointerModel;\n  // If no data, do not create anything in dataByCoordSys,\n  // whose length will be used to judge whether dispatch action.\n  if (!axisInfo.triggerTooltip || !payloadBatch.length) {\n    return;\n  }\n  var coordSysModel = axisInfo.coordSys.model;\n  var coordSysKey = modelHelper.makeKey(coordSysModel);\n  var coordSysItem = dataByCoordSys.map[coordSysKey];\n  if (!coordSysItem) {\n    coordSysItem = dataByCoordSys.map[coordSysKey] = {\n      coordSysId: coordSysModel.id,\n      coordSysIndex: coordSysModel.componentIndex,\n      coordSysType: coordSysModel.type,\n      coordSysMainType: coordSysModel.mainType,\n      dataByAxis: []\n    };\n    dataByCoordSys.list.push(coordSysItem);\n  }\n  coordSysItem.dataByAxis.push({\n    axisDim: axis.dim,\n    axisIndex: axisModel.componentIndex,\n    axisType: axisModel.type,\n    axisId: axisModel.id,\n    value: value,\n    // Caustion: viewHelper.getValueLabel is actually on \"view stage\", which\n    // depends that all models have been updated. So it should not be performed\n    // here. Considering axisPointerModel used here is volatile, which is hard\n    // to be retrieve in TooltipView, we prepare parameters here.\n    valueLabelOpt: {\n      precision: axisPointerModel.get(['label', 'precision']),\n      formatter: axisPointerModel.get(['label', 'formatter'])\n    },\n    seriesDataIndices: payloadBatch.slice()\n  });\n}\nfunction updateModelActually(showValueMap, axesInfo, outputPayload) {\n  var outputAxesInfo = outputPayload.axesInfo = [];\n  // Basic logic: If no 'show' required, 'hide' this axisPointer.\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    var valItem = showValueMap[key];\n    if (valItem) {\n      !axisInfo.useHandle && (option.status = 'show');\n      option.value = valItem.value;\n      // For label formatter param and highlight.\n      option.seriesDataIndices = (valItem.payloadBatch || []).slice();\n    }\n    // When always show (e.g., handle used), remain\n    // original value and status.\n    else {\n      // If hide, value still need to be set, consider\n      // click legend to toggle axis blank.\n      !axisInfo.useHandle && (option.status = 'hide');\n    }\n    // If status is 'hide', should be no info in payload.\n    option.status === 'show' && outputAxesInfo.push({\n      axisDim: axisInfo.axis.dim,\n      axisIndex: axisInfo.axis.model.componentIndex,\n      value: option.value\n    });\n  });\n}\nfunction dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {\n  // Basic logic: If no showTip required, hideTip will be dispatched.\n  if (illegalPoint(point) || !dataByCoordSys.list.length) {\n    dispatchAction({\n      type: 'hideTip'\n    });\n    return;\n  }\n  // In most case only one axis (or event one series is used). It is\n  // convenient to fetch payload.seriesIndex and payload.dataIndex\n  // directly. So put the first seriesIndex and dataIndex of the first\n  // axis on the payload.\n  var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};\n  dispatchAction({\n    type: 'showTip',\n    escapeConnect: true,\n    x: point[0],\n    y: point[1],\n    tooltipOption: payload.tooltipOption,\n    position: payload.position,\n    dataIndexInside: sampleItem.dataIndexInside,\n    dataIndex: sampleItem.dataIndex,\n    seriesIndex: sampleItem.seriesIndex,\n    dataByCoordSys: dataByCoordSys.list\n  });\n}\nfunction dispatchHighDownActually(axesInfo, dispatchAction, api) {\n  // FIXME\n  // highlight status modification should be a stage of main process?\n  // (Consider confilct (e.g., legend and axisPointer) and setOption)\n  var zr = api.getZr();\n  var highDownKey = 'axisPointerLastHighlights';\n  var lastHighlights = inner(zr)[highDownKey] || {};\n  var newHighlights = inner(zr)[highDownKey] = {};\n  // Update highlight/downplay status according to axisPointer model.\n  // Build hash map and remove duplicate incidentally.\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    option.status === 'show' && axisInfo.triggerEmphasis && each(option.seriesDataIndices, function (batchItem) {\n      var key = batchItem.seriesIndex + ' | ' + batchItem.dataIndex;\n      newHighlights[key] = batchItem;\n    });\n  });\n  // Diff.\n  var toHighlight = [];\n  var toDownplay = [];\n  each(lastHighlights, function (batchItem, key) {\n    !newHighlights[key] && toDownplay.push(batchItem);\n  });\n  each(newHighlights, function (batchItem, key) {\n    !lastHighlights[key] && toHighlight.push(batchItem);\n  });\n  toDownplay.length && api.dispatchAction({\n    type: 'downplay',\n    escapeConnect: true,\n    // Not blur others when highlight in axisPointer.\n    notBlur: true,\n    batch: toDownplay\n  });\n  toHighlight.length && api.dispatchAction({\n    type: 'highlight',\n    escapeConnect: true,\n    // Not blur others when highlight in axisPointer.\n    notBlur: true,\n    batch: toHighlight\n  });\n}\nfunction findInputAxisInfo(inputAxesInfo, axisInfo) {\n  for (var i = 0; i < (inputAxesInfo || []).length; i++) {\n    var inputAxisInfo = inputAxesInfo[i];\n    if (axisInfo.axis.dim === inputAxisInfo.axisDim && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex) {\n      return inputAxisInfo;\n    }\n  }\n}\nfunction makeMapperParam(axisInfo) {\n  var axisModel = axisInfo.axis.model;\n  var item = {};\n  var dim = item.axisDim = axisInfo.axis.dim;\n  item.axisIndex = item[dim + 'AxisIndex'] = axisModel.componentIndex;\n  item.axisName = item[dim + 'AxisName'] = axisModel.name;\n  item.axisId = item[dim + 'AxisId'] = axisModel.id;\n  return item;\n}\nfunction illegalPoint(point) {\n  return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport AxisView from '../axis/AxisView.js';\nimport CartesianAxisPointer from './CartesianAxisPointer.js';\nimport AxisPointerModel from './AxisPointerModel.js';\nimport AxisPointerView from './AxisPointerView.js';\nimport { isArray } from 'zrender/lib/core/util.js';\nimport { collect } from './modelHelper.js';\nimport axisTrigger from './axisTrigger.js';\nexport function install(registers) {\n  // CartesianAxisPointer is not supposed to be required here. But consider\n  // echarts.simple.js and online build tooltip, which only require gridSimple,\n  // CartesianAxisPointer should be able to required somewhere.\n  AxisView.registerAxisPointerClass('CartesianAxisPointer', CartesianAxisPointer);\n  registers.registerComponentModel(AxisPointerModel);\n  registers.registerComponentView(AxisPointerView);\n  registers.registerPreprocessor(function (option) {\n    // Always has a global axisPointerModel for default setting.\n    if (option) {\n      (!option.axisPointer || option.axisPointer.length === 0) && (option.axisPointer = {});\n      var link = option.axisPointer.link;\n      // Normalize to array to avoid object mergin. But if link\n      // is not set, remain null/undefined, otherwise it will\n      // override existent link setting.\n      if (link && !isArray(link)) {\n        option.axisPointer.link = [link];\n      }\n    }\n  });\n  // This process should proformed after coordinate systems created\n  // and series data processed. So put it on statistic processing stage.\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, function (ecModel, api) {\n    // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n    // allAxesInfo should be updated when setOption performed.\n    ecModel.getComponent('axisPointer').coordSysAxesInfo = collect(ecModel, api);\n  });\n  // Broadcast to all views.\n  registers.registerAction({\n    type: 'updateAxisPointer',\n    event: 'updateAxisPointer',\n    update: ':updateAxisPointer'\n  }, axisTrigger);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { install as installSimple } from './installSimple.js';\nimport { install as installAxisPointer } from '../axisPointer/install.js';\nimport { use } from '../../extension.js';\nexport function install(registers) {\n  use(installSimple);\n  use(installAxisPointer);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseAxisPointer from './BaseAxisPointer.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as viewHelper from './viewHelper.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport AxisBuilder from '../axis/AxisBuilder.js';\nvar PolarAxisPointer = /** @class */function (_super) {\n  __extends(PolarAxisPointer, _super);\n  function PolarAxisPointer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @override\n   */\n  PolarAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    if (axis.dim === 'angle') {\n      this.animationThreshold = Math.PI / 18;\n    }\n    var polar = axis.polar;\n    var otherAxis = polar.getOtherAxis(axis);\n    var otherExtent = otherAxis.getExtent();\n    var coordValue = axis.dataToCoord(value);\n    var axisPointerType = axisPointerModel.get('type');\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, polar, coordValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n    var labelMargin = axisPointerModel.get(['label', 'margin']);\n    var labelPos = getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin);\n    viewHelper.buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos);\n  };\n  return PolarAxisPointer;\n}(BaseAxisPointer);\n;\nfunction getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin) {\n  var axis = axisModel.axis;\n  var coord = axis.dataToCoord(value);\n  var axisAngle = polar.getAngleAxis().getExtent()[0];\n  axisAngle = axisAngle / 180 * Math.PI;\n  var radiusExtent = polar.getRadiusAxis().getExtent();\n  var position;\n  var align;\n  var verticalAlign;\n  if (axis.dim === 'radius') {\n    var transform = matrix.create();\n    matrix.rotate(transform, transform, axisAngle);\n    matrix.translate(transform, transform, [polar.cx, polar.cy]);\n    position = graphic.applyTransform([coord, -labelMargin], transform);\n    var labelRotation = axisModel.getModel('axisLabel').get('rotate') || 0;\n    // @ts-ignore\n    var labelLayout = AxisBuilder.innerTextLayout(axisAngle, labelRotation * Math.PI / 180, -1);\n    align = labelLayout.textAlign;\n    verticalAlign = labelLayout.textVerticalAlign;\n  } else {\n    // angle axis\n    var r = radiusExtent[1];\n    position = polar.coordToPoint([r + labelMargin, coord]);\n    var cx = polar.cx;\n    var cy = polar.cy;\n    align = Math.abs(position[0] - cx) / r < 0.3 ? 'center' : position[0] > cx ? 'left' : 'right';\n    verticalAlign = Math.abs(position[1] - cy) / r < 0.3 ? 'middle' : position[1] > cy ? 'top' : 'bottom';\n  }\n  return {\n    position: position,\n    align: align,\n    verticalAlign: verticalAlign\n  };\n}\nvar pointerShapeBuilder = {\n  line: function (axis, polar, coordValue, otherExtent) {\n    return axis.dim === 'angle' ? {\n      type: 'Line',\n      shape: viewHelper.makeLineShape(polar.coordToPoint([otherExtent[0], coordValue]), polar.coordToPoint([otherExtent[1], coordValue]))\n    } : {\n      type: 'Circle',\n      shape: {\n        cx: polar.cx,\n        cy: polar.cy,\n        r: coordValue\n      }\n    };\n  },\n  shadow: function (axis, polar, coordValue, otherExtent) {\n    var bandWidth = Math.max(1, axis.getBandWidth());\n    var radian = Math.PI / 180;\n    return axis.dim === 'angle' ? {\n      type: 'Sector',\n      shape: viewHelper.makeSectorShape(polar.cx, polar.cy, otherExtent[0], otherExtent[1],\n      // In ECharts y is negative if angle is positive\n      (-coordValue - bandWidth / 2) * radian, (-coordValue + bandWidth / 2) * radian)\n    } : {\n      type: 'Sector',\n      shape: viewHelper.makeSectorShape(polar.cx, polar.cy, coordValue - bandWidth / 2, coordValue + bandWidth / 2, 0, Math.PI * 2)\n    };\n  }\n};\nexport default PolarAxisPointer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nvar PolarModel = /** @class */function (_super) {\n  __extends(PolarModel, _super);\n  function PolarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PolarModel.type;\n    return _this;\n  }\n  PolarModel.prototype.findAxisModel = function (axisType) {\n    var foundAxisModel;\n    var ecModel = this.ecModel;\n    ecModel.eachComponent(axisType, function (axisModel) {\n      if (axisModel.getCoordSysModel() === this) {\n        foundAxisModel = axisModel;\n      }\n    }, this);\n    return foundAxisModel;\n  };\n  PolarModel.type = 'polar';\n  PolarModel.dependencies = ['radiusAxis', 'angleAxis'];\n  PolarModel.defaultOption = {\n    // zlevel: 0,\n    z: 0,\n    center: ['50%', '50%'],\n    radius: '80%'\n  };\n  return PolarModel;\n}(ComponentModel);\nexport default PolarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nvar PolarAxisModel = /** @class */function (_super) {\n  __extends(PolarAxisModel, _super);\n  function PolarAxisModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  PolarAxisModel.prototype.getCoordSysModel = function () {\n    return this.getReferringComponents('polar', SINGLE_REFERRING).models[0];\n  };\n  PolarAxisModel.type = 'polarAxis';\n  return PolarAxisModel;\n}(ComponentModel);\nzrUtil.mixin(PolarAxisModel, AxisModelCommonMixin);\nexport { PolarAxisModel };\nvar AngleAxisModel = /** @class */function (_super) {\n  __extends(AngleAxisModel, _super);\n  function AngleAxisModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AngleAxisModel.type;\n    return _this;\n  }\n  AngleAxisModel.type = 'angleAxis';\n  return AngleAxisModel;\n}(PolarAxisModel);\nexport { AngleAxisModel };\nvar RadiusAxisModel = /** @class */function (_super) {\n  __extends(RadiusAxisModel, _super);\n  function RadiusAxisModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = RadiusAxisModel.type;\n    return _this;\n  }\n  RadiusAxisModel.type = 'radiusAxis';\n  return RadiusAxisModel;\n}(PolarAxisModel);\nexport { RadiusAxisModel };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\nvar RadiusAxis = /** @class */function (_super) {\n  __extends(RadiusAxis, _super);\n  function RadiusAxis(scale, radiusExtent) {\n    return _super.call(this, 'radius', scale, radiusExtent) || this;\n  }\n  RadiusAxis.prototype.pointToData = function (point, clamp) {\n    return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n  };\n  return RadiusAxis;\n}(Axis);\nRadiusAxis.prototype.dataToRadius = Axis.prototype.dataToCoord;\nRadiusAxis.prototype.radiusToData = Axis.prototype.coordToData;\nexport default RadiusAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport Axis from '../Axis.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nvar AngleAxis = /** @class */function (_super) {\n  __extends(AngleAxis, _super);\n  function AngleAxis(scale, angleExtent) {\n    return _super.call(this, 'angle', scale, angleExtent || [0, 360]) || this;\n  }\n  AngleAxis.prototype.pointToData = function (point, clamp) {\n    return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n  };\n  /**\n   * Only be called in category axis.\n   * Angle axis uses text height to decide interval\n   *\n   * @override\n   * @return {number} Auto interval for cateogry axis tick and label\n   */\n  AngleAxis.prototype.calculateCategoryInterval = function () {\n    var axis = this;\n    var labelModel = axis.getLabelModel();\n    var ordinalScale = axis.scale;\n    var ordinalExtent = ordinalScale.getExtent();\n    // Providing this method is for optimization:\n    // avoid generating a long array by `getTicks`\n    // in large category data case.\n    var tickCount = ordinalScale.count();\n    if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n      return 0;\n    }\n    var tickValue = ordinalExtent[0];\n    var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n    var unitH = Math.abs(unitSpan);\n    // Not precise, just use height as text width\n    // and each distance from axis line yet.\n    var rect = textContain.getBoundingRect(tickValue == null ? '' : tickValue + '', labelModel.getFont(), 'center', 'top');\n    var maxH = Math.max(rect.height, 7);\n    var dh = maxH / unitH;\n    // 0/0 is NaN, 1/0 is Infinity.\n    isNaN(dh) && (dh = Infinity);\n    var interval = Math.max(0, Math.floor(dh));\n    var cache = inner(axis.model);\n    var lastAutoInterval = cache.lastAutoInterval;\n    var lastTickCount = cache.lastTickCount;\n    // Use cache to keep interval stable while moving zoom window,\n    // otherwise the calculated interval might jitter when the zoom\n    // window size is close to the interval-changing size.\n    if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1\n    // Always choose the bigger one, otherwise the critical\n    // point is not the same when zooming in or zooming out.\n    && lastAutoInterval > interval) {\n      interval = lastAutoInterval;\n    }\n    // Only update cache if cache not used, otherwise the\n    // changing of interval is too insensitive.\n    else {\n      cache.lastTickCount = tickCount;\n      cache.lastAutoInterval = interval;\n    }\n    return interval;\n  };\n  return AngleAxis;\n}(Axis);\nAngleAxis.prototype.dataToAngle = Axis.prototype.dataToCoord;\nAngleAxis.prototype.angleToData = Axis.prototype.coordToData;\nexport default AngleAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport RadiusAxis from './RadiusAxis.js';\nimport AngleAxis from './AngleAxis.js';\nexport var polarDimensions = ['radius', 'angle'];\nvar Polar = /** @class */function () {\n  function Polar(name) {\n    this.dimensions = polarDimensions;\n    this.type = 'polar';\n    /**\n     * x of polar center\n     */\n    this.cx = 0;\n    /**\n     * y of polar center\n     */\n    this.cy = 0;\n    this._radiusAxis = new RadiusAxis();\n    this._angleAxis = new AngleAxis();\n    this.axisPointerEnabled = true;\n    this.name = name || '';\n    this._radiusAxis.polar = this._angleAxis.polar = this;\n  }\n  /**\n   * If contain coord\n   */\n  Polar.prototype.containPoint = function (point) {\n    var coord = this.pointToCoord(point);\n    return this._radiusAxis.contain(coord[0]) && this._angleAxis.contain(coord[1]);\n  };\n  /**\n   * If contain data\n   */\n  Polar.prototype.containData = function (data) {\n    return this._radiusAxis.containData(data[0]) && this._angleAxis.containData(data[1]);\n  };\n  Polar.prototype.getAxis = function (dim) {\n    var key = '_' + dim + 'Axis';\n    return this[key];\n  };\n  Polar.prototype.getAxes = function () {\n    return [this._radiusAxis, this._angleAxis];\n  };\n  /**\n   * Get axes by type of scale\n   */\n  Polar.prototype.getAxesByScale = function (scaleType) {\n    var axes = [];\n    var angleAxis = this._angleAxis;\n    var radiusAxis = this._radiusAxis;\n    angleAxis.scale.type === scaleType && axes.push(angleAxis);\n    radiusAxis.scale.type === scaleType && axes.push(radiusAxis);\n    return axes;\n  };\n  Polar.prototype.getAngleAxis = function () {\n    return this._angleAxis;\n  };\n  Polar.prototype.getRadiusAxis = function () {\n    return this._radiusAxis;\n  };\n  Polar.prototype.getOtherAxis = function (axis) {\n    var angleAxis = this._angleAxis;\n    return axis === angleAxis ? this._radiusAxis : angleAxis;\n  };\n  /**\n   * Base axis will be used on stacking.\n   *\n   */\n  Polar.prototype.getBaseAxis = function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAngleAxis();\n  };\n  Polar.prototype.getTooltipAxes = function (dim) {\n    var baseAxis = dim != null && dim !== 'auto' ? this.getAxis(dim) : this.getBaseAxis();\n    return {\n      baseAxes: [baseAxis],\n      otherAxes: [this.getOtherAxis(baseAxis)]\n    };\n  };\n  /**\n   * Convert a single data item to (x, y) point.\n   * Parameter data is an array which the first element is radius and the second is angle\n   */\n  Polar.prototype.dataToPoint = function (data, clamp, out) {\n    return this.coordToPoint([this._radiusAxis.dataToRadius(data[0], clamp), this._angleAxis.dataToAngle(data[1], clamp)], out);\n  };\n  /**\n   * Convert a (x, y) point to data\n   */\n  Polar.prototype.pointToData = function (point, clamp, out) {\n    out = out || [];\n    var coord = this.pointToCoord(point);\n    out[0] = this._radiusAxis.radiusToData(coord[0], clamp);\n    out[1] = this._angleAxis.angleToData(coord[1], clamp);\n    return out;\n  };\n  /**\n   * Convert a (x, y) point to (radius, angle) coord\n   */\n  Polar.prototype.pointToCoord = function (point) {\n    var dx = point[0] - this.cx;\n    var dy = point[1] - this.cy;\n    var angleAxis = this.getAngleAxis();\n    var extent = angleAxis.getExtent();\n    var minAngle = Math.min(extent[0], extent[1]);\n    var maxAngle = Math.max(extent[0], extent[1]);\n    // Fix fixed extent in polarCreator\n    // FIXME\n    angleAxis.inverse ? minAngle = maxAngle - 360 : maxAngle = minAngle + 360;\n    var radius = Math.sqrt(dx * dx + dy * dy);\n    dx /= radius;\n    dy /= radius;\n    var radian = Math.atan2(-dy, dx) / Math.PI * 180;\n    // move to angleExtent\n    var dir = radian < minAngle ? 1 : -1;\n    while (radian < minAngle || radian > maxAngle) {\n      radian += dir * 360;\n    }\n    return [radius, radian];\n  };\n  /**\n   * Convert a (radius, angle) coord to (x, y) point\n   */\n  Polar.prototype.coordToPoint = function (coord, out) {\n    out = out || [];\n    var radius = coord[0];\n    var radian = coord[1] / 180 * Math.PI;\n    out[0] = Math.cos(radian) * radius + this.cx;\n    // Inverse the y\n    out[1] = -Math.sin(radian) * radius + this.cy;\n    return out;\n  };\n  /**\n   * Get ring area of cartesian.\n   * Area will have a contain function to determine if a point is in the coordinate system.\n   */\n  Polar.prototype.getArea = function () {\n    var angleAxis = this.getAngleAxis();\n    var radiusAxis = this.getRadiusAxis();\n    var radiusExtent = radiusAxis.getExtent().slice();\n    radiusExtent[0] > radiusExtent[1] && radiusExtent.reverse();\n    var angleExtent = angleAxis.getExtent();\n    var RADIAN = Math.PI / 180;\n    var EPSILON = 1e-4;\n    return {\n      cx: this.cx,\n      cy: this.cy,\n      r0: radiusExtent[0],\n      r: radiusExtent[1],\n      startAngle: -angleExtent[0] * RADIAN,\n      endAngle: -angleExtent[1] * RADIAN,\n      clockwise: angleAxis.inverse,\n      contain: function (x, y) {\n        // It's a ring shape.\n        // Start angle and end angle don't matter\n        var dx = x - this.cx;\n        var dy = y - this.cy;\n        var d2 = dx * dx + dy * dy;\n        var r = this.r;\n        var r0 = this.r0;\n        // minus a tiny value 1e-4 in double side to avoid being clipped unexpectedly\n        // r == r0 contain nothing\n        return r !== r0 && d2 - EPSILON <= r * r && d2 + EPSILON >= r0 * r0;\n      },\n      // As the bounding box\n      x: this.cx - radiusExtent[1],\n      y: this.cy - radiusExtent[1],\n      width: radiusExtent[1] * 2,\n      height: radiusExtent[1] * 2\n    };\n  };\n  Polar.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? this.dataToPoint(value) : null;\n  };\n  Polar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? this.pointToData(pixel) : null;\n  };\n  return Polar;\n}();\nfunction getCoordSys(finder) {\n  var seriesModel = finder.seriesModel;\n  var polarModel = finder.polarModel;\n  return polarModel && polarModel.coordinateSystem || seriesModel && seriesModel.coordinateSystem;\n}\nexport default Polar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO Axis scale\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Polar, { polarDimensions } from './Polar.js';\nimport { parsePercent } from '../../util/number.js';\nimport { createScaleByModel, niceScaleExtent, getDataDimensionsOnAxis } from '../../coord/axisHelper.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nimport { createBoxLayoutReference } from '../../util/layout.js';\n/**\n * Resize method bound to the polar\n */\nfunction resizePolar(polar, polarModel, api) {\n  var center = polarModel.get('center');\n  var refContainer = createBoxLayoutReference(polarModel, api).refContainer;\n  polar.cx = parsePercent(center[0], refContainer.width) + refContainer.x;\n  polar.cy = parsePercent(center[1], refContainer.height) + refContainer.y;\n  var radiusAxis = polar.getRadiusAxis();\n  var size = Math.min(refContainer.width, refContainer.height) / 2;\n  var radius = polarModel.get('radius');\n  if (radius == null) {\n    radius = [0, '100%'];\n  } else if (!zrUtil.isArray(radius)) {\n    // r0 = 0\n    radius = [0, radius];\n  }\n  var parsedRadius = [parsePercent(radius[0], size), parsePercent(radius[1], size)];\n  radiusAxis.inverse ? radiusAxis.setExtent(parsedRadius[1], parsedRadius[0]) : radiusAxis.setExtent(parsedRadius[0], parsedRadius[1]);\n}\n/**\n * Update polar\n */\nfunction updatePolarScale(ecModel, api) {\n  var polar = this;\n  var angleAxis = polar.getAngleAxis();\n  var radiusAxis = polar.getRadiusAxis();\n  // Reset scale\n  angleAxis.scale.setExtent(Infinity, -Infinity);\n  radiusAxis.scale.setExtent(Infinity, -Infinity);\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.coordinateSystem === polar) {\n      var data_1 = seriesModel.getData();\n      zrUtil.each(getDataDimensionsOnAxis(data_1, 'radius'), function (dim) {\n        radiusAxis.scale.unionExtentFromData(data_1, dim);\n      });\n      zrUtil.each(getDataDimensionsOnAxis(data_1, 'angle'), function (dim) {\n        angleAxis.scale.unionExtentFromData(data_1, dim);\n      });\n    }\n  });\n  niceScaleExtent(angleAxis.scale, angleAxis.model);\n  niceScaleExtent(radiusAxis.scale, radiusAxis.model);\n  // Fix extent of category angle axis\n  if (angleAxis.type === 'category' && !angleAxis.onBand) {\n    var extent = angleAxis.getExtent();\n    var diff = 360 / angleAxis.scale.count();\n    angleAxis.inverse ? extent[1] += diff : extent[1] -= diff;\n    angleAxis.setExtent(extent[0], extent[1]);\n  }\n}\nfunction isAngleAxisModel(axisModel) {\n  return axisModel.mainType === 'angleAxis';\n}\n/**\n * Set common axis properties\n */\nfunction setAxis(axis, axisModel) {\n  var _a;\n  axis.type = axisModel.get('type');\n  axis.scale = createScaleByModel(axisModel);\n  axis.onBand = axisModel.get('boundaryGap') && axis.type === 'category';\n  axis.inverse = axisModel.get('inverse');\n  if (isAngleAxisModel(axisModel)) {\n    axis.inverse = axis.inverse !== axisModel.get('clockwise');\n    var startAngle = axisModel.get('startAngle');\n    var endAngle = (_a = axisModel.get('endAngle')) !== null && _a !== void 0 ? _a : startAngle + (axis.inverse ? -360 : 360);\n    axis.setExtent(startAngle, endAngle);\n  }\n  // Inject axis instance\n  axisModel.axis = axis;\n  axis.model = axisModel;\n}\nvar polarCreator = {\n  dimensions: polarDimensions,\n  create: function (ecModel, api) {\n    var polarList = [];\n    ecModel.eachComponent('polar', function (polarModel, idx) {\n      var polar = new Polar(idx + '');\n      // Inject resize and update method\n      polar.update = updatePolarScale;\n      var radiusAxis = polar.getRadiusAxis();\n      var angleAxis = polar.getAngleAxis();\n      var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n      var angleAxisModel = polarModel.findAxisModel('angleAxis');\n      setAxis(radiusAxis, radiusAxisModel);\n      setAxis(angleAxis, angleAxisModel);\n      resizePolar(polar, polarModel, api);\n      polarList.push(polar);\n      polarModel.coordinateSystem = polar;\n      polar.model = polarModel;\n    });\n    // Inject coordinateSystem to series\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.get('coordinateSystem') === 'polar') {\n        var polarModel = seriesModel.getReferringComponents('polar', SINGLE_REFERRING).models[0];\n        if (process.env.NODE_ENV !== 'production') {\n          if (!polarModel) {\n            throw new Error('Polar \"' + zrUtil.retrieve(seriesModel.get('polarIndex'), seriesModel.get('polarId'), 0) + '\" not found');\n          }\n        }\n        seriesModel.coordinateSystem = polarModel.coordinateSystem;\n      }\n    });\n    return polarList;\n  }\n};\nexport default polarCreator;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport Model from '../../model/Model.js';\nimport AxisView from './AxisView.js';\nimport AxisBuilder from './AxisBuilder.js';\nimport { getECData } from '../../util/innerStore.js';\nvar elementList = ['axisLine', 'axisLabel', 'axisTick', 'minorTick', 'splitLine', 'minorSplitLine', 'splitArea'];\nfunction getAxisLineShape(polar, rExtent, angle) {\n  rExtent[1] > rExtent[0] && (rExtent = rExtent.slice().reverse());\n  var start = polar.coordToPoint([rExtent[0], angle]);\n  var end = polar.coordToPoint([rExtent[1], angle]);\n  return {\n    x1: start[0],\n    y1: start[1],\n    x2: end[0],\n    y2: end[1]\n  };\n}\nfunction getRadiusIdx(polar) {\n  var radiusAxis = polar.getRadiusAxis();\n  return radiusAxis.inverse ? 0 : 1;\n}\n// Remove the last tick which will overlap the first tick\nfunction fixAngleOverlap(list) {\n  var firstItem = list[0];\n  var lastItem = list[list.length - 1];\n  if (firstItem && lastItem && Math.abs(Math.abs(firstItem.coord - lastItem.coord) - 360) < 1e-4) {\n    list.pop();\n  }\n}\nvar AngleAxisView = /** @class */function (_super) {\n  __extends(AngleAxisView, _super);\n  function AngleAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AngleAxisView.type;\n    _this.axisPointerClass = 'PolarAxisPointer';\n    return _this;\n  }\n  AngleAxisView.prototype.render = function (angleAxisModel, ecModel) {\n    this.group.removeAll();\n    if (!angleAxisModel.get('show')) {\n      return;\n    }\n    var angleAxis = angleAxisModel.axis;\n    var polar = angleAxis.polar;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var ticksAngles = angleAxis.getTicksCoords({\n      breakTicks: 'none'\n    });\n    var minorTickAngles = angleAxis.getMinorTicksCoords();\n    var labels = zrUtil.map(angleAxis.getViewLabels(), function (labelItem) {\n      labelItem = zrUtil.clone(labelItem);\n      var scale = angleAxis.scale;\n      var tickValue = scale.type === 'ordinal' ? scale.getRawOrdinalNumber(labelItem.tickValue) : labelItem.tickValue;\n      labelItem.coord = angleAxis.dataToCoord(tickValue);\n      return labelItem;\n    });\n    fixAngleOverlap(labels);\n    fixAngleOverlap(ticksAngles);\n    zrUtil.each(elementList, function (name) {\n      if (angleAxisModel.get([name, 'show']) && (!angleAxis.scale.isBlank() || name === 'axisLine')) {\n        angelAxisElementsBuilders[name](this.group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent, labels);\n      }\n    }, this);\n  };\n  AngleAxisView.type = 'angleAxis';\n  return AngleAxisView;\n}(AxisView);\nvar angelAxisElementsBuilders = {\n  axisLine: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    var lineStyleModel = angleAxisModel.getModel(['axisLine', 'lineStyle']);\n    var angleAxis = polar.getAngleAxis();\n    var RADIAN = Math.PI / 180;\n    var angleExtent = angleAxis.getExtent();\n    // extent id of the axis radius (r0 and r)\n    var rId = getRadiusIdx(polar);\n    var r0Id = rId ? 0 : 1;\n    var shape;\n    var shapeType = Math.abs(angleExtent[1] - angleExtent[0]) === 360 ? 'Circle' : 'Arc';\n    if (radiusExtent[r0Id] === 0) {\n      shape = new graphic[shapeType]({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r: radiusExtent[rId],\n          startAngle: -angleExtent[0] * RADIAN,\n          endAngle: -angleExtent[1] * RADIAN,\n          clockwise: angleAxis.inverse\n        },\n        style: lineStyleModel.getLineStyle(),\n        z2: 1,\n        silent: true\n      });\n    } else {\n      shape = new graphic.Ring({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r: radiusExtent[rId],\n          r0: radiusExtent[r0Id]\n        },\n        style: lineStyleModel.getLineStyle(),\n        z2: 1,\n        silent: true\n      });\n    }\n    shape.style.fill = null;\n    group.add(shape);\n  },\n  axisTick: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    var tickModel = angleAxisModel.getModel('axisTick');\n    var tickLen = (tickModel.get('inside') ? -1 : 1) * tickModel.get('length');\n    var radius = radiusExtent[getRadiusIdx(polar)];\n    var lines = zrUtil.map(ticksAngles, function (tickAngleItem) {\n      return new graphic.Line({\n        shape: getAxisLineShape(polar, [radius, radius + tickLen], tickAngleItem.coord)\n      });\n    });\n    group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults(tickModel.getModel('lineStyle').getLineStyle(), {\n        stroke: angleAxisModel.get(['axisLine', 'lineStyle', 'color'])\n      })\n    }));\n  },\n  minorTick: function (group, angleAxisModel, polar, tickAngles, minorTickAngles, radiusExtent) {\n    if (!minorTickAngles.length) {\n      return;\n    }\n    var tickModel = angleAxisModel.getModel('axisTick');\n    var minorTickModel = angleAxisModel.getModel('minorTick');\n    var tickLen = (tickModel.get('inside') ? -1 : 1) * minorTickModel.get('length');\n    var radius = radiusExtent[getRadiusIdx(polar)];\n    var lines = [];\n    for (var i = 0; i < minorTickAngles.length; i++) {\n      for (var k = 0; k < minorTickAngles[i].length; k++) {\n        lines.push(new graphic.Line({\n          shape: getAxisLineShape(polar, [radius, radius + tickLen], minorTickAngles[i][k].coord)\n        }));\n      }\n    }\n    group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults(minorTickModel.getModel('lineStyle').getLineStyle(), zrUtil.defaults(tickModel.getLineStyle(), {\n        stroke: angleAxisModel.get(['axisLine', 'lineStyle', 'color'])\n      }))\n    }));\n  },\n  axisLabel: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent, labels) {\n    var rawCategoryData = angleAxisModel.getCategories(true);\n    var commonLabelModel = angleAxisModel.getModel('axisLabel');\n    var labelMargin = commonLabelModel.get('margin');\n    var triggerEvent = angleAxisModel.get('triggerEvent');\n    // Use length of ticksAngles because it may remove the last tick to avoid overlapping\n    zrUtil.each(labels, function (labelItem, idx) {\n      var labelModel = commonLabelModel;\n      var tickValue = labelItem.tickValue;\n      var r = radiusExtent[getRadiusIdx(polar)];\n      var p = polar.coordToPoint([r + labelMargin, labelItem.coord]);\n      var cx = polar.cx;\n      var cy = polar.cy;\n      var labelTextAlign = Math.abs(p[0] - cx) / r < 0.3 ? 'center' : p[0] > cx ? 'left' : 'right';\n      var labelTextVerticalAlign = Math.abs(p[1] - cy) / r < 0.3 ? 'middle' : p[1] > cy ? 'top' : 'bottom';\n      if (rawCategoryData && rawCategoryData[tickValue]) {\n        var rawCategoryItem = rawCategoryData[tickValue];\n        if (zrUtil.isObject(rawCategoryItem) && rawCategoryItem.textStyle) {\n          labelModel = new Model(rawCategoryItem.textStyle, commonLabelModel, commonLabelModel.ecModel);\n        }\n      }\n      var textEl = new graphic.Text({\n        silent: AxisBuilder.isLabelSilent(angleAxisModel),\n        style: createTextStyle(labelModel, {\n          x: p[0],\n          y: p[1],\n          fill: labelModel.getTextColor() || angleAxisModel.get(['axisLine', 'lineStyle', 'color']),\n          text: labelItem.formattedLabel,\n          align: labelTextAlign,\n          verticalAlign: labelTextVerticalAlign\n        })\n      });\n      group.add(textEl);\n      graphic.setTooltipConfig({\n        el: textEl,\n        componentModel: angleAxisModel,\n        itemName: labelItem.formattedLabel,\n        formatterParamsExtra: {\n          isTruncated: function () {\n            return textEl.isTruncated;\n          },\n          value: labelItem.rawLabel,\n          tickIndex: idx\n        }\n      });\n      // Pack data for mouse event\n      if (triggerEvent) {\n        var eventData = AxisBuilder.makeAxisEventDataBase(angleAxisModel);\n        eventData.targetType = 'axisLabel';\n        eventData.value = labelItem.rawLabel;\n        getECData(textEl).eventData = eventData;\n      }\n    }, this);\n  },\n  splitLine: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    var splitLineModel = angleAxisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var lineCount = 0;\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var splitLines = [];\n    for (var i = 0; i < ticksAngles.length; i++) {\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic.Line({\n        shape: getAxisLineShape(polar, radiusExtent, ticksAngles[i].coord)\n      }));\n    }\n    // Simple optimization\n    // Batching the lines if color are the same\n    for (var i = 0; i < splitLines.length; i++) {\n      group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length]\n        }, lineStyleModel.getLineStyle()),\n        silent: true,\n        z: angleAxisModel.get('z')\n      }));\n    }\n  },\n  minorSplitLine: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    if (!minorTickAngles.length) {\n      return;\n    }\n    var minorSplitLineModel = angleAxisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var lines = [];\n    for (var i = 0; i < minorTickAngles.length; i++) {\n      for (var k = 0; k < minorTickAngles[i].length; k++) {\n        lines.push(new graphic.Line({\n          shape: getAxisLineShape(polar, radiusExtent, minorTickAngles[i][k].coord)\n        }));\n      }\n    }\n    group.add(graphic.mergePath(lines, {\n      style: lineStyleModel.getLineStyle(),\n      silent: true,\n      z: angleAxisModel.get('z')\n    }));\n  },\n  splitArea: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    if (!ticksAngles.length) {\n      return;\n    }\n    var splitAreaModel = angleAxisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var lineCount = 0;\n    areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n    var splitAreas = [];\n    var RADIAN = Math.PI / 180;\n    var prevAngle = -ticksAngles[0].coord * RADIAN;\n    var r0 = Math.min(radiusExtent[0], radiusExtent[1]);\n    var r1 = Math.max(radiusExtent[0], radiusExtent[1]);\n    var clockwise = angleAxisModel.get('clockwise');\n    for (var i = 1, len = ticksAngles.length; i <= len; i++) {\n      var coord = i === len ? ticksAngles[0].coord : ticksAngles[i].coord;\n      var colorIndex = lineCount++ % areaColors.length;\n      splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n      splitAreas[colorIndex].push(new graphic.Sector({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r0: r0,\n          r: r1,\n          startAngle: prevAngle,\n          endAngle: -coord * RADIAN,\n          clockwise: clockwise\n        },\n        silent: true\n      }));\n      prevAngle = -coord * RADIAN;\n    }\n    // Simple optimization\n    // Batching the lines if color are the same\n    for (var i = 0; i < splitAreas.length; i++) {\n      group.add(graphic.mergePath(splitAreas[i], {\n        style: zrUtil.defaults({\n          fill: areaColors[i % areaColors.length]\n        }, areaStyleModel.getAreaStyle()),\n        silent: true\n      }));\n    }\n  }\n};\nexport default AngleAxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport AxisBuilder from './AxisBuilder.js';\nimport AxisView from './AxisView.js';\nvar selfBuilderAttrs = ['splitLine', 'splitArea', 'minorSplitLine'];\nvar RadiusAxisView = /** @class */function (_super) {\n  __extends(RadiusAxisView, _super);\n  function RadiusAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = RadiusAxisView.type;\n    _this.axisPointerClass = 'PolarAxisPointer';\n    return _this;\n  }\n  RadiusAxisView.prototype.render = function (radiusAxisModel, ecModel, api) {\n    this.group.removeAll();\n    if (!radiusAxisModel.get('show')) {\n      return;\n    }\n    var oldAxisGroup = this._axisGroup;\n    var newAxisGroup = this._axisGroup = new graphic.Group();\n    this.group.add(newAxisGroup);\n    var radiusAxis = radiusAxisModel.axis;\n    var polar = radiusAxis.polar;\n    var angleAxis = polar.getAngleAxis();\n    var ticksCoords = radiusAxis.getTicksCoords();\n    var minorTicksCoords = radiusAxis.getMinorTicksCoords();\n    var axisAngle = angleAxis.getExtent()[0];\n    var radiusExtent = radiusAxis.getExtent();\n    var layout = layoutAxis(polar, radiusAxisModel, axisAngle);\n    var axisBuilder = new AxisBuilder(radiusAxisModel, api, layout);\n    axisBuilder.build();\n    newAxisGroup.add(axisBuilder.group);\n    graphic.groupTransition(oldAxisGroup, newAxisGroup, radiusAxisModel);\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (radiusAxisModel.get([name, 'show']) && !radiusAxis.scale.isBlank()) {\n        axisElementBuilders[name](this.group, radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords, minorTicksCoords);\n      }\n    }, this);\n  };\n  RadiusAxisView.type = 'radiusAxis';\n  return RadiusAxisView;\n}(AxisView);\nvar axisElementBuilders = {\n  splitLine: function (group, radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n    var splitLineModel = radiusAxisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var lineCount = 0;\n    var angleAxis = polar.getAngleAxis();\n    var RADIAN = Math.PI / 180;\n    var angleExtent = angleAxis.getExtent();\n    var shapeType = Math.abs(angleExtent[1] - angleExtent[0]) === 360 ? 'Circle' : 'Arc';\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var splitLines = [];\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic[shapeType]({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          // ensure circle radius >= 0\n          r: Math.max(ticksCoords[i].coord, 0),\n          startAngle: -angleExtent[0] * RADIAN,\n          endAngle: -angleExtent[1] * RADIAN,\n          clockwise: angleAxis.inverse\n        }\n      }));\n    }\n    // Simple optimization\n    // Batching the lines if color are the same\n    for (var i = 0; i < splitLines.length; i++) {\n      group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length],\n          fill: null\n        }, lineStyleModel.getLineStyle()),\n        silent: true\n      }));\n    }\n  },\n  minorSplitLine: function (group, radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords, minorTicksCoords) {\n    if (!minorTicksCoords.length) {\n      return;\n    }\n    var minorSplitLineModel = radiusAxisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var lines = [];\n    for (var i = 0; i < minorTicksCoords.length; i++) {\n      for (var k = 0; k < minorTicksCoords[i].length; k++) {\n        lines.push(new graphic.Circle({\n          shape: {\n            cx: polar.cx,\n            cy: polar.cy,\n            r: minorTicksCoords[i][k].coord\n          }\n        }));\n      }\n    }\n    group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults({\n        fill: null\n      }, lineStyleModel.getLineStyle()),\n      silent: true\n    }));\n  },\n  splitArea: function (group, radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n    if (!ticksCoords.length) {\n      return;\n    }\n    var splitAreaModel = radiusAxisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var lineCount = 0;\n    areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n    var splitAreas = [];\n    var prevRadius = ticksCoords[0].coord;\n    for (var i = 1; i < ticksCoords.length; i++) {\n      var colorIndex = lineCount++ % areaColors.length;\n      splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n      splitAreas[colorIndex].push(new graphic.Sector({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r0: prevRadius,\n          r: ticksCoords[i].coord,\n          startAngle: 0,\n          endAngle: Math.PI * 2\n        },\n        silent: true\n      }));\n      prevRadius = ticksCoords[i].coord;\n    }\n    // Simple optimization\n    // Batching the lines if color are the same\n    for (var i = 0; i < splitAreas.length; i++) {\n      group.add(graphic.mergePath(splitAreas[i], {\n        style: zrUtil.defaults({\n          fill: areaColors[i % areaColors.length]\n        }, areaStyleModel.getAreaStyle()),\n        silent: true\n      }));\n    }\n  }\n};\n/**\n * @inner\n */\nfunction layoutAxis(polar, radiusAxisModel, axisAngle) {\n  return {\n    position: [polar.cx, polar.cy],\n    rotation: axisAngle / 180 * Math.PI,\n    labelDirection: -1,\n    tickDirection: -1,\n    nameDirection: 1,\n    labelRotate: radiusAxisModel.getModel('axisLabel').get('rotate'),\n    // Over splitLine and splitArea\n    z2: 1\n  };\n}\nexport default RadiusAxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parsePercent } from '../util/number.js';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper.js';\nfunction getSeriesStackId(seriesModel) {\n  return seriesModel.get('stack') || '__ec_stack_' + seriesModel.seriesIndex;\n}\nfunction getAxisKey(polar, axis) {\n  return axis.dim + polar.model.componentIndex;\n}\nfunction barLayoutPolar(seriesType, ecModel, api) {\n  var lastStackCoords = {};\n  var barWidthAndOffset = calRadialBar(zrUtil.filter(ecModel.getSeriesByType(seriesType), function (seriesModel) {\n    return !ecModel.isSeriesFiltered(seriesModel) && seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'polar';\n  }));\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    // Check series coordinate, do layout for polar only\n    if (seriesModel.coordinateSystem.type !== 'polar') {\n      return;\n    }\n    var data = seriesModel.getData();\n    var polar = seriesModel.coordinateSystem;\n    var baseAxis = polar.getBaseAxis();\n    var axisKey = getAxisKey(polar, baseAxis);\n    var stackId = getSeriesStackId(seriesModel);\n    var columnLayoutInfo = barWidthAndOffset[axisKey][stackId];\n    var columnOffset = columnLayoutInfo.offset;\n    var columnWidth = columnLayoutInfo.width;\n    var valueAxis = polar.getOtherAxis(baseAxis);\n    var cx = seriesModel.coordinateSystem.cx;\n    var cy = seriesModel.coordinateSystem.cy;\n    var barMinHeight = seriesModel.get('barMinHeight') || 0;\n    var barMinAngle = seriesModel.get('barMinAngle') || 0;\n    lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n    var valueDim = data.mapDimension(valueAxis.dim);\n    var baseDim = data.mapDimension(baseAxis.dim);\n    var stacked = isDimensionStacked(data, valueDim /* , baseDim */);\n    var clampLayout = baseAxis.dim !== 'radius' || !seriesModel.get('roundCap', true);\n    var valueAxisModel = valueAxis.model;\n    var startValue = valueAxisModel.get('startValue');\n    var valueAxisStart = valueAxis.dataToCoord(startValue || 0);\n    for (var idx = 0, len = data.count(); idx < len; idx++) {\n      var value = data.get(valueDim, idx);\n      var baseValue = data.get(baseDim, idx);\n      var sign = value >= 0 ? 'p' : 'n';\n      var baseCoord = valueAxisStart;\n      // Because of the barMinHeight, we can not use the value in\n      // stackResultDimension directly.\n      // Only ordinal axis can be stacked.\n      if (stacked) {\n        if (!lastStackCoords[stackId][baseValue]) {\n          lastStackCoords[stackId][baseValue] = {\n            p: valueAxisStart,\n            n: valueAxisStart // Negative stack\n          };\n        }\n        // Should also consider #4243\n        baseCoord = lastStackCoords[stackId][baseValue][sign];\n      }\n      var r0 = void 0;\n      var r = void 0;\n      var startAngle = void 0;\n      var endAngle = void 0;\n      // radial sector\n      if (valueAxis.dim === 'radius') {\n        var radiusSpan = valueAxis.dataToCoord(value) - valueAxisStart;\n        var angle = baseAxis.dataToCoord(baseValue);\n        if (Math.abs(radiusSpan) < barMinHeight) {\n          radiusSpan = (radiusSpan < 0 ? -1 : 1) * barMinHeight;\n        }\n        r0 = baseCoord;\n        r = baseCoord + radiusSpan;\n        startAngle = angle - columnOffset;\n        endAngle = startAngle - columnWidth;\n        stacked && (lastStackCoords[stackId][baseValue][sign] = r);\n      }\n      // tangential sector\n      else {\n        var angleSpan = valueAxis.dataToCoord(value, clampLayout) - valueAxisStart;\n        var radius = baseAxis.dataToCoord(baseValue);\n        if (Math.abs(angleSpan) < barMinAngle) {\n          angleSpan = (angleSpan < 0 ? -1 : 1) * barMinAngle;\n        }\n        r0 = radius + columnOffset;\n        r = r0 + columnWidth;\n        startAngle = baseCoord;\n        endAngle = baseCoord + angleSpan;\n        // if the previous stack is at the end of the ring,\n        // add a round to differentiate it from origin\n        // let extent = angleAxis.getExtent();\n        // let stackCoord = angle;\n        // if (stackCoord === extent[0] && value > 0) {\n        //     stackCoord = extent[1];\n        // }\n        // else if (stackCoord === extent[1] && value < 0) {\n        //     stackCoord = extent[0];\n        // }\n        stacked && (lastStackCoords[stackId][baseValue][sign] = endAngle);\n      }\n      data.setItemLayout(idx, {\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: r,\n        // Consider that positive angle is anti-clockwise,\n        // while positive radian of sector is clockwise\n        startAngle: -startAngle * Math.PI / 180,\n        endAngle: -endAngle * Math.PI / 180,\n        /**\n         * Keep the same logic with bar in catesion: use end value to\n         * control direction. Notice that if clockwise is true (by\n         * default), the sector will always draw clockwisely, no matter\n         * whether endAngle is greater or less than startAngle.\n         */\n        clockwise: startAngle >= endAngle\n      });\n    }\n  });\n}\n/**\n * Calculate bar width and offset for radial bar charts\n */\nfunction calRadialBar(barSeries) {\n  // Columns info on each category axis. Key is polar name\n  var columnsMap = {};\n  zrUtil.each(barSeries, function (seriesModel, idx) {\n    var data = seriesModel.getData();\n    var polar = seriesModel.coordinateSystem;\n    var baseAxis = polar.getBaseAxis();\n    var axisKey = getAxisKey(polar, baseAxis);\n    var axisExtent = baseAxis.getExtent();\n    var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n    var columnsOnAxis = columnsMap[axisKey] || {\n      bandWidth: bandWidth,\n      remainedWidth: bandWidth,\n      autoWidthCount: 0,\n      categoryGap: '20%',\n      gap: '30%',\n      stacks: {}\n    };\n    var stacks = columnsOnAxis.stacks;\n    columnsMap[axisKey] = columnsOnAxis;\n    var stackId = getSeriesStackId(seriesModel);\n    if (!stacks[stackId]) {\n      columnsOnAxis.autoWidthCount++;\n    }\n    stacks[stackId] = stacks[stackId] || {\n      width: 0,\n      maxWidth: 0\n    };\n    var barWidth = parsePercent(seriesModel.get('barWidth'), bandWidth);\n    var barMaxWidth = parsePercent(seriesModel.get('barMaxWidth'), bandWidth);\n    var barGap = seriesModel.get('barGap');\n    var barCategoryGap = seriesModel.get('barCategoryGap');\n    if (barWidth && !stacks[stackId].width) {\n      barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n      stacks[stackId].width = barWidth;\n      columnsOnAxis.remainedWidth -= barWidth;\n    }\n    barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n    barGap != null && (columnsOnAxis.gap = barGap);\n    barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n  });\n  var result = {};\n  zrUtil.each(columnsMap, function (columnsOnAxis, coordSysName) {\n    result[coordSysName] = {};\n    var stacks = columnsOnAxis.stacks;\n    var bandWidth = columnsOnAxis.bandWidth;\n    var categoryGap = parsePercent(columnsOnAxis.categoryGap, bandWidth);\n    var barGapPercent = parsePercent(columnsOnAxis.gap, 1);\n    var remainedWidth = columnsOnAxis.remainedWidth;\n    var autoWidthCount = columnsOnAxis.autoWidthCount;\n    var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    // Find if any auto calculated bar exceeded maxBarWidth\n    zrUtil.each(stacks, function (column, stack) {\n      var maxWidth = column.maxWidth;\n      if (maxWidth && maxWidth < autoWidth) {\n        maxWidth = Math.min(maxWidth, remainedWidth);\n        if (column.width) {\n          maxWidth = Math.min(maxWidth, column.width);\n        }\n        remainedWidth -= maxWidth;\n        column.width = maxWidth;\n        autoWidthCount--;\n      }\n    });\n    // Recalculate width again\n    autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    var widthSum = 0;\n    var lastColumn;\n    zrUtil.each(stacks, function (column, idx) {\n      if (!column.width) {\n        column.width = autoWidth;\n      }\n      lastColumn = column;\n      widthSum += column.width * (1 + barGapPercent);\n    });\n    if (lastColumn) {\n      widthSum -= lastColumn.width * barGapPercent;\n    }\n    var offset = -widthSum / 2;\n    zrUtil.each(stacks, function (column, stackId) {\n      result[coordSysName][stackId] = result[coordSysName][stackId] || {\n        offset: offset,\n        width: column.width\n      };\n      offset += column.width * (1 + barGapPercent);\n    });\n  });\n  return result;\n}\nexport default barLayoutPolar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { use } from '../../extension.js';\nimport AxisView from '../axis/AxisView.js';\nimport PolarAxisPointer from '../axisPointer/PolarAxisPointer.js';\nimport { install as installAxisPointer } from '../axisPointer/install.js';\nimport PolarModel from '../../coord/polar/PolarModel.js';\nimport axisModelCreator from '../../coord/axisModelCreator.js';\nimport { AngleAxisModel, RadiusAxisModel } from '../../coord/polar/AxisModel.js';\nimport polarCreator from '../../coord/polar/polarCreator.js';\nimport AngleAxisView from '../axis/AngleAxisView.js';\nimport RadiusAxisView from '../axis/RadiusAxisView.js';\nimport ComponentView from '../../view/Component.js';\nimport { curry } from 'zrender/lib/core/util.js';\nimport barLayoutPolar from '../../layout/barPolar.js';\nvar angleAxisExtraOption = {\n  startAngle: 90,\n  clockwise: true,\n  splitNumber: 12,\n  axisLabel: {\n    rotate: 0\n  }\n};\nvar radiusAxisExtraOption = {\n  splitNumber: 5\n};\nvar PolarView = /** @class */function (_super) {\n  __extends(PolarView, _super);\n  function PolarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PolarView.type;\n    return _this;\n  }\n  PolarView.type = 'polar';\n  return PolarView;\n}(ComponentView);\nexport function install(registers) {\n  use(installAxisPointer);\n  AxisView.registerAxisPointerClass('PolarAxisPointer', PolarAxisPointer);\n  registers.registerCoordinateSystem('polar', polarCreator);\n  registers.registerComponentModel(PolarModel);\n  registers.registerComponentView(PolarView);\n  // Model and view for angleAxis and radiusAxis\n  axisModelCreator(registers, 'angle', AngleAxisModel, angleAxisExtraOption);\n  axisModelCreator(registers, 'radius', RadiusAxisModel, radiusAxisExtraOption);\n  registers.registerComponentView(AngleAxisView);\n  registers.registerComponentView(RadiusAxisView);\n  registers.registerLayout(curry(barLayoutPolar, 'bar'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport function layout(axisModel, opt) {\n  opt = opt || {};\n  var single = axisModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var axisPosition = axis.position;\n  var orient = axis.orient;\n  var rect = single.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var positionMap = {\n    horizontal: {\n      top: rectBound[2],\n      bottom: rectBound[3]\n    },\n    vertical: {\n      left: rectBound[0],\n      right: rectBound[1]\n    }\n  };\n  layout.position = [orient === 'vertical' ? positionMap.vertical[axisPosition] : rectBound[0], orient === 'horizontal' ? positionMap.horizontal[axisPosition] : rectBound[3]];\n  var r = {\n    horizontal: 0,\n    vertical: 1\n  };\n  layout.rotation = Math.PI / 2 * r[orient];\n  var directionMap = {\n    top: -1,\n    bottom: 1,\n    right: 1,\n    left: -1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = directionMap[axisPosition];\n  if (axisModel.get(['axisTick', 'inside'])) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get(['axisLabel', 'inside']))) {\n    layout.labelDirection = -layout.labelDirection;\n  }\n  var labelRotate = axisModel.get(['axisLabel', 'rotate']);\n  layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate;\n  layout.z2 = 1;\n  return layout;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport AxisBuilder from './AxisBuilder.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as singleAxisHelper from '../../coord/single/singleAxisHelper.js';\nimport AxisView from './AxisView.js';\nimport { rectCoordAxisBuildSplitArea, rectCoordAxisHandleRemove } from './axisSplitHelper.js';\nimport { getAxisBreakHelper } from './axisBreakHelper.js';\nvar selfBuilderAttrs = ['splitArea', 'splitLine', 'breakArea'];\nvar SingleAxisView = /** @class */function (_super) {\n  __extends(SingleAxisView, _super);\n  function SingleAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SingleAxisView.type;\n    _this.axisPointerClass = 'SingleAxisPointer';\n    return _this;\n  }\n  SingleAxisView.prototype.render = function (axisModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    var layout = singleAxisHelper.layout(axisModel);\n    var axisBuilder = new AxisBuilder(axisModel, api, layout);\n    axisBuilder.build();\n    group.add(this._axisGroup);\n    group.add(axisBuilder.group);\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (axisModel.get([name, 'show'])) {\n        axisElementBuilders[name](this, this.group, this._axisGroup, axisModel, api);\n      }\n    }, this);\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n    _super.prototype.render.call(this, axisModel, ecModel, api, payload);\n  };\n  SingleAxisView.prototype.remove = function () {\n    rectCoordAxisHandleRemove(this);\n  };\n  SingleAxisView.type = 'singleAxis';\n  return SingleAxisView;\n}(AxisView);\nvar axisElementBuilders = {\n  splitLine: function (axisView, group, axisGroup, axisModel, api) {\n    var axis = axisModel.axis;\n    if (axis.scale.isBlank()) {\n      return;\n    }\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var lineWidth = lineStyleModel.get('width');\n    var gridRect = axisModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var splitLines = [];\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitLineModel,\n      breakTicks: 'none',\n      pruneByBreak: 'preserve_extent_bound'\n    });\n    var p1 = [];\n    var p2 = [];\n    for (var i = 0; i < ticksCoords.length; ++i) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n      var line = new graphic.Line({\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        silent: true\n      });\n      graphic.subPixelOptimizeLine(line.shape, lineWidth);\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(line);\n    }\n    var lineStyle = lineStyleModel.getLineStyle(['color']);\n    for (var i = 0; i < splitLines.length; ++i) {\n      group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length]\n        }, lineStyle),\n        silent: true\n      }));\n    }\n  },\n  splitArea: function (axisView, group, axisGroup, axisModel, api) {\n    rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, axisModel);\n  },\n  breakArea: function (axisView, group, axisGroup, axisModel, api) {\n    var axisBreakHelper = getAxisBreakHelper();\n    var scale = axisModel.axis.scale;\n    if (axisBreakHelper && scale.type !== 'ordinal') {\n      axisBreakHelper.rectCoordBuildBreakAxis(group, axisView, axisModel, axisModel.coordinateSystem.getRect(), api);\n    }\n  }\n};\nexport default SingleAxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nimport { mixin } from 'zrender/lib/core/util.js';\nvar SingleAxisModel = /** @class */function (_super) {\n  __extends(SingleAxisModel, _super);\n  function SingleAxisModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SingleAxisModel.type;\n    return _this;\n  }\n  SingleAxisModel.prototype.getCoordSysModel = function () {\n    return this;\n  };\n  SingleAxisModel.type = 'singleAxis';\n  SingleAxisModel.layoutMode = 'box';\n  SingleAxisModel.defaultOption = {\n    left: '5%',\n    top: '5%',\n    right: '5%',\n    bottom: '5%',\n    type: 'value',\n    position: 'bottom',\n    orient: 'horizontal',\n    axisLine: {\n      show: true,\n      lineStyle: {\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // Single coordinate system and single axis is the,\n    // which is used as the parent tooltip model.\n    // same model, so we set default tooltip show as true.\n    tooltip: {\n      show: true\n    },\n    axisTick: {\n      show: true,\n      length: 6,\n      lineStyle: {\n        width: 1\n      }\n    },\n    axisLabel: {\n      show: true,\n      interval: 'auto'\n    },\n    splitLine: {\n      show: true,\n      lineStyle: {\n        type: 'dashed',\n        opacity: 0.2\n      }\n    },\n    jitter: 0,\n    jitterOverlap: true,\n    jitterMargin: 2\n  };\n  return SingleAxisModel;\n}(ComponentModel);\nmixin(SingleAxisModel, AxisModelCommonMixin.prototype);\nexport default SingleAxisModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\nvar SingleAxis = /** @class */function (_super) {\n  __extends(SingleAxis, _super);\n  function SingleAxis(dim, scale, coordExtent, axisType, position) {\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\n    _this.type = axisType || 'value';\n    _this.position = position || 'bottom';\n    return _this;\n  }\n  /**\n   * Judge the orient of the axis.\n   */\n  SingleAxis.prototype.isHorizontal = function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  };\n  SingleAxis.prototype.pointToData = function (point, clamp) {\n    return this.coordinateSystem.pointToData(point)[0];\n  };\n  return SingleAxis;\n}(Axis);\nexport default SingleAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Single coordinates system.\n */\nimport SingleAxis from './SingleAxis.js';\nimport * as axisHelper from '../axisHelper.js';\nimport { createBoxLayoutReference, getLayoutRect } from '../../util/layout.js';\nimport { each } from 'zrender/lib/core/util.js';\nexport var singleDimensions = ['single'];\n/**\n * Create a single coordinates system.\n */\nvar Single = /** @class */function () {\n  function Single(axisModel, ecModel, api) {\n    this.type = 'single';\n    this.dimension = 'single';\n    /**\n     * Add it just for draw tooltip.\n     */\n    this.dimensions = singleDimensions;\n    this.axisPointerEnabled = true;\n    this.model = axisModel;\n    this._init(axisModel, ecModel, api);\n  }\n  /**\n   * Initialize single coordinate system.\n   */\n  Single.prototype._init = function (axisModel, ecModel, api) {\n    var dim = this.dimension;\n    var axis = new SingleAxis(dim, axisHelper.createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisModel.get('position'));\n    var isCategory = axis.type === 'category';\n    axis.onBand = isCategory && axisModel.get('boundaryGap');\n    axis.inverse = axisModel.get('inverse');\n    axis.orient = axisModel.get('orient');\n    axisModel.axis = axis;\n    axis.model = axisModel;\n    axis.coordinateSystem = this;\n    this._axis = axis;\n  };\n  /**\n   * Update axis scale after data processed\n   */\n  Single.prototype.update = function (ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.coordinateSystem === this) {\n        var data_1 = seriesModel.getData();\n        each(data_1.mapDimensionsAll(this.dimension), function (dim) {\n          this._axis.scale.unionExtentFromData(data_1, dim);\n        }, this);\n        axisHelper.niceScaleExtent(this._axis.scale, this._axis.model);\n      }\n    }, this);\n  };\n  /**\n   * Resize the single coordinate system.\n   */\n  Single.prototype.resize = function (axisModel, api) {\n    var refContainer = createBoxLayoutReference(axisModel, api).refContainer;\n    this._rect = getLayoutRect(axisModel.getBoxLayoutParams(), refContainer);\n    this._adjustAxis();\n  };\n  Single.prototype.getRect = function () {\n    return this._rect;\n  };\n  Single.prototype._adjustAxis = function () {\n    var rect = this._rect;\n    var axis = this._axis;\n    var isHorizontal = axis.isHorizontal();\n    var extent = isHorizontal ? [0, rect.width] : [0, rect.height];\n    var idx = axis.inverse ? 1 : 0;\n    axis.setExtent(extent[idx], extent[1 - idx]);\n    this._updateAxisTransform(axis, isHorizontal ? rect.x : rect.y);\n  };\n  Single.prototype._updateAxisTransform = function (axis, coordBase) {\n    var axisExtent = axis.getExtent();\n    var extentSum = axisExtent[0] + axisExtent[1];\n    var isHorizontal = axis.isHorizontal();\n    axis.toGlobalCoord = isHorizontal ? function (coord) {\n      return coord + coordBase;\n    } : function (coord) {\n      return extentSum - coord + coordBase;\n    };\n    axis.toLocalCoord = isHorizontal ? function (coord) {\n      return coord - coordBase;\n    } : function (coord) {\n      return extentSum - coord + coordBase;\n    };\n  };\n  /**\n   * Get axis.\n   */\n  Single.prototype.getAxis = function () {\n    return this._axis;\n  };\n  /**\n   * Get axis, add it just for draw tooltip.\n   */\n  Single.prototype.getBaseAxis = function () {\n    return this._axis;\n  };\n  Single.prototype.getAxes = function () {\n    return [this._axis];\n  };\n  Single.prototype.getTooltipAxes = function () {\n    return {\n      baseAxes: [this.getAxis()],\n      // Empty otherAxes\n      otherAxes: []\n    };\n  };\n  /**\n   * If contain point.\n   */\n  Single.prototype.containPoint = function (point) {\n    var rect = this.getRect();\n    var axis = this.getAxis();\n    var orient = axis.orient;\n    if (orient === 'horizontal') {\n      return axis.contain(axis.toLocalCoord(point[0])) && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n    } else {\n      return axis.contain(axis.toLocalCoord(point[1])) && point[0] >= rect.y && point[0] <= rect.y + rect.height;\n    }\n  };\n  Single.prototype.pointToData = function (point, reserved, out) {\n    out = out || [];\n    var axis = this.getAxis();\n    out[0] = axis.coordToData(axis.toLocalCoord(point[axis.orient === 'horizontal' ? 0 : 1]));\n    return out;\n  };\n  /**\n   * Convert the series data to concrete point.\n   * Can be [val] | val\n   */\n  Single.prototype.dataToPoint = function (val, reserved, out) {\n    var axis = this.getAxis();\n    var rect = this.getRect();\n    out = out || [];\n    var idx = axis.orient === 'horizontal' ? 0 : 1;\n    if (val instanceof Array) {\n      val = val[0];\n    }\n    out[idx] = axis.toGlobalCoord(axis.dataToCoord(+val));\n    out[1 - idx] = idx === 0 ? rect.y + rect.height / 2 : rect.x + rect.width / 2;\n    return out;\n  };\n  Single.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? this.dataToPoint(value) : null;\n  };\n  Single.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? this.pointToData(pixel) : null;\n  };\n  return Single;\n}();\nfunction getCoordSys(finder) {\n  var seriesModel = finder.seriesModel;\n  var singleModel = finder.singleAxisModel;\n  return singleModel && singleModel.coordinateSystem || seriesModel && seriesModel.coordinateSystem;\n}\nexport default Single;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Single coordinate system creator.\n */\nimport Single, { singleDimensions } from './Single.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\n/**\n * Create single coordinate system and inject it into seriesModel.\n */\nfunction create(ecModel, api) {\n  var singles = [];\n  ecModel.eachComponent('singleAxis', function (axisModel, idx) {\n    var single = new Single(axisModel, ecModel, api);\n    single.name = 'single_' + idx;\n    single.resize(axisModel, api);\n    axisModel.coordinateSystem = single;\n    singles.push(single);\n  });\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.get('coordinateSystem') === 'singleAxis') {\n      var singleAxisModel = seriesModel.getReferringComponents('singleAxis', SINGLE_REFERRING).models[0];\n      seriesModel.coordinateSystem = singleAxisModel && singleAxisModel.coordinateSystem;\n    }\n  });\n  return singles;\n}\nvar singleCreator = {\n  create: create,\n  dimensions: singleDimensions\n};\nexport default singleCreator;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseAxisPointer from './BaseAxisPointer.js';\nimport * as viewHelper from './viewHelper.js';\nimport * as singleAxisHelper from '../../coord/single/singleAxisHelper.js';\nvar XY = ['x', 'y'];\nvar WH = ['width', 'height'];\nvar SingleAxisPointer = /** @class */function (_super) {\n  __extends(SingleAxisPointer, _super);\n  function SingleAxisPointer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @override\n   */\n  SingleAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var coordSys = axis.coordinateSystem;\n    var otherExtent = getGlobalExtent(coordSys, 1 - getPointDimIndex(axis));\n    var pixelValue = coordSys.dataToPoint(value)[0];\n    var axisPointerType = axisPointerModel.get('type');\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n    var layoutInfo = singleAxisHelper.layout(axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  };\n  /**\n   * @override\n   */\n  SingleAxisPointer.prototype.getHandleTransform = function (value, axisModel, axisPointerModel) {\n    var layoutInfo = singleAxisHelper.layout(axisModel, {\n      labelInside: false\n    });\n    layoutInfo.labelMargin = axisPointerModel.get(['handle', 'margin']);\n    var position = viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo);\n    return {\n      x: position[0],\n      y: position[1],\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  };\n  /**\n   * @override\n   */\n  SingleAxisPointer.prototype.updateHandleTransform = function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var coordSys = axis.coordinateSystem;\n    var dimIndex = getPointDimIndex(axis);\n    var axisExtent = getGlobalExtent(coordSys, dimIndex);\n    var currPosition = [transform.x, transform.y];\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var otherExtent = getGlobalExtent(coordSys, 1 - dimIndex);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex];\n    return {\n      x: currPosition[0],\n      y: currPosition[1],\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: {\n        verticalAlign: 'middle'\n      }\n    };\n  };\n  return SingleAxisPointer;\n}(BaseAxisPointer);\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getPointDimIndex(axis));\n    return {\n      type: 'Line',\n      subPixelOptimize: true,\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent) {\n    var bandWidth = axis.getBandWidth();\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getPointDimIndex(axis))\n    };\n  }\n};\nfunction getPointDimIndex(axis) {\n  return axis.isHorizontal() ? 0 : 1;\n}\nfunction getGlobalExtent(coordSys, dimIndex) {\n  var rect = coordSys.getRect();\n  return [rect[XY[dimIndex]], rect[XY[dimIndex]] + rect[WH[dimIndex]]];\n}\nexport default SingleAxisPointer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { use } from '../../extension.js';\nimport ComponentView from '../../view/Component.js';\nimport SingleAxisView from '../axis/SingleAxisView.js';\nimport axisModelCreator from '../../coord/axisModelCreator.js';\nimport SingleAxisModel from '../../coord/single/AxisModel.js';\nimport singleCreator from '../../coord/single/singleCreator.js';\nimport { install as installAxisPointer } from '../axisPointer/install.js';\nimport AxisView from '../axis/AxisView.js';\nimport SingleAxisPointer from '../axisPointer/SingleAxisPointer.js';\nvar SingleView = /** @class */function (_super) {\n  __extends(SingleView, _super);\n  function SingleView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SingleView.type;\n    return _this;\n  }\n  SingleView.type = 'single';\n  return SingleView;\n}(ComponentView);\nexport function install(registers) {\n  use(installAxisPointer);\n  AxisView.registerAxisPointerClass('SingleAxisPointer', SingleAxisPointer);\n  registers.registerComponentView(SingleView);\n  // Axis\n  registers.registerComponentView(SingleAxisView);\n  registers.registerComponentModel(SingleAxisModel);\n  axisModelCreator(registers, 'single', SingleAxisModel, SingleAxisModel.defaultOption);\n  registers.registerCoordinateSystem('single', singleCreator);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { getLayoutParams, sizeCalculable, mergeLayoutParam } from '../../util/layout.js';\nimport tokens from '../../visual/tokens.js';\nvar CalendarModel = /** @class */function (_super) {\n  __extends(CalendarModel, _super);\n  function CalendarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CalendarModel.type;\n    return _this;\n  }\n  /**\n   * @override\n   */\n  CalendarModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n    _super.prototype.init.apply(this, arguments);\n    mergeAndNormalizeLayoutParams(option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n  CalendarModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n    mergeAndNormalizeLayoutParams(this.option, option);\n  };\n  CalendarModel.prototype.getCellSize = function () {\n    // Has been normalized\n    return this.option.cellSize;\n  };\n  CalendarModel.type = 'calendar';\n  CalendarModel.layoutMode = 'box';\n  CalendarModel.defaultOption = {\n    // zlevel: 0,\n    // TODO: theoretically, the z of the calendar should be lower\n    // than series, but we don't want the series to be displayed\n    // on top of the borders like month split line. To align with\n    // the effect of previous versions, we set the z to 2 for now\n    // until better solution is found.\n    z: 2,\n    left: 80,\n    top: 60,\n    cellSize: 20,\n    // horizontal vertical\n    orient: 'horizontal',\n    // month separate line style\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: tokens.color.axisLine,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // rect style  temporarily unused emphasis\n    itemStyle: {\n      color: tokens.color.neutral00,\n      borderWidth: 1,\n      borderColor: tokens.color.neutral10\n    },\n    // week text style\n    dayLabel: {\n      show: true,\n      firstDay: 0,\n      // start end\n      position: 'start',\n      margin: tokens.size.s,\n      color: tokens.color.secondary\n    },\n    // month text style\n    monthLabel: {\n      show: true,\n      // start end\n      position: 'start',\n      margin: tokens.size.s,\n      // center or left\n      align: 'center',\n      formatter: null,\n      color: tokens.color.secondary\n    },\n    // year text style\n    yearLabel: {\n      show: true,\n      // top bottom left right\n      position: null,\n      margin: tokens.size.xl,\n      formatter: null,\n      color: tokens.color.quaternary,\n      fontFamily: 'sans-serif',\n      fontWeight: 'bolder',\n      fontSize: 20\n    }\n  };\n  return CalendarModel;\n}(ComponentModel);\nfunction mergeAndNormalizeLayoutParams(target, raw) {\n  // Normalize cellSize\n  var cellSize = target.cellSize;\n  var cellSizeArr;\n  if (!zrUtil.isArray(cellSize)) {\n    cellSizeArr = target.cellSize = [cellSize, cellSize];\n  } else {\n    cellSizeArr = cellSize;\n  }\n  if (cellSizeArr.length === 1) {\n    cellSizeArr[1] = cellSizeArr[0];\n  }\n  var ignoreSize = zrUtil.map([0, 1], function (hvIdx) {\n    // If user have set `width` or both `left` and `right`, cellSizeArr\n    // will be automatically set to 'auto', otherwise the default\n    // setting of cellSizeArr will make `width` setting not work.\n    if (sizeCalculable(raw, hvIdx)) {\n      cellSizeArr[hvIdx] = 'auto';\n    }\n    return cellSizeArr[hvIdx] != null && cellSizeArr[hvIdx] !== 'auto';\n  });\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\nexport default CalendarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { isString, extend, map, isFunction } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { formatTplSimple } from '../../util/format.js';\nimport { parsePercent } from '../../util/number.js';\nimport ComponentView from '../../view/Component.js';\nimport { getLocaleModel } from '../../core/locale.js';\nvar CalendarView = /** @class */function (_super) {\n  __extends(CalendarView, _super);\n  function CalendarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CalendarView.type;\n    return _this;\n  }\n  CalendarView.prototype.render = function (calendarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n    var coordSys = calendarModel.coordinateSystem;\n    // range info\n    var rangeData = coordSys.getRangeInfo();\n    var orient = coordSys.getOrient();\n    // locale\n    var localeModel = ecModel.getLocaleModel();\n    this._renderDayRect(calendarModel, rangeData, group);\n    // _renderLines must be called prior to following function\n    this._renderLines(calendarModel, rangeData, orient, group);\n    this._renderYearText(calendarModel, rangeData, orient, group);\n    this._renderMonthText(calendarModel, localeModel, orient, group);\n    this._renderWeekText(calendarModel, localeModel, rangeData, orient, group);\n  };\n  // render day rect\n  CalendarView.prototype._renderDayRect = function (calendarModel, rangeData, group) {\n    var coordSys = calendarModel.coordinateSystem;\n    var itemRectStyleModel = calendarModel.getModel('itemStyle').getItemStyle();\n    var sw = coordSys.getCellWidth();\n    var sh = coordSys.getCellHeight();\n    for (var i = rangeData.start.time; i <= rangeData.end.time; i = coordSys.getNextNDay(i, 1).time) {\n      var point = coordSys.dataToCalendarLayout([i], false).tl;\n      // every rect\n      var rect = new graphic.Rect({\n        shape: {\n          x: point[0],\n          y: point[1],\n          width: sw,\n          height: sh\n        },\n        cursor: 'default',\n        style: itemRectStyleModel\n      });\n      group.add(rect);\n    }\n  };\n  // render separate line\n  CalendarView.prototype._renderLines = function (calendarModel, rangeData, orient, group) {\n    var self = this;\n    var coordSys = calendarModel.coordinateSystem;\n    var lineStyleModel = calendarModel.getModel(['splitLine', 'lineStyle']).getLineStyle();\n    var show = calendarModel.get(['splitLine', 'show']);\n    var lineWidth = lineStyleModel.lineWidth;\n    this._tlpoints = [];\n    this._blpoints = [];\n    this._firstDayOfMonth = [];\n    this._firstDayPoints = [];\n    var firstDay = rangeData.start;\n    for (var i = 0; firstDay.time <= rangeData.end.time; i++) {\n      addPoints(firstDay.formatedDate);\n      if (i === 0) {\n        firstDay = coordSys.getDateInfo(rangeData.start.y + '-' + rangeData.start.m);\n      }\n      var date = firstDay.date;\n      date.setMonth(date.getMonth() + 1);\n      firstDay = coordSys.getDateInfo(date);\n    }\n    addPoints(coordSys.getNextNDay(rangeData.end.time, 1).formatedDate);\n    function addPoints(date) {\n      self._firstDayOfMonth.push(coordSys.getDateInfo(date));\n      self._firstDayPoints.push(coordSys.dataToCalendarLayout([date], false).tl);\n      var points = self._getLinePointsOfOneWeek(calendarModel, date, orient);\n      self._tlpoints.push(points[0]);\n      self._blpoints.push(points[points.length - 1]);\n      show && self._drawSplitline(points, lineStyleModel, group);\n    }\n    // render top/left line\n    show && this._drawSplitline(self._getEdgesPoints(self._tlpoints, lineWidth, orient), lineStyleModel, group);\n    // render bottom/right line\n    show && this._drawSplitline(self._getEdgesPoints(self._blpoints, lineWidth, orient), lineStyleModel, group);\n  };\n  // get points at both ends\n  CalendarView.prototype._getEdgesPoints = function (points, lineWidth, orient) {\n    var rs = [points[0].slice(), points[points.length - 1].slice()];\n    var idx = orient === 'horizontal' ? 0 : 1;\n    // both ends of the line are extend half lineWidth\n    rs[0][idx] = rs[0][idx] - lineWidth / 2;\n    rs[1][idx] = rs[1][idx] + lineWidth / 2;\n    return rs;\n  };\n  // render split line\n  CalendarView.prototype._drawSplitline = function (points, lineStyle, group) {\n    var poyline = new graphic.Polyline({\n      z2: 20,\n      shape: {\n        points: points\n      },\n      style: lineStyle\n    });\n    group.add(poyline);\n  };\n  // render month line of one week points\n  CalendarView.prototype._getLinePointsOfOneWeek = function (calendarModel, date, orient) {\n    var coordSys = calendarModel.coordinateSystem;\n    var parsedDate = coordSys.getDateInfo(date);\n    var points = [];\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(parsedDate.time, i);\n      var point = coordSys.dataToCalendarLayout([tmpD.time], false);\n      points[2 * tmpD.day] = point.tl;\n      points[2 * tmpD.day + 1] = point[orient === 'horizontal' ? 'bl' : 'tr'];\n    }\n    return points;\n  };\n  CalendarView.prototype._formatterLabel = function (formatter, params) {\n    if (isString(formatter) && formatter) {\n      return formatTplSimple(formatter, params);\n    }\n    if (isFunction(formatter)) {\n      return formatter(params);\n    }\n    return params.nameMap;\n  };\n  CalendarView.prototype._yearTextPositionControl = function (textEl, point, orient, position, margin) {\n    var x = point[0];\n    var y = point[1];\n    var aligns = ['center', 'bottom'];\n    if (position === 'bottom') {\n      y += margin;\n      aligns = ['center', 'top'];\n    } else if (position === 'left') {\n      x -= margin;\n    } else if (position === 'right') {\n      x += margin;\n      aligns = ['center', 'top'];\n    } else {\n      // top\n      y -= margin;\n    }\n    var rotate = 0;\n    if (position === 'left' || position === 'right') {\n      rotate = Math.PI / 2;\n    }\n    return {\n      rotation: rotate,\n      x: x,\n      y: y,\n      style: {\n        align: aligns[0],\n        verticalAlign: aligns[1]\n      }\n    };\n  };\n  // render year\n  CalendarView.prototype._renderYearText = function (calendarModel, rangeData, orient, group) {\n    var yearLabel = calendarModel.getModel('yearLabel');\n    if (!yearLabel.get('show')) {\n      return;\n    }\n    var margin = yearLabel.get('margin');\n    var pos = yearLabel.get('position');\n    if (!pos) {\n      pos = orient !== 'horizontal' ? 'top' : 'left';\n    }\n    var points = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]];\n    var xc = (points[0][0] + points[1][0]) / 2;\n    var yc = (points[0][1] + points[1][1]) / 2;\n    var idx = orient === 'horizontal' ? 0 : 1;\n    var posPoints = {\n      top: [xc, points[idx][1]],\n      bottom: [xc, points[1 - idx][1]],\n      left: [points[1 - idx][0], yc],\n      right: [points[idx][0], yc]\n    };\n    var name = rangeData.start.y;\n    if (+rangeData.end.y > +rangeData.start.y) {\n      name = name + '-' + rangeData.end.y;\n    }\n    var formatter = yearLabel.get('formatter');\n    var params = {\n      start: rangeData.start.y,\n      end: rangeData.end.y,\n      nameMap: name\n    };\n    var content = this._formatterLabel(formatter, params);\n    var yearText = new graphic.Text({\n      z2: 30,\n      style: createTextStyle(yearLabel, {\n        text: content\n      }),\n      silent: yearLabel.get('silent')\n    });\n    yearText.attr(this._yearTextPositionControl(yearText, posPoints[pos], orient, pos, margin));\n    group.add(yearText);\n  };\n  CalendarView.prototype._monthTextPositionControl = function (point, isCenter, orient, position, margin) {\n    var align = 'left';\n    var vAlign = 'top';\n    var x = point[0];\n    var y = point[1];\n    if (orient === 'horizontal') {\n      y = y + margin;\n      if (isCenter) {\n        align = 'center';\n      }\n      if (position === 'start') {\n        vAlign = 'bottom';\n      }\n    } else {\n      x = x + margin;\n      if (isCenter) {\n        vAlign = 'middle';\n      }\n      if (position === 'start') {\n        align = 'right';\n      }\n    }\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  };\n  // render month and year text\n  CalendarView.prototype._renderMonthText = function (calendarModel, localeModel, orient, group) {\n    var monthLabel = calendarModel.getModel('monthLabel');\n    if (!monthLabel.get('show')) {\n      return;\n    }\n    var nameMap = monthLabel.get('nameMap');\n    var margin = monthLabel.get('margin');\n    var pos = monthLabel.get('position');\n    var align = monthLabel.get('align');\n    var termPoints = [this._tlpoints, this._blpoints];\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      }\n      // PENDING\n      // for ZH locale, original form is `` but current form is `1`\n      nameMap = localeModel.get(['time', 'monthAbbr']) || [];\n    }\n    var idx = pos === 'start' ? 0 : 1;\n    var axis = orient === 'horizontal' ? 0 : 1;\n    margin = pos === 'start' ? -margin : margin;\n    var isCenter = align === 'center';\n    var labelSilent = monthLabel.get('silent');\n    for (var i = 0; i < termPoints[idx].length - 1; i++) {\n      var tmp = termPoints[idx][i].slice();\n      var firstDay = this._firstDayOfMonth[i];\n      if (isCenter) {\n        var firstDayPoints = this._firstDayPoints[i];\n        tmp[axis] = (firstDayPoints[axis] + termPoints[0][i + 1][axis]) / 2;\n      }\n      var formatter = monthLabel.get('formatter');\n      var name_1 = nameMap[+firstDay.m - 1];\n      var params = {\n        yyyy: firstDay.y,\n        yy: (firstDay.y + '').slice(2),\n        MM: firstDay.m,\n        M: +firstDay.m,\n        nameMap: name_1\n      };\n      var content = this._formatterLabel(formatter, params);\n      var monthText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(monthLabel, {\n          text: content\n        }), this._monthTextPositionControl(tmp, isCenter, orient, pos, margin)),\n        silent: labelSilent\n      });\n      group.add(monthText);\n    }\n  };\n  CalendarView.prototype._weekTextPositionControl = function (point, orient, position, margin, cellSize) {\n    var align = 'center';\n    var vAlign = 'middle';\n    var x = point[0];\n    var y = point[1];\n    var isStart = position === 'start';\n    if (orient === 'horizontal') {\n      x = x + margin + (isStart ? 1 : -1) * cellSize[0] / 2;\n      align = isStart ? 'right' : 'left';\n    } else {\n      y = y + margin + (isStart ? 1 : -1) * cellSize[1] / 2;\n      vAlign = isStart ? 'bottom' : 'top';\n    }\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  };\n  // render weeks\n  CalendarView.prototype._renderWeekText = function (calendarModel, localeModel, rangeData, orient, group) {\n    var dayLabel = calendarModel.getModel('dayLabel');\n    if (!dayLabel.get('show')) {\n      return;\n    }\n    var coordSys = calendarModel.coordinateSystem;\n    var pos = dayLabel.get('position');\n    var nameMap = dayLabel.get('nameMap');\n    var margin = dayLabel.get('margin');\n    var firstDayOfWeek = coordSys.getFirstDayOfWeek();\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      }\n      // Use the first letter of `dayOfWeekAbbr` if `dayOfWeekShort` doesn't exist in the locale file\n      var dayOfWeekShort = localeModel.get(['time', 'dayOfWeekShort']);\n      nameMap = dayOfWeekShort || map(localeModel.get(['time', 'dayOfWeekAbbr']), function (val) {\n        return val[0];\n      });\n    }\n    var start = coordSys.getNextNDay(rangeData.end.time, 7 - rangeData.lweek).time;\n    var cellSize = [coordSys.getCellWidth(), coordSys.getCellHeight()];\n    margin = parsePercent(margin, Math.min(cellSize[1], cellSize[0]));\n    if (pos === 'start') {\n      start = coordSys.getNextNDay(rangeData.start.time, -(7 + rangeData.fweek)).time;\n      margin = -margin;\n    }\n    var labelSilent = dayLabel.get('silent');\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(start, i);\n      var point = coordSys.dataToCalendarLayout([tmpD.time], false).center;\n      var day = i;\n      day = Math.abs((i + firstDayOfWeek) % 7);\n      var weekText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(dayLabel, {\n          text: nameMap[day]\n        }), this._weekTextPositionControl(point, orient, pos, margin, cellSize)),\n        silent: labelSilent\n      });\n      group.add(weekText);\n    }\n  };\n  CalendarView.type = 'calendar';\n  return CalendarView;\n}(ComponentView);\nexport default CalendarView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as layout from '../../util/layout.js';\nimport * as numberUtil from '../../util/number.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { expandOrShrinkRect } from '../../util/graphic.js';\nimport { injectCoordSysByOption, simpleCoordSysInjectionProvider } from '../../core/CoordinateSystem.js';\n// (24*60*60*1000)\nvar PROXIMATE_ONE_DAY = 86400000;\nvar Calendar = /** @class */function () {\n  function Calendar(calendarModel, ecModel, api) {\n    this.type = 'calendar';\n    this.dimensions = Calendar.dimensions;\n    // Required in createListFromData\n    this.getDimensionsInfo = Calendar.getDimensionsInfo;\n    this._model = calendarModel;\n    this._update(ecModel, api);\n  }\n  Calendar.getDimensionsInfo = function () {\n    return [{\n      name: 'time',\n      type: 'time'\n    }, 'value'];\n  };\n  Calendar.prototype.getRangeInfo = function () {\n    return this._rangeInfo;\n  };\n  Calendar.prototype.getModel = function () {\n    return this._model;\n  };\n  Calendar.prototype.getRect = function () {\n    return this._rect;\n  };\n  Calendar.prototype.getCellWidth = function () {\n    return this._sw;\n  };\n  Calendar.prototype.getCellHeight = function () {\n    return this._sh;\n  };\n  Calendar.prototype.getOrient = function () {\n    return this._orient;\n  };\n  /**\n   * getFirstDayOfWeek\n   *\n   * @example\n   *     0 : start at Sunday\n   *     1 : start at Monday\n   *\n   * @return {number}\n   */\n  Calendar.prototype.getFirstDayOfWeek = function () {\n    return this._firstDayOfWeek;\n  };\n  /**\n   * get date info\n   * }\n   */\n  Calendar.prototype.getDateInfo = function (date) {\n    date = numberUtil.parseDate(date);\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    var mStr = m < 10 ? '0' + m : '' + m;\n    var d = date.getDate();\n    var dStr = d < 10 ? '0' + d : '' + d;\n    var day = date.getDay();\n    day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n    return {\n      y: y + '',\n      m: mStr,\n      d: dStr,\n      day: day,\n      time: date.getTime(),\n      formatedDate: y + '-' + mStr + '-' + dStr,\n      date: date\n    };\n  };\n  Calendar.prototype.getNextNDay = function (date, n) {\n    n = n || 0;\n    if (n === 0) {\n      return this.getDateInfo(date);\n    }\n    date = new Date(this.getDateInfo(date).time);\n    date.setDate(date.getDate() + n);\n    return this.getDateInfo(date);\n  };\n  Calendar.prototype._update = function (ecModel, api) {\n    this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n    this._orient = this._model.get('orient');\n    this._lineWidth = this._model.getModel('itemStyle').getItemStyle().lineWidth || 0;\n    this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n    var weeks = this._rangeInfo.weeks || 1;\n    var whNames = ['width', 'height'];\n    var cellSize = this._model.getCellSize().slice();\n    var layoutParams = this._model.getBoxLayoutParams();\n    var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n    zrUtil.each([0, 1], function (idx) {\n      if (cellSizeSpecified(cellSize, idx)) {\n        layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n      }\n    });\n    var whGlobal = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var calendarRect = this._rect = layout.getLayoutRect(layoutParams, whGlobal);\n    zrUtil.each([0, 1], function (idx) {\n      if (!cellSizeSpecified(cellSize, idx)) {\n        cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n      }\n    });\n    function cellSizeSpecified(cellSize, idx) {\n      return cellSize[idx] != null && cellSize[idx] !== 'auto';\n    }\n    // Has been calculated out number.\n    this._sw = cellSize[0];\n    this._sh = cellSize[1];\n  };\n  /**\n   * Convert a time data(time, value) item to (x, y) point.\n   */\n  // TODO Clamp of calendar is not same with cartesian coordinate systems.\n  // It will return NaN if data exceeds.\n  Calendar.prototype.dataToPoint = function (data, clamp, out) {\n    out = out || [];\n    zrUtil.isArray(data) && (data = data[0]);\n    clamp == null && (clamp = true);\n    var dayInfo = this.getDateInfo(data);\n    var range = this._rangeInfo;\n    var date = dayInfo.formatedDate;\n    // if not in range return [NaN, NaN]\n    if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time < range.end.time + PROXIMATE_ONE_DAY)) {\n      out[0] = out[1] = NaN;\n      return out;\n    }\n    var week = dayInfo.day;\n    var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n    if (this._orient === 'vertical') {\n      out[0] = this._rect.x + week * this._sw + this._sw / 2;\n      out[1] = this._rect.y + nthWeek * this._sh + this._sh / 2;\n    } else {\n      out[0] = this._rect.x + nthWeek * this._sw + this._sw / 2;\n      out[1] = this._rect.y + week * this._sh + this._sh / 2;\n    }\n    return out;\n  };\n  /**\n   * Convert a (x, y) point to time data\n   */\n  Calendar.prototype.pointToData = function (point) {\n    var date = this.pointToDate(point);\n    return date && date.time;\n  };\n  Calendar.prototype.dataToLayout = function (data, clamp, out) {\n    out = out || {};\n    var rect = out.rect = out.rect || {};\n    var contentRect = out.contentRect = out.contentRect || {};\n    var point = this.dataToPoint(data, clamp);\n    rect.x = point[0] - this._sw / 2;\n    rect.y = point[1] - this._sh / 2;\n    rect.width = this._sw;\n    rect.height = this._sh;\n    BoundingRect.copy(contentRect, rect);\n    expandOrShrinkRect(contentRect, this._lineWidth / 2, true, true);\n    return out;\n  };\n  /**\n   * Convert a time date item to (x, y) four point.\n   */\n  Calendar.prototype.dataToCalendarLayout = function (data, clamp) {\n    var point = this.dataToPoint(data, clamp);\n    return {\n      center: point,\n      tl: [point[0] - this._sw / 2, point[1] - this._sh / 2],\n      tr: [point[0] + this._sw / 2, point[1] - this._sh / 2],\n      br: [point[0] + this._sw / 2, point[1] + this._sh / 2],\n      bl: [point[0] - this._sw / 2, point[1] + this._sh / 2]\n    };\n  };\n  /**\n   * Convert a (x, y) point to time date\n   *\n   * @param  {Array} point point\n   * @return {Object}       date\n   */\n  Calendar.prototype.pointToDate = function (point) {\n    var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n    var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n    var range = this._rangeInfo.range;\n    if (this._orient === 'vertical') {\n      return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n    }\n    return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n  };\n  Calendar.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  Calendar.prototype.convertToLayout = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToLayout(value) : null;\n  };\n  Calendar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  Calendar.prototype.containPoint = function (point) {\n    console.warn('Not implemented.');\n    return false;\n  };\n  /**\n   * initRange\n   * Normalize to an [start, end] array\n   */\n  Calendar.prototype._initRangeOption = function () {\n    var range = this._model.get('range');\n    var normalizedRange;\n    // Convert [1990] to 1990\n    if (zrUtil.isArray(range) && range.length === 1) {\n      range = range[0];\n    }\n    if (!zrUtil.isArray(range)) {\n      var rangeStr = range.toString();\n      // One year.\n      if (/^\\d{4}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr + '-01-01', rangeStr + '-12-31'];\n      }\n      // One month\n      if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        var start = this.getDateInfo(rangeStr);\n        var firstDay = start.date;\n        firstDay.setMonth(firstDay.getMonth() + 1);\n        var end = this.getNextNDay(firstDay, -1);\n        normalizedRange = [start.formatedDate, end.formatedDate];\n      }\n      // One day\n      if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr, rangeStr];\n      }\n    } else {\n      normalizedRange = range;\n    }\n    if (!normalizedRange) {\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.logError('Invalid date range.');\n      }\n      // Not handling it.\n      return range;\n    }\n    var tmp = this._getRangeInfo(normalizedRange);\n    if (tmp.start.time > tmp.end.time) {\n      normalizedRange.reverse();\n    }\n    return normalizedRange;\n  };\n  /**\n   * range info\n   *\n   * @private\n   * @param  {Array} range range ['2017-01-01', '2017-07-08']\n   *  If range[0] > range[1], they will not be reversed.\n   * @return {Object}       obj\n   */\n  Calendar.prototype._getRangeInfo = function (range) {\n    var parsedRange = [this.getDateInfo(range[0]), this.getDateInfo(range[1])];\n    var reversed;\n    if (parsedRange[0].time > parsedRange[1].time) {\n      reversed = true;\n      parsedRange.reverse();\n    }\n    var allDay = Math.floor(parsedRange[1].time / PROXIMATE_ONE_DAY) - Math.floor(parsedRange[0].time / PROXIMATE_ONE_DAY) + 1;\n    // Consider case1 (#11677 #10430):\n    // Set the system timezone as \"UK\", set the range to `['2016-07-01', '2016-12-31']`\n    // Consider case2:\n    // Firstly set system timezone as \"Time Zone: America/Toronto\",\n    // ```\n    // let first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n    // let second = new Date(1478412000000);\n    // let allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n    // ```\n    // will get wrong result because of DST. So we should fix it.\n    var date = new Date(parsedRange[0].time);\n    var startDateNum = date.getDate();\n    var endDateNum = parsedRange[1].date.getDate();\n    date.setDate(startDateNum + allDay - 1);\n    // The bias can not over a month, so just compare date.\n    var dateNum = date.getDate();\n    if (dateNum !== endDateNum) {\n      var sign = date.getTime() - parsedRange[1].time > 0 ? 1 : -1;\n      while ((dateNum = date.getDate()) !== endDateNum && (date.getTime() - parsedRange[1].time) * sign > 0) {\n        allDay -= sign;\n        date.setDate(dateNum - sign);\n      }\n    }\n    var weeks = Math.floor((allDay + parsedRange[0].day + 6) / 7);\n    var nthWeek = reversed ? -weeks + 1 : weeks - 1;\n    reversed && parsedRange.reverse();\n    return {\n      range: [parsedRange[0].formatedDate, parsedRange[1].formatedDate],\n      start: parsedRange[0],\n      end: parsedRange[1],\n      allDay: allDay,\n      weeks: weeks,\n      // From 0.\n      nthWeek: nthWeek,\n      fweek: parsedRange[0].day,\n      lweek: parsedRange[1].day\n    };\n  };\n  /**\n   * get date by nthWeeks and week day in range\n   *\n   * @private\n   * @param  {number} nthWeek the week\n   * @param  {number} day   the week day\n   * @param  {Array} range [d1, d2]\n   * @return {Object}\n   */\n  Calendar.prototype._getDateByWeeksAndDay = function (nthWeek, day, range) {\n    var rangeInfo = this._getRangeInfo(range);\n    if (nthWeek > rangeInfo.weeks || nthWeek === 0 && day < rangeInfo.fweek || nthWeek === rangeInfo.weeks && day > rangeInfo.lweek) {\n      return null;\n    }\n    var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n    var date = new Date(rangeInfo.start.time);\n    date.setDate(+rangeInfo.start.d + nthDay);\n    return this.getDateInfo(date);\n  };\n  Calendar.create = function (ecModel, api) {\n    var calendarList = [];\n    ecModel.eachComponent('calendar', function (calendarModel) {\n      var calendar = new Calendar(calendarModel, ecModel, api);\n      calendarList.push(calendar);\n      calendarModel.coordinateSystem = calendar;\n    });\n    // Inject coordinate system\n    ecModel.eachComponent(function (mainType, componentModel) {\n      injectCoordSysByOption({\n        targetModel: componentModel,\n        coordSysType: 'calendar',\n        coordSysProvider: simpleCoordSysInjectionProvider\n      });\n    });\n    return calendarList;\n  };\n  Calendar.dimensions = ['time', 'value'];\n  return Calendar;\n}();\nfunction getCoordSys(finder) {\n  var calendarModel = finder.calendarModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = calendarModel ? calendarModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys;\n}\nexport default Calendar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CalendarModel from '../../coord/calendar/CalendarModel.js';\nimport CalendarView from './CalendarView.js';\nimport Calendar from '../../coord/calendar/Calendar.js';\nexport function install(registers) {\n  registers.registerComponentModel(CalendarModel);\n  registers.registerComponentView(CalendarView);\n  registers.registerCoordinateSystem('calendar', Calendar);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { eqNaN, isArray, isNumber } from 'zrender/lib/core/util.js';\nimport { WH, XY } from '../../util/graphic.js';\nimport { mathMax, mathMin } from '../../util/number.js';\nexport var MatrixCellLayoutInfoType = {\n  level: 1,\n  leaf: 2,\n  nonLeaf: 3\n};\n/**\n * @public Public to users in `chart.convertFromPixel`.\n */\nexport var MatrixClampOption = {\n  // No clamp, be falsy, equals to null/undefined. It means if the input part is\n  // null/undefined/NaN/outOfBoundary, the result part is NaN, rather than clamp to\n  // the boundary of the matrix.\n  none: 0,\n  // Clamp, where null/undefined/NaN/outOfBoundary can be used to cover the entire row/column.\n  all: 1,\n  body: 2,\n  corner: 3\n};\n/**\n * For the x direction,\n *  - find dimension cell from `xMatrixDim`,\n *      - If `xDimCell` or `yDimCell` is not a leaf, return the non-leaf cell itself.\n *  - otherwise find level from `yMatrixDim`.\n *  - otherwise return `NullUndefined`.\n *\n * For the y direction, it's the opposite.\n */\nexport function coordDataToAllCellLevelLayout(coordValue, dims, thisDimIdx // 0 | 1\n) {\n  // Find in body.\n  var result = dims[XY[thisDimIdx]].getCell(coordValue);\n  // Find in corner or dimension area.\n  if (!result && isNumber(coordValue) && coordValue < 0) {\n    result = dims[XY[1 - thisDimIdx]].getUnitLayoutInfo(thisDimIdx, Math.round(coordValue));\n  }\n  return result;\n}\nexport function resetXYLocatorRange(out) {\n  var rg = out || [];\n  rg[0] = rg[0] || [];\n  rg[1] = rg[1] || [];\n  rg[0][0] = rg[0][1] = rg[1][0] = rg[1][1] = NaN;\n  return rg;\n}\n/**\n * If illegal or out of boundary, set NaN to `locOut`. See `isXYLocatorRangeInvalidOnDim`.\n * x dimension and y dimension are calculated separately.\n */\nexport function parseCoordRangeOption(locOut,\n// If illegal input or can not find any target, save reason to it.\n// Do nothing if `NullUndefined`.\nreasonOut, data, dims, clamp) {\n  // x and y are supported to be handled separately - if one dimension is invalid\n  // (may be users do not need that), the other one should also be calculated.\n  parseCoordRangeOptionOnOneDim(locOut[0], reasonOut, clamp, data, dims, 0);\n  parseCoordRangeOptionOnOneDim(locOut[1], reasonOut, clamp, data, dims, 1);\n}\nfunction parseCoordRangeOptionOnOneDim(locDimOut, reasonOut, clamp, data, dims, dimIdx) {\n  locDimOut[0] = Infinity;\n  locDimOut[1] = -Infinity;\n  var dataOnDim = data[dimIdx];\n  var coordValArr = isArray(dataOnDim) ? dataOnDim : [dataOnDim];\n  var len = coordValArr.length;\n  var hasClamp = !!clamp;\n  if (len >= 1) {\n    parseCoordRangeOptionOnOneDimOnePart(locDimOut, reasonOut, coordValArr, hasClamp, dims, dimIdx, 0);\n    if (len > 1) {\n      // Users may intuitively input the coords like `[[x1, x2, x3], ...]`;\n      // consider the range as `[x1, x3]` in this case.\n      parseCoordRangeOptionOnOneDimOnePart(locDimOut, reasonOut, coordValArr, hasClamp, dims, dimIdx, len - 1);\n    }\n  } else {\n    if (process.env.NODE_ENV !== 'production') {\n      if (reasonOut) {\n        reasonOut.push('Should be like [[\"x1\", \"x2\"], [\"y1\", \"y2\"]], or [\"x1\", \"y1\"], rather than empty.');\n      }\n    }\n    locDimOut[0] = locDimOut[1] = NaN;\n  }\n  if (hasClamp) {\n    // null/undefined/NaN or illegal data represents the entire row/column;\n    // Cover the entire locator regardless of body or corner, and confine it later.\n    var locLowerBound = -dims[XY[1 - dimIdx]].getLocatorCount(dimIdx);\n    var locUpperBound = dims[XY[dimIdx]].getLocatorCount(dimIdx) - 1;\n    if (clamp === MatrixClampOption.body) {\n      locLowerBound = mathMax(0, locLowerBound);\n    } else if (clamp === MatrixClampOption.corner) {\n      locUpperBound = mathMin(-1, locUpperBound);\n    }\n    if (locUpperBound < locLowerBound) {\n      // Also considered that both x and y has no cell.\n      locLowerBound = locUpperBound = NaN;\n    }\n    if (eqNaN(locDimOut[0])) {\n      locDimOut[0] = locLowerBound;\n    }\n    if (eqNaN(locDimOut[1])) {\n      locDimOut[1] = locUpperBound;\n    }\n    locDimOut[0] = mathMax(mathMin(locDimOut[0], locUpperBound), locLowerBound);\n    locDimOut[1] = mathMax(mathMin(locDimOut[1], locUpperBound), locLowerBound);\n  }\n}\n// The return val must be finite or NaN.\nfunction parseCoordRangeOptionOnOneDimOnePart(locDimOut, reasonOut, coordValArr, hasClamp, dims, dimIdx, partIdx) {\n  var layout = coordDataToAllCellLevelLayout(coordValArr[partIdx], dims, dimIdx);\n  if (!layout) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!hasClamp && reasonOut) {\n        reasonOut.push(\"Can not find cell by coord[\" + dimIdx + \"][\" + partIdx + \"].\");\n      }\n    }\n    locDimOut[0] = locDimOut[1] = NaN;\n    return;\n  }\n  var locatorA = layout.id[XY[dimIdx]];\n  var locatorB = locatorA;\n  var dimCell = cellLayoutInfoToDimCell(layout);\n  if (dimCell) {\n    // Handle non-leaf\n    locatorB += dimCell.span[XY[dimIdx]] - 1;\n  }\n  locDimOut[0] = mathMin(locDimOut[0], locatorA, locatorB);\n  locDimOut[1] = mathMax(locDimOut[1], locatorA, locatorB);\n}\n/**\n * @param locatorRange Must be the return of `parseCoordRangeOption`,\n *  where if not NaN, it must be a valid locator.\n */\nexport function isXYLocatorRangeInvalidOnDim(locatorRange, dimIdx) {\n  return eqNaN(locatorRange[dimIdx][0]) || eqNaN(locatorRange[dimIdx][1]);\n}\n// `locatorRange` will be expanded (modified) if an intersection is encountered.\nexport function resolveXYLocatorRangeByCellMerge(inOutLocatorRange,\n// Item indices coorespond to mergeDefList (len: mergeDefListTravelLen).\n// Indicating whether each item has be merged into the `locatorRange`\noutMergedMarkList, mergeDefList, mergeDefListTravelLen) {\n  outMergedMarkList = outMergedMarkList || _tmpOutMergedMarkList;\n  for (var idx = 0; idx < mergeDefListTravelLen; idx++) {\n    outMergedMarkList[idx] = false;\n  }\n  // In most case, cell merging definition list length is smaller than the range extent,\n  // therefore, to detection intersection, travelling cell merging definition list is probably\n  // performant than traveling the four edges of the rect formed by the locator range.\n  while (true) {\n    var expanded = false;\n    for (var idx = 0; idx < mergeDefListTravelLen; idx++) {\n      var mergeDef = mergeDefList[idx];\n      if (!outMergedMarkList[idx] && mergeDef.cellMergeOwner && expandXYLocatorRangeIfIntersect(inOutLocatorRange, mergeDef.locatorRange)) {\n        outMergedMarkList[idx] = true;\n        expanded = true;\n      }\n    }\n    if (!expanded) {\n      break;\n    }\n  }\n}\nvar _tmpOutMergedMarkList = [];\n// Return whether intersect.\n// `thisLocRange` will be expanded (modified) if an intersection is encountered.\nfunction expandXYLocatorRangeIfIntersect(thisLocRange, otherLocRange) {\n  if (!locatorRangeIntersectOneDim(thisLocRange[0], otherLocRange[0]) || !locatorRangeIntersectOneDim(thisLocRange[1], otherLocRange[1])) {\n    return false;\n  }\n  thisLocRange[0][0] = mathMin(thisLocRange[0][0], otherLocRange[0][0]);\n  thisLocRange[0][1] = mathMax(thisLocRange[0][1], otherLocRange[0][1]);\n  thisLocRange[1][0] = mathMin(thisLocRange[1][0], otherLocRange[1][0]);\n  thisLocRange[1][1] = mathMax(thisLocRange[1][1], otherLocRange[1][1]);\n  return true;\n}\n// Notice: If containing NaN, not intersect.\nfunction locatorRangeIntersectOneDim(locRange1OneDim, locRange2OneDim) {\n  return locRange1OneDim[1] >= locRange2OneDim[0] && locRange1OneDim[0] <= locRange2OneDim[1];\n}\nexport function fillIdSpanFromLocatorRange(owner, locatorRange) {\n  owner.id.set(locatorRange[0][0], locatorRange[1][0]);\n  owner.span.set(locatorRange[0][1] - owner.id.x + 1, locatorRange[1][1] - owner.id.y + 1);\n}\nexport function cloneXYLocatorRange(target, source) {\n  target[0][0] = source[0][0];\n  target[0][1] = source[0][1];\n  target[1][0] = source[1][0];\n  target[1][1] = source[1][1];\n}\n/**\n * If illegal, the corresponding x/y/width/height is set to `NaN`.\n * `x/width` or `y/height` is supported to be calculated separately,\n * i.e., one side are NaN, the other side are normal.\n * @param oneDimOut only write to `x/width` or `y/height`, depending on `dimIdx`.\n */\nexport function xyLocatorRangeToRectOneDim(oneDimOut, locRange, dims, dimIdx) {\n  var layoutMin = coordDataToAllCellLevelLayout(locRange[dimIdx][0], dims, dimIdx);\n  var layoutMax = coordDataToAllCellLevelLayout(locRange[dimIdx][1], dims, dimIdx);\n  oneDimOut[XY[dimIdx]] = oneDimOut[WH[dimIdx]] = NaN;\n  if (layoutMin && layoutMax) {\n    oneDimOut[XY[dimIdx]] = layoutMin.xy;\n    oneDimOut[WH[dimIdx]] = layoutMax.xy + layoutMax.wh - layoutMin.xy;\n  }\n}\n// No need currently, since `span` is not allowed to be defined directly by users.\n// /**\n//  * If either span x or y is valid and > 1, return parsed span, otherwise return `NullUndefined`.\n//  */\n// export function parseSpanOption(\n//     spanOptionHost: MatrixCellSpanOptionHost,\n//     dimCellPair: MatrixCellLayoutInfo[]\n// ): Point | NullUndefined {\n//     const spanX = parseSpanOnDim(spanOptionHost.spanX, dimCellPair[0], 0);\n//     const spanY = parseSpanOnDim(spanOptionHost.spanY, dimCellPair[1], 1);\n//     if (!eqNaN(spanX) || !eqNaN(spanY)) {\n//         return new Point(spanX || 1, spanY || 1);\n//     }\n//     function parseSpanOnDim(spanOption: unknown, dimCell: MatrixCellLayoutInfo, dimIdx: number): number {\n//         if (!isNumber(spanOption)) {\n//             return NaN;\n//         }\n//         // Ensure positive integer (not NaN) to avoid dead loop.\n//         const span = mathMax(1, Math.round(spanOption || 1)) || 1;\n//         // Clamp, and consider may also be specified as `Infinity` to span the entire col/row.\n//         return mathMin(span, mathMax(1, dimCell.dim.getLocatorCount(dimIdx) - dimCell.id[XY[dimIdx]]));\n//     }\n// }\n/**\n * @usage To get/set on dimension, use:\n *  `xyVal[XY[dim]] = val;` // set on this dimension.\n *  `xyVal[XY[1 - dim]] = val;` // set on the perpendicular dimension.\n */\nexport function setDimXYValue(out, dimIdx,\n// 0 | 1\nvalueOnThisDim, valueOnOtherDim) {\n  out[XY[dimIdx]] = valueOnThisDim;\n  out[XY[1 - dimIdx]] = valueOnOtherDim;\n  return out;\n}\n/**\n * Return NullUndefined if not dimension cell.\n */\nfunction cellLayoutInfoToDimCell(cellLayoutInfo) {\n  return cellLayoutInfo && (cellLayoutInfo.type === MatrixCellLayoutInfoType.leaf || cellLayoutInfo.type === MatrixCellLayoutInfoType.nonLeaf) ? cellLayoutInfo : null;\n}\nexport function createNaNRectLike() {\n  return {\n    x: NaN,\n    y: NaN,\n    width: NaN,\n    height: NaN\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, defaults, each, eqNaN, isArray, isObject, isString } from 'zrender/lib/core/util.js';\nimport Point from 'zrender/lib/core/Point.js';\nimport OrdinalMeta from '../../data/OrdinalMeta.js';\nimport Ordinal from '../../scale/Ordinal.js';\nimport { WH, XY } from '../../util/graphic.js';\nimport { ListIterator } from '../../util/model.js';\nimport { createNaNRectLike, setDimXYValue, MatrixCellLayoutInfoType } from './matrixCoordHelper.js';\nimport { error } from '../../util/log.js';\nimport { mathMax } from '../../util/number.js';\n/**\n * Lifetime: the same with `MatrixModel`, but different from `coord/Matrix`.\n */\nvar MatrixDim = /** @class */function () {\n  function MatrixDim(dim, dimModel) {\n    // Under the current definition, every leave corresponds a unit cell,\n    // and leaves can serve as the locator of cells.\n    // Therefore make sure:\n    //  - The first `_leavesCount` elements in `_cells` are leaves.\n    //  - `_cells[leaf.id[XY[this.dimIdx]]]` is the leaf itself.\n    //  - Leaves of each subtree are placed together, that is, the leaves of a dimCell are:\n    //    `this._cells.slice(dimCell.firstLeafLocator, dimCell.span[XY[this.dimIdx]])`\n    this._cells = [];\n    // Can be visited by `_levels[cell.level]` or `_levels[cell.id[1 - dimIdx] + _levels.length]`.\n    // Items are never be null/undefined after initialized.\n    this._levels = [];\n    this.dim = dim;\n    this.dimIdx = dim === 'x' ? 0 : 1;\n    this._model = dimModel;\n    this._uniqueValueGen = createUniqueValueGenerator(dim);\n    var dimModelData = dimModel.get('data', true);\n    if (dimModelData != null && !isArray(dimModelData)) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(\"Illegal echarts option - matrix.\" + this.dim + \".data must be an array if specified.\");\n      }\n      dimModelData = [];\n    }\n    if (dimModelData) {\n      this._initByDimModelData(dimModelData);\n    } else {\n      this._initBySeriesData();\n    }\n  }\n  MatrixDim.prototype._initByDimModelData = function (dimModelData) {\n    var self = this;\n    var _cells = self._cells;\n    var _levels = self._levels;\n    var sameLocatorCellsLists = []; // Save for sorting.\n    var _cellCount = 0;\n    self._leavesCount = traverseInitCells(dimModelData, 0, 0);\n    postInitCells();\n    return;\n    function traverseInitCells(dimModelData, firstLeafLocator, level) {\n      var totalSpan = 0;\n      if (!dimModelData) {\n        return totalSpan;\n      }\n      each(dimModelData, function (option, optionIdx) {\n        var invalidOption = false;\n        var cellOption;\n        if (isString(option)) {\n          cellOption = {\n            value: option\n          };\n        } else if (isObject(option)) {\n          cellOption = option;\n          if (option.value != null && !isString(option.value)) {\n            invalidOption = true;\n            cellOption = {\n              value: null\n            };\n          }\n        } else {\n          cellOption = {\n            value: null\n          };\n          if (option != null) {\n            invalidOption = true;\n          }\n        }\n        if (invalidOption) {\n          if (process.env.NODE_ENV !== 'production') {\n            error(\"Illegal echarts option - matrix.\" + self.dim + \".data[\" + optionIdx + \"]\" + ' must be `string | {value: string}`.');\n          }\n        }\n        var cell = {\n          type: MatrixCellLayoutInfoType.nonLeaf,\n          ordinal: NaN,\n          level: level,\n          firstLeafLocator: firstLeafLocator,\n          id: new Point(),\n          span: setDimXYValue(new Point(), self.dimIdx, 1, 1),\n          option: cellOption,\n          xy: NaN,\n          wh: NaN,\n          dim: self,\n          rect: createNaNRectLike()\n        };\n        _cellCount++;\n        (sameLocatorCellsLists[firstLeafLocator] || (sameLocatorCellsLists[firstLeafLocator] = [])).push(cell);\n        if (!_levels[level]) {\n          // Create a level only if at least one cell exists.\n          _levels[level] = {\n            type: MatrixCellLayoutInfoType.level,\n            xy: NaN,\n            wh: NaN,\n            option: null,\n            id: new Point(),\n            dim: self\n          };\n        }\n        var childrenSpan = traverseInitCells(cellOption.children, firstLeafLocator, level + 1);\n        var subSpan = Math.max(1, childrenSpan);\n        cell.span[XY[self.dimIdx]] = subSpan;\n        totalSpan += subSpan;\n        firstLeafLocator += subSpan;\n      });\n      return totalSpan;\n    }\n    function postInitCells() {\n      // Sort to make sure the leaves are at the beginning, so that\n      // they can be used as the locator of body cells.\n      var categories = [];\n      while (_cells.length < _cellCount) {\n        for (var locator = 0; locator < sameLocatorCellsLists.length; locator++) {\n          var cell = sameLocatorCellsLists[locator].pop();\n          if (cell) {\n            cell.ordinal = categories.length;\n            var val = cell.option.value;\n            categories.push(val);\n            _cells.push(cell);\n            self._uniqueValueGen.calcDupBase(val);\n          }\n        }\n      }\n      self._uniqueValueGen.ensureValueUnique(categories, _cells);\n      var ordinalMeta = self._ordinalMeta = new OrdinalMeta({\n        categories: categories,\n        needCollect: false,\n        deduplication: false\n      });\n      self._scale = new Ordinal({\n        ordinalMeta: ordinalMeta\n      });\n      for (var idx = 0; idx < self._leavesCount; idx++) {\n        var leaf = self._cells[idx];\n        leaf.type = MatrixCellLayoutInfoType.leaf;\n        // Handle the tree level variation: enlarge the span of the leaves to reach the body cells.\n        leaf.span[XY[1 - self.dimIdx]] = self._levels.length - leaf.level;\n      }\n      self._initCellsId();\n      self._initLevelIdOptions();\n    }\n  };\n  MatrixDim.prototype._initBySeriesData = function () {\n    var self = this;\n    self._leavesCount = 0;\n    self._levels = [{\n      type: MatrixCellLayoutInfoType.level,\n      xy: NaN,\n      wh: NaN,\n      option: null,\n      id: new Point(),\n      dim: self\n    }];\n    self._initLevelIdOptions();\n    var ordinalMeta = self._ordinalMeta = new OrdinalMeta({\n      needCollect: true,\n      deduplication: true,\n      onCollect: function (value, ordinalNumber) {\n        var cell = self._cells[ordinalNumber] = {\n          type: MatrixCellLayoutInfoType.leaf,\n          ordinal: ordinalNumber,\n          level: 0,\n          firstLeafLocator: ordinalNumber,\n          id: new Point(),\n          span: setDimXYValue(new Point(), self.dimIdx, 1, 1),\n          // Theoretically `value` is from `dataset` or `series.data`, so it may be any type.\n          // Do not restrict this case for user's convenience, and here simply convert it to\n          // string for display.\n          option: {\n            value: value + ''\n          },\n          xy: NaN,\n          wh: NaN,\n          dim: self,\n          rect: createNaNRectLike()\n        };\n        self._leavesCount++;\n        self._setCellId(cell);\n      }\n    });\n    self._scale = new Ordinal({\n      ordinalMeta: ordinalMeta\n    });\n  };\n  MatrixDim.prototype._setCellId = function (cell) {\n    var levelsLen = this._levels.length;\n    var dimIdx = this.dimIdx;\n    setDimXYValue(cell.id, dimIdx, cell.firstLeafLocator, cell.level - levelsLen);\n  };\n  MatrixDim.prototype._initCellsId = function () {\n    var levelsLen = this._levels.length;\n    var dimIdx = this.dimIdx;\n    each(this._cells, function (cell) {\n      setDimXYValue(cell.id, dimIdx, cell.firstLeafLocator, cell.level - levelsLen);\n    });\n  };\n  MatrixDim.prototype._initLevelIdOptions = function () {\n    var levelsLen = this._levels.length;\n    var dimIdx = this.dimIdx;\n    var levelOptionList = this._model.get('levels', true);\n    levelOptionList = isArray(levelOptionList) ? levelOptionList : [];\n    each(this._levels, function (levelCfg, level) {\n      setDimXYValue(levelCfg.id, dimIdx, 0, level - levelsLen);\n      levelCfg.option = levelOptionList[level];\n    });\n  };\n  MatrixDim.prototype.shouldShow = function () {\n    return !!this._model.getShallow('show', true);\n  };\n  /**\n   * Iterate leaves (they are layout units) if dimIdx === this.dimIdx.\n   * Iterate levels if dimIdx !== this.dimIdx.\n   */\n  MatrixDim.prototype.resetLayoutIterator = function (it, dimIdx, startLocator, count) {\n    it = it || new ListIterator();\n    if (dimIdx === this.dimIdx) {\n      var len = this._leavesCount;\n      var startIdx = startLocator != null ? Math.max(0, startLocator) : 0;\n      count = count != null ? Math.min(count, len) : len;\n      it.reset(this._cells, startIdx, startIdx + count);\n    } else {\n      var len = this._levels.length;\n      // Corner locator is from `-this._levels.length` to `-1`.\n      var startIdx = startLocator != null ? Math.max(0, startLocator + len) : 0;\n      count = count != null ? Math.min(count, len) : len;\n      it.reset(this._levels, startIdx, startIdx + count);\n    }\n    return it;\n  };\n  MatrixDim.prototype.resetCellIterator = function (it) {\n    return (it || new ListIterator()).reset(this._cells, 0);\n  };\n  MatrixDim.prototype.resetLevelIterator = function (it) {\n    return (it || new ListIterator()).reset(this._levels, 0);\n  };\n  MatrixDim.prototype.getLayout = function (outRect, dimIdx, locator) {\n    var layout = this.getUnitLayoutInfo(dimIdx, locator);\n    outRect[XY[dimIdx]] = layout ? layout.xy : NaN;\n    outRect[WH[dimIdx]] = layout ? layout.wh : NaN;\n  };\n  /**\n   * Get leaf cell or get level info.\n   * Should be able to return null/undefined if not found on x or y, thus input `dimIdx` is needed.\n   */\n  MatrixDim.prototype.getUnitLayoutInfo = function (dimIdx, locator) {\n    return dimIdx === this.dimIdx ? locator < this._leavesCount ? this._cells[locator] : undefined : this._levels[locator + this._levels.length];\n  };\n  /**\n   * Get dimension cell by data, including leaves and non-leaves.\n   */\n  MatrixDim.prototype.getCell = function (value) {\n    var ordinal = this._scale.parse(value);\n    return eqNaN(ordinal) ? undefined : this._cells[ordinal];\n  };\n  /**\n   * Get leaf count or get level count.\n   */\n  MatrixDim.prototype.getLocatorCount = function (dimIdx) {\n    return dimIdx === this.dimIdx ? this._leavesCount : this._levels.length;\n  };\n  MatrixDim.prototype.getOrdinalMeta = function () {\n    return this._ordinalMeta;\n  };\n  return MatrixDim;\n}();\nexport { MatrixDim };\nfunction createUniqueValueGenerator(dim) {\n  var dimUpper = dim.toUpperCase();\n  var defaultValReg = new RegExp(\"^\" + dimUpper + \"([0-9]+)$\");\n  var dupBase = 0;\n  function calcDupBase(val) {\n    var matchResult;\n    if (val != null && (matchResult = val.match(defaultValReg))) {\n      dupBase = mathMax(dupBase, +matchResult[1] + 1);\n    }\n  }\n  function makeUniqueValue() {\n    return \"\" + dimUpper + dupBase++;\n  }\n  // Duplicated value is allowed, because the `matrix.x/y.data` can be a tree and it's reasonable\n  // that leaves in different subtrees has the same text. But only the first one is allowed to be\n  // queried by the text, and the other ones can only be queried by index.\n  // Additionally, `matrix.x/y.data: [null, null, ...]` is allowed.\n  function ensureValueUnique(categories, cells) {\n    // A simple way to deduplicate or handle illegal or not specified values to avoid unexpected behaviors.\n    // The tree structure should not be broken even if duplicated.\n    var cateMap = createHashMap();\n    for (var idx = 0; idx < categories.length; idx++) {\n      var value = categories[idx];\n      // value may be set to NullUndefined by users or if illegal.\n      if (value == null || cateMap.get(value) != null) {\n        // Still display the original option.value if duplicated, but loose the ability to query by text.\n        categories[idx] = value = makeUniqueValue();\n        cells[idx].option = defaults({\n          value: value\n        }, cells[idx].option);\n      }\n      cateMap.set(value, true);\n    }\n  }\n  return {\n    calcDupBase: calcDupBase,\n    ensureValueUnique: ensureValueUnique\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each, extend, isArray, isObject } from 'zrender/lib/core/util.js';\nimport { error } from '../../util/log.js';\nimport Point from 'zrender/lib/core/Point.js';\nimport { resolveXYLocatorRangeByCellMerge, MatrixClampOption, parseCoordRangeOption, fillIdSpanFromLocatorRange, createNaNRectLike, isXYLocatorRangeInvalidOnDim, resetXYLocatorRange, cloneXYLocatorRange } from './matrixCoordHelper.js';\n/**\n * Lifetime: the same with `MatrixModel`, but different from `coord/Matrix`.\n */\nvar MatrixBodyCorner = /** @class */function () {\n  function MatrixBodyCorner(kind, bodyOrCornerModel, dims) {\n    this._model = bodyOrCornerModel;\n    this._dims = dims;\n    this._kind = kind;\n    this._cellMergeOwnerList = [];\n  }\n  /**\n   * Can not be called before series models initialization finished, since the ordinalMeta may\n   * use collect the values from `series.data` in series initialization.\n   */\n  MatrixBodyCorner.prototype._ensureCellMap = function () {\n    var self = this;\n    var _cellMap = self._cellMap;\n    if (!_cellMap) {\n      _cellMap = self._cellMap = createHashMap();\n      fillCellMap();\n    }\n    return _cellMap;\n    function fillCellMap() {\n      var parsedList = [];\n      var cellOptionList = self._model.getShallow('data');\n      if (cellOptionList && !isArray(cellOptionList)) {\n        if (process.env.NODE_ENV !== 'production') {\n          error(\"matrix.\" + cellOptionList + \".data must be an array if specified.\");\n        }\n        cellOptionList = null;\n      }\n      each(cellOptionList, function (option, idx) {\n        if (!isObject(option) || !isArray(option.coord)) {\n          if (process.env.NODE_ENV !== 'production') {\n            error(\"Illegal matrix.\" + self._kind + \".data[\" + idx + \"], must be a {coord: [...], ...}\");\n          }\n          return;\n        }\n        var locatorRange = resetXYLocatorRange([]);\n        var reasonArr = null;\n        if (process.env.NODE_ENV !== 'production') {\n          reasonArr = [];\n        }\n        parseCoordRangeOption(locatorRange, reasonArr, option.coord, self._dims, option.coordClamp ? MatrixClampOption[self._kind] : MatrixClampOption.none);\n        if (isXYLocatorRangeInvalidOnDim(locatorRange, 0) || isXYLocatorRangeInvalidOnDim(locatorRange, 1)) {\n          if (process.env.NODE_ENV !== 'production') {\n            error(\"Can not determine cells by option matrix.\" + self._kind + \".data[\" + idx + \"]: \" + (\"\" + reasonArr.join(' ')));\n          }\n          return;\n        }\n        var cellMergeOwner = option && option.mergeCells;\n        var parsed = {\n          id: new Point(),\n          span: new Point(),\n          locatorRange: locatorRange,\n          option: option,\n          cellMergeOwner: cellMergeOwner\n        };\n        fillIdSpanFromLocatorRange(parsed, locatorRange);\n        // The order of the `parsedList` determines the precedence of the styles, if there\n        // are overlaps between ranges specified in different items. Preserve the original\n        // order of `matrix.body/corner/data` to make it predictable for users.\n        parsedList.push(parsed);\n      });\n      // Resolve cell merging intersection - union to a larger rect.\n      var mergedMarkList = [];\n      for (var parsedIdx = 0; parsedIdx < parsedList.length; parsedIdx++) {\n        var parsed = parsedList[parsedIdx];\n        if (!parsed.cellMergeOwner) {\n          continue;\n        }\n        var locatorRange = parsed.locatorRange;\n        resolveXYLocatorRangeByCellMerge(locatorRange, mergedMarkList, parsedList, parsedIdx);\n        for (var idx = 0; idx < parsedIdx; idx++) {\n          if (mergedMarkList[idx]) {\n            parsedList[idx].cellMergeOwner = false;\n          }\n        }\n        if (locatorRange[0][0] !== parsed.id.x || locatorRange[1][0] !== parsed.id.y) {\n          // The top-left cell of the unioned locatorRange is not this cell any more.\n          parsed.cellMergeOwner = false;\n          // Reconcile: simply use the last style and value option if multiple styles involved\n          // in a merged area, since there might be no commonly used merge strategy.\n          var newOption = extend({}, parsed.option);\n          newOption.coord = null;\n          var newParsed = {\n            id: new Point(),\n            span: new Point(),\n            locatorRange: locatorRange,\n            option: newOption,\n            cellMergeOwner: true\n          };\n          fillIdSpanFromLocatorRange(newParsed, locatorRange);\n          parsedList.push(newParsed);\n        }\n      }\n      // Assign options to cells.\n      each(parsedList, function (parsed) {\n        var topLeftCell = ensureBodyOrCornerCell(parsed.id.x, parsed.id.y);\n        if (parsed.cellMergeOwner) {\n          topLeftCell.cellMergeOwner = true;\n          topLeftCell.span = parsed.span;\n          topLeftCell.locatorRange = parsed.locatorRange;\n          topLeftCell.spanRect = createNaNRectLike();\n          self._cellMergeOwnerList.push(topLeftCell);\n        }\n        if (!parsed.cellMergeOwner && !parsed.option) {\n          return;\n        }\n        for (var yidx = 0; yidx < parsed.span.y; yidx++) {\n          for (var xidx = 0; xidx < parsed.span.x; xidx++) {\n            var cell = ensureBodyOrCornerCell(parsed.id.x + xidx, parsed.id.y + yidx);\n            // If multiple style options are defined on a cell, the later ones takes precedence.\n            cell.option = parsed.option;\n            if (parsed.cellMergeOwner) {\n              cell.inSpanOf = topLeftCell;\n            }\n          }\n        }\n      });\n    } // End of fillCellMap\n    function ensureBodyOrCornerCell(x, y) {\n      var key = makeCellMapKey(x, y);\n      var cell = _cellMap.get(key);\n      if (!cell) {\n        cell = _cellMap.set(key, {\n          id: new Point(x, y),\n          option: null,\n          inSpanOf: null,\n          span: null,\n          spanRect: null,\n          locatorRange: null,\n          cellMergeOwner: false\n        });\n      }\n      return cell;\n    }\n  };\n  /**\n   * Body cells or corner cell are not commonly defined specifically, especially in a large\n   * table, thus his is a sparse data structure - bodys or corner cells exist only if there\n   * are options specified to it (in `matrix.body.data` or `matrix.corner.data`);\n   * otherwise, return `NullUndefined`.\n   */\n  MatrixBodyCorner.prototype.getCell = function (xy) {\n    // Assert xy do not contain NaN\n    return this._ensureCellMap().get(makeCellMapKey(xy[0], xy[1]));\n  };\n  /**\n   * Only cell existing (has specific definition or props) will be travelled.\n   */\n  MatrixBodyCorner.prototype.travelExistingCells = function (cb) {\n    this._ensureCellMap().each(cb);\n  };\n  /**\n   * @param locatorRange Must be the return of `parseCoordRangeOption`.\n   */\n  MatrixBodyCorner.prototype.expandRangeByCellMerge = function (locatorRange) {\n    if (!isXYLocatorRangeInvalidOnDim(locatorRange, 0) && !isXYLocatorRangeInvalidOnDim(locatorRange, 1) && locatorRange[0][0] === locatorRange[0][1] && locatorRange[1][0] === locatorRange[1][1]) {\n      // If it locates to a single cell, use this quick path to avoid travelling.\n      // It is based on the fact that any cell is not contained by more than one cell merging rect.\n      _tmpERBCMLocator[0] = locatorRange[0][0];\n      _tmpERBCMLocator[1] = locatorRange[1][0];\n      var cell = this.getCell(_tmpERBCMLocator);\n      var inSpanOf = cell && cell.inSpanOf;\n      if (inSpanOf) {\n        cloneXYLocatorRange(locatorRange, inSpanOf.locatorRange);\n        return;\n      }\n    }\n    var list = this._cellMergeOwnerList;\n    resolveXYLocatorRangeByCellMerge(locatorRange, null, list, list.length);\n  };\n  return MatrixBodyCorner;\n}();\nexport { MatrixBodyCorner };\nvar _tmpERBCMLocator = [];\nfunction makeCellMapKey(x, y) {\n  return x + \"|\" + y;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nimport Model from '../../model/Model.js';\nimport { MatrixDim } from './MatrixDim.js';\nimport { MatrixBodyCorner } from './MatrixBodyCorner.js';\nimport tokens from '../../visual/tokens.js';\nvar defaultLabelOption = {\n  show: true,\n  color: tokens.color.secondary,\n  // overflow: 'truncate',\n  overflow: 'break',\n  lineOverflow: 'truncate',\n  padding: [2, 3, 2, 3],\n  // Prefer to use `padding`, rather than distance.\n  distance: 0\n};\nfunction makeDefaultCellItemStyleOption(isCorner) {\n  return {\n    color: 'none',\n    borderWidth: 1,\n    borderColor: isCorner ? 'none' : tokens.color.borderTint\n  };\n}\n;\nvar defaultDimOption = {\n  show: true,\n  label: defaultLabelOption,\n  itemStyle: makeDefaultCellItemStyleOption(false),\n  silent: undefined,\n  dividerLineStyle: {\n    width: 1,\n    color: tokens.color.border\n  }\n};\nvar defaultBodyOption = {\n  label: defaultLabelOption,\n  itemStyle: makeDefaultCellItemStyleOption(false),\n  silent: undefined\n};\nvar defaultCornerOption = {\n  label: defaultLabelOption,\n  itemStyle: makeDefaultCellItemStyleOption(true),\n  silent: undefined\n};\nvar defaultMatrixOption = {\n  // As a most basic coord sys, `z` should be lower than\n  // other series and coord sys, such as, grid.\n  z: -50,\n  left: '10%',\n  top: '10%',\n  right: '10%',\n  bottom: '10%',\n  x: defaultDimOption,\n  y: defaultDimOption,\n  body: defaultBodyOption,\n  corner: defaultCornerOption,\n  backgroundStyle: {\n    color: 'none',\n    borderColor: tokens.color.axisLine,\n    borderWidth: 1\n  }\n};\nvar MatrixModel = /** @class */function (_super) {\n  __extends(MatrixModel, _super);\n  function MatrixModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MatrixModel.type;\n    return _this;\n  }\n  MatrixModel.prototype.optionUpdated = function () {\n    // Simply re-create all to follow model changes.\n    var dimModels = this._dimModels = {\n      // Do not use matrixModel as the parent model, for preventing from cascade-fetching options to it.\n      x: new MatrixDimensionModel(this.get('x', true) || {}),\n      y: new MatrixDimensionModel(this.get('y', true) || {})\n    };\n    dimModels.x.option.type = dimModels.y.option.type = 'category';\n    var xDim = dimModels.x.dim = new MatrixDim('x', dimModels.x);\n    var yDim = dimModels.y.dim = new MatrixDim('y', dimModels.y);\n    var dims = {\n      x: xDim,\n      y: yDim\n    };\n    this._body = new MatrixBodyCorner('body', new Model(this.getShallow('body')), dims);\n    this._corner = new MatrixBodyCorner('corner', new Model(this.getShallow('corner')), dims);\n  };\n  MatrixModel.prototype.getDimensionModel = function (dim) {\n    return this._dimModels[dim];\n  };\n  MatrixModel.prototype.getBody = function () {\n    return this._body;\n  };\n  MatrixModel.prototype.getCorner = function () {\n    return this._corner;\n  };\n  MatrixModel.type = 'matrix';\n  MatrixModel.layoutMode = 'box';\n  MatrixModel.defaultOption = defaultMatrixOption;\n  return MatrixModel;\n}(ComponentModel);\nvar MatrixDimensionModel = /** @class */function (_super) {\n  __extends(MatrixDimensionModel, _super);\n  function MatrixDimensionModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  MatrixDimensionModel.prototype.getOrdinalMeta = function () {\n    return this.dim.getOrdinalMeta();\n  };\n  return MatrixDimensionModel;\n}(Model);\nexport { MatrixDimensionModel };\nexport default MatrixModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nimport Model from '../../model/Model.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as vectorUtil from 'zrender/lib/core/vector.js';\nimport { subPixelOptimize } from 'zrender/lib/graphic/helper/subPixelOptimize.js';\nimport { Rect, Line, XY, setTooltipConfig, expandOrShrinkRect } from '../../util/graphic.js';\nimport { clearTmpModel, ListIterator } from '../../util/model.js';\nimport { clone, retrieve2 } from 'zrender/lib/core/util.js';\nimport { invert } from 'zrender/lib/core/matrix.js';\nimport { setLabelStyle } from '../../label/labelStyle.js';\nvar round = Math.round;\nvar Z2_BACKGROUND = 0;\nvar Z2_OUTER_BORDER = 99;\nvar Z2_BODY_CORNER_CELL_DEFAULT = {\n  normal: 25,\n  special: 100\n};\nvar Z2_DIMENSION_CELL_DEFAULT = {\n  normal: 50,\n  special: 125\n};\nvar MatrixView = /** @class */function (_super) {\n  __extends(MatrixView, _super);\n  function MatrixView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MatrixView.type;\n    return _this;\n  }\n  MatrixView.prototype.render = function (matrixModel, ecModel) {\n    this.group.removeAll();\n    var group = this.group;\n    var coordSys = matrixModel.coordinateSystem;\n    var rect = coordSys.getRect();\n    var xDimModel = matrixModel.getDimensionModel('x');\n    var yDimModel = matrixModel.getDimensionModel('y');\n    var xDim = xDimModel.dim;\n    var yDim = yDimModel.dim;\n    // PENDING:\n    //  reuse the existing text and rect elements for performance?\n    renderDimensionCells(group, matrixModel, ecModel);\n    createBodyAndCorner(group, matrixModel, xDim, yDim, ecModel);\n    var borderZ2Option = matrixModel.getShallow('borderZ2', true);\n    var outerBorderZ2 = retrieve2(borderZ2Option, Z2_OUTER_BORDER);\n    var dividerLineZ2 = outerBorderZ2 - 1;\n    // Outer border and overall background. Use separate elements because of z-order:\n    // The overall background should appear below any other elements.\n    // But in most cases, the outer border and the divider line should be above the normal cell borders -\n    // especially when cell borders have different colors. But users may highlight some specific cells by\n    // overstirking their border, in which case it should be above the outer border.\n    var bgStyle = matrixModel.getModel('backgroundStyle').getItemStyle(['borderWidth']);\n    bgStyle.lineWidth = 0;\n    var borderStyle = matrixModel.getModel('backgroundStyle').getItemStyle(['color', 'decal', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY']);\n    borderStyle.fill = 'none';\n    var bgRect = createMatrixRect(rect.clone(), bgStyle, Z2_BACKGROUND);\n    var borderRect = createMatrixRect(rect.clone(), borderStyle, outerBorderZ2);\n    bgRect.silent = true;\n    borderRect.silent = true;\n    group.add(bgRect);\n    group.add(borderRect);\n    // Header split line.\n    var xDimCell0 = xDim.getUnitLayoutInfo(0, 0);\n    var yDimCell0 = yDim.getUnitLayoutInfo(1, 0);\n    if (xDimCell0 && yDimCell0) {\n      if (xDim.shouldShow()) {\n        group.add(createMatrixLine({\n          x1: rect.x,\n          y1: yDimCell0.xy,\n          x2: rect.x + rect.width,\n          y2: yDimCell0.xy\n        }, xDimModel.getModel('dividerLineStyle').getLineStyle(), dividerLineZ2));\n      }\n      if (yDim.shouldShow()) {\n        group.add(createMatrixLine({\n          x1: xDimCell0.xy,\n          y1: rect.y,\n          x2: xDimCell0.xy,\n          y2: rect.y + rect.height\n        }, yDimModel.getModel('dividerLineStyle').getLineStyle(), dividerLineZ2));\n      }\n    }\n  };\n  MatrixView.type = 'matrix';\n  return MatrixView;\n}(ComponentView);\nfunction renderDimensionCells(group, matrixModel, ecModel) {\n  renderOnDimension(0);\n  renderOnDimension(1);\n  function renderOnDimension(dimIdx) {\n    var thisDimModel = matrixModel.getDimensionModel(XY[dimIdx]);\n    var thisDim = thisDimModel.dim;\n    if (!thisDim.shouldShow()) {\n      return;\n    }\n    var thisDimBgStyleModel = thisDimModel.getModel('itemStyle');\n    var thisDimLabelModel = thisDimModel.getModel('label');\n    var tooltipOption = matrixModel.getShallow('tooltip', true);\n    var xyLocator = [];\n    for (var it_1 = thisDim.resetCellIterator(); it_1.next();) {\n      var dimCell = it_1.item;\n      var shape = {};\n      BoundingRect.copy(shape, dimCell.rect);\n      vectorUtil.set(xyLocator, dimCell.id.x, dimCell.id.y);\n      createMatrixCell(xyLocator, matrixModel, group, ecModel, dimCell.option, thisDimBgStyleModel, thisDimLabelModel, thisDimModel, shape, dimCell.option.value, Z2_DIMENSION_CELL_DEFAULT, tooltipOption);\n    }\n  }\n}\nfunction createBodyAndCorner(group, matrixModel, xDim, yDim, ecModel) {\n  createBodyOrCornerCells('body', matrixModel.getBody(), xDim, yDim);\n  if (xDim.shouldShow() && yDim.shouldShow()) {\n    createBodyOrCornerCells('corner', matrixModel.getCorner(), yDim, xDim);\n  }\n  function createBodyOrCornerCells(bodyCornerOptionRoot, bodyOrCorner, dimForCoordX,\n  // Can be `matrix.y` (transposed) for corners.\n  dimForCoordY) {\n    // Prevent inheriting from ancestor.\n    var parentCellModel = new Model(matrixModel.getShallow(bodyCornerOptionRoot, true));\n    var parentItemStyleModel = parentCellModel.getModel('itemStyle');\n    var parentLabelModel = parentCellModel.getModel('label');\n    var itx = new ListIterator();\n    var ity = new ListIterator();\n    var xyLocator = [];\n    var tooltipOption = matrixModel.getShallow('tooltip', true);\n    for (dimForCoordY.resetLayoutIterator(ity, 1); ity.next();) {\n      for (dimForCoordX.resetLayoutIterator(itx, 0); itx.next();) {\n        var xLayout = itx.item;\n        var yLayout = ity.item;\n        vectorUtil.set(xyLocator, xLayout.id.x, yLayout.id.y);\n        var bodyCornerCell = bodyOrCorner.getCell(xyLocator);\n        // If in span of an other body or corner cell, never render it.\n        if (bodyCornerCell && bodyCornerCell.inSpanOf && bodyCornerCell.inSpanOf !== bodyCornerCell) {\n          continue;\n        }\n        var shape = {};\n        if (bodyCornerCell && bodyCornerCell.span) {\n          BoundingRect.copy(shape, bodyCornerCell.spanRect);\n        } else {\n          xLayout.dim.getLayout(shape, 0, xyLocator[0]);\n          yLayout.dim.getLayout(shape, 1, xyLocator[1]);\n        }\n        var bodyCornerCellOption = bodyCornerCell ? bodyCornerCell.option : null;\n        createMatrixCell(xyLocator, matrixModel, group, ecModel, bodyCornerCellOption, parentItemStyleModel, parentLabelModel, parentCellModel, shape, bodyCornerCellOption ? bodyCornerCellOption.value : null, Z2_BODY_CORNER_CELL_DEFAULT, tooltipOption);\n      }\n    }\n  } // End of createBodyOrCornerCells\n}\nfunction createMatrixCell(xyLocator, matrixModel, group, ecModel, cellOption, parentItemStyleModel, parentLabelModel, parentCellModel, shape, textValue, zrCellDefault, tooltipOption) {\n  var _a;\n  // Do not use getModel for handy performance optimization.\n  _tmpCellItemStyleModel.option = cellOption ? cellOption.itemStyle : null;\n  _tmpCellItemStyleModel.parentModel = parentItemStyleModel;\n  _tmpCellModel.option = cellOption;\n  _tmpCellModel.parentModel = parentCellModel;\n  // Use different z2 because special border may be defined in itemStyle.\n  var z2 = retrieve2(_tmpCellModel.getShallow('z2'), cellOption && cellOption.itemStyle ? zrCellDefault.special : zrCellDefault.normal);\n  var tooltipOptionShow = tooltipOption && tooltipOption.show;\n  var cellRect = createMatrixRect(shape, _tmpCellItemStyleModel.getItemStyle(), z2);\n  group.add(cellRect);\n  var cursorOption = _tmpCellModel.get('cursor');\n  if (cursorOption != null) {\n    cellRect.attr('cursor', cursorOption);\n  }\n  var cellText;\n  if (textValue != null) {\n    var text = textValue + '';\n    _tmpCellLabelModel.option = cellOption ? cellOption.label : null;\n    _tmpCellLabelModel.parentModel = parentLabelModel;\n    // This is to accept `option.textStyle` as the default.\n    _tmpCellLabelModel.ecModel = ecModel;\n    setLabelStyle(cellRect,\n    // Currently do not support other states (`emphasis`, `select`, `blur`)\n    {\n      normal: _tmpCellLabelModel\n    }, {\n      defaultText: text,\n      autoOverflowArea: true,\n      // By default based on boundingRect. But boundingRect contains borderWidth,\n      // and borderWidth is half outside the cell. Thus specific `layoutRect` explicitly.\n      layoutRect: clone(cellRect.shape)\n    });\n    cellText = cellRect.getTextContent();\n    if (cellText) {\n      cellText.z2 = z2 + 1;\n      var style = cellText.style;\n      if (style && style.overflow && style.overflow !== 'none' && style.lineOverflow) {\n        // `overflow: 'break'/'breakAll'/'truncate'` does not guarantee prevention of overflow\n        // when space is insufficient. Use a `clipPath` in such case.\n        var clipShape = {};\n        BoundingRect.copy(clipShape, shape);\n        // `lineWidth` is half outside half inside the bounding rect.\n        expandOrShrinkRect(clipShape, (((_a = cellRect.style) === null || _a === void 0 ? void 0 : _a.lineWidth) || 0) / 2, true, true);\n        cellRect.updateInnerText();\n        cellText.getLocalTransform(_tmpInnerTextTrans);\n        invert(_tmpInnerTextTrans, _tmpInnerTextTrans);\n        BoundingRect.applyTransform(clipShape, clipShape, _tmpInnerTextTrans);\n        cellText.setClipPath(new Rect({\n          shape: clipShape\n        }));\n      }\n    }\n    setTooltipConfig({\n      el: cellRect,\n      componentModel: matrixModel,\n      itemName: text,\n      itemTooltipOption: tooltipOption,\n      formatterParamsExtra: {\n        xyLocator: xyLocator.slice()\n      }\n    });\n  }\n  // Set silent\n  if (cellText) {\n    var labelSilent = _tmpCellLabelModel.get('silent');\n    // auto, tooltip of text cells need silient: false, but non-text cells\n    // do not need a special cursor in most cases.\n    if (labelSilent == null) {\n      labelSilent = !tooltipOptionShow;\n    }\n    cellText.silent = labelSilent;\n    cellText.ignoreHostSilent = true;\n  }\n  var rectSilent = _tmpCellModel.get('silent');\n  if (rectSilent == null) {\n    rectSilent =\n    // If no background color in cell, set `rect.silent: false` will cause that only\n    // the border response to mouse hovering, which is probably weird.\n    !cellRect.style || cellRect.style.fill === 'none' || !cellRect.style.fill;\n  }\n  cellRect.silent = rectSilent;\n  clearTmpModel(_tmpCellModel);\n  clearTmpModel(_tmpCellItemStyleModel);\n  clearTmpModel(_tmpCellLabelModel);\n}\nvar _tmpCellModel = new Model();\nvar _tmpCellItemStyleModel = new Model();\nvar _tmpCellLabelModel = new Model();\nvar _tmpInnerTextTrans = [];\n// FIXME: move all of the subpixel process to Matrix.ts resize, otherwise the result of\n// `dataToLayout` is not consistent with this rendering, and the caller (like heatmap) can\n// not precisely align with the matrix border.\nfunction createMatrixRect(shape, style, z2) {\n  // Currently `subPixelOptimizeRect` can not be used here because it will break rect alignment.\n  // Optimize line and rect with the same direction.\n  var lineWidth = style.lineWidth;\n  if (lineWidth) {\n    var x2Original = shape.x + shape.width;\n    var y2Original = shape.y + shape.height;\n    shape.x = subPixelOptimize(shape.x, lineWidth, true);\n    shape.y = subPixelOptimize(shape.y, lineWidth, true);\n    shape.width = subPixelOptimize(x2Original, lineWidth, true) - shape.x;\n    shape.height = subPixelOptimize(y2Original, lineWidth, true) - shape.y;\n  }\n  return new Rect({\n    shape: shape,\n    style: style,\n    z2: z2\n  });\n}\nfunction createMatrixLine(shape, style, z2) {\n  var lineWidth = style.lineWidth;\n  if (lineWidth) {\n    if (round(shape.x1 * 2) === round(shape.x2 * 2)) {\n      shape.x1 = shape.x2 = subPixelOptimize(shape.x1, lineWidth, true);\n    }\n    if (round(shape.y1 * 2) === round(shape.y2 * 2)) {\n      shape.y1 = shape.y2 = subPixelOptimize(shape.y1, lineWidth, true);\n    }\n  }\n  return new Line({\n    shape: shape,\n    style: style,\n    silent: true,\n    z2: z2\n  });\n}\nexport default MatrixView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getLayoutRect } from '../../util/layout.js';\nimport { ListIterator } from '../../util/model.js';\nimport { eqNaN, isArray, retrieve2 } from 'zrender/lib/core/util.js';\nimport { WH, XY } from '../../util/graphic.js';\nimport Model from '../../model/Model.js';\nimport { mathMax, mathMin, parsePositionSizeOption } from '../../util/number.js';\nimport { createNaNRectLike, MatrixClampOption, MatrixCellLayoutInfoType, parseCoordRangeOption, resetXYLocatorRange, xyLocatorRangeToRectOneDim } from './matrixCoordHelper.js';\nimport { error } from '../../util/log.js';\nimport { injectCoordSysByOption, simpleCoordSysInjectionProvider } from '../../core/CoordinateSystem.js';\nvar Matrix = /** @class */function () {\n  function Matrix(matrixModel, ecModel, api) {\n    this.dimensions = Matrix.dimensions;\n    this.type = 'matrix';\n    this._model = matrixModel;\n    var models = this._dimModels = {\n      x: matrixModel.getDimensionModel('x'),\n      y: matrixModel.getDimensionModel('y')\n    };\n    this._dims = {\n      x: models.x.dim,\n      y: models.y.dim\n    };\n    this._resize(matrixModel, api);\n  }\n  /**\n   * @see fetchers in `model/referHelper.ts`,\n   * which is used to parse data in ordinal way.\n   * In most series only 'x' and 'y' is required,\n   * but some series, such as heatmap, can specify value.\n   */\n  Matrix.getDimensionsInfo = function () {\n    return [{\n      name: 'x',\n      type: 'ordinal'\n    }, {\n      name: 'y',\n      type: 'ordinal'\n    }, {\n      name: 'value'\n    }];\n  };\n  Matrix.create = function (ecModel, api) {\n    var matrixList = [];\n    ecModel.eachComponent('matrix', function (matrixModel) {\n      var matrix = new Matrix(matrixModel, ecModel, api);\n      matrixList.push(matrix);\n      matrixModel.coordinateSystem = matrix;\n    });\n    // Inject coordinate system\n    // PENDING: optimize to not to travel all components?\n    //  (collect relevant components in ecModel only when model update?)\n    ecModel.eachComponent(function (mainType, componentModel) {\n      injectCoordSysByOption({\n        targetModel: componentModel,\n        coordSysType: 'matrix',\n        coordSysProvider: simpleCoordSysInjectionProvider\n      });\n    });\n    return matrixList;\n  };\n  Matrix.prototype.getRect = function () {\n    return this._rect;\n  };\n  Matrix.prototype._resize = function (matrixModel, api) {\n    var dims = this._dims;\n    var dimModels = this._dimModels;\n    var rect = this._rect = getLayoutRect(matrixModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    layOutUnitsOnDimension(dimModels, dims, rect, 0);\n    layOutUnitsOnDimension(dimModels, dims, rect, 1);\n    layOutDimCellsRestInfoByUnit(0, dims);\n    layOutDimCellsRestInfoByUnit(1, dims);\n    layOutBodyCornerCellMerge(this._model.getBody(), dims);\n    layOutBodyCornerCellMerge(this._model.getCorner(), dims);\n  };\n  /**\n   * @implement\n   * - The input is allowed to be `[NaN/null/undefined, xxx]`/`[xxx, NaN/null/undefined]`;\n   *  the return is `[NaN, xxxresult]`/`[xxxresult, NaN]` or clamped boundary value if\n   *  `clamp` passed. This is for the usage that only get coord on single x or y.\n   * - Alwasy return an numeric array, but never be null/undefined.\n   *  If it can not be located or invalid, return `[NaN, NaN]`.\n   */\n  Matrix.prototype.dataToPoint = function (data, opt, out) {\n    out = out || [];\n    this.dataToLayout(data, opt, _dtpOutDataToLayout);\n    out[0] = _dtpOutDataToLayout.rect.x + _dtpOutDataToLayout.rect.width / 2;\n    out[1] = _dtpOutDataToLayout.rect.y + _dtpOutDataToLayout.rect.height / 2;\n    return out;\n  };\n  /**\n   * @implement\n   * - The input is allowed to be `[NaN/null/undefined, xxx]`/`[xxx, NaN/null/undefined]`;\n   *  the return is `{x: NaN, width: NaN, y: xxxresulty, height: xxxresulth}`/\n   *  `{y: NaN, height: NaN, x: xxxresultx, width: xxxresultw}` or clamped boundary value\n   *  if `clamp` passed. This is for the usage that only get coord on single x or y.\n   * - The returned `out.rect` and `out.matrixXYLocatorRange` is always an object or an 2d-array,\n   *  but never be null/undefined. If it cannot be located or invalid, `NaN` is in their\n   *  corresponding number props.\n   * - Do not provide `out.contentRect`, because it's allowed to input non-leaf dimension x/y or\n   *  a range of x/y, which determines a rect covering multiple cells (even not merged), in which\n   *  case the padding and borderWidth can not be determined to make a contentRect. Therefore only\n   *  return `out.rect` in any case for consistency. The caller is responsible for adding space to\n   *  avoid covering cell borders, if necessary.\n   */\n  Matrix.prototype.dataToLayout = function (data, opt, out) {\n    var dims = this._dims;\n    out = out || {};\n    var outRect = out.rect = out.rect || {};\n    outRect.x = outRect.y = outRect.width = outRect.height = NaN;\n    var outLocRange = out.matrixXYLocatorRange = resetXYLocatorRange(out.matrixXYLocatorRange);\n    if (!isArray(data)) {\n      if (process.env.NODE_ENV !== 'production') {\n        error('Input data must be an array in `convertToLayout`, `convertToPixel`');\n      }\n      return out;\n    }\n    parseCoordRangeOption(outLocRange, null, data, dims, retrieve2(opt && opt.clamp, MatrixClampOption.none));\n    if (!opt || !opt.ignoreMergeCells) {\n      if (!opt || opt.clamp !== MatrixClampOption.corner) {\n        this._model.getBody().expandRangeByCellMerge(outLocRange);\n      }\n      if (!opt || opt.clamp !== MatrixClampOption.body) {\n        this._model.getCorner().expandRangeByCellMerge(outLocRange);\n      }\n    }\n    xyLocatorRangeToRectOneDim(outRect, outLocRange, dims, 0);\n    xyLocatorRangeToRectOneDim(outRect, outLocRange, dims, 1);\n    return out;\n  };\n  /**\n   * The returned locator pair can be the input of `dataToPoint` or `dataToLayout`.\n   *\n   * If point[0] is out of the matrix rect,\n   *  the out[0] is NaN;\n   * else if it is on the right of top-left corner of body,\n   *  the out[0] is the oridinal number (>= 0).\n   * else\n   *  out[0] is the locator for corner or header (<= 0).\n   *\n   * The same rule goes for point[1] and out[1].\n   *\n   * But point[0] and point[1] are calculated separately, i.e.,\n   * the reuslt can be `[1, NaN]` or `[NaN, 1]` if only one dimension is out of boundary.\n   *\n   * @implement\n   */\n  Matrix.prototype.pointToData = function (point, opt, out) {\n    var dims = this._dims;\n    pointToDataOneDimPrepareCtx(_tmpCtxPointToData, 0, dims, point, opt && opt.clamp);\n    pointToDataOneDimPrepareCtx(_tmpCtxPointToData, 1, dims, point, opt && opt.clamp);\n    out = out || [];\n    out[0] = out[1] = NaN;\n    if (_tmpCtxPointToData.y === CtxPointToDataAreaType.inCorner && _tmpCtxPointToData.x === CtxPointToDataAreaType.inBody) {\n      pointToDataOnlyHeaderFillOut(_tmpCtxPointToData, out, 0, dims);\n    } else if (_tmpCtxPointToData.x === CtxPointToDataAreaType.inCorner && _tmpCtxPointToData.y === CtxPointToDataAreaType.inBody) {\n      pointToDataOnlyHeaderFillOut(_tmpCtxPointToData, out, 1, dims);\n    } else {\n      pointToDataBodyCornerFillOut(_tmpCtxPointToData, out, 0, dims);\n      pointToDataBodyCornerFillOut(_tmpCtxPointToData, out, 1, dims);\n    }\n    return out;\n  };\n  Matrix.prototype.convertToPixel = function (ecModel, finder, value, opt) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value, opt) : undefined;\n  };\n  Matrix.prototype.convertToLayout = function (ecModel, finder, value, opt) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToLayout(value, opt) : undefined;\n  };\n  Matrix.prototype.convertFromPixel = function (ecModel, finder, pixel, opt) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel, opt) : undefined;\n  };\n  Matrix.prototype.containPoint = function (point) {\n    return this._rect.contain(point[0], point[1]);\n  };\n  Matrix.dimensions = ['x', 'y', 'value'];\n  return Matrix;\n}();\nvar _dtpOutDataToLayout = {\n  rect: createNaNRectLike()\n};\nvar _ptdLevelIt = new ListIterator();\nvar _ptdDimCellIt = new ListIterator();\nfunction layOutUnitsOnDimension(dimModels, dims, matrixRect, dimIdx) {\n  var otherDimIdx = 1 - dimIdx;\n  var thisDim = dims[XY[dimIdx]];\n  var otherDim = dims[XY[otherDimIdx]];\n  // Notice: If matrix.x/y.show is false, still lay out, to ensure the\n  // consistent return of `dataToLayout`.\n  var otherDimShow = otherDim.shouldShow();\n  // Reset\n  for (var it_1 = thisDim.resetCellIterator(); it_1.next();) {\n    it_1.item.wh = it_1.item.xy = NaN;\n  }\n  for (var it_2 = otherDim.resetLayoutIterator(null, dimIdx); it_2.next();) {\n    it_2.item.wh = it_2.item.xy = NaN;\n  }\n  // Set specified size from option.\n  var restSize = matrixRect[WH[dimIdx]];\n  var restCellsCount = thisDim.getLocatorCount(dimIdx) + otherDim.getLocatorCount(dimIdx);\n  var tmpLevelModel = new Model();\n  for (var it_3 = otherDim.resetLevelIterator(); it_3.next();) {\n    // Consider `matrix.x.levelSize` and `matrix.x.levels[i].levelSize`.\n    tmpLevelModel.option = it_3.item.option;\n    tmpLevelModel.parentModel = dimModels[XY[otherDimIdx]];\n    layOutSpecified(it_3.item, otherDimShow ? tmpLevelModel.get('levelSize') : 0);\n  }\n  var tmpCellModel = new Model();\n  for (var it_4 = thisDim.resetCellIterator(); it_4.next();) {\n    // Only leaf support size specification, to avoid unnecessary complexity.\n    if (it_4.item.type === MatrixCellLayoutInfoType.leaf) {\n      tmpCellModel.option = it_4.item.option;\n      tmpCellModel.parentModel = undefined;\n      layOutSpecified(it_4.item, tmpCellModel.get('size'));\n    }\n  }\n  function layOutSpecified(item, sizeOption) {\n    var size = parseSizeOption(sizeOption, dimIdx, matrixRect);\n    if (!eqNaN(size)) {\n      item.wh = confineSize(size, restSize);\n      restSize = confineSize(restSize - item.wh);\n      restCellsCount--;\n    }\n  }\n  // Set all sizes and positions to levels and leaf cells of which size is unspecified.\n  // Contents lay out based on matrix, rather than inverse; therefore do not support\n  // calculating size based on content, but allocate equally.\n  var computedCellWH = restCellsCount ? restSize / restCellsCount : 0;\n  // If all size specified, but some space remain (may also caused by matrix.x/y.show: false)\n  // do not align to the big most edge.\n  var notAlignToBigmost = !restCellsCount && restSize >= 1; // `1` for cumulative precision error.\n  var currXY = matrixRect[XY[dimIdx]];\n  var maxLocator = thisDim.getLocatorCount(dimIdx) - 1;\n  var it = new ListIterator();\n  // Lay out levels of the perpendicular dim.\n  for (otherDim.resetLayoutIterator(it, dimIdx); it.next();) {\n    layOutUnspecified(it.item);\n  }\n  for (thisDim.resetLayoutIterator(it, dimIdx); it.next();) {\n    layOutUnspecified(it.item);\n  }\n  function layOutUnspecified(item) {\n    if (eqNaN(item.wh)) {\n      item.wh = computedCellWH;\n    }\n    item.xy = currXY;\n    if (item.id[XY[dimIdx]] === maxLocator && !notAlignToBigmost) {\n      // Align to the rightmost border, consider cumulative precision error.\n      item.wh = matrixRect[XY[dimIdx]] + matrixRect[WH[dimIdx]] - item.xy;\n    }\n    currXY += item.wh;\n  }\n}\nfunction layOutDimCellsRestInfoByUnit(dimIdx, dims) {\n  // Finally save layout info based on the unit leaves and levels.\n  for (var it_5 = dims[XY[dimIdx]].resetCellIterator(); it_5.next();) {\n    var dimCell = it_5.item;\n    layOutRectOneDimBasedOnUnit(dimCell.rect, dimIdx, dimCell.id, dimCell.span, dims);\n    // Consider level varitation on tree leaves, should extend the size to touch matrix body\n    // to avoid weird appearance.\n    layOutRectOneDimBasedOnUnit(dimCell.rect, 1 - dimIdx, dimCell.id, dimCell.span, dims);\n    if (dimCell.type === MatrixCellLayoutInfoType.nonLeaf) {\n      // `xy` and `wh` need to be saved in non-leaf since it supports locating by non-leaf\n      // in `dataToPoint` or `dataToLayout`.\n      dimCell.xy = dimCell.rect[XY[dimIdx]];\n      dimCell.wh = dimCell.rect[WH[dimIdx]];\n    }\n  }\n}\nfunction layOutBodyCornerCellMerge(bodyOrCorner, dims) {\n  bodyOrCorner.travelExistingCells(function (cell) {\n    var computedSpan = cell.span;\n    if (computedSpan) {\n      var layoutRect = cell.spanRect;\n      var id = cell.id;\n      layOutRectOneDimBasedOnUnit(layoutRect, 0, id, computedSpan, dims);\n      layOutRectOneDimBasedOnUnit(layoutRect, 1, id, computedSpan, dims);\n    }\n  });\n}\n// Save to rect for rendering.\nfunction layOutRectOneDimBasedOnUnit(outRect, dimIdx, id, span, dims) {\n  outRect[WH[dimIdx]] = 0;\n  var locator = id[XY[dimIdx]];\n  var dim = locator < 0 ? dims[XY[1 - dimIdx]] : dims[XY[dimIdx]];\n  var layoutUnit = dim.getUnitLayoutInfo(dimIdx, id[XY[dimIdx]]);\n  outRect[XY[dimIdx]] = layoutUnit.xy;\n  outRect[WH[dimIdx]] = layoutUnit.wh;\n  if (span[XY[dimIdx]] > 1) {\n    var layoutUnit2 = dim.getUnitLayoutInfo(dimIdx, id[XY[dimIdx]] + span[XY[dimIdx]] - 1);\n    // Be careful the cumulative error - cell must be aligned.\n    outRect[WH[dimIdx]] = layoutUnit2.xy + layoutUnit2.wh - layoutUnit.xy;\n  }\n}\n/**\n * Return NaN if not defined or invalid.\n */\nfunction parseSizeOption(sizeOption, dimIdx, matrixRect) {\n  var sizeNum = parsePositionSizeOption(sizeOption, matrixRect[WH[dimIdx]]);\n  return confineSize(sizeNum, matrixRect[WH[dimIdx]]);\n}\nfunction confineSize(sizeNum, sizeLimit) {\n  return Math.max(Math.min(sizeNum, retrieve2(sizeLimit, Infinity)), 0);\n}\nfunction getCoordSys(finder) {\n  var matrixModel = finder.matrixModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = matrixModel ? matrixModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys;\n}\nvar CtxPointToDataAreaType = {\n  inBody: 1,\n  inCorner: 2,\n  outside: 3\n};\n// For handy performance optimization in pointToData.\nvar _tmpCtxPointToData = {\n  x: null,\n  y: null,\n  point: []\n};\nfunction pointToDataOneDimPrepareCtx(ctx, dimIdx, dims, point, clamp) {\n  var thisDim = dims[XY[dimIdx]];\n  var otherDim = dims[XY[1 - dimIdx]];\n  // Notice: considered cases: `matrix.x/y.show: false`, `matrix.x/y.data` is empty.\n  // In this cases the `layout.xy` is on the edge and `layout.wh` is `0`; they still can be\n  // use to calculate clampping.\n  var bodyMaxUnit = thisDim.getUnitLayoutInfo(dimIdx, thisDim.getLocatorCount(dimIdx) - 1);\n  var body0Unit = thisDim.getUnitLayoutInfo(dimIdx, 0);\n  var cornerMinUnit = otherDim.getUnitLayoutInfo(dimIdx, -otherDim.getLocatorCount(dimIdx));\n  var cornerMinus1Unit = otherDim.shouldShow() ? otherDim.getUnitLayoutInfo(dimIdx, -1) : null;\n  var coord = ctx.point[dimIdx] = point[dimIdx]; // Transfer the oridinal coord.\n  if (!body0Unit && !cornerMinus1Unit) {\n    ctx[XY[dimIdx]] = CtxPointToDataAreaType.outside;\n    return;\n  }\n  if (clamp === MatrixClampOption.body) {\n    if (body0Unit) {\n      ctx[XY[dimIdx]] = CtxPointToDataAreaType.inBody;\n      coord = mathMin(bodyMaxUnit.xy + bodyMaxUnit.wh, mathMax(body0Unit.xy, coord));\n      ctx.point[dimIdx] = coord;\n    } else {\n      // If clamp to body, the result must not be in header.\n      ctx[XY[dimIdx]] = CtxPointToDataAreaType.outside;\n    }\n    return;\n  } else if (clamp === MatrixClampOption.corner) {\n    if (cornerMinus1Unit) {\n      ctx[XY[dimIdx]] = CtxPointToDataAreaType.inCorner;\n      coord = mathMin(cornerMinus1Unit.xy + cornerMinus1Unit.wh, mathMax(cornerMinUnit.xy, coord));\n      ctx.point[dimIdx] = coord;\n    } else {\n      // If clamp to corner, the result must not be in body.\n      ctx[XY[dimIdx]] = CtxPointToDataAreaType.outside;\n    }\n    return;\n  }\n  var pxLoc0 = body0Unit ? body0Unit.xy : cornerMinus1Unit ? cornerMinus1Unit.xy + cornerMinus1Unit.wh : NaN;\n  var pxMin = cornerMinUnit ? cornerMinUnit.xy : pxLoc0;\n  var pxMax = bodyMaxUnit ? bodyMaxUnit.xy + bodyMaxUnit.wh : pxLoc0;\n  if (coord < pxMin) {\n    if (!clamp) {\n      // Quick pass for later calc, since mouse event on any place will enter this method if use `pointToData`.\n      ctx[XY[dimIdx]] = CtxPointToDataAreaType.outside;\n      return;\n    }\n    coord = pxMin;\n  } else if (coord > pxMax) {\n    if (!clamp) {\n      ctx[XY[dimIdx]] = CtxPointToDataAreaType.outside;\n      return;\n    }\n    coord = pxMax;\n  }\n  ctx.point[dimIdx] = coord; // Save the updated coord.\n  ctx[XY[dimIdx]] = pxLoc0 <= coord && coord <= pxMax ? CtxPointToDataAreaType.inBody : pxMin <= coord && coord <= pxLoc0 ? CtxPointToDataAreaType.inCorner : CtxPointToDataAreaType.outside;\n  // Every props in ctx must be set in every branch of this method.\n}\n// Assume partialOut has been set to NaN outside.\n// This method may fill out[0] and out[1] in one call.\nfunction pointToDataOnlyHeaderFillOut(ctx, partialOut, dimIdx, dims) {\n  var otherDimIdx = 1 - dimIdx;\n  if (ctx[XY[dimIdx]] === CtxPointToDataAreaType.outside) {\n    return;\n  }\n  for (dims[XY[dimIdx]].resetCellIterator(_ptdDimCellIt); _ptdDimCellIt.next();) {\n    var cell = _ptdDimCellIt.item;\n    if (isCoordInRect(ctx.point[dimIdx], cell.rect, dimIdx) && isCoordInRect(ctx.point[otherDimIdx], cell.rect, otherDimIdx)) {\n      // non-leaves are also allowed to be located.\n      // If the point is in x or y dimension cell area, should check both x and y coord to\n      // determine a cell; in this way a non-leaf cell can be determined.\n      partialOut[dimIdx] = cell.ordinal;\n      partialOut[otherDimIdx] = cell.id[XY[otherDimIdx]];\n      return;\n    }\n  }\n}\n// Assume partialOut has been set to NaN outside.\n// This method may fill out[0] and out[1] in one call.\nfunction pointToDataBodyCornerFillOut(ctx, partialOut, dimIdx, dims) {\n  if (ctx[XY[dimIdx]] === CtxPointToDataAreaType.outside) {\n    return;\n  }\n  var dim = ctx[XY[dimIdx]] === CtxPointToDataAreaType.inCorner ? dims[XY[1 - dimIdx]] : dims[XY[dimIdx]];\n  for (dim.resetLayoutIterator(_ptdLevelIt, dimIdx); _ptdLevelIt.next();) {\n    if (isCoordInLayoutInfo(ctx.point[dimIdx], _ptdLevelIt.item)) {\n      partialOut[dimIdx] = _ptdLevelIt.item.id[XY[dimIdx]];\n      return;\n    }\n  }\n}\nfunction isCoordInLayoutInfo(coord, cell) {\n  return cell.xy <= coord && coord <= cell.xy + cell.wh;\n}\nfunction isCoordInRect(coord, rect, dimIdx) {\n  return rect[XY[dimIdx]] <= coord && coord <= rect[XY[dimIdx]] + rect[WH[dimIdx]];\n}\nexport default Matrix;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport MatrixModel from '../../coord/matrix/MatrixModel.js';\nimport MatrixView from './MatrixView.js';\nimport Matrix from '../../coord/matrix/Matrix.js';\nexport function install(registers) {\n  registers.registerComponentModel(MatrixModel);\n  registers.registerComponentView(MatrixView);\n  registers.registerCoordinateSystem('matrix', Matrix);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nimport ComponentModel from '../../model/Component.js';\nimport { copyLayoutParams, mergeLayoutParam } from '../../util/layout.js';\n;\n;\n;\nexport function setKeyInfoToNewElOption(resultItem, newElOption) {\n  var existElOption = resultItem.existing;\n  // Set id and type after id assigned.\n  newElOption.id = resultItem.keyInfo.id;\n  !newElOption.type && existElOption && (newElOption.type = existElOption.type);\n  // Set parent id if not specified\n  if (newElOption.parentId == null) {\n    var newElParentOption = newElOption.parentOption;\n    if (newElParentOption) {\n      newElOption.parentId = newElParentOption.id;\n    } else if (existElOption) {\n      newElOption.parentId = existElOption.parentId;\n    }\n  }\n  // Clear\n  newElOption.parentOption = null;\n}\nfunction isSetLoc(obj, props) {\n  var isSet;\n  zrUtil.each(props, function (prop) {\n    obj[prop] != null && obj[prop] !== 'auto' && (isSet = true);\n  });\n  return isSet;\n}\nfunction mergeNewElOptionToExist(existList, index, newElOption) {\n  // Update existing options, for `getOption` feature.\n  var newElOptCopy = zrUtil.extend({}, newElOption);\n  var existElOption = existList[index];\n  var $action = newElOption.$action || 'merge';\n  if ($action === 'merge') {\n    if (existElOption) {\n      if (process.env.NODE_ENV !== 'production') {\n        var newType = newElOption.type;\n        zrUtil.assert(!newType || existElOption.type === newType, 'Please set $action: \"replace\" to change `type`');\n      }\n      // We can ensure that newElOptCopy and existElOption are not\n      // the same object, so `merge` will not change newElOptCopy.\n      zrUtil.merge(existElOption, newElOptCopy, true);\n      // Rigid body, use ignoreSize.\n      mergeLayoutParam(existElOption, newElOptCopy, {\n        ignoreSize: true\n      });\n      // Will be used in render.\n      copyLayoutParams(newElOption, existElOption);\n      // Copy transition info to new option so it can be used in the transition.\n      // DO IT AFTER merge\n      copyTransitionInfo(newElOption, existElOption);\n      copyTransitionInfo(newElOption, existElOption, 'shape');\n      copyTransitionInfo(newElOption, existElOption, 'style');\n      copyTransitionInfo(newElOption, existElOption, 'extra');\n      // Copy clipPath\n      newElOption.clipPath = existElOption.clipPath;\n    } else {\n      existList[index] = newElOptCopy;\n    }\n  } else if ($action === 'replace') {\n    existList[index] = newElOptCopy;\n  } else if ($action === 'remove') {\n    // null will be cleaned later.\n    existElOption && (existList[index] = null);\n  }\n}\nvar TRANSITION_PROPS_TO_COPY = ['transition', 'enterFrom', 'leaveTo'];\nvar ROOT_TRANSITION_PROPS_TO_COPY = TRANSITION_PROPS_TO_COPY.concat(['enterAnimation', 'updateAnimation', 'leaveAnimation']);\nfunction copyTransitionInfo(target, source, targetProp) {\n  if (targetProp) {\n    if (!target[targetProp] && source[targetProp]) {\n      // TODO avoid creating this empty object when there is no transition configuration.\n      target[targetProp] = {};\n    }\n    target = target[targetProp];\n    source = source[targetProp];\n  }\n  if (!target || !source) {\n    return;\n  }\n  var props = targetProp ? TRANSITION_PROPS_TO_COPY : ROOT_TRANSITION_PROPS_TO_COPY;\n  for (var i = 0; i < props.length; i++) {\n    var prop = props[i];\n    if (target[prop] == null && source[prop] != null) {\n      target[prop] = source[prop];\n    }\n  }\n}\nfunction setLayoutInfoToExist(existItem, newElOption) {\n  if (!existItem) {\n    return;\n  }\n  existItem.hv = newElOption.hv = [\n  // Rigid body, don't care about `width`.\n  isSetLoc(newElOption, ['left', 'right']),\n  // Rigid body, don't care about `height`.\n  isSetLoc(newElOption, ['top', 'bottom'])];\n  // Give default group size. Otherwise layout error may occur.\n  if (existItem.type === 'group') {\n    var existingGroupOpt = existItem;\n    var newGroupOpt = newElOption;\n    existingGroupOpt.width == null && (existingGroupOpt.width = newGroupOpt.width = 0);\n    existingGroupOpt.height == null && (existingGroupOpt.height = newGroupOpt.height = 0);\n  }\n}\nvar GraphicComponentModel = /** @class */function (_super) {\n  __extends(GraphicComponentModel, _super);\n  function GraphicComponentModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GraphicComponentModel.type;\n    _this.preventAutoZ = true;\n    return _this;\n  }\n  GraphicComponentModel.prototype.mergeOption = function (option, ecModel) {\n    // Prevent default merge to elements\n    var elements = this.option.elements;\n    this.option.elements = null;\n    _super.prototype.mergeOption.call(this, option, ecModel);\n    this.option.elements = elements;\n  };\n  GraphicComponentModel.prototype.optionUpdated = function (newOption, isInit) {\n    var thisOption = this.option;\n    var newList = (isInit ? thisOption : newOption).elements;\n    var existList = thisOption.elements = isInit ? [] : thisOption.elements;\n    var flattenedList = [];\n    this._flatten(newList, flattenedList, null);\n    var mappingResult = modelUtil.mappingToExists(existList, flattenedList, 'normalMerge');\n    // Clear elOptionsToUpdate\n    var elOptionsToUpdate = this._elOptionsToUpdate = [];\n    zrUtil.each(mappingResult, function (resultItem, index) {\n      var newElOption = resultItem.newOption;\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.assert(zrUtil.isObject(newElOption) || resultItem.existing, 'Empty graphic option definition');\n      }\n      if (!newElOption) {\n        return;\n      }\n      elOptionsToUpdate.push(newElOption);\n      setKeyInfoToNewElOption(resultItem, newElOption);\n      mergeNewElOptionToExist(existList, index, newElOption);\n      setLayoutInfoToExist(existList[index], newElOption);\n    }, this);\n    // Clean\n    thisOption.elements = zrUtil.filter(existList, function (item) {\n      // $action should be volatile, otherwise option gotten from\n      // `getOption` will contain unexpected $action.\n      item && delete item.$action;\n      return item != null;\n    });\n  };\n  /**\n   * Convert\n   * [{\n   *  type: 'group',\n   *  id: 'xx',\n   *  children: [{type: 'circle'}, {type: 'polygon'}]\n   * }]\n   * to\n   * [\n   *  {type: 'group', id: 'xx'},\n   *  {type: 'circle', parentId: 'xx'},\n   *  {type: 'polygon', parentId: 'xx'}\n   * ]\n   */\n  GraphicComponentModel.prototype._flatten = function (optionList, result, parentOption) {\n    zrUtil.each(optionList, function (option) {\n      if (!option) {\n        return;\n      }\n      if (parentOption) {\n        option.parentOption = parentOption;\n      }\n      result.push(option);\n      var children = option.children;\n      // here we don't judge if option.type is `group`\n      // when new option doesn't provide `type`, it will cause that the children can't be updated.\n      if (children && children.length) {\n        this._flatten(children, result, option);\n      }\n      // Deleting for JSON output, and for not affecting group creation.\n      delete option.children;\n    }, this);\n  };\n  // FIXME\n  // Pass to view using payload? setOption has a payload?\n  GraphicComponentModel.prototype.useElOptionsToUpdate = function () {\n    var els = this._elOptionsToUpdate;\n    // Clear to avoid render duplicately when zooming.\n    this._elOptionsToUpdate = null;\n    return els;\n  };\n  GraphicComponentModel.type = 'graphic';\n  GraphicComponentModel.defaultOption = {\n    elements: []\n    // parentId: null\n  };\n  return GraphicComponentModel;\n}(ComponentModel);\nexport { GraphicComponentModel };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\nimport * as modelUtil from '../../util/model.js';\nimport * as graphicUtil from '../../util/graphic.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport { parsePercent } from '../../util/number.js';\nimport ComponentView from '../../view/Component.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { isEC4CompatibleStyle, convertFromEC4CompatibleStyle } from '../../util/styleCompat.js';\nimport { applyLeaveTransition, applyUpdateTransition, isTransitionAll, updateLeaveTo } from '../../animation/customGraphicTransition.js';\nimport { updateProps } from '../../animation/basicTransition.js';\nimport { applyKeyframeAnimation, stopPreviousKeyframeAnimationAndRestore } from '../../animation/customGraphicKeyframeAnimation.js';\nvar nonShapeGraphicElements = {\n  // Reserved but not supported in graphic component.\n  path: null,\n  compoundPath: null,\n  // Supported in graphic component.\n  group: graphicUtil.Group,\n  image: graphicUtil.Image,\n  text: graphicUtil.Text\n};\nexport var inner = modelUtil.makeInner();\n// ------------------------\n// View\n// ------------------------\nvar GraphicComponentView = /** @class */function (_super) {\n  __extends(GraphicComponentView, _super);\n  function GraphicComponentView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GraphicComponentView.type;\n    return _this;\n  }\n  GraphicComponentView.prototype.init = function () {\n    this._elMap = zrUtil.createHashMap();\n  };\n  GraphicComponentView.prototype.render = function (graphicModel, ecModel, api) {\n    // Having leveraged between use cases and algorithm complexity, a very\n    // simple layout mechanism is used:\n    // The size(width/height) can be determined by itself or its parent (not\n    // implemented yet), but can not by its children. (Top-down travel)\n    // The location(x/y) can be determined by the bounding rect of itself\n    // (can including its descendants or not) and the size of its parent.\n    // (Bottom-up travel)\n    // When `chart.clear()` or `chart.setOption({...}, true)` with the same id,\n    // view will be reused.\n    if (graphicModel !== this._lastGraphicModel) {\n      this._clear();\n    }\n    this._lastGraphicModel = graphicModel;\n    this._updateElements(graphicModel);\n    this._relocate(graphicModel, api);\n  };\n  /**\n   * Update graphic elements.\n   */\n  GraphicComponentView.prototype._updateElements = function (graphicModel) {\n    var elOptionsToUpdate = graphicModel.useElOptionsToUpdate();\n    if (!elOptionsToUpdate) {\n      return;\n    }\n    var elMap = this._elMap;\n    var rootGroup = this.group;\n    var globalZ = graphicModel.get('z');\n    var globalZLevel = graphicModel.get('zlevel');\n    // Top-down tranverse to assign graphic settings to each elements.\n    zrUtil.each(elOptionsToUpdate, function (elOption) {\n      var id = modelUtil.convertOptionIdName(elOption.id, null);\n      var elExisting = id != null ? elMap.get(id) : null;\n      var parentId = modelUtil.convertOptionIdName(elOption.parentId, null);\n      var targetElParent = parentId != null ? elMap.get(parentId) : rootGroup;\n      var elType = elOption.type;\n      var elOptionStyle = elOption.style;\n      if (elType === 'text' && elOptionStyle) {\n        // In top/bottom mode, textVerticalAlign should not be used, which cause\n        // inaccurately locating.\n        if (elOption.hv && elOption.hv[1]) {\n          elOptionStyle.textVerticalAlign = elOptionStyle.textBaseline = elOptionStyle.verticalAlign = elOptionStyle.align = null;\n        }\n      }\n      var textContentOption = elOption.textContent;\n      var textConfig = elOption.textConfig;\n      if (elOptionStyle && isEC4CompatibleStyle(elOptionStyle, elType, !!textConfig, !!textContentOption)) {\n        var convertResult = convertFromEC4CompatibleStyle(elOptionStyle, elType, true);\n        if (!textConfig && convertResult.textConfig) {\n          textConfig = elOption.textConfig = convertResult.textConfig;\n        }\n        if (!textContentOption && convertResult.textContent) {\n          textContentOption = convertResult.textContent;\n        }\n      }\n      // Remove unnecessary props to avoid potential problems.\n      var elOptionCleaned = getCleanedElOption(elOption);\n      // For simple, do not support parent change, otherwise reorder is needed.\n      if (process.env.NODE_ENV !== 'production') {\n        elExisting && zrUtil.assert(targetElParent === elExisting.parent, 'Changing parent is not supported.');\n      }\n      var $action = elOption.$action || 'merge';\n      var isMerge = $action === 'merge';\n      var isReplace = $action === 'replace';\n      if (isMerge) {\n        var isInit = !elExisting;\n        var el_1 = elExisting;\n        if (isInit) {\n          el_1 = createEl(id, targetElParent, elOption.type, elMap);\n        } else {\n          el_1 && (inner(el_1).isNew = false);\n          // Stop and restore before update any other attributes.\n          stopPreviousKeyframeAnimationAndRestore(el_1);\n        }\n        if (el_1) {\n          applyUpdateTransition(el_1, elOptionCleaned, graphicModel, {\n            isInit: isInit\n          });\n          updateCommonAttrs(el_1, elOption, globalZ, globalZLevel);\n        }\n      } else if (isReplace) {\n        removeEl(elExisting, elOption, elMap, graphicModel);\n        var el_2 = createEl(id, targetElParent, elOption.type, elMap);\n        if (el_2) {\n          applyUpdateTransition(el_2, elOptionCleaned, graphicModel, {\n            isInit: true\n          });\n          updateCommonAttrs(el_2, elOption, globalZ, globalZLevel);\n        }\n      } else if ($action === 'remove') {\n        updateLeaveTo(elExisting, elOption);\n        removeEl(elExisting, elOption, elMap, graphicModel);\n      }\n      var el = elMap.get(id);\n      if (el && textContentOption) {\n        if (isMerge) {\n          var textContentExisting = el.getTextContent();\n          textContentExisting ? textContentExisting.attr(textContentOption) : el.setTextContent(new graphicUtil.Text(textContentOption));\n        } else if (isReplace) {\n          el.setTextContent(new graphicUtil.Text(textContentOption));\n        }\n      }\n      if (el) {\n        var clipPathOption = elOption.clipPath;\n        if (clipPathOption) {\n          var clipPathType = clipPathOption.type;\n          var clipPath = void 0;\n          var isInit = false;\n          if (isMerge) {\n            var oldClipPath = el.getClipPath();\n            isInit = !oldClipPath || inner(oldClipPath).type !== clipPathType;\n            clipPath = isInit ? newEl(clipPathType) : oldClipPath;\n          } else if (isReplace) {\n            isInit = true;\n            clipPath = newEl(clipPathType);\n          }\n          el.setClipPath(clipPath);\n          applyUpdateTransition(clipPath, clipPathOption, graphicModel, {\n            isInit: isInit\n          });\n          applyKeyframeAnimation(clipPath, clipPathOption.keyframeAnimation, graphicModel);\n        }\n        var elInner = inner(el);\n        el.setTextConfig(textConfig);\n        elInner.option = elOption;\n        setEventData(el, graphicModel, elOption);\n        graphicUtil.setTooltipConfig({\n          el: el,\n          componentModel: graphicModel,\n          itemName: el.name,\n          itemTooltipOption: elOption.tooltip\n        });\n        applyKeyframeAnimation(el, elOption.keyframeAnimation, graphicModel);\n      }\n    });\n  };\n  /**\n   * Locate graphic elements.\n   */\n  GraphicComponentView.prototype._relocate = function (graphicModel, api) {\n    var elOptions = graphicModel.option.elements;\n    var rootGroup = this.group;\n    var elMap = this._elMap;\n    var apiWidth = api.getWidth();\n    var apiHeight = api.getHeight();\n    var xy = ['x', 'y'];\n    // Top-down to calculate percentage width/height of group\n    for (var i = 0; i < elOptions.length; i++) {\n      var elOption = elOptions[i];\n      var id = modelUtil.convertOptionIdName(elOption.id, null);\n      var el = id != null ? elMap.get(id) : null;\n      if (!el || !el.isGroup) {\n        continue;\n      }\n      var parentEl = el.parent;\n      var isParentRoot = parentEl === rootGroup;\n      // Like 'position:absolut' in css, default 0.\n      var elInner = inner(el);\n      var parentElInner = inner(parentEl);\n      elInner.width = parsePercent(elInner.option.width, isParentRoot ? apiWidth : parentElInner.width) || 0;\n      elInner.height = parsePercent(elInner.option.height, isParentRoot ? apiHeight : parentElInner.height) || 0;\n    }\n    // Bottom-up tranvese all elements (consider ec resize) to locate elements.\n    for (var i = elOptions.length - 1; i >= 0; i--) {\n      var elOption = elOptions[i];\n      var id = modelUtil.convertOptionIdName(elOption.id, null);\n      var el = id != null ? elMap.get(id) : null;\n      if (!el) {\n        continue;\n      }\n      var parentEl = el.parent;\n      var parentElInner = inner(parentEl);\n      var containerInfo = parentEl === rootGroup ? {\n        width: apiWidth,\n        height: apiHeight\n      } : {\n        width: parentElInner.width,\n        height: parentElInner.height\n      };\n      // PENDING\n      // Currently, when `bounding: 'all'`, the union bounding rect of the group\n      // does not include the rect of [0, 0, group.width, group.height], which\n      // is probably weird for users. Should we make a break change for it?\n      var layoutPos = {};\n      var layouted = layoutUtil.positionElement(el, elOption, containerInfo, null, {\n        hv: elOption.hv,\n        boundingMode: elOption.bounding\n      }, layoutPos);\n      if (!inner(el).isNew && layouted) {\n        var transition = elOption.transition;\n        var animatePos = {};\n        for (var k = 0; k < xy.length; k++) {\n          var key = xy[k];\n          var val = layoutPos[key];\n          if (transition && (isTransitionAll(transition) || zrUtil.indexOf(transition, key) >= 0)) {\n            animatePos[key] = val;\n          } else {\n            el[key] = val;\n          }\n        }\n        updateProps(el, animatePos, graphicModel, 0);\n      } else {\n        el.attr(layoutPos);\n      }\n    }\n  };\n  /**\n   * Clear all elements.\n   */\n  GraphicComponentView.prototype._clear = function () {\n    var _this = this;\n    var elMap = this._elMap;\n    elMap.each(function (el) {\n      removeEl(el, inner(el).option, elMap, _this._lastGraphicModel);\n    });\n    this._elMap = zrUtil.createHashMap();\n  };\n  GraphicComponentView.prototype.dispose = function () {\n    this._clear();\n  };\n  GraphicComponentView.type = 'graphic';\n  return GraphicComponentView;\n}(ComponentView);\nexport { GraphicComponentView };\nfunction newEl(graphicType) {\n  if (process.env.NODE_ENV !== 'production') {\n    zrUtil.assert(graphicType, 'graphic type MUST be set');\n  }\n  var Clz = zrUtil.hasOwn(nonShapeGraphicElements, graphicType)\n  // Those graphic elements are not shapes. They should not be\n  // overwritten by users, so do them first.\n  ? nonShapeGraphicElements[graphicType] : graphicUtil.getShapeClass(graphicType);\n  if (process.env.NODE_ENV !== 'production') {\n    zrUtil.assert(Clz, \"graphic type \" + graphicType + \" can not be found\");\n  }\n  var el = new Clz({});\n  inner(el).type = graphicType;\n  return el;\n}\nfunction createEl(id, targetElParent, graphicType, elMap) {\n  var el = newEl(graphicType);\n  targetElParent.add(el);\n  elMap.set(id, el);\n  inner(el).id = id;\n  inner(el).isNew = true;\n  return el;\n}\nfunction removeEl(elExisting, elOption, elMap, graphicModel) {\n  var existElParent = elExisting && elExisting.parent;\n  if (existElParent) {\n    elExisting.type === 'group' && elExisting.traverse(function (el) {\n      removeEl(el, elOption, elMap, graphicModel);\n    });\n    applyLeaveTransition(elExisting, elOption, graphicModel);\n    elMap.removeKey(inner(elExisting).id);\n  }\n}\nfunction updateCommonAttrs(el, elOption, defaultZ, defaultZlevel) {\n  if (!el.isGroup) {\n    zrUtil.each([['cursor', Displayable.prototype.cursor],\n    // We should not support configure z and zlevel in the element level.\n    // But seems we didn't limit it previously. So here still use it to avoid breaking.\n    ['zlevel', defaultZlevel || 0], ['z', defaultZ || 0],\n    // z2 must not be null/undefined, otherwise sort error may occur.\n    ['z2', 0]], function (item) {\n      var prop = item[0];\n      if (zrUtil.hasOwn(elOption, prop)) {\n        el[prop] = zrUtil.retrieve2(elOption[prop], item[1]);\n      } else if (el[prop] == null) {\n        el[prop] = item[1];\n      }\n    });\n  }\n  zrUtil.each(zrUtil.keys(elOption), function (key) {\n    // Assign event handlers.\n    // PENDING: should enumerate all event names or use pattern matching?\n    if (key.indexOf('on') === 0) {\n      var val = elOption[key];\n      el[key] = zrUtil.isFunction(val) ? val : null;\n    }\n  });\n  if (zrUtil.hasOwn(elOption, 'draggable')) {\n    el.draggable = elOption.draggable;\n  }\n  // Other attributes\n  elOption.name != null && (el.name = elOption.name);\n  elOption.id != null && (el.id = elOption.id);\n}\n// Remove unnecessary props to avoid potential problems.\nfunction getCleanedElOption(elOption) {\n  elOption = zrUtil.extend({}, elOption);\n  zrUtil.each(['id', 'parentId', '$action', 'hv', 'bounding', 'textContent', 'clipPath'].concat(layoutUtil.LOCATION_PARAMS), function (name) {\n    delete elOption[name];\n  });\n  return elOption;\n}\nfunction setEventData(el, graphicModel, elOption) {\n  var eventData = getECData(el).eventData;\n  // Simple optimize for large amount of elements that no need event.\n  if (!el.silent && !el.ignore && !eventData) {\n    eventData = getECData(el).eventData = {\n      componentType: 'graphic',\n      componentIndex: graphicModel.componentIndex,\n      name: el.name\n    };\n  }\n  // `elOption.info` enables user to mount some info on\n  // elements and use them in event handlers.\n  if (eventData) {\n    eventData.info = elOption.info;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util.js';\nimport { GraphicComponentModel } from './GraphicModel.js';\nimport { GraphicComponentView } from './GraphicView.js';\nexport function install(registers) {\n  registers.registerComponentModel(GraphicComponentModel);\n  registers.registerComponentView(GraphicComponentView);\n  registers.registerPreprocessor(function (option) {\n    var graphicOption = option.graphic;\n    // Convert\n    // {graphic: [{left: 10, type: 'circle'}, ...]}\n    // or\n    // {graphic: {left: 10, type: 'circle'}}\n    // to\n    // {graphic: [{elements: [{left: 10, type: 'circle'}, ...]}]}\n    if (isArray(graphicOption)) {\n      if (!graphicOption[0] || !graphicOption[0].elements) {\n        option.graphic = [{\n          elements: graphicOption\n        }];\n      } else {\n        // Only one graphic instance can be instantiated. (We don't\n        // want that too many views are created in echarts._viewMap.)\n        option.graphic = [option.graphic[0]];\n      }\n    } else if (graphicOption && !graphicOption.elements) {\n      option.graphic = [{\n        elements: [graphicOption]\n      }];\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { indexOf, createHashMap, assert } from 'zrender/lib/core/util.js';\nexport var DATA_ZOOM_AXIS_DIMENSIONS = ['x', 'y', 'radius', 'angle', 'single'];\n// Supported coords.\n// FIXME: polar has been broken (but rarely used).\nvar SERIES_COORDS = ['cartesian2d', 'polar', 'singleAxis'];\nexport function isCoordSupported(seriesModel) {\n  var coordType = seriesModel.get('coordinateSystem');\n  return indexOf(SERIES_COORDS, coordType) >= 0;\n}\nexport function getAxisMainType(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n  return axisDim + 'Axis';\n}\nexport function getAxisIndexPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n  return axisDim + 'AxisIndex';\n}\nexport function getAxisIdPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n  return axisDim + 'AxisId';\n}\n/**\n * If two dataZoomModels has the same axis controlled, we say that they are 'linked'.\n * This function finds all linked dataZoomModels start from the given payload.\n */\nexport function findEffectedDataZooms(ecModel, payload) {\n  // Key: `DataZoomAxisDimension`\n  var axisRecords = createHashMap();\n  var effectedModels = [];\n  // Key: uid of dataZoomModel\n  var effectedModelMap = createHashMap();\n  // Find the dataZooms specified by payload.\n  ecModel.eachComponent({\n    mainType: 'dataZoom',\n    query: payload\n  }, function (dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid)) {\n      addToEffected(dataZoomModel);\n    }\n  });\n  // Start from the given dataZoomModels, travel the graph to find\n  // all of the linked dataZoom models.\n  var foundNewLink;\n  do {\n    foundNewLink = false;\n    ecModel.eachComponent('dataZoom', processSingle);\n  } while (foundNewLink);\n  function processSingle(dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid) && isLinked(dataZoomModel)) {\n      addToEffected(dataZoomModel);\n      foundNewLink = true;\n    }\n  }\n  function addToEffected(dataZoom) {\n    effectedModelMap.set(dataZoom.uid, true);\n    effectedModels.push(dataZoom);\n    markAxisControlled(dataZoom);\n  }\n  function isLinked(dataZoomModel) {\n    var isLink = false;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var axisIdxArr = axisRecords.get(axisDim);\n      if (axisIdxArr && axisIdxArr[axisIndex]) {\n        isLink = true;\n      }\n    });\n    return isLink;\n  }\n  function markAxisControlled(dataZoomModel) {\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      (axisRecords.get(axisDim) || axisRecords.set(axisDim, []))[axisIndex] = true;\n    });\n  }\n  return effectedModels;\n}\n/**\n * Find the first target coordinate system.\n * Available after model built.\n *\n * @return Like {\n *                  grid: [\n *                      {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},\n *                      {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},\n *                      ...\n *                  ],  // cartesians must not be null/undefined.\n *                  polar: [\n *                      {model: coord0, axisModels: [axis4], coordIndex: 0},\n *                      ...\n *                  ],  // polars must not be null/undefined.\n *                  singleAxis: [\n *                      {model: coord0, axisModels: [], coordIndex: 0}\n *                  ]\n *              }\n */\nexport function collectReferCoordSysModelInfo(dataZoomModel) {\n  var ecModel = dataZoomModel.ecModel;\n  var coordSysInfoWrap = {\n    infoList: [],\n    infoMap: createHashMap()\n  };\n  dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n    var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n    if (!axisModel) {\n      return;\n    }\n    var coordSysModel = axisModel.getCoordSysModel();\n    if (!coordSysModel) {\n      return;\n    }\n    var coordSysUid = coordSysModel.uid;\n    var coordSysInfo = coordSysInfoWrap.infoMap.get(coordSysUid);\n    if (!coordSysInfo) {\n      coordSysInfo = {\n        model: coordSysModel,\n        axisModels: []\n      };\n      coordSysInfoWrap.infoList.push(coordSysInfo);\n      coordSysInfoWrap.infoMap.set(coordSysUid, coordSysInfo);\n    }\n    coordSysInfo.axisModels.push(axisModel);\n  });\n  return coordSysInfoWrap;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { each, createHashMap, merge, assert } from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { getAxisMainType, DATA_ZOOM_AXIS_DIMENSIONS } from './helper.js';\nimport { MULTIPLE_REFERRING, SINGLE_REFERRING } from '../../util/model.js';\nvar DataZoomAxisInfo = /** @class */function () {\n  function DataZoomAxisInfo() {\n    this.indexList = [];\n    this.indexMap = [];\n  }\n  DataZoomAxisInfo.prototype.add = function (axisCmptIdx) {\n    // Remove duplication.\n    if (!this.indexMap[axisCmptIdx]) {\n      this.indexList.push(axisCmptIdx);\n      this.indexMap[axisCmptIdx] = true;\n    }\n  };\n  return DataZoomAxisInfo;\n}();\nvar DataZoomModel = /** @class */function (_super) {\n  __extends(DataZoomModel, _super);\n  function DataZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = DataZoomModel.type;\n    _this._autoThrottle = true;\n    _this._noTarget = true;\n    /**\n     * It is `[rangeModeForMin, rangeModeForMax]`.\n     * The optional values for `rangeMode`:\n     * + `'value'` mode: the axis extent will always be determined by\n     *     `dataZoom.startValue` and `dataZoom.endValue`, despite\n     *     how data like and how `axis.min` and `axis.max` are.\n     * + `'percent'` mode: `100` represents 100% of the `[dMin, dMax]`,\n     *     where `dMin` is `axis.min` if `axis.min` specified, otherwise `data.extent[0]`,\n     *     and `dMax` is `axis.max` if `axis.max` specified, otherwise `data.extent[1]`.\n     *     Axis extent will be determined by the result of the percent of `[dMin, dMax]`.\n     *\n     * For example, when users are using dynamic data (update data periodically via `setOption`),\n     * if in `'value`' mode, the window will be kept in a fixed value range despite how\n     * data are appended, while if in `'percent'` mode, whe window range will be changed alone with\n     * the appended data (suppose `axis.min` and `axis.max` are not specified).\n     */\n    _this._rangePropMode = ['percent', 'percent'];\n    return _this;\n  }\n  DataZoomModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputRawOption = retrieveRawOption(option);\n    /**\n     * Suppose a \"main process\" start at the point that model prepared (that is,\n     * model initialized or merged or method called in `action`).\n     * We should keep the `main process` idempotent, that is, given a set of values\n     * on `option`, we get the same result.\n     *\n     * But sometimes, values on `option` will be updated for providing users\n     * a \"final calculated value\" (`dataZoomProcessor` will do that). Those value\n     * should not be the base/input of the `main process`.\n     *\n     * So in that case we should save and keep the input of the `main process`\n     * separately, called `settledOption`.\n     *\n     * For example, consider the case:\n     * (Step_1) brush zoom the grid by `toolbox.dataZoom`,\n     *     where the original input `option.startValue`, `option.endValue` are earsed by\n     *     calculated value.\n     * (Step)2) click the legend to hide and show a series,\n     *     where the new range is calculated by the earsed `startValue` and `endValue`,\n     *     which brings incorrect result.\n     */\n    this.settledOption = inputRawOption;\n    this.mergeDefaultAndTheme(option, ecModel);\n    this._doInit(inputRawOption);\n  };\n  DataZoomModel.prototype.mergeOption = function (newOption) {\n    var inputRawOption = retrieveRawOption(newOption);\n    // FIX #2591\n    merge(this.option, newOption, true);\n    merge(this.settledOption, inputRawOption, true);\n    this._doInit(inputRawOption);\n  };\n  DataZoomModel.prototype._doInit = function (inputRawOption) {\n    var thisOption = this.option;\n    this._setDefaultThrottle(inputRawOption);\n    this._updateRangeUse(inputRawOption);\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      // start/end has higher priority over startValue/endValue if they\n      // both set, but we should make chart.setOption({endValue: 1000})\n      // effective, rather than chart.setOption({endValue: 1000, end: null}).\n      if (this._rangePropMode[index] === 'value') {\n        thisOption[names[0]] = settledOption[names[0]] = null;\n      }\n      // Otherwise do nothing and use the merge result.\n    }, this);\n    this._resetTarget();\n  };\n  DataZoomModel.prototype._resetTarget = function () {\n    var optionOrient = this.get('orient', true);\n    var targetAxisIndexMap = this._targetAxisInfoMap = createHashMap();\n    var hasAxisSpecified = this._fillSpecifiedTargetAxis(targetAxisIndexMap);\n    if (hasAxisSpecified) {\n      this._orient = optionOrient || this._makeAutoOrientByTargetAxis();\n    } else {\n      this._orient = optionOrient || 'horizontal';\n      this._fillAutoTargetAxisByOrient(targetAxisIndexMap, this._orient);\n    }\n    this._noTarget = true;\n    targetAxisIndexMap.each(function (axisInfo) {\n      if (axisInfo.indexList.length) {\n        this._noTarget = false;\n      }\n    }, this);\n  };\n  DataZoomModel.prototype._fillSpecifiedTargetAxis = function (targetAxisIndexMap) {\n    var hasAxisSpecified = false;\n    each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n      var refering = this.getReferringComponents(getAxisMainType(axisDim), MULTIPLE_REFERRING);\n      // When user set axisIndex as a empty array, we think that user specify axisIndex\n      // but do not want use auto mode. Because empty array may be encountered when\n      // some error occurred.\n      if (!refering.specified) {\n        return;\n      }\n      hasAxisSpecified = true;\n      var axisInfo = new DataZoomAxisInfo();\n      each(refering.models, function (axisModel) {\n        axisInfo.add(axisModel.componentIndex);\n      });\n      targetAxisIndexMap.set(axisDim, axisInfo);\n    }, this);\n    return hasAxisSpecified;\n  };\n  DataZoomModel.prototype._fillAutoTargetAxisByOrient = function (targetAxisIndexMap, orient) {\n    var ecModel = this.ecModel;\n    var needAuto = true;\n    // Find axis that parallel to dataZoom as default.\n    if (needAuto) {\n      var axisDim = orient === 'vertical' ? 'y' : 'x';\n      var axisModels = ecModel.findComponents({\n        mainType: axisDim + 'Axis'\n      });\n      setParallelAxis(axisModels, axisDim);\n    }\n    // Find axis that parallel to dataZoom as default.\n    if (needAuto) {\n      var axisModels = ecModel.findComponents({\n        mainType: 'singleAxis',\n        filter: function (axisModel) {\n          return axisModel.get('orient', true) === orient;\n        }\n      });\n      setParallelAxis(axisModels, 'single');\n    }\n    function setParallelAxis(axisModels, axisDim) {\n      // At least use the first parallel axis as the target axis.\n      var axisModel = axisModels[0];\n      if (!axisModel) {\n        return;\n      }\n      var axisInfo = new DataZoomAxisInfo();\n      axisInfo.add(axisModel.componentIndex);\n      targetAxisIndexMap.set(axisDim, axisInfo);\n      needAuto = false;\n      // Find parallel axes in the same grid.\n      if (axisDim === 'x' || axisDim === 'y') {\n        var gridModel_1 = axisModel.getReferringComponents('grid', SINGLE_REFERRING).models[0];\n        gridModel_1 && each(axisModels, function (axModel) {\n          if (axisModel.componentIndex !== axModel.componentIndex && gridModel_1 === axModel.getReferringComponents('grid', SINGLE_REFERRING).models[0]) {\n            axisInfo.add(axModel.componentIndex);\n          }\n        });\n      }\n    }\n    if (needAuto) {\n      // If no parallel axis, find the first category axis as default. (Also consider polar).\n      each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n        if (!needAuto) {\n          return;\n        }\n        var axisModels = ecModel.findComponents({\n          mainType: getAxisMainType(axisDim),\n          filter: function (axisModel) {\n            return axisModel.get('type', true) === 'category';\n          }\n        });\n        if (axisModels[0]) {\n          var axisInfo = new DataZoomAxisInfo();\n          axisInfo.add(axisModels[0].componentIndex);\n          targetAxisIndexMap.set(axisDim, axisInfo);\n          needAuto = false;\n        }\n      }, this);\n    }\n  };\n  DataZoomModel.prototype._makeAutoOrientByTargetAxis = function () {\n    var dim;\n    // Find the first axis\n    this.eachTargetAxis(function (axisDim) {\n      !dim && (dim = axisDim);\n    }, this);\n    return dim === 'y' ? 'vertical' : 'horizontal';\n  };\n  DataZoomModel.prototype._setDefaultThrottle = function (inputRawOption) {\n    // When first time user set throttle, auto throttle ends.\n    if (inputRawOption.hasOwnProperty('throttle')) {\n      this._autoThrottle = false;\n    }\n    if (this._autoThrottle) {\n      var globalOption = this.ecModel.option;\n      this.option.throttle = globalOption.animation && globalOption.animationDurationUpdate > 0 ? 100 : 20;\n    }\n  };\n  DataZoomModel.prototype._updateRangeUse = function (inputRawOption) {\n    var rangePropMode = this._rangePropMode;\n    var rangeModeInOption = this.get('rangeMode');\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      var percentSpecified = inputRawOption[names[0]] != null;\n      var valueSpecified = inputRawOption[names[1]] != null;\n      if (percentSpecified && !valueSpecified) {\n        rangePropMode[index] = 'percent';\n      } else if (!percentSpecified && valueSpecified) {\n        rangePropMode[index] = 'value';\n      } else if (rangeModeInOption) {\n        rangePropMode[index] = rangeModeInOption[index];\n      } else if (percentSpecified) {\n        // percentSpecified && valueSpecified\n        rangePropMode[index] = 'percent';\n      }\n      // else remain its original setting.\n    });\n  };\n  DataZoomModel.prototype.noTarget = function () {\n    return this._noTarget;\n  };\n  DataZoomModel.prototype.getFirstTargetAxisModel = function () {\n    var firstAxisModel;\n    this.eachTargetAxis(function (axisDim, axisIndex) {\n      if (firstAxisModel == null) {\n        firstAxisModel = this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n      }\n    }, this);\n    return firstAxisModel;\n  };\n  /**\n   * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel\n   */\n  DataZoomModel.prototype.eachTargetAxis = function (callback, context) {\n    this._targetAxisInfoMap.each(function (axisInfo, axisDim) {\n      each(axisInfo.indexList, function (axisIndex) {\n        callback.call(context, axisDim, axisIndex);\n      });\n    });\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n  DataZoomModel.prototype.getAxisProxy = function (axisDim, axisIndex) {\n    var axisModel = this.getAxisModel(axisDim, axisIndex);\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    }\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n  DataZoomModel.prototype.getAxisModel = function (axisDim, axisIndex) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(axisDim && axisIndex != null);\n    }\n    var axisInfo = this._targetAxisInfoMap.get(axisDim);\n    if (axisInfo && axisInfo.indexMap[axisIndex]) {\n      return this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n    }\n  };\n  /**\n   * If not specified, set to undefined.\n   */\n  DataZoomModel.prototype.setRawRange = function (opt) {\n    var thisOption = this.option;\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names) {\n      // Consider the pair <start, startValue>:\n      // If one has value and the other one is `null/undefined`, we both set them\n      // to `settledOption`. This strategy enables the feature to clear the original\n      // value in `settledOption` to `null/undefined`.\n      // But if both of them are `null/undefined`, we do not set them to `settledOption`\n      // and keep `settledOption` with the original value. This strategy enables users to\n      // only set <end or endValue> but not set <start or startValue> when calling\n      // `dispatchAction`.\n      // The pair <end, endValue> is treated in the same way.\n      if (opt[names[0]] != null || opt[names[1]] != null) {\n        thisOption[names[0]] = settledOption[names[0]] = opt[names[0]];\n        thisOption[names[1]] = settledOption[names[1]] = opt[names[1]];\n      }\n    }, this);\n    this._updateRangeUse(opt);\n  };\n  DataZoomModel.prototype.setCalculatedRange = function (opt) {\n    var option = this.option;\n    each(['start', 'startValue', 'end', 'endValue'], function (name) {\n      option[name] = opt[name];\n    });\n  };\n  DataZoomModel.prototype.getPercentRange = function () {\n    var axisProxy = this.findRepresentativeAxisProxy();\n    if (axisProxy) {\n      return axisProxy.getDataPercentWindow();\n    }\n  };\n  /**\n   * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);\n   *\n   * @return [startValue, endValue] value can only be '-' or finite number.\n   */\n  DataZoomModel.prototype.getValueRange = function (axisDim, axisIndex) {\n    if (axisDim == null && axisIndex == null) {\n      var axisProxy = this.findRepresentativeAxisProxy();\n      if (axisProxy) {\n        return axisProxy.getDataValueWindow();\n      }\n    } else {\n      return this.getAxisProxy(axisDim, axisIndex).getDataValueWindow();\n    }\n  };\n  /**\n   * @param axisModel If axisModel given, find axisProxy\n   *      corresponding to the axisModel\n   */\n  DataZoomModel.prototype.findRepresentativeAxisProxy = function (axisModel) {\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    }\n    // Find the first hosted axisProxy\n    var firstProxy;\n    var axisDimList = this._targetAxisInfoMap.keys();\n    for (var i = 0; i < axisDimList.length; i++) {\n      var axisDim = axisDimList[i];\n      var axisInfo = this._targetAxisInfoMap.get(axisDim);\n      for (var j = 0; j < axisInfo.indexList.length; j++) {\n        var proxy = this.getAxisProxy(axisDim, axisInfo.indexList[j]);\n        if (proxy.hostedBy(this)) {\n          return proxy;\n        }\n        if (!firstProxy) {\n          firstProxy = proxy;\n        }\n      }\n    }\n    // If no hosted proxy found, still need to return a proxy.\n    // This case always happens in toolbox dataZoom, where axes are all hosted by\n    // other dataZooms.\n    return firstProxy;\n  };\n  DataZoomModel.prototype.getRangePropMode = function () {\n    return this._rangePropMode.slice();\n  };\n  DataZoomModel.prototype.getOrient = function () {\n    if (process.env.NODE_ENV !== 'production') {\n      // Should not be called before initialized.\n      assert(this._orient);\n    }\n    return this._orient;\n  };\n  DataZoomModel.type = 'dataZoom';\n  DataZoomModel.dependencies = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series', 'toolbox'];\n  DataZoomModel.defaultOption = {\n    // zlevel: 0,\n    z: 4,\n    filterMode: 'filter',\n    start: 0,\n    end: 100\n  };\n  return DataZoomModel;\n}(ComponentModel);\n/**\n * Retrieve those raw params from option, which will be cached separately,\n * because they will be overwritten by normalized/calculated values in the main\n * process.\n */\nfunction retrieveRawOption(option) {\n  var ret = {};\n  each(['start', 'end', 'startValue', 'endValue', 'throttle'], function (name) {\n    option.hasOwnProperty(name) && (ret[name] = option[name]);\n  });\n  return ret;\n}\nexport default DataZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\nvar SelectDataZoomModel = /** @class */function (_super) {\n  __extends(SelectDataZoomModel, _super);\n  function SelectDataZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SelectDataZoomModel.type;\n    return _this;\n  }\n  SelectDataZoomModel.type = 'dataZoom.select';\n  return SelectDataZoomModel;\n}(DataZoomModel);\nexport default SelectDataZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nvar DataZoomView = /** @class */function (_super) {\n  __extends(DataZoomView, _super);\n  function DataZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = DataZoomView.type;\n    return _this;\n  }\n  DataZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    this.dataZoomModel = dataZoomModel;\n    this.ecModel = ecModel;\n    this.api = api;\n  };\n  DataZoomView.type = 'dataZoom';\n  return DataZoomView;\n}(ComponentView);\nexport default DataZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomView from './DataZoomView.js';\nvar SelectDataZoomView = /** @class */function (_super) {\n  __extends(SelectDataZoomView, _super);\n  function SelectDataZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SelectDataZoomView.type;\n    return _this;\n  }\n  SelectDataZoomView.type = 'dataZoom.select';\n  return SelectDataZoomView;\n}(DataZoomView);\nexport default SelectDataZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as numberUtil from '../../util/number.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport { unionAxisExtentFromData } from '../../coord/axisHelper.js';\nimport { ensureScaleRawExtentInfo } from '../../coord/scaleRawExtentInfo.js';\nimport { getAxisMainType, isCoordSupported } from './helper.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\n/**\n * Operate single axis.\n * One axis can only operated by one axis operator.\n * Different dataZoomModels may be defined to operate the same axis.\n * (i.e. 'inside' data zoom and 'slider' data zoom components)\n * So dataZoomModels share one axisProxy in that case.\n */\nvar AxisProxy = /** @class */function () {\n  function AxisProxy(dimName, axisIndex, dataZoomModel, ecModel) {\n    this._dimName = dimName;\n    this._axisIndex = axisIndex;\n    this.ecModel = ecModel;\n    this._dataZoomModel = dataZoomModel;\n    // /**\n    //  * @readOnly\n    //  * @private\n    //  */\n    // this.hasSeriesStacked;\n  }\n  /**\n   * Whether the axisProxy is hosted by dataZoomModel.\n   */\n  AxisProxy.prototype.hostedBy = function (dataZoomModel) {\n    return this._dataZoomModel === dataZoomModel;\n  };\n  /**\n   * @return Value can only be NaN or finite value.\n   */\n  AxisProxy.prototype.getDataValueWindow = function () {\n    return this._valueWindow.slice();\n  };\n  /**\n   * @return {Array.<number>}\n   */\n  AxisProxy.prototype.getDataPercentWindow = function () {\n    return this._percentWindow.slice();\n  };\n  AxisProxy.prototype.getTargetSeriesModels = function () {\n    var seriesModels = [];\n    this.ecModel.eachSeries(function (seriesModel) {\n      if (isCoordSupported(seriesModel)) {\n        var axisMainType = getAxisMainType(this._dimName);\n        var axisModel = seriesModel.getReferringComponents(axisMainType, SINGLE_REFERRING).models[0];\n        if (axisModel && this._axisIndex === axisModel.componentIndex) {\n          seriesModels.push(seriesModel);\n        }\n      }\n    }, this);\n    return seriesModels;\n  };\n  AxisProxy.prototype.getAxisModel = function () {\n    return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex);\n  };\n  AxisProxy.prototype.getMinMaxSpan = function () {\n    return zrUtil.clone(this._minMaxSpan);\n  };\n  /**\n   * Only calculate by given range and this._dataExtent, do not change anything.\n   */\n  AxisProxy.prototype.calculateDataWindow = function (opt) {\n    var dataExtent = this._dataExtent;\n    var axisModel = this.getAxisModel();\n    var scale = axisModel.axis.scale;\n    var rangePropMode = this._dataZoomModel.getRangePropMode();\n    var percentExtent = [0, 100];\n    var percentWindow = [];\n    var valueWindow = [];\n    var hasPropModeValue;\n    each(['start', 'end'], function (prop, idx) {\n      var boundPercent = opt[prop];\n      var boundValue = opt[prop + 'Value'];\n      // Notice: dataZoom is based either on `percentProp` ('start', 'end') or\n      // on `valueProp` ('startValue', 'endValue'). (They are based on the data extent\n      // but not min/max of axis, which will be calculated by data window then).\n      // The former one is suitable for cases that a dataZoom component controls multiple\n      // axes with different unit or extent, and the latter one is suitable for accurate\n      // zoom by pixel (e.g., in dataZoomSelect).\n      // we use `getRangePropMode()` to mark which prop is used. `rangePropMode` is updated\n      // only when setOption or dispatchAction, otherwise it remains its original value.\n      // (Why not only record `percentProp` and always map to `valueProp`? Because\n      // the map `valueProp` -> `percentProp` -> `valueProp` probably not the original\n      // `valueProp`. consider two axes constrolled by one dataZoom. They have different\n      // data extent. All of values that are overflow the `dataExtent` will be calculated\n      // to percent '100%').\n      if (rangePropMode[idx] === 'percent') {\n        boundPercent == null && (boundPercent = percentExtent[idx]);\n        // Use scale.parse to math round for category or time axis.\n        boundValue = scale.parse(numberUtil.linearMap(boundPercent, percentExtent, dataExtent));\n      } else {\n        hasPropModeValue = true;\n        boundValue = boundValue == null ? dataExtent[idx] : scale.parse(boundValue);\n        // Calculating `percent` from `value` may be not accurate, because\n        // This calculation can not be inversed, because all of values that\n        // are overflow the `dataExtent` will be calculated to percent '100%'\n        boundPercent = numberUtil.linearMap(boundValue, dataExtent, percentExtent);\n      }\n      // valueWindow[idx] = round(boundValue);\n      // percentWindow[idx] = round(boundPercent);\n      // fallback to extent start/end when parsed value or percent is invalid\n      valueWindow[idx] = boundValue == null || isNaN(boundValue) ? dataExtent[idx] : boundValue;\n      percentWindow[idx] = boundPercent == null || isNaN(boundPercent) ? percentExtent[idx] : boundPercent;\n    });\n    asc(valueWindow);\n    asc(percentWindow);\n    // The windows from user calling of `dispatchAction` might be out of the extent,\n    // or do not obey the `min/maxSpan`, `min/maxValueSpan`. But we don't restrict window\n    // by `zoomLock` here, because we see `zoomLock` just as a interaction constraint,\n    // where API is able to initialize/modify the window size even though `zoomLock`\n    // specified.\n    var spans = this._minMaxSpan;\n    hasPropModeValue ? restrictSet(valueWindow, percentWindow, dataExtent, percentExtent, false) : restrictSet(percentWindow, valueWindow, percentExtent, dataExtent, true);\n    function restrictSet(fromWindow, toWindow, fromExtent, toExtent, toValue) {\n      var suffix = toValue ? 'Span' : 'ValueSpan';\n      sliderMove(0, fromWindow, fromExtent, 'all', spans['min' + suffix], spans['max' + suffix]);\n      for (var i = 0; i < 2; i++) {\n        toWindow[i] = numberUtil.linearMap(fromWindow[i], fromExtent, toExtent, true);\n        toValue && (toWindow[i] = scale.parse(toWindow[i]));\n      }\n    }\n    return {\n      valueWindow: valueWindow,\n      percentWindow: percentWindow\n    };\n  };\n  /**\n   * Notice: reset should not be called before series.restoreData() is called,\n   * so it is recommended to be called in \"process stage\" but not \"model init\n   * stage\".\n   */\n  AxisProxy.prototype.reset = function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n    var targetSeries = this.getTargetSeriesModels();\n    // Culculate data window and data extent, and record them.\n    this._dataExtent = calculateDataExtent(this, this._dimName, targetSeries);\n    // `calculateDataWindow` uses min/maxSpan.\n    this._updateMinMaxSpan();\n    var dataWindow = this.calculateDataWindow(dataZoomModel.settledOption);\n    this._valueWindow = dataWindow.valueWindow;\n    this._percentWindow = dataWindow.percentWindow;\n    // Update axis setting then.\n    this._setAxisModel();\n  };\n  AxisProxy.prototype.filterData = function (dataZoomModel, api) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n    var axisDim = this._dimName;\n    var seriesModels = this.getTargetSeriesModels();\n    var filterMode = dataZoomModel.get('filterMode');\n    var valueWindow = this._valueWindow;\n    if (filterMode === 'none') {\n      return;\n    }\n    // FIXME\n    // Toolbox may has dataZoom injected. And if there are stacked bar chart\n    // with NaN data, NaN will be filtered and stack will be wrong.\n    // So we need to force the mode to be set empty.\n    // In fect, it is not a big deal that do not support filterMode-'filter'\n    // when using toolbox#dataZoom, utill tooltip#dataZoom support \"single axis\n    // selection\" some day, which might need \"adapt to data extent on the\n    // otherAxis\", which is disabled by filterMode-'empty'.\n    // But currently, stack has been fixed to based on value but not index,\n    // so this is not an issue any more.\n    // let otherAxisModel = this.getOtherAxisModel();\n    // if (dataZoomModel.get('$fromToolbox')\n    //     && otherAxisModel\n    //     && otherAxisModel.hasSeriesStacked\n    // ) {\n    //     filterMode = 'empty';\n    // }\n    // TODO\n    // filterMode 'weakFilter' and 'empty' is not optimized for huge data yet.\n    each(seriesModels, function (seriesModel) {\n      var seriesData = seriesModel.getData();\n      var dataDims = seriesData.mapDimensionsAll(axisDim);\n      if (!dataDims.length) {\n        return;\n      }\n      if (filterMode === 'weakFilter') {\n        var store_1 = seriesData.getStore();\n        var dataDimIndices_1 = zrUtil.map(dataDims, function (dim) {\n          return seriesData.getDimensionIndex(dim);\n        }, seriesData);\n        seriesData.filterSelf(function (dataIndex) {\n          var leftOut;\n          var rightOut;\n          var hasValue;\n          for (var i = 0; i < dataDims.length; i++) {\n            var value = store_1.get(dataDimIndices_1[i], dataIndex);\n            var thisHasValue = !isNaN(value);\n            var thisLeftOut = value < valueWindow[0];\n            var thisRightOut = value > valueWindow[1];\n            if (thisHasValue && !thisLeftOut && !thisRightOut) {\n              return true;\n            }\n            thisHasValue && (hasValue = true);\n            thisLeftOut && (leftOut = true);\n            thisRightOut && (rightOut = true);\n          }\n          // If both left out and right out, do not filter.\n          return hasValue && leftOut && rightOut;\n        });\n      } else {\n        each(dataDims, function (dim) {\n          if (filterMode === 'empty') {\n            seriesModel.setData(seriesData = seriesData.map(dim, function (value) {\n              return !isInWindow(value) ? NaN : value;\n            }));\n          } else {\n            var range = {};\n            range[dim] = valueWindow;\n            // console.time('select');\n            seriesData.selectRange(range);\n            // console.timeEnd('select');\n          }\n        });\n      }\n      each(dataDims, function (dim) {\n        seriesData.setApproximateExtent(valueWindow, dim);\n      });\n    });\n    function isInWindow(value) {\n      return value >= valueWindow[0] && value <= valueWindow[1];\n    }\n  };\n  AxisProxy.prototype._updateMinMaxSpan = function () {\n    var minMaxSpan = this._minMaxSpan = {};\n    var dataZoomModel = this._dataZoomModel;\n    var dataExtent = this._dataExtent;\n    each(['min', 'max'], function (minMax) {\n      var percentSpan = dataZoomModel.get(minMax + 'Span');\n      var valueSpan = dataZoomModel.get(minMax + 'ValueSpan');\n      valueSpan != null && (valueSpan = this.getAxisModel().axis.scale.parse(valueSpan));\n      // minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan\n      if (valueSpan != null) {\n        percentSpan = numberUtil.linearMap(dataExtent[0] + valueSpan, dataExtent, [0, 100], true);\n      } else if (percentSpan != null) {\n        valueSpan = numberUtil.linearMap(percentSpan, [0, 100], dataExtent, true) - dataExtent[0];\n      }\n      minMaxSpan[minMax + 'Span'] = percentSpan;\n      minMaxSpan[minMax + 'ValueSpan'] = valueSpan;\n    }, this);\n  };\n  AxisProxy.prototype._setAxisModel = function () {\n    var axisModel = this.getAxisModel();\n    var percentWindow = this._percentWindow;\n    var valueWindow = this._valueWindow;\n    if (!percentWindow) {\n      return;\n    }\n    // [0, 500]: arbitrary value, guess axis extent.\n    var precision = numberUtil.getPixelPrecision(valueWindow, [0, 500]);\n    precision = Math.min(precision, 20);\n    // For value axis, if min/max/scale are not set, we just use the extent obtained\n    // by series data, which may be a little different from the extent calculated by\n    // `axisHelper.getScaleExtent`. But the different just affects the experience a\n    // little when zooming. So it will not be fixed until some users require it strongly.\n    var rawExtentInfo = axisModel.axis.scale.rawExtentInfo;\n    if (percentWindow[0] !== 0) {\n      rawExtentInfo.setDeterminedMinMax('min', +valueWindow[0].toFixed(precision));\n    }\n    if (percentWindow[1] !== 100) {\n      rawExtentInfo.setDeterminedMinMax('max', +valueWindow[1].toFixed(precision));\n    }\n    rawExtentInfo.freeze();\n  };\n  return AxisProxy;\n}();\nfunction calculateDataExtent(axisProxy, axisDim, seriesModels) {\n  var dataExtent = [Infinity, -Infinity];\n  each(seriesModels, function (seriesModel) {\n    unionAxisExtentFromData(dataExtent, seriesModel.getData(), axisDim);\n  });\n  // It is important to get \"consistent\" extent when more then one axes is\n  // controlled by a `dataZoom`, otherwise those axes will not be synchronized\n  // when zooming. But it is difficult to know what is \"consistent\", considering\n  // axes have different type or even different meanings (For example, two\n  // time axes are used to compare data of the same date in different years).\n  // So basically dataZoom just obtains extent by series.data (in category axis\n  // extent can be obtained from axis.data).\n  // Nevertheless, user can set min/max/scale on axes to make extent of axes\n  // consistent.\n  var axisModel = axisProxy.getAxisModel();\n  var rawExtentResult = ensureScaleRawExtentInfo(axisModel.axis.scale, axisModel, dataExtent).calculate();\n  return [rawExtentResult.min, rawExtentResult.max];\n}\nexport default AxisProxy;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport { getAxisMainType } from './helper.js';\nimport AxisProxy from './AxisProxy.js';\nvar dataZoomProcessor = {\n  // `dataZoomProcessor` will only be performed in needed series. Consider if\n  // there is a line series and a pie series, it is better not to update the\n  // line series if only pie series is needed to be updated.\n  getTargetSeries: function (ecModel) {\n    function eachAxisModel(cb) {\n      ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n        dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n          var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n          cb(axisDim, axisIndex, axisModel, dataZoomModel);\n        });\n      });\n    }\n    // FIXME: it brings side-effect to `getTargetSeries`.\n    // Prepare axis proxies.\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // dispose all last axis proxy, in case that some axis are deleted.\n      axisModel.__dzAxisProxy = null;\n    });\n    var proxyList = [];\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // Different dataZooms may constrol the same axis. In that case,\n      // an axisProxy serves both of them.\n      if (!axisModel.__dzAxisProxy) {\n        // Use the first dataZoomModel as the main model of axisProxy.\n        axisModel.__dzAxisProxy = new AxisProxy(axisDim, axisIndex, dataZoomModel, ecModel);\n        proxyList.push(axisModel.__dzAxisProxy);\n      }\n    });\n    var seriesModelMap = createHashMap();\n    each(proxyList, function (axisProxy) {\n      each(axisProxy.getTargetSeriesModels(), function (seriesModel) {\n        seriesModelMap.set(seriesModel.uid, seriesModel);\n      });\n    });\n    return seriesModelMap;\n  },\n  // Consider appendData, where filter should be performed. Because data process is\n  // in block mode currently, it is not need to worry about that the overallProgress\n  // execute every frame.\n  overallReset: function (ecModel, api) {\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // We calculate window and reset axis here but not in model\n      // init stage and not after action dispatch handler, because\n      // reset should be called after seriesData.restoreData.\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).reset(dataZoomModel);\n      });\n      // Caution: data zoom filtering is order sensitive when using\n      // percent range and no min/max/scale set on axis.\n      // For example, we have dataZoom definition:\n      // [\n      //      {xAxisIndex: 0, start: 30, end: 70},\n      //      {yAxisIndex: 0, start: 20, end: 80}\n      // ]\n      // In this case, [20, 80] of y-dataZoom should be based on data\n      // that have filtered by x-dataZoom using range of [30, 70],\n      // but should not be based on full raw data. Thus sliding\n      // x-dataZoom will change both ranges of xAxis and yAxis,\n      // while sliding y-dataZoom will only change the range of yAxis.\n      // So we should filter x-axis after reset x-axis immediately,\n      // and then reset y-axis and filter y-axis.\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).filterData(dataZoomModel, api);\n      });\n    });\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // Fullfill all of the range props so that user\n      // is able to get them from chart.getOption().\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n      if (axisProxy) {\n        var percentRange = axisProxy.getDataPercentWindow();\n        var valueRange = axisProxy.getDataValueWindow();\n        dataZoomModel.setCalculatedRange({\n          start: percentRange[0],\n          end: percentRange[1],\n          startValue: valueRange[0],\n          endValue: valueRange[1]\n        });\n      }\n    });\n  }\n};\nexport default dataZoomProcessor;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { findEffectedDataZooms } from './helper.js';\nimport { each } from 'zrender/lib/core/util.js';\nexport default function installDataZoomAction(registers) {\n  registers.registerAction('dataZoom', function (payload, ecModel) {\n    var effectedModels = findEffectedDataZooms(ecModel, payload);\n    each(effectedModels, function (dataZoomModel) {\n      dataZoomModel.setRawRange({\n        start: payload.start,\n        end: payload.end,\n        startValue: payload.startValue,\n        endValue: payload.endValue\n      });\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport dataZoomProcessor from './dataZoomProcessor.js';\nimport installDataZoomAction from './dataZoomAction.js';\nvar installed = false;\nexport default function installCommon(registers) {\n  if (installed) {\n    return;\n  }\n  installed = true;\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, dataZoomProcessor);\n  installDataZoomAction(registers);\n  registers.registerSubTypeDefaulter('dataZoom', function () {\n    // Default 'slider' when no type specified.\n    return 'slider';\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SelectZoomModel from './SelectZoomModel.js';\nimport SelectZoomView from './SelectZoomView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(SelectZoomModel);\n  registers.registerComponentView(SelectZoomView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nvar ToolboxFeature = /** @class */function () {\n  function ToolboxFeature() {}\n  return ToolboxFeature;\n}();\nexport { ToolboxFeature };\nvar features = {};\nexport function registerFeature(name, ctor) {\n  features[name] = ctor;\n}\nexport function getFeature(name) {\n  return features[name];\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as featureManager from './featureManager.js';\nimport ComponentModel from '../../model/Component.js';\nimport tokens from '../../visual/tokens.js';\nvar ToolboxModel = /** @class */function (_super) {\n  __extends(ToolboxModel, _super);\n  function ToolboxModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ToolboxModel.type;\n    return _this;\n  }\n  ToolboxModel.prototype.optionUpdated = function () {\n    _super.prototype.optionUpdated.apply(this, arguments);\n    var ecModel = this.ecModel;\n    zrUtil.each(this.option.feature, function (featureOpt, featureName) {\n      var Feature = featureManager.getFeature(featureName);\n      if (Feature) {\n        if (Feature.getDefaultOption) {\n          Feature.defaultOption = Feature.getDefaultOption(ecModel);\n        }\n        zrUtil.merge(featureOpt, Feature.defaultOption);\n      }\n    });\n  };\n  ToolboxModel.type = 'toolbox';\n  ToolboxModel.layoutMode = {\n    type: 'box',\n    ignoreSize: true\n  };\n  ToolboxModel.defaultOption = {\n    show: true,\n    z: 6,\n    // zlevel: 0,\n    orient: 'horizontal',\n    left: 'right',\n    top: 'top',\n    // right\n    // bottom\n    backgroundColor: 'transparent',\n    borderColor: tokens.color.border,\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: tokens.size.m,\n    itemSize: 15,\n    itemGap: tokens.size.s,\n    showTitle: true,\n    iconStyle: {\n      borderColor: tokens.color.accent50,\n      color: 'none'\n    },\n    emphasis: {\n      iconStyle: {\n        borderColor: tokens.color.accent50\n      }\n    },\n    // textStyle: {},\n    // feature\n    tooltip: {\n      show: false,\n      position: 'bottom'\n    }\n  };\n  return ToolboxModel;\n}(ComponentModel);\nexport default ToolboxModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as formatUtil from '../../util/format.js';\nimport * as graphic from '../../util/graphic.js';\n;\nexport function makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  var bgRect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  });\n  // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n  return bgRect;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport * as graphic from '../../util/graphic.js';\nimport { enterEmphasis, leaveEmphasis } from '../../util/states.js';\nimport Model from '../../model/Model.js';\nimport DataDiffer from '../../data/DataDiffer.js';\nimport * as listComponentHelper from '../helper/listComponent.js';\nimport ComponentView from '../../view/Component.js';\nimport { ToolboxFeature, getFeature } from './featureManager.js';\nimport { getUID } from '../../util/component.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nimport { getFont } from '../../label/labelStyle.js';\nimport { box, createBoxLayoutReference, getLayoutRect, positionElement } from '../../util/layout.js';\nimport tokens from '../../visual/tokens.js';\nvar ToolboxView = /** @class */function (_super) {\n  __extends(ToolboxView, _super);\n  function ToolboxView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ToolboxView.prototype.render = function (toolboxModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n    if (!toolboxModel.get('show')) {\n      return;\n    }\n    var itemSize = +toolboxModel.get('itemSize');\n    var isVertical = toolboxModel.get('orient') === 'vertical';\n    var featureOpts = toolboxModel.get('feature') || {};\n    var features = this._features || (this._features = {});\n    var featureNames = [];\n    zrUtil.each(featureOpts, function (opt, name) {\n      featureNames.push(name);\n    });\n    new DataDiffer(this._featureNames || [], featureNames).add(processFeature).update(processFeature).remove(zrUtil.curry(processFeature, null)).execute();\n    // Keep for diff.\n    this._featureNames = featureNames;\n    function processFeature(newIndex, oldIndex) {\n      var featureName = featureNames[newIndex];\n      var oldName = featureNames[oldIndex];\n      var featureOpt = featureOpts[featureName];\n      var featureModel = new Model(featureOpt, toolboxModel, toolboxModel.ecModel);\n      var feature;\n      // FIX#11236, merge feature title from MagicType newOption. TODO: consider seriesIndex ?\n      if (payload && payload.newTitle != null && payload.featureName === featureName) {\n        featureOpt.title = payload.newTitle;\n      }\n      if (featureName && !oldName) {\n        // Create\n        if (isUserFeatureName(featureName)) {\n          feature = {\n            onclick: featureModel.option.onclick,\n            featureName: featureName\n          };\n        } else {\n          var Feature = getFeature(featureName);\n          if (!Feature) {\n            return;\n          }\n          feature = new Feature();\n        }\n        features[featureName] = feature;\n      } else {\n        feature = features[oldName];\n        // If feature does not exist.\n        if (!feature) {\n          return;\n        }\n      }\n      feature.uid = getUID('toolbox-feature');\n      feature.model = featureModel;\n      feature.ecModel = ecModel;\n      feature.api = api;\n      var isToolboxFeature = feature instanceof ToolboxFeature;\n      if (!featureName && oldName) {\n        isToolboxFeature && feature.dispose && feature.dispose(ecModel, api);\n        return;\n      }\n      if (!featureModel.get('show') || isToolboxFeature && feature.unusable) {\n        isToolboxFeature && feature.remove && feature.remove(ecModel, api);\n        return;\n      }\n      createIconPaths(featureModel, feature, featureName);\n      featureModel.setIconStatus = function (iconName, status) {\n        var option = this.option;\n        var iconPaths = this.iconPaths;\n        option.iconStatus = option.iconStatus || {};\n        option.iconStatus[iconName] = status;\n        if (iconPaths[iconName]) {\n          (status === 'emphasis' ? enterEmphasis : leaveEmphasis)(iconPaths[iconName]);\n        }\n      };\n      if (feature instanceof ToolboxFeature) {\n        if (feature.render) {\n          feature.render(featureModel, ecModel, api, payload);\n        }\n      }\n    }\n    function createIconPaths(featureModel, feature, featureName) {\n      var iconStyleModel = featureModel.getModel('iconStyle');\n      var iconStyleEmphasisModel = featureModel.getModel(['emphasis', 'iconStyle']);\n      // If one feature has multiple icons, they are organized as\n      // {\n      //     icon: {\n      //         foo: '',\n      //         bar: ''\n      //     },\n      //     title: {\n      //         foo: '',\n      //         bar: ''\n      //     }\n      // }\n      var icons = feature instanceof ToolboxFeature && feature.getIcons ? feature.getIcons() : featureModel.get('icon');\n      var titles = featureModel.get('title') || {};\n      var iconsMap;\n      var titlesMap;\n      if (zrUtil.isString(icons)) {\n        iconsMap = {};\n        iconsMap[featureName] = icons;\n      } else {\n        iconsMap = icons;\n      }\n      if (zrUtil.isString(titles)) {\n        titlesMap = {};\n        titlesMap[featureName] = titles;\n      } else {\n        titlesMap = titles;\n      }\n      var iconPaths = featureModel.iconPaths = {};\n      zrUtil.each(iconsMap, function (iconStr, iconName) {\n        var path = graphic.createIcon(iconStr, {}, {\n          x: -itemSize / 2,\n          y: -itemSize / 2,\n          width: itemSize,\n          height: itemSize\n        }); // TODO handling image\n        path.setStyle(iconStyleModel.getItemStyle());\n        var pathEmphasisState = path.ensureState('emphasis');\n        pathEmphasisState.style = iconStyleEmphasisModel.getItemStyle();\n        // Text position calculation\n        // TODO: extract `textStyle` from `iconStyle` and use `createTextStyle`\n        var textContent = new ZRText({\n          style: {\n            text: titlesMap[iconName],\n            align: iconStyleEmphasisModel.get('textAlign'),\n            borderRadius: iconStyleEmphasisModel.get('textBorderRadius'),\n            padding: iconStyleEmphasisModel.get('textPadding'),\n            fill: null,\n            font: getFont({\n              fontStyle: iconStyleEmphasisModel.get('textFontStyle'),\n              fontFamily: iconStyleEmphasisModel.get('textFontFamily'),\n              fontSize: iconStyleEmphasisModel.get('textFontSize'),\n              fontWeight: iconStyleEmphasisModel.get('textFontWeight')\n            }, ecModel)\n          },\n          ignore: true\n        });\n        path.setTextContent(textContent);\n        graphic.setTooltipConfig({\n          el: path,\n          componentModel: toolboxModel,\n          itemName: iconName,\n          formatterParamsExtra: {\n            title: titlesMap[iconName]\n          }\n        });\n        path.__title = titlesMap[iconName];\n        path.on('mouseover', function () {\n          // Should not reuse above hoverStyle, which might be modified.\n          var hoverStyle = iconStyleEmphasisModel.getItemStyle();\n          var defaultTextPosition = isVertical ? toolboxModel.get('right') == null && toolboxModel.get('left') !== 'right' ? 'right' : 'left' : toolboxModel.get('bottom') == null && toolboxModel.get('top') !== 'bottom' ? 'bottom' : 'top';\n          textContent.setStyle({\n            fill: iconStyleEmphasisModel.get('textFill') || hoverStyle.fill || hoverStyle.stroke || tokens.color.neutral99,\n            backgroundColor: iconStyleEmphasisModel.get('textBackgroundColor')\n          });\n          path.setTextConfig({\n            position: iconStyleEmphasisModel.get('textPosition') || defaultTextPosition\n          });\n          textContent.ignore = !toolboxModel.get('showTitle');\n          // Use enterEmphasis and leaveEmphasis provide by ec.\n          // There are flags managed by the echarts.\n          api.enterEmphasis(this);\n        }).on('mouseout', function () {\n          if (featureModel.get(['iconStatus', iconName]) !== 'emphasis') {\n            api.leaveEmphasis(this);\n          }\n          textContent.hide();\n        });\n        (featureModel.get(['iconStatus', iconName]) === 'emphasis' ? enterEmphasis : leaveEmphasis)(path);\n        group.add(path);\n        path.on('click', zrUtil.bind(feature.onclick, feature, ecModel, api, iconName));\n        iconPaths[iconName] = path;\n      });\n    }\n    var refContainer = createBoxLayoutReference(toolboxModel, api).refContainer;\n    var boxLayoutParams = toolboxModel.getBoxLayoutParams();\n    var padding = toolboxModel.get('padding');\n    var viewRect = getLayoutRect(boxLayoutParams, refContainer, padding);\n    box(toolboxModel.get('orient'), group, toolboxModel.get('itemGap'), viewRect.width, viewRect.height);\n    positionElement(group, boxLayoutParams, refContainer, padding);\n    // Render background after group is layout\n    // FIXME\n    group.add(listComponentHelper.makeBackground(group.getBoundingRect(), toolboxModel));\n    // Adjust icon title positions to avoid them out of screen\n    isVertical || group.eachChild(function (icon) {\n      var titleText = icon.__title;\n      // const hoverStyle = icon.hoverStyle;\n      // TODO simplify code?\n      var emphasisState = icon.ensureState('emphasis');\n      var emphasisTextConfig = emphasisState.textConfig || (emphasisState.textConfig = {});\n      var textContent = icon.getTextContent();\n      var emphasisTextState = textContent && textContent.ensureState('emphasis');\n      // May be background element\n      if (emphasisTextState && !zrUtil.isFunction(emphasisTextState) && titleText) {\n        var emphasisTextStyle = emphasisTextState.style || (emphasisTextState.style = {});\n        var rect = textContain.getBoundingRect(titleText, ZRText.makeFont(emphasisTextStyle));\n        var offsetX = icon.x + group.x;\n        var offsetY = icon.y + group.y + itemSize;\n        var needPutOnTop = false;\n        if (offsetY + rect.height > api.getHeight()) {\n          emphasisTextConfig.position = 'top';\n          needPutOnTop = true;\n        }\n        var topOffset = needPutOnTop ? -5 - rect.height : itemSize + 10;\n        if (offsetX + rect.width / 2 > api.getWidth()) {\n          emphasisTextConfig.position = ['100%', topOffset];\n          emphasisTextStyle.align = 'right';\n        } else if (offsetX - rect.width / 2 < 0) {\n          emphasisTextConfig.position = [0, topOffset];\n          emphasisTextStyle.align = 'left';\n        }\n      }\n    });\n  };\n  ToolboxView.prototype.updateView = function (toolboxModel, ecModel, api, payload) {\n    zrUtil.each(this._features, function (feature) {\n      feature instanceof ToolboxFeature && feature.updateView && feature.updateView(feature.model, ecModel, api, payload);\n    });\n  };\n  // updateLayout(toolboxModel, ecModel, api, payload) {\n  //     zrUtil.each(this._features, function (feature) {\n  //         feature.updateLayout && feature.updateLayout(feature.model, ecModel, api, payload);\n  //     });\n  // },\n  ToolboxView.prototype.remove = function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature instanceof ToolboxFeature && feature.remove && feature.remove(ecModel, api);\n    });\n    this.group.removeAll();\n  };\n  ToolboxView.prototype.dispose = function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature instanceof ToolboxFeature && feature.dispose && feature.dispose(ecModel, api);\n    });\n  };\n  ToolboxView.type = 'toolbox';\n  return ToolboxView;\n}(ComponentView);\nfunction isUserFeatureName(featureName) {\n  return featureName.indexOf('my') === 0;\n}\nexport default ToolboxView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global window, Uint8Array, document */\nimport env from 'zrender/lib/core/env.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport tokens from '../../../visual/tokens.js';\nvar SaveAsImage = /** @class */function (_super) {\n  __extends(SaveAsImage, _super);\n  function SaveAsImage() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  SaveAsImage.prototype.onclick = function (ecModel, api) {\n    var model = this.model;\n    var title = model.get('name') || ecModel.get('title.0.text') || 'echarts';\n    var isSvg = api.getZr().painter.getType() === 'svg';\n    var type = isSvg ? 'svg' : model.get('type', true) || 'png';\n    var url = api.getConnectedDataURL({\n      type: type,\n      backgroundColor: model.get('backgroundColor', true) || ecModel.get('backgroundColor') || tokens.color.neutral00,\n      connectedBackgroundColor: model.get('connectedBackgroundColor'),\n      excludeComponents: model.get('excludeComponents'),\n      pixelRatio: model.get('pixelRatio')\n    });\n    var browser = env.browser;\n    // Chrome, Firefox, New Edge\n    if (typeof MouseEvent === 'function' && (browser.newEdge || !browser.ie && !browser.edge)) {\n      var $a = document.createElement('a');\n      $a.download = title + '.' + type;\n      $a.target = '_blank';\n      $a.href = url;\n      var evt = new MouseEvent('click', {\n        // some micro front-end framework window maybe is a Proxy\n        view: document.defaultView,\n        bubbles: true,\n        cancelable: false\n      });\n      $a.dispatchEvent(evt);\n    }\n    // IE or old Edge\n    else {\n      // @ts-ignore\n      if (window.navigator.msSaveOrOpenBlob || isSvg) {\n        var parts = url.split(',');\n        // data:[<mime type>][;charset=<charset>][;base64],<encoded data>\n        var base64Encoded = parts[0].indexOf('base64') > -1;\n        var bstr = isSvg\n        // should decode the svg data uri first\n        ? decodeURIComponent(parts[1]) : parts[1];\n        // only `atob` when the data uri is encoded with base64\n        // otherwise, like `svg` data uri exported by zrender,\n        // there will be an error, for it's not encoded with base64.\n        // (just a url-encoded string through `encodeURIComponent`)\n        base64Encoded && (bstr = window.atob(bstr));\n        var filename = title + '.' + type;\n        // @ts-ignore\n        if (window.navigator.msSaveOrOpenBlob) {\n          var n = bstr.length;\n          var u8arr = new Uint8Array(n);\n          while (n--) {\n            u8arr[n] = bstr.charCodeAt(n);\n          }\n          var blob = new Blob([u8arr]); // @ts-ignore\n          window.navigator.msSaveOrOpenBlob(blob, filename);\n        } else {\n          var frame = document.createElement('iframe');\n          document.body.appendChild(frame);\n          var cw = frame.contentWindow;\n          var doc = cw.document;\n          doc.open('image/svg+xml', 'replace');\n          doc.write(bstr);\n          doc.close();\n          cw.focus();\n          doc.execCommand('SaveAs', true, filename);\n          document.body.removeChild(frame);\n        }\n      } else {\n        var lang = model.get('lang');\n        var html = '' + '<body style=\"margin:0;\">' + '<img src=\"' + url + '\" style=\"max-width:100%;\" title=\"' + (lang && lang[0] || '') + '\" />' + '</body>';\n        var tab = window.open();\n        tab.document.write(html);\n        tab.document.title = title;\n      }\n    }\n  };\n  SaveAsImage.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      icon: 'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0',\n      title: ecModel.getLocaleModel().get(['toolbox', 'saveAsImage', 'title']),\n      type: 'png',\n      // Default use option.backgroundColor\n      // backgroundColor: '#fff',\n      connectedBackgroundColor: tokens.color.neutral00,\n      name: '',\n      excludeComponents: ['toolbox'],\n      // use current pixel ratio of device by default\n      // pixelRatio: 1,\n      lang: ecModel.getLocaleModel().get(['toolbox', 'saveAsImage', 'lang'])\n    };\n    return defaultOption;\n  };\n  return SaveAsImage;\n}(ToolboxFeature);\nexport default SaveAsImage;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as echarts from '../../../core/echarts.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { SINGLE_REFERRING } from '../../../util/model.js';\nvar INNER_STACK_KEYWORD = '__ec_magicType_stack__';\nvar ICON_TYPES = ['line', 'bar', 'stack'];\n// stack and tiled appears in pair for the title\nvar TITLE_TYPES = ['line', 'bar', 'stack', 'tiled'];\nvar radioTypes = [['line', 'bar'], ['stack']];\nvar MagicType = /** @class */function (_super) {\n  __extends(MagicType, _super);\n  function MagicType() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  MagicType.prototype.getIcons = function () {\n    var model = this.model;\n    var availableIcons = model.get('icon');\n    var icons = {};\n    zrUtil.each(model.get('type'), function (type) {\n      if (availableIcons[type]) {\n        icons[type] = availableIcons[type];\n      }\n    });\n    return icons;\n  };\n  MagicType.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      type: [],\n      // Icon group\n      icon: {\n        line: 'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4',\n        bar: 'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7',\n        // eslint-disable-next-line\n        stack: 'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z' // jshint ignore:line\n      },\n      // `line`, `bar`, `stack`, `tiled`\n      title: ecModel.getLocaleModel().get(['toolbox', 'magicType', 'title']),\n      option: {},\n      seriesIndex: {}\n    };\n    return defaultOption;\n  };\n  MagicType.prototype.onclick = function (ecModel, api, type) {\n    var model = this.model;\n    var seriesIndex = model.get(['seriesIndex', type]);\n    // Not supported magicType\n    if (!seriesOptGenreator[type]) {\n      return;\n    }\n    var newOption = {\n      series: []\n    };\n    var generateNewSeriesTypes = function (seriesModel) {\n      var seriesType = seriesModel.subType;\n      var seriesId = seriesModel.id;\n      var newSeriesOpt = seriesOptGenreator[type](seriesType, seriesId, seriesModel, model);\n      if (newSeriesOpt) {\n        // PENDING If merge original option?\n        zrUtil.defaults(newSeriesOpt, seriesModel.option);\n        newOption.series.push(newSeriesOpt);\n      }\n      // Modify boundaryGap\n      var coordSys = seriesModel.coordinateSystem;\n      if (coordSys && coordSys.type === 'cartesian2d' && (type === 'line' || type === 'bar')) {\n        var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n        if (categoryAxis) {\n          var axisDim = categoryAxis.dim;\n          var axisType = axisDim + 'Axis';\n          var axisModel = seriesModel.getReferringComponents(axisType, SINGLE_REFERRING).models[0];\n          var axisIndex = axisModel.componentIndex;\n          newOption[axisType] = newOption[axisType] || [];\n          for (var i = 0; i <= axisIndex; i++) {\n            newOption[axisType][axisIndex] = newOption[axisType][axisIndex] || {};\n          }\n          newOption[axisType][axisIndex].boundaryGap = type === 'bar';\n        }\n      }\n    };\n    zrUtil.each(radioTypes, function (radio) {\n      if (zrUtil.indexOf(radio, type) >= 0) {\n        zrUtil.each(radio, function (item) {\n          model.setIconStatus(item, 'normal');\n        });\n      }\n    });\n    model.setIconStatus(type, 'emphasis');\n    ecModel.eachComponent({\n      mainType: 'series',\n      query: seriesIndex == null ? null : {\n        seriesIndex: seriesIndex\n      }\n    }, generateNewSeriesTypes);\n    var newTitle;\n    var currentType = type;\n    // Change title of stack\n    if (type === 'stack') {\n      // use titles in model instead of ecModel\n      // as stack and tiled appears in pair, just flip them\n      // no need of checking stack state\n      newTitle = zrUtil.merge({\n        stack: model.option.title.tiled,\n        tiled: model.option.title.stack\n      }, model.option.title);\n      if (model.get(['iconStatus', type]) !== 'emphasis') {\n        currentType = 'tiled';\n      }\n    }\n    api.dispatchAction({\n      type: 'changeMagicType',\n      currentType: currentType,\n      newOption: newOption,\n      newTitle: newTitle,\n      featureName: 'magicType'\n    });\n  };\n  return MagicType;\n}(ToolboxFeature);\nvar seriesOptGenreator = {\n  'line': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'bar') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'line',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get(['option', 'line']) || {}, true);\n    }\n  },\n  'bar': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'line') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'bar',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get(['option', 'bar']) || {}, true);\n    }\n  },\n  'stack': function (seriesType, seriesId, seriesModel, model) {\n    var isStack = seriesModel.get('stack') === INNER_STACK_KEYWORD;\n    if (seriesType === 'line' || seriesType === 'bar') {\n      model.setIconStatus('stack', isStack ? 'normal' : 'emphasis');\n      return zrUtil.merge({\n        id: seriesId,\n        stack: isStack ? '' : INNER_STACK_KEYWORD\n      }, model.get(['option', 'stack']) || {}, true);\n    }\n  }\n};\n// TODO: SELF REGISTERED.\necharts.registerAction({\n  type: 'changeMagicType',\n  event: 'magicTypeChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.mergeOption(payload.newOption);\n});\nexport default MagicType;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global document */\nimport * as echarts from '../../../core/echarts.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { addEventListener } from 'zrender/lib/core/event.js';\nimport { warn } from '../../../util/log.js';\nimport tokens from '../../../visual/tokens.js';\n/* global document */\nvar BLOCK_SPLITER = new Array(60).join('-');\nvar ITEM_SPLITER = '\\t';\n/**\n * Group series into two types\n *  1. on category axis, like line, bar\n *  2. others, like scatter, pie\n */\nfunction groupSeries(ecModel) {\n  var seriesGroupByCategoryAxis = {};\n  var otherSeries = [];\n  var meta = [];\n  ecModel.eachRawSeries(function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys && (coordSys.type === 'cartesian2d' || coordSys.type === 'polar')) {\n      // TODO: TYPE Consider polar? Include polar may increase unecessary bundle size.\n      var baseAxis = coordSys.getBaseAxis();\n      if (baseAxis.type === 'category') {\n        var key = baseAxis.dim + '_' + baseAxis.index;\n        if (!seriesGroupByCategoryAxis[key]) {\n          seriesGroupByCategoryAxis[key] = {\n            categoryAxis: baseAxis,\n            valueAxis: coordSys.getOtherAxis(baseAxis),\n            series: []\n          };\n          meta.push({\n            axisDim: baseAxis.dim,\n            axisIndex: baseAxis.index\n          });\n        }\n        seriesGroupByCategoryAxis[key].series.push(seriesModel);\n      } else {\n        otherSeries.push(seriesModel);\n      }\n    } else {\n      otherSeries.push(seriesModel);\n    }\n  });\n  return {\n    seriesGroupByCategoryAxis: seriesGroupByCategoryAxis,\n    other: otherSeries,\n    meta: meta\n  };\n}\n/**\n * Assemble content of series on cateogory axis\n * @inner\n */\nfunction assembleSeriesWithCategoryAxis(groups) {\n  var tables = [];\n  zrUtil.each(groups, function (group, key) {\n    var categoryAxis = group.categoryAxis;\n    var valueAxis = group.valueAxis;\n    var valueAxisDim = valueAxis.dim;\n    var headers = [' '].concat(zrUtil.map(group.series, function (series) {\n      return series.name;\n    }));\n    // @ts-ignore TODO Polar\n    var columns = [categoryAxis.model.getCategories()];\n    zrUtil.each(group.series, function (series) {\n      var rawData = series.getRawData();\n      columns.push(series.getRawData().mapArray(rawData.mapDimension(valueAxisDim), function (val) {\n        return val;\n      }));\n    });\n    // Assemble table content\n    var lines = [headers.join(ITEM_SPLITER)];\n    for (var i = 0; i < columns[0].length; i++) {\n      var items = [];\n      for (var j = 0; j < columns.length; j++) {\n        items.push(columns[j][i]);\n      }\n      lines.push(items.join(ITEM_SPLITER));\n    }\n    tables.push(lines.join('\\n'));\n  });\n  return tables.join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * Assemble content of other series\n */\nfunction assembleOtherSeries(series) {\n  return zrUtil.map(series, function (series) {\n    var data = series.getRawData();\n    var lines = [series.name];\n    var vals = [];\n    data.each(data.dimensions, function () {\n      var argLen = arguments.length;\n      var dataIndex = arguments[argLen - 1];\n      var name = data.getName(dataIndex);\n      for (var i = 0; i < argLen - 1; i++) {\n        vals[i] = arguments[i];\n      }\n      lines.push((name ? name + ITEM_SPLITER : '') + vals.join(ITEM_SPLITER));\n    });\n    return lines.join('\\n');\n  }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\nfunction getContentFromModel(ecModel) {\n  var result = groupSeries(ecModel);\n  return {\n    value: zrUtil.filter([assembleSeriesWithCategoryAxis(result.seriesGroupByCategoryAxis), assembleOtherSeries(result.other)], function (str) {\n      return !!str.replace(/[\\n\\t\\s]/g, '');\n    }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n'),\n    meta: result.meta\n  };\n}\nfunction trim(str) {\n  return str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n}\n/**\n * If a block is tsv format\n */\nfunction isTSVFormat(block) {\n  // Simple method to find out if a block is tsv format\n  var firstLine = block.slice(0, block.indexOf('\\n'));\n  if (firstLine.indexOf(ITEM_SPLITER) >= 0) {\n    return true;\n  }\n}\nvar itemSplitRegex = new RegExp('[' + ITEM_SPLITER + ']+', 'g');\n/**\n * @param {string} tsv\n * @return {Object}\n */\nfunction parseTSVContents(tsv) {\n  var tsvLines = tsv.split(/\\n+/g);\n  var headers = trim(tsvLines.shift()).split(itemSplitRegex);\n  var categories = [];\n  var series = zrUtil.map(headers, function (header) {\n    return {\n      name: header,\n      data: []\n    };\n  });\n  for (var i = 0; i < tsvLines.length; i++) {\n    var items = trim(tsvLines[i]).split(itemSplitRegex);\n    categories.push(items.shift());\n    for (var j = 0; j < items.length; j++) {\n      series[j] && (series[j].data[i] = items[j]);\n    }\n  }\n  return {\n    series: series,\n    categories: categories\n  };\n}\nfunction parseListContents(str) {\n  var lines = str.split(/\\n+/g);\n  var seriesName = trim(lines.shift());\n  var data = [];\n  for (var i = 0; i < lines.length; i++) {\n    // if line is empty, ignore it.\n    // there is a case that a user forgot to delete `\\n`.\n    var line = trim(lines[i]);\n    if (!line) {\n      continue;\n    }\n    var items = line.split(itemSplitRegex);\n    var name_1 = '';\n    var value = void 0;\n    var hasName = false;\n    if (isNaN(items[0])) {\n      // First item is name\n      hasName = true;\n      name_1 = items[0];\n      items = items.slice(1);\n      data[i] = {\n        name: name_1,\n        value: []\n      };\n      value = data[i].value;\n    } else {\n      value = data[i] = [];\n    }\n    for (var j = 0; j < items.length; j++) {\n      value.push(+items[j]);\n    }\n    if (value.length === 1) {\n      hasName ? data[i].value = value[0] : data[i] = value[0];\n    }\n  }\n  return {\n    name: seriesName,\n    data: data\n  };\n}\nfunction parseContents(str, blockMetaList) {\n  var blocks = str.split(new RegExp('\\n*' + BLOCK_SPLITER + '\\n*', 'g'));\n  var newOption = {\n    series: []\n  };\n  zrUtil.each(blocks, function (block, idx) {\n    if (isTSVFormat(block)) {\n      var result = parseTSVContents(block);\n      var blockMeta = blockMetaList[idx];\n      var axisKey = blockMeta.axisDim + 'Axis';\n      if (blockMeta) {\n        newOption[axisKey] = newOption[axisKey] || [];\n        newOption[axisKey][blockMeta.axisIndex] = {\n          data: result.categories\n        };\n        newOption.series = newOption.series.concat(result.series);\n      }\n    } else {\n      var result = parseListContents(block);\n      newOption.series.push(result);\n    }\n  });\n  return newOption;\n}\nvar DataView = /** @class */function (_super) {\n  __extends(DataView, _super);\n  function DataView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  DataView.prototype.onclick = function (ecModel, api) {\n    // FIXME: better way?\n    setTimeout(function () {\n      api.dispatchAction({\n        type: 'hideTip'\n      });\n    });\n    var container = api.getDom();\n    var model = this.model;\n    if (this._dom) {\n      container.removeChild(this._dom);\n    }\n    var root = document.createElement('div');\n    // use padding to avoid 5px whitespace\n    root.style.cssText = 'position:absolute;top:0;bottom:0;left:0;right:0;padding:5px';\n    root.style.backgroundColor = model.get('backgroundColor') || tokens.color.neutral00;\n    // Create elements\n    var header = document.createElement('h4');\n    var lang = model.get('lang') || [];\n    header.innerHTML = lang[0] || model.get('title');\n    header.style.cssText = 'margin:10px 20px';\n    header.style.color = model.get('textColor');\n    var viewMain = document.createElement('div');\n    var textarea = document.createElement('textarea');\n    viewMain.style.cssText = 'overflow:auto';\n    var optionToContent = model.get('optionToContent');\n    var contentToOption = model.get('contentToOption');\n    var result = getContentFromModel(ecModel);\n    if (zrUtil.isFunction(optionToContent)) {\n      var htmlOrDom = optionToContent(api.getOption());\n      if (zrUtil.isString(htmlOrDom)) {\n        viewMain.innerHTML = htmlOrDom;\n      } else if (zrUtil.isDom(htmlOrDom)) {\n        viewMain.appendChild(htmlOrDom);\n      }\n    } else {\n      // Use default textarea\n      textarea.readOnly = model.get('readOnly');\n      var style = textarea.style;\n      // eslint-disable-next-line max-len\n      style.cssText = 'display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none';\n      style.color = model.get('textColor');\n      style.borderColor = model.get('textareaBorderColor');\n      style.backgroundColor = model.get('textareaColor');\n      textarea.value = result.value;\n      viewMain.appendChild(textarea);\n    }\n    var blockMetaList = result.meta;\n    var buttonContainer = document.createElement('div');\n    buttonContainer.style.cssText = 'position:absolute;bottom:5px;left:0;right:0';\n    // eslint-disable-next-line max-len\n    var buttonStyle = 'float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px';\n    var closeButton = document.createElement('div');\n    var refreshButton = document.createElement('div');\n    buttonStyle += ';background-color:' + model.get('buttonColor');\n    buttonStyle += ';color:' + model.get('buttonTextColor');\n    var self = this;\n    function close() {\n      container.removeChild(root);\n      self._dom = null;\n    }\n    addEventListener(closeButton, 'click', close);\n    addEventListener(refreshButton, 'click', function () {\n      if (contentToOption == null && optionToContent != null || contentToOption != null && optionToContent == null) {\n        if (process.env.NODE_ENV !== 'production') {\n          // eslint-disable-next-line\n          warn('It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored.');\n        }\n        close();\n        return;\n      }\n      var newOption;\n      try {\n        if (zrUtil.isFunction(contentToOption)) {\n          newOption = contentToOption(viewMain, api.getOption());\n        } else {\n          newOption = parseContents(textarea.value, blockMetaList);\n        }\n      } catch (e) {\n        close();\n        throw new Error('Data view format error ' + e);\n      }\n      if (newOption) {\n        api.dispatchAction({\n          type: 'changeDataView',\n          newOption: newOption\n        });\n      }\n      close();\n    });\n    closeButton.innerHTML = lang[1];\n    refreshButton.innerHTML = lang[2];\n    refreshButton.style.cssText = closeButton.style.cssText = buttonStyle;\n    !model.get('readOnly') && buttonContainer.appendChild(refreshButton);\n    buttonContainer.appendChild(closeButton);\n    root.appendChild(header);\n    root.appendChild(viewMain);\n    root.appendChild(buttonContainer);\n    viewMain.style.height = container.clientHeight - 80 + 'px';\n    container.appendChild(root);\n    this._dom = root;\n  };\n  DataView.prototype.remove = function (ecModel, api) {\n    this._dom && api.getDom().removeChild(this._dom);\n  };\n  DataView.prototype.dispose = function (ecModel, api) {\n    this.remove(ecModel, api);\n  };\n  DataView.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      readOnly: false,\n      optionToContent: null,\n      contentToOption: null,\n      // eslint-disable-next-line\n      icon: 'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28',\n      title: ecModel.getLocaleModel().get(['toolbox', 'dataView', 'title']),\n      lang: ecModel.getLocaleModel().get(['toolbox', 'dataView', 'lang']),\n      backgroundColor: tokens.color.background,\n      textColor: tokens.color.primary,\n      textareaColor: tokens.color.background,\n      textareaBorderColor: tokens.color.border,\n      buttonColor: tokens.color.accent50,\n      buttonTextColor: tokens.color.neutral00\n    };\n    return defaultOption;\n  };\n  return DataView;\n}(ToolboxFeature);\n/**\n * @inner\n */\nfunction tryMergeDataOption(newData, originalData) {\n  return zrUtil.map(newData, function (newVal, idx) {\n    var original = originalData && originalData[idx];\n    if (zrUtil.isObject(original) && !zrUtil.isArray(original)) {\n      var newValIsObject = zrUtil.isObject(newVal) && !zrUtil.isArray(newVal);\n      if (!newValIsObject) {\n        newVal = {\n          value: newVal\n        };\n      }\n      // original data has name but new data has no name\n      var shouldDeleteName = original.name != null && newVal.name == null;\n      // Original data has option\n      newVal = zrUtil.defaults(newVal, original);\n      shouldDeleteName && delete newVal.name;\n      return newVal;\n    } else {\n      return newVal;\n    }\n  });\n}\n// TODO: SELF REGISTERED.\necharts.registerAction({\n  type: 'changeDataView',\n  event: 'dataViewChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  var newSeriesOptList = [];\n  zrUtil.each(payload.newOption.series, function (seriesOpt) {\n    var seriesModel = ecModel.getSeriesByName(seriesOpt.name)[0];\n    if (!seriesModel) {\n      // New created series\n      // Geuss the series type\n      newSeriesOptList.push(zrUtil.extend({\n        // Default is scatter\n        type: 'scatter'\n      }, seriesOpt));\n    } else {\n      var originalData = seriesModel.get('data');\n      newSeriesOptList.push({\n        name: seriesOpt.name,\n        data: tryMergeDataOption(seriesOpt.data, originalData)\n      });\n    }\n  });\n  ecModel.mergeOption(zrUtil.defaults({\n    series: newSeriesOptList\n  }, payload.newOption));\n});\nexport default DataView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nvar each = zrUtil.each;\nvar inner = makeInner();\n/**\n * @param ecModel\n * @param newSnapshot key is dataZoomId\n */\nexport function push(ecModel, newSnapshot) {\n  var storedSnapshots = getStoreSnapshots(ecModel);\n  // If previous dataZoom can not be found,\n  // complete an range with current range.\n  each(newSnapshot, function (batchItem, dataZoomId) {\n    var i = storedSnapshots.length - 1;\n    for (; i >= 0; i--) {\n      var snapshot = storedSnapshots[i];\n      if (snapshot[dataZoomId]) {\n        break;\n      }\n    }\n    if (i < 0) {\n      // No origin range set, create one by current range.\n      var dataZoomModel = ecModel.queryComponents({\n        mainType: 'dataZoom',\n        subType: 'select',\n        id: dataZoomId\n      })[0];\n      if (dataZoomModel) {\n        var percentRange = dataZoomModel.getPercentRange();\n        storedSnapshots[0][dataZoomId] = {\n          dataZoomId: dataZoomId,\n          start: percentRange[0],\n          end: percentRange[1]\n        };\n      }\n    }\n  });\n  storedSnapshots.push(newSnapshot);\n}\nexport function pop(ecModel) {\n  var storedSnapshots = getStoreSnapshots(ecModel);\n  var head = storedSnapshots[storedSnapshots.length - 1];\n  storedSnapshots.length > 1 && storedSnapshots.pop();\n  // Find top for all dataZoom.\n  var snapshot = {};\n  each(head, function (batchItem, dataZoomId) {\n    for (var i = storedSnapshots.length - 1; i >= 0; i--) {\n      batchItem = storedSnapshots[i][dataZoomId];\n      if (batchItem) {\n        snapshot[dataZoomId] = batchItem;\n        break;\n      }\n    }\n  });\n  return snapshot;\n}\nexport function clear(ecModel) {\n  inner(ecModel).snapshots = null;\n}\nexport function count(ecModel) {\n  return getStoreSnapshots(ecModel).length;\n}\n/**\n * History length of each dataZoom may be different.\n * this._history[0] is used to store origin range.\n */\nfunction getStoreSnapshots(ecModel) {\n  var store = inner(ecModel);\n  if (!store.snapshots) {\n    store.snapshots = [{}];\n  }\n  return store.snapshots;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as echarts from '../../../core/echarts.js';\nimport * as history from '../../dataZoom/history.js';\nimport { ToolboxFeature } from '../featureManager.js';\nvar RestoreOption = /** @class */function (_super) {\n  __extends(RestoreOption, _super);\n  function RestoreOption() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  RestoreOption.prototype.onclick = function (ecModel, api) {\n    history.clear(ecModel);\n    api.dispatchAction({\n      type: 'restore',\n      from: this.uid\n    });\n  };\n  RestoreOption.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      // eslint-disable-next-line\n      icon: 'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5',\n      title: ecModel.getLocaleModel().get(['toolbox', 'restore', 'title'])\n    };\n    return defaultOption;\n  };\n  return RestoreOption;\n}(ToolboxFeature);\n// TODO: SELF REGISTERED.\necharts.registerAction({\n  type: 'restore',\n  event: 'restore',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.resetOption('recreate');\n});\nexport default RestoreOption;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, indexOf, curry, assert, map, createHashMap } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as brushHelper from './brushHelper.js';\nimport { parseFinder as modelUtilParseFinder } from '../../util/model.js';\n// FIXME\n// how to genarialize to more coordinate systems.\nvar INCLUDE_FINDER_MAIN_TYPES = ['grid', 'xAxis', 'yAxis', 'geo', 'graph', 'polar', 'radiusAxis', 'angleAxis', 'bmap'];\nvar BrushTargetManager = /** @class */function () {\n  /**\n   * @param finder contains Index/Id/Name of xAxis/yAxis/geo/grid\n   *        Each can be {number|Array.<number>}. like: {xAxisIndex: [3, 4]}\n   * @param opt.include include coordinate system types.\n   */\n  function BrushTargetManager(finder, ecModel, opt) {\n    var _this = this;\n    this._targetInfoList = [];\n    var foundCpts = parseFinder(ecModel, finder);\n    each(targetInfoBuilders, function (builder, type) {\n      if (!opt || !opt.include || indexOf(opt.include, type) >= 0) {\n        builder(foundCpts, _this._targetInfoList);\n      }\n    });\n  }\n  BrushTargetManager.prototype.setOutputRanges = function (areas, ecModel) {\n    this.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n      (area.coordRanges || (area.coordRanges = [])).push(coordRange);\n      // area.coordRange is the first of area.coordRanges\n      if (!area.coordRange) {\n        area.coordRange = coordRange;\n        // In 'category' axis, coord to pixel is not reversible, so we can not\n        // rebuild range by coordRange accrately, which may bring trouble when\n        // brushing only one item. So we use __rangeOffset to rebuilding range\n        // by coordRange. And this it only used in brush component so it is no\n        // need to be adapted to coordRanges.\n        var result = coordConvert[area.brushType](0, coordSys, coordRange);\n        area.__rangeOffset = {\n          offset: diffProcessor[area.brushType](result.values, area.range, [1, 1]),\n          xyMinMax: result.xyMinMax\n        };\n      }\n    });\n    return areas;\n  };\n  BrushTargetManager.prototype.matchOutputRanges = function (areas, ecModel, cb) {\n    each(areas, function (area) {\n      var targetInfo = this.findTargetInfo(area, ecModel);\n      if (targetInfo && targetInfo !== true) {\n        each(targetInfo.coordSyses, function (coordSys) {\n          var result = coordConvert[area.brushType](1, coordSys, area.range, true);\n          cb(area, result.values, coordSys, ecModel);\n        });\n      }\n    }, this);\n  };\n  /**\n   * the `areas` is `BrushModel.areas`.\n   * Called in layout stage.\n   * convert `area.coordRange` to global range and set panelId to `area.range`.\n   */\n  BrushTargetManager.prototype.setInputRanges = function (areas, ecModel) {\n    each(areas, function (area) {\n      var targetInfo = this.findTargetInfo(area, ecModel);\n      if (process.env.NODE_ENV !== 'production') {\n        assert(!targetInfo || targetInfo === true || area.coordRange, 'coordRange must be specified when coord index specified.');\n        assert(!targetInfo || targetInfo !== true || area.range, 'range must be specified in global brush.');\n      }\n      area.range = area.range || [];\n      // convert coordRange to global range and set panelId.\n      if (targetInfo && targetInfo !== true) {\n        area.panelId = targetInfo.panelId;\n        // (1) area.range should always be calculate from coordRange but does\n        // not keep its original value, for the sake of the dataZoom scenario,\n        // where area.coordRange remains unchanged but area.range may be changed.\n        // (2) Only support converting one coordRange to pixel range in brush\n        // component. So do not consider `coordRanges`.\n        // (3) About __rangeOffset, see comment above.\n        var result = coordConvert[area.brushType](0, targetInfo.coordSys, area.coordRange);\n        var rangeOffset = area.__rangeOffset;\n        area.range = rangeOffset ? diffProcessor[area.brushType](result.values, rangeOffset.offset, getScales(result.xyMinMax, rangeOffset.xyMinMax)) : result.values;\n      }\n    }, this);\n  };\n  BrushTargetManager.prototype.makePanelOpts = function (api, getDefaultBrushType) {\n    return map(this._targetInfoList, function (targetInfo) {\n      var rect = targetInfo.getPanelRect();\n      return {\n        panelId: targetInfo.panelId,\n        defaultBrushType: getDefaultBrushType ? getDefaultBrushType(targetInfo) : null,\n        clipPath: brushHelper.makeRectPanelClipPath(rect),\n        isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, targetInfo.coordSysModel),\n        getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect)\n      };\n    });\n  };\n  BrushTargetManager.prototype.controlSeries = function (area, seriesModel, ecModel) {\n    // Check whether area is bound in coord, and series do not belong to that coord.\n    // If do not do this check, some brush (like lineX) will controll all axes.\n    var targetInfo = this.findTargetInfo(area, ecModel);\n    return targetInfo === true || targetInfo && indexOf(targetInfo.coordSyses, seriesModel.coordinateSystem) >= 0;\n  };\n  /**\n   * If return Object, a coord found.\n   * If return true, global found.\n   * Otherwise nothing found.\n   */\n  BrushTargetManager.prototype.findTargetInfo = function (area, ecModel) {\n    var targetInfoList = this._targetInfoList;\n    var foundCpts = parseFinder(ecModel, area);\n    for (var i = 0; i < targetInfoList.length; i++) {\n      var targetInfo = targetInfoList[i];\n      var areaPanelId = area.panelId;\n      if (areaPanelId) {\n        if (targetInfo.panelId === areaPanelId) {\n          return targetInfo;\n        }\n      } else {\n        for (var j = 0; j < targetInfoMatchers.length; j++) {\n          if (targetInfoMatchers[j](foundCpts, targetInfo)) {\n            return targetInfo;\n          }\n        }\n      }\n    }\n    return true;\n  };\n  return BrushTargetManager;\n}();\nfunction formatMinMax(minMax) {\n  minMax[0] > minMax[1] && minMax.reverse();\n  return minMax;\n}\nfunction parseFinder(ecModel, finder) {\n  return modelUtilParseFinder(ecModel, finder, {\n    includeMainTypes: INCLUDE_FINDER_MAIN_TYPES\n  });\n}\nvar targetInfoBuilders = {\n  grid: function (foundCpts, targetInfoList) {\n    var xAxisModels = foundCpts.xAxisModels;\n    var yAxisModels = foundCpts.yAxisModels;\n    var gridModels = foundCpts.gridModels;\n    // Remove duplicated.\n    var gridModelMap = createHashMap();\n    var xAxesHas = {};\n    var yAxesHas = {};\n    if (!xAxisModels && !yAxisModels && !gridModels) {\n      return;\n    }\n    each(xAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n    });\n    each(yAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      yAxesHas[gridModel.id] = true;\n    });\n    each(gridModels, function (gridModel) {\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n      yAxesHas[gridModel.id] = true;\n    });\n    gridModelMap.each(function (gridModel) {\n      var grid = gridModel.coordinateSystem;\n      var cartesians = [];\n      each(grid.getCartesians(), function (cartesian, index) {\n        if (indexOf(xAxisModels, cartesian.getAxis('x').model) >= 0 || indexOf(yAxisModels, cartesian.getAxis('y').model) >= 0) {\n          cartesians.push(cartesian);\n        }\n      });\n      targetInfoList.push({\n        panelId: 'grid--' + gridModel.id,\n        gridModel: gridModel,\n        coordSysModel: gridModel,\n        // Use the first one as the representitive coordSys.\n        coordSys: cartesians[0],\n        coordSyses: cartesians,\n        getPanelRect: panelRectBuilders.grid,\n        xAxisDeclared: xAxesHas[gridModel.id],\n        yAxisDeclared: yAxesHas[gridModel.id]\n      });\n    });\n  },\n  geo: function (foundCpts, targetInfoList) {\n    each(foundCpts.geoModels, function (geoModel) {\n      var coordSys = geoModel.coordinateSystem;\n      targetInfoList.push({\n        panelId: 'geo--' + geoModel.id,\n        geoModel: geoModel,\n        coordSysModel: geoModel,\n        coordSys: coordSys,\n        coordSyses: [coordSys],\n        getPanelRect: panelRectBuilders.geo\n      });\n    });\n  }\n};\nvar targetInfoMatchers = [\n// grid\nfunction (foundCpts, targetInfo) {\n  var xAxisModel = foundCpts.xAxisModel;\n  var yAxisModel = foundCpts.yAxisModel;\n  var gridModel = foundCpts.gridModel;\n  !gridModel && xAxisModel && (gridModel = xAxisModel.axis.grid.model);\n  !gridModel && yAxisModel && (gridModel = yAxisModel.axis.grid.model);\n  return gridModel && gridModel === targetInfo.gridModel;\n},\n// geo\nfunction (foundCpts, targetInfo) {\n  var geoModel = foundCpts.geoModel;\n  return geoModel && geoModel === targetInfo.geoModel;\n}];\nvar panelRectBuilders = {\n  grid: function () {\n    // grid is not Transformable.\n    return this.coordSys.master.getRect().clone();\n  },\n  geo: function () {\n    var coordSys = this.coordSys;\n    var rect = coordSys.getBoundingRect().clone();\n    // geo roam and zoom transform\n    rect.applyTransform(graphic.getTransform(coordSys));\n    return rect;\n  }\n};\nvar coordConvert = {\n  lineX: curry(axisConvert, 0),\n  lineY: curry(axisConvert, 1),\n  rect: function (to, coordSys, rangeOrCoordRange, clamp) {\n    var xminymin = to ? coordSys.pointToData([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]], clamp) : coordSys.dataToPoint([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]], clamp);\n    var xmaxymax = to ? coordSys.pointToData([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]], clamp) : coordSys.dataToPoint([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]], clamp);\n    var values = [formatMinMax([xminymin[0], xmaxymax[0]]), formatMinMax([xminymin[1], xmaxymax[1]])];\n    return {\n      values: values,\n      xyMinMax: values\n    };\n  },\n  polygon: function (to, coordSys, rangeOrCoordRange, clamp) {\n    var xyMinMax = [[Infinity, -Infinity], [Infinity, -Infinity]];\n    var values = map(rangeOrCoordRange, function (item) {\n      var p = to ? coordSys.pointToData(item, clamp) : coordSys.dataToPoint(item, clamp);\n      xyMinMax[0][0] = Math.min(xyMinMax[0][0], p[0]);\n      xyMinMax[1][0] = Math.min(xyMinMax[1][0], p[1]);\n      xyMinMax[0][1] = Math.max(xyMinMax[0][1], p[0]);\n      xyMinMax[1][1] = Math.max(xyMinMax[1][1], p[1]);\n      return p;\n    });\n    return {\n      values: values,\n      xyMinMax: xyMinMax\n    };\n  }\n};\nfunction axisConvert(axisNameIndex, to, coordSys, rangeOrCoordRange) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(coordSys.type === 'cartesian2d', 'lineX/lineY brush is available only in cartesian2d.');\n  }\n  var axis = coordSys.getAxis(['x', 'y'][axisNameIndex]);\n  var values = formatMinMax(map([0, 1], function (i) {\n    return to ? axis.coordToData(axis.toLocalCoord(rangeOrCoordRange[i]), true) : axis.toGlobalCoord(axis.dataToCoord(rangeOrCoordRange[i]));\n  }));\n  var xyMinMax = [];\n  xyMinMax[axisNameIndex] = values;\n  xyMinMax[1 - axisNameIndex] = [NaN, NaN];\n  return {\n    values: values,\n    xyMinMax: xyMinMax\n  };\n}\nvar diffProcessor = {\n  lineX: curry(axisDiffProcessor, 0),\n  lineY: curry(axisDiffProcessor, 1),\n  rect: function (values, refer, scales) {\n    return [[values[0][0] - scales[0] * refer[0][0], values[0][1] - scales[0] * refer[0][1]], [values[1][0] - scales[1] * refer[1][0], values[1][1] - scales[1] * refer[1][1]]];\n  },\n  polygon: function (values, refer, scales) {\n    return map(values, function (item, idx) {\n      return [item[0] - scales[0] * refer[idx][0], item[1] - scales[1] * refer[idx][1]];\n    });\n  }\n};\nfunction axisDiffProcessor(axisNameIndex, values, refer, scales) {\n  return [values[0] - scales[axisNameIndex] * refer[0], values[1] - scales[axisNameIndex] * refer[1]];\n}\n// We have to process scale caused by dataZoom manually,\n// although it might be not accurate.\n// Return [0~1, 0~1]\nfunction getScales(xyMinMaxCurr, xyMinMaxOrigin) {\n  var sizeCurr = getSize(xyMinMaxCurr);\n  var sizeOrigin = getSize(xyMinMaxOrigin);\n  var scales = [sizeCurr[0] / sizeOrigin[0], sizeCurr[1] / sizeOrigin[1]];\n  isNaN(scales[0]) && (scales[0] = 1);\n  isNaN(scales[1]) && (scales[1] = 1);\n  return scales;\n}\nfunction getSize(xyMinMax) {\n  return xyMinMax ? [xyMinMax[0][1] - xyMinMax[0][0], xyMinMax[1][1] - xyMinMax[1][0]] : [NaN, NaN];\n}\nexport default BrushTargetManager;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n// TODO depends on DataZoom and Brush\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BrushController from '../../helper/BrushController.js';\nimport BrushTargetManager from '../../helper/BrushTargetManager.js';\nimport * as history from '../../dataZoom/history.js';\nimport sliderMove from '../../helper/sliderMove.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { makeInternalComponentId, parseFinder } from '../../../util/model.js';\nimport { registerInternalOptionCreator } from '../../../model/internalComponentCreator.js';\nimport tokens from '../../../visual/tokens.js';\nvar each = zrUtil.each;\nvar DATA_ZOOM_ID_BASE = makeInternalComponentId('toolbox-dataZoom_');\nvar ICON_TYPES = ['zoom', 'back'];\nvar DataZoomFeature = /** @class */function (_super) {\n  __extends(DataZoomFeature, _super);\n  function DataZoomFeature() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  DataZoomFeature.prototype.render = function (featureModel, ecModel, api, payload) {\n    if (!this._brushController) {\n      this._brushController = new BrushController(api.getZr());\n      this._brushController.on('brush', zrUtil.bind(this._onBrush, this)).mount();\n    }\n    updateZoomBtnStatus(featureModel, ecModel, this, payload, api);\n    updateBackBtnStatus(featureModel, ecModel);\n  };\n  DataZoomFeature.prototype.onclick = function (ecModel, api, type) {\n    handlers[type].call(this);\n  };\n  DataZoomFeature.prototype.remove = function (ecModel, api) {\n    this._brushController && this._brushController.unmount();\n  };\n  DataZoomFeature.prototype.dispose = function (ecModel, api) {\n    this._brushController && this._brushController.dispose();\n  };\n  DataZoomFeature.prototype._onBrush = function (eventParam) {\n    var areas = eventParam.areas;\n    if (!eventParam.isEnd || !areas.length) {\n      return;\n    }\n    var snapshot = {};\n    var ecModel = this.ecModel;\n    this._brushController.updateCovers([]); // remove cover\n    var brushTargetManager = new BrushTargetManager(makeAxisFinder(this.model), ecModel, {\n      include: ['grid']\n    });\n    brushTargetManager.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n      if (coordSys.type !== 'cartesian2d') {\n        return;\n      }\n      var brushType = area.brushType;\n      if (brushType === 'rect') {\n        setBatch('x', coordSys, coordRange[0]);\n        setBatch('y', coordSys, coordRange[1]);\n      } else {\n        setBatch({\n          lineX: 'x',\n          lineY: 'y'\n        }[brushType], coordSys, coordRange);\n      }\n    });\n    history.push(ecModel, snapshot);\n    this._dispatchZoomAction(snapshot);\n    function setBatch(dimName, coordSys, minMax) {\n      var axis = coordSys.getAxis(dimName);\n      var axisModel = axis.model;\n      var dataZoomModel = findDataZoom(dimName, axisModel, ecModel);\n      // Restrict range.\n      var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();\n      if (minMaxSpan.minValueSpan != null || minMaxSpan.maxValueSpan != null) {\n        minMax = sliderMove(0, minMax.slice(), axis.scale.getExtent(), 0, minMaxSpan.minValueSpan, minMaxSpan.maxValueSpan);\n      }\n      dataZoomModel && (snapshot[dataZoomModel.id] = {\n        dataZoomId: dataZoomModel.id,\n        startValue: minMax[0],\n        endValue: minMax[1]\n      });\n    }\n    function findDataZoom(dimName, axisModel, ecModel) {\n      var found;\n      ecModel.eachComponent({\n        mainType: 'dataZoom',\n        subType: 'select'\n      }, function (dzModel) {\n        var has = dzModel.getAxisModel(dimName, axisModel.componentIndex);\n        has && (found = dzModel);\n      });\n      return found;\n    }\n  };\n  ;\n  DataZoomFeature.prototype._dispatchZoomAction = function (snapshot) {\n    var batch = [];\n    // Convert from hash map to array.\n    each(snapshot, function (batchItem, dataZoomId) {\n      batch.push(zrUtil.clone(batchItem));\n    });\n    batch.length && this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      batch: batch\n    });\n  };\n  DataZoomFeature.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      filterMode: 'filter',\n      // Icon group\n      icon: {\n        zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',\n        back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26'\n      },\n      // `zoom`, `back`\n      title: ecModel.getLocaleModel().get(['toolbox', 'dataZoom', 'title']),\n      brushStyle: {\n        borderWidth: 0,\n        color: tokens.color.backgroundTint\n      }\n    };\n    return defaultOption;\n  };\n  return DataZoomFeature;\n}(ToolboxFeature);\nvar handlers = {\n  zoom: function () {\n    var nextActive = !this._isZoomActive;\n    this.api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'dataZoomSelect',\n      dataZoomSelectActive: nextActive\n    });\n  },\n  back: function () {\n    this._dispatchZoomAction(history.pop(this.ecModel));\n  }\n};\nfunction makeAxisFinder(dzFeatureModel) {\n  var setting = {\n    xAxisIndex: dzFeatureModel.get('xAxisIndex', true),\n    yAxisIndex: dzFeatureModel.get('yAxisIndex', true),\n    xAxisId: dzFeatureModel.get('xAxisId', true),\n    yAxisId: dzFeatureModel.get('yAxisId', true)\n  };\n  // If both `xAxisIndex` `xAxisId` not set, it means 'all'.\n  // If both `yAxisIndex` `yAxisId` not set, it means 'all'.\n  // Some old cases set like this below to close yAxis control but leave xAxis control:\n  // `{ feature: { dataZoom: { yAxisIndex: false } }`.\n  if (setting.xAxisIndex == null && setting.xAxisId == null) {\n    setting.xAxisIndex = 'all';\n  }\n  if (setting.yAxisIndex == null && setting.yAxisId == null) {\n    setting.yAxisIndex = 'all';\n  }\n  return setting;\n}\nfunction updateBackBtnStatus(featureModel, ecModel) {\n  featureModel.setIconStatus('back', history.count(ecModel) > 1 ? 'emphasis' : 'normal');\n}\nfunction updateZoomBtnStatus(featureModel, ecModel, view, payload, api) {\n  var zoomActive = view._isZoomActive;\n  if (payload && payload.type === 'takeGlobalCursor') {\n    zoomActive = payload.key === 'dataZoomSelect' ? payload.dataZoomSelectActive : false;\n  }\n  view._isZoomActive = zoomActive;\n  featureModel.setIconStatus('zoom', zoomActive ? 'emphasis' : 'normal');\n  var brushTargetManager = new BrushTargetManager(makeAxisFinder(featureModel), ecModel, {\n    include: ['grid']\n  });\n  var panels = brushTargetManager.makePanelOpts(api, function (targetInfo) {\n    return targetInfo.xAxisDeclared && !targetInfo.yAxisDeclared ? 'lineX' : !targetInfo.xAxisDeclared && targetInfo.yAxisDeclared ? 'lineY' : 'rect';\n  });\n  view._brushController.setPanels(panels).enableBrush(zoomActive && panels.length ? {\n    brushType: 'auto',\n    brushStyle: featureModel.getModel('brushStyle').getItemStyle()\n  } : false);\n}\nregisterInternalOptionCreator('dataZoom', function (ecModel) {\n  var toolboxModel = ecModel.getComponent('toolbox', 0);\n  var featureDataZoomPath = ['feature', 'dataZoom'];\n  if (!toolboxModel || toolboxModel.get(featureDataZoomPath) == null) {\n    return;\n  }\n  var dzFeatureModel = toolboxModel.getModel(featureDataZoomPath);\n  var dzOptions = [];\n  var finder = makeAxisFinder(dzFeatureModel);\n  var finderResult = parseFinder(ecModel, finder);\n  each(finderResult.xAxisModels, function (axisModel) {\n    return buildInternalOptions(axisModel, 'xAxis', 'xAxisIndex');\n  });\n  each(finderResult.yAxisModels, function (axisModel) {\n    return buildInternalOptions(axisModel, 'yAxis', 'yAxisIndex');\n  });\n  function buildInternalOptions(axisModel, axisMainType, axisIndexPropName) {\n    var axisIndex = axisModel.componentIndex;\n    var newOpt = {\n      type: 'select',\n      $fromToolbox: true,\n      // Default to be filter\n      filterMode: dzFeatureModel.get('filterMode', true) || 'filter',\n      // Id for merge mapping.\n      id: DATA_ZOOM_ID_BASE + axisMainType + axisIndex\n    };\n    newOpt[axisIndexPropName] = axisIndex;\n    dzOptions.push(newOpt);\n  }\n  return dzOptions;\n});\nexport default DataZoomFeature;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installDataZoomSelect } from '../../component/dataZoom/installDataZoomSelect.js';\nimport ToolboxModel from './ToolboxModel.js';\nimport ToolboxView from './ToolboxView.js';\n// TODOD: REGISTER IN INSTALL\nimport { registerFeature } from './featureManager.js';\nimport SaveAsImage from './feature/SaveAsImage.js';\nimport MagicType from './feature/MagicType.js';\nimport DataView from './feature/DataView.js';\nimport Restore from './feature/Restore.js';\nimport DataZoom from './feature/DataZoom.js';\nexport function install(registers) {\n  registers.registerComponentModel(ToolboxModel);\n  registers.registerComponentView(ToolboxView);\n  registerFeature('saveAsImage', SaveAsImage);\n  registerFeature('magicType', MagicType);\n  registerFeature('dataView', DataView);\n  registerFeature('dataZoom', DataZoom);\n  registerFeature('restore', Restore);\n  use(installDataZoomSelect);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nimport tokens from '../../visual/tokens.js';\nvar TooltipModel = /** @class */function (_super) {\n  __extends(TooltipModel, _super);\n  function TooltipModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TooltipModel.type;\n    return _this;\n  }\n  TooltipModel.type = 'tooltip';\n  TooltipModel.dependencies = ['axisPointer'];\n  TooltipModel.defaultOption = {\n    // zlevel: 0,\n    z: 60,\n    show: true,\n    // tooltip main content\n    showContent: true,\n    // 'trigger' only works on coordinate system.\n    // 'item' | 'axis' | 'none'\n    trigger: 'item',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: 'mousemove|click',\n    alwaysShowContent: false,\n    renderMode: 'auto',\n    // whether restraint content inside viewRect.\n    // If renderMode: 'richText', default true.\n    // If renderMode: 'html', defaults to `false` (for backward compat).\n    confine: null,\n    showDelay: 0,\n    hideDelay: 100,\n    // Animation transition time, unit is second\n    transitionDuration: 0.4,\n    displayTransition: true,\n    enterable: false,\n    backgroundColor: tokens.color.neutral00,\n    // box shadow\n    shadowBlur: 10,\n    shadowColor: 'rgba(0, 0, 0, .2)',\n    shadowOffsetX: 1,\n    shadowOffsetY: 2,\n    // tooltip border radius, unit is px, default is 4\n    borderRadius: 4,\n    // tooltip border width, unit is px, default is 0 (no border)\n    borderWidth: 1,\n    defaultBorderColor: tokens.color.border,\n    // Tooltip inside padding, default is 5 for all direction\n    // Array is allowed to set up, right, bottom, left, same with css\n    // The default value: See `tooltip/tooltipMarkup.ts#getPaddingFromTooltipModel`.\n    padding: null,\n    // Extra css text\n    extraCssText: '',\n    // axis indicator, trigger by axis\n    axisPointer: {\n      // default is line\n      // legal values: 'line' | 'shadow' | 'cross'\n      type: 'line',\n      // Valid when type is line, appoint tooltip line locate on which line. Optional\n      // legal values: 'x' | 'y' | 'angle' | 'radius' | 'auto'\n      // default is 'auto', chose the axis which type is category.\n      // for multiply y axis, cartesian coord chose x axis, polar chose angle axis\n      axis: 'auto',\n      animation: 'auto',\n      animationDurationUpdate: 200,\n      animationEasingUpdate: 'exponentialOut',\n      crossStyle: {\n        color: tokens.color.borderShade,\n        width: 1,\n        type: 'dashed',\n        // TODO formatter\n        textStyle: {}\n      }\n      // lineStyle and shadowStyle should not be specified here,\n      // otherwise it will always override those styles on option.axisPointer.\n    },\n    textStyle: {\n      color: tokens.color.tertiary,\n      fontSize: 14\n    }\n  };\n  return TooltipModel;\n}(ComponentModel);\nexport default TooltipModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { toCamelCase } from '../../util/format.js';\nimport env from 'zrender/lib/core/env.js';\n/* global document */\nexport function shouldTooltipConfine(tooltipModel) {\n  var confineOption = tooltipModel.get('confine');\n  return confineOption != null ? !!confineOption\n  // In richText mode, the outside part can not be visible.\n  : tooltipModel.get('renderMode') === 'richText';\n}\nfunction testStyle(styleProps) {\n  if (!env.domSupported) {\n    return;\n  }\n  var style = document.documentElement.style;\n  for (var i = 0, len = styleProps.length; i < len; i++) {\n    if (styleProps[i] in style) {\n      return styleProps[i];\n    }\n  }\n}\nexport var TRANSFORM_VENDOR = testStyle(['transform', 'webkitTransform', 'OTransform', 'MozTransform', 'msTransform']);\nexport var TRANSITION_VENDOR = testStyle(['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']);\nexport function toCSSVendorPrefix(styleVendor, styleProp) {\n  if (!styleVendor) {\n    return styleProp;\n  }\n  styleProp = toCamelCase(styleProp, true);\n  var idx = styleVendor.indexOf(styleProp);\n  styleVendor = idx === -1 ? styleProp : \"-\" + styleVendor.slice(0, idx) + \"-\" + styleProp;\n  return styleVendor.toLowerCase();\n}\nexport function getComputedStyle(el, style) {\n  var stl = el.currentStyle || document.defaultView && document.defaultView.getComputedStyle(el);\n  return stl ? style ? stl[style] : stl : null;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isString, indexOf, each, bind, isFunction, isArray, isDom, retrieve2 } from 'zrender/lib/core/util.js';\nimport { normalizeEvent } from 'zrender/lib/core/event.js';\nimport { transformLocalCoord, transformLocalCoordClear } from 'zrender/lib/core/dom.js';\nimport env from 'zrender/lib/core/env.js';\nimport { convertToColorString, toCamelCase, normalizeCssArray } from '../../util/format.js';\nimport { shouldTooltipConfine, toCSSVendorPrefix, getComputedStyle, TRANSFORM_VENDOR, TRANSITION_VENDOR } from './helper.js';\nimport { getPaddingFromTooltipModel } from './tooltipMarkup.js';\n/* global document, window */\nvar CSS_TRANSITION_VENDOR = toCSSVendorPrefix(TRANSITION_VENDOR, 'transition');\nvar CSS_TRANSFORM_VENDOR = toCSSVendorPrefix(TRANSFORM_VENDOR, 'transform');\n// eslint-disable-next-line\nvar gCssText = \"position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;\" + (env.transform3dSupported ? 'will-change:transform;' : '');\nfunction mirrorPos(pos) {\n  pos = pos === 'left' ? 'right' : pos === 'right' ? 'left' : pos === 'top' ? 'bottom' : 'top';\n  return pos;\n}\nfunction assembleArrow(tooltipModel, borderColor, arrowPosition) {\n  if (!isString(arrowPosition) || arrowPosition === 'inside') {\n    return '';\n  }\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var borderWidth = tooltipModel.get('borderWidth');\n  borderColor = convertToColorString(borderColor);\n  var arrowPos = mirrorPos(arrowPosition);\n  var arrowSize = Math.max(Math.round(borderWidth) * 1.5, 6);\n  var positionStyle = '';\n  var transformStyle = CSS_TRANSFORM_VENDOR + ':';\n  var rotateDeg;\n  if (indexOf(['left', 'right'], arrowPos) > -1) {\n    positionStyle += 'top:50%';\n    transformStyle += \"translateY(-50%) rotate(\" + (rotateDeg = arrowPos === 'left' ? -225 : -45) + \"deg)\";\n  } else {\n    positionStyle += 'left:50%';\n    transformStyle += \"translateX(-50%) rotate(\" + (rotateDeg = arrowPos === 'top' ? 225 : 45) + \"deg)\";\n  }\n  var rotateRadian = rotateDeg * Math.PI / 180;\n  var arrowWH = arrowSize + borderWidth;\n  var rotatedWH = arrowWH * Math.abs(Math.cos(rotateRadian)) + arrowWH * Math.abs(Math.sin(rotateRadian));\n  var arrowOffset = Math.round(((rotatedWH - Math.SQRT2 * borderWidth) / 2 + Math.SQRT2 * borderWidth - (rotatedWH - arrowWH) / 2) * 100) / 100;\n  positionStyle += \";\" + arrowPos + \":-\" + arrowOffset + \"px\";\n  var borderStyle = borderColor + \" solid \" + borderWidth + \"px;\";\n  var styleCss = [\"position:absolute;width:\" + arrowSize + \"px;height:\" + arrowSize + \"px;z-index:-1;\", positionStyle + \";\" + transformStyle + \";\", \"border-bottom:\" + borderStyle, \"border-right:\" + borderStyle, \"background-color:\" + backgroundColor + \";\"];\n  return \"<div style=\\\"\" + styleCss.join('') + \"\\\"></div>\";\n}\nfunction assembleTransition(duration, onlyFadeTransition, enableDisplayTransition) {\n  var transitionCurve = 'cubic-bezier(0.23,1,0.32,1)';\n  var transitionOption = '';\n  var transitionText = '';\n  if (enableDisplayTransition) {\n    transitionOption = \" \" + duration / 2 + \"s \" + transitionCurve;\n    transitionText = \"opacity\" + transitionOption + \",visibility\" + transitionOption;\n  }\n  if (!onlyFadeTransition) {\n    transitionOption = \" \" + duration + \"s \" + transitionCurve;\n    transitionText += (transitionText.length ? ',' : '') + (env.transformSupported ? \"\" + CSS_TRANSFORM_VENDOR + transitionOption : \",left\" + transitionOption + \",top\" + transitionOption);\n  }\n  return CSS_TRANSITION_VENDOR + ':' + transitionText;\n}\nfunction assembleTransform(x, y, toString) {\n  // If using float on style, the final width of the dom might\n  // keep changing slightly while mouse move. So `toFixed(0)` them.\n  var x0 = x.toFixed(0) + 'px';\n  var y0 = y.toFixed(0) + 'px';\n  // not support transform, use `left` and `top` instead.\n  if (!env.transformSupported) {\n    return toString ? \"top:\" + y0 + \";left:\" + x0 + \";\" : [['top', y0], ['left', x0]];\n  }\n  // support transform\n  var is3d = env.transform3dSupported;\n  var translate = \"translate\" + (is3d ? '3d' : '') + \"(\" + x0 + \",\" + y0 + (is3d ? ',0' : '') + \")\";\n  return toString ? 'top:0;left:0;' + CSS_TRANSFORM_VENDOR + ':' + translate + ';' : [['top', 0], ['left', 0], [TRANSFORM_VENDOR, translate]];\n}\n/**\n * @param {Object} textStyle\n * @return {string}\n * @inner\n */\nfunction assembleFont(textStyleModel) {\n  var cssText = [];\n  var fontSize = textStyleModel.get('fontSize');\n  var color = textStyleModel.getTextColor();\n  color && cssText.push('color:' + color);\n  cssText.push('font:' + textStyleModel.getFont());\n  // @ts-ignore, leave it to the tooltip refactor.\n  var lineHeight = retrieve2(textStyleModel.get('lineHeight'), Math.round(fontSize * 3 / 2));\n  fontSize && cssText.push('line-height:' + lineHeight + 'px');\n  var shadowColor = textStyleModel.get('textShadowColor');\n  var shadowBlur = textStyleModel.get('textShadowBlur') || 0;\n  var shadowOffsetX = textStyleModel.get('textShadowOffsetX') || 0;\n  var shadowOffsetY = textStyleModel.get('textShadowOffsetY') || 0;\n  shadowColor && shadowBlur && cssText.push('text-shadow:' + shadowOffsetX + 'px ' + shadowOffsetY + 'px ' + shadowBlur + 'px ' + shadowColor);\n  each(['decoration', 'align'], function (name) {\n    var val = textStyleModel.get(name);\n    val && cssText.push('text-' + name + ':' + val);\n  });\n  return cssText.join(';');\n}\nfunction assembleCssText(tooltipModel, enableTransition, onlyFadeTransition, enableDisplayTransition) {\n  var cssText = [];\n  var transitionDuration = tooltipModel.get('transitionDuration');\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var shadowBlur = tooltipModel.get('shadowBlur');\n  var shadowColor = tooltipModel.get('shadowColor');\n  var shadowOffsetX = tooltipModel.get('shadowOffsetX');\n  var shadowOffsetY = tooltipModel.get('shadowOffsetY');\n  var textStyleModel = tooltipModel.getModel('textStyle');\n  var padding = getPaddingFromTooltipModel(tooltipModel, 'html');\n  var boxShadow = shadowOffsetX + \"px \" + shadowOffsetY + \"px \" + shadowBlur + \"px \" + shadowColor;\n  cssText.push('box-shadow:' + boxShadow);\n  // Animation transition. Do not animate when transitionDuration <= 0.\n  enableTransition && transitionDuration > 0 && cssText.push(assembleTransition(transitionDuration, onlyFadeTransition, enableDisplayTransition));\n  if (backgroundColor) {\n    cssText.push('background-color:' + backgroundColor);\n  }\n  // Border style\n  each(['width', 'color', 'radius'], function (name) {\n    var borderName = 'border-' + name;\n    var camelCase = toCamelCase(borderName);\n    var val = tooltipModel.get(camelCase);\n    val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n  });\n  // Text style\n  cssText.push(assembleFont(textStyleModel));\n  // Padding\n  if (padding != null) {\n    cssText.push('padding:' + normalizeCssArray(padding).join('px ') + 'px');\n  }\n  return cssText.join(';') + ';';\n}\n// If not able to make, do not modify the input `out`.\nfunction makeStyleCoord(out, zr, container, zrX, zrY) {\n  var zrPainter = zr && zr.painter;\n  if (container) {\n    var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();\n    if (zrViewportRoot) {\n      // Some APPs might use scale on body, so we support CSS transform here.\n      transformLocalCoord(out, zrViewportRoot, container, zrX, zrY);\n    }\n  } else {\n    out[0] = zrX;\n    out[1] = zrY;\n    // xy should be based on canvas root. But tooltipContent is\n    // the sibling of canvas root. So padding of ec container\n    // should be considered here.\n    var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();\n    if (viewportRootOffset) {\n      out[0] += viewportRootOffset.offsetLeft;\n      out[1] += viewportRootOffset.offsetTop;\n    }\n  }\n  out[2] = out[0] / zr.getWidth();\n  out[3] = out[1] / zr.getHeight();\n}\nvar TooltipHTMLContent = /** @class */function () {\n  function TooltipHTMLContent(api, opt) {\n    this._show = false;\n    this._styleCoord = [0, 0, 0, 0];\n    this._enterable = true;\n    this._alwaysShowContent = false;\n    this._firstShow = true;\n    this._longHide = true;\n    if (env.wxa) {\n      return null;\n    }\n    var el = document.createElement('div');\n    // TODO: TYPE\n    el.domBelongToZr = true;\n    this.el = el;\n    var zr = this._zr = api.getZr();\n    var appendTo = opt.appendTo;\n    var container = appendTo && (isString(appendTo) ? document.querySelector(appendTo) : isDom(appendTo) ? appendTo : isFunction(appendTo) && appendTo(api.getDom()));\n    makeStyleCoord(this._styleCoord, zr, container, api.getWidth() / 2, api.getHeight() / 2);\n    (container || api.getDom()).appendChild(el);\n    this._api = api;\n    this._container = container;\n    // FIXME\n    // Is it needed to trigger zr event manually if\n    // the browser do not support `pointer-events: none`.\n    var self = this;\n    el.onmouseenter = function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n      self._inContent = true;\n    };\n    el.onmousemove = function (e) {\n      e = e || window.event;\n      if (!self._enterable) {\n        // `pointer-events: none` is set to tooltip content div\n        // if `enterable` is set as `false`, and `el.onmousemove`\n        // can not be triggered. But in browser that do not\n        // support `pointer-events`, we need to do this:\n        // Try trigger zrender event to avoid mouse\n        // in and out shape too frequently\n        var handler = zr.handler;\n        var zrViewportRoot = zr.painter.getViewportRoot();\n        normalizeEvent(zrViewportRoot, e, true);\n        handler.dispatch('mousemove', e);\n      }\n    };\n    el.onmouseleave = function () {\n      // set `_inContent` to `false` before `hideLater`\n      self._inContent = false;\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n    };\n  }\n  /**\n   * Update when tooltip is rendered\n   */\n  TooltipHTMLContent.prototype.update = function (tooltipModel) {\n    // FIXME\n    // Move this logic to ec main?\n    if (!this._container) {\n      var container = this._api.getDom();\n      var position = getComputedStyle(container, 'position');\n      var domStyle = container.style;\n      if (domStyle.position !== 'absolute' && position !== 'absolute') {\n        domStyle.position = 'relative';\n      }\n    }\n    // move tooltip if chart resized\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveIfResized();\n    // update alwaysShowContent\n    this._alwaysShowContent = alwaysShowContent;\n    this._enableDisplayTransition = tooltipModel.get('displayTransition') && tooltipModel.get('transitionDuration') > 0;\n    // update className\n    this.el.className = tooltipModel.get('className') || '';\n    // Hide the tooltip\n    // PENDING\n    // this.hide();\n  };\n  TooltipHTMLContent.prototype.show = function (tooltipModel, nearPointColor) {\n    clearTimeout(this._hideTimeout);\n    clearTimeout(this._longHideTimeout);\n    var el = this.el;\n    var style = el.style;\n    var styleCoord = this._styleCoord;\n    if (!el.innerHTML) {\n      style.display = 'none';\n    } else {\n      style.cssText = gCssText + assembleCssText(tooltipModel, !this._firstShow, this._longHide, this._enableDisplayTransition)\n      // initial transform\n      + assembleTransform(styleCoord[0], styleCoord[1], true) + (\"border-color:\" + convertToColorString(nearPointColor) + \";\") + (tooltipModel.get('extraCssText') || '')\n      // If mouse occasionally move over the tooltip, a mouseout event will be\n      // triggered by canvas, and cause some unexpectable result like dragging\n      // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n      // it. Although it is not supported by IE8~IE10, fortunately it is a rare\n      // scenario.\n      + (\";pointer-events:\" + (this._enterable ? 'auto' : 'none'));\n    }\n    this._show = true;\n    this._firstShow = false;\n    this._longHide = false;\n  };\n  TooltipHTMLContent.prototype.setContent = function (content, markers, tooltipModel, borderColor, arrowPosition) {\n    var el = this.el;\n    if (content == null) {\n      el.innerHTML = '';\n      return;\n    }\n    var arrow = '';\n    if (isString(arrowPosition) && tooltipModel.get('trigger') === 'item' && !shouldTooltipConfine(tooltipModel)) {\n      arrow = assembleArrow(tooltipModel, borderColor, arrowPosition);\n    }\n    if (isString(content)) {\n      el.innerHTML = content + arrow;\n    } else if (content) {\n      // Clear previous\n      el.innerHTML = '';\n      if (!isArray(content)) {\n        content = [content];\n      }\n      for (var i = 0; i < content.length; i++) {\n        if (isDom(content[i]) && content[i].parentNode !== el) {\n          el.appendChild(content[i]);\n        }\n      }\n      // no arrow if empty\n      if (arrow && el.childNodes.length) {\n        // no need to create a new parent element, but it's not supported by IE 10 and older.\n        // const arrowEl = document.createRange().createContextualFragment(arrow);\n        var arrowEl = document.createElement('div');\n        arrowEl.innerHTML = arrow;\n        el.appendChild(arrowEl);\n      }\n    }\n  };\n  TooltipHTMLContent.prototype.setEnterable = function (enterable) {\n    this._enterable = enterable;\n  };\n  TooltipHTMLContent.prototype.getSize = function () {\n    var el = this.el;\n    return el ? [el.offsetWidth, el.offsetHeight] : [0, 0];\n  };\n  TooltipHTMLContent.prototype.moveTo = function (zrX, zrY) {\n    if (!this.el) {\n      return;\n    }\n    var styleCoord = this._styleCoord;\n    makeStyleCoord(styleCoord, this._zr, this._container, zrX, zrY);\n    if (styleCoord[0] != null && styleCoord[1] != null) {\n      var style_1 = this.el.style;\n      var transforms = assembleTransform(styleCoord[0], styleCoord[1]);\n      each(transforms, function (transform) {\n        style_1[transform[0]] = transform[1];\n      });\n    }\n  };\n  /**\n   * when `alwaysShowContent` is true,\n   * move the tooltip after chart resized\n   */\n  TooltipHTMLContent.prototype._moveIfResized = function () {\n    // The ratio of left to width\n    var ratioX = this._styleCoord[2];\n    // The ratio of top to height\n    var ratioY = this._styleCoord[3];\n    this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());\n  };\n  TooltipHTMLContent.prototype.hide = function () {\n    var _this = this;\n    var style = this.el.style;\n    if (this._enableDisplayTransition) {\n      style.visibility = 'hidden';\n      style.opacity = '0';\n    } else {\n      style.display = 'none';\n    }\n    env.transform3dSupported && (style.willChange = '');\n    this._show = false;\n    this._longHideTimeout = setTimeout(function () {\n      return _this._longHide = true;\n    }, 500);\n  };\n  TooltipHTMLContent.prototype.hideLater = function (time) {\n    if (this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent) {\n      if (time) {\n        this._hideDelay = time;\n        // Set show false to avoid invoke hideLater multiple times\n        this._show = false;\n        this._hideTimeout = setTimeout(bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  };\n  TooltipHTMLContent.prototype.isShow = function () {\n    return this._show;\n  };\n  TooltipHTMLContent.prototype.dispose = function () {\n    clearTimeout(this._hideTimeout);\n    clearTimeout(this._longHideTimeout);\n    var zr = this._zr;\n    transformLocalCoordClear(zr && zr.painter && zr.painter.getViewportRoot(), this._container);\n    var el = this.el;\n    if (el) {\n      el.onmouseenter = el.onmousemove = el.onmouseleave = null;\n      var parentNode = el.parentNode;\n      parentNode && parentNode.removeChild(el);\n    }\n    this.el = this._container = null;\n  };\n  return TooltipHTMLContent;\n}();\nexport default TooltipHTMLContent;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nimport { getPaddingFromTooltipModel } from './tooltipMarkup.js';\nimport { throwError } from '../../util/log.js';\nvar TooltipRichContent = /** @class */function () {\n  function TooltipRichContent(api) {\n    this._show = false;\n    this._styleCoord = [0, 0, 0, 0];\n    this._alwaysShowContent = false;\n    this._enterable = true;\n    this._zr = api.getZr();\n    makeStyleCoord(this._styleCoord, this._zr, api.getWidth() / 2, api.getHeight() / 2);\n  }\n  /**\n   * Update when tooltip is rendered\n   */\n  TooltipRichContent.prototype.update = function (tooltipModel) {\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveIfResized();\n    // update alwaysShowContent\n    this._alwaysShowContent = alwaysShowContent;\n  };\n  TooltipRichContent.prototype.show = function () {\n    if (this._hideTimeout) {\n      clearTimeout(this._hideTimeout);\n    }\n    this.el.show();\n    this._show = true;\n  };\n  /**\n   * Set tooltip content\n   */\n  TooltipRichContent.prototype.setContent = function (content, markupStyleCreator, tooltipModel, borderColor, arrowPosition) {\n    var _this = this;\n    if (zrUtil.isObject(content)) {\n      throwError(process.env.NODE_ENV !== 'production' ? 'Passing DOM nodes as content is not supported in richText tooltip!' : '');\n    }\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n    var textStyleModel = tooltipModel.getModel('textStyle');\n    this.el = new ZRText({\n      style: {\n        rich: markupStyleCreator.richTextStyles,\n        text: content,\n        lineHeight: 22,\n        borderWidth: 1,\n        borderColor: borderColor,\n        textShadowColor: textStyleModel.get('textShadowColor'),\n        fill: tooltipModel.get(['textStyle', 'color']),\n        padding: getPaddingFromTooltipModel(tooltipModel, 'richText'),\n        verticalAlign: 'top',\n        align: 'left'\n      },\n      z: tooltipModel.get('z')\n    });\n    zrUtil.each(['backgroundColor', 'borderRadius', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'], function (propName) {\n      _this.el.style[propName] = tooltipModel.get(propName);\n    });\n    zrUtil.each(['textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY'], function (propName) {\n      _this.el.style[propName] = textStyleModel.get(propName) || 0;\n    });\n    this._zr.add(this.el);\n    var self = this;\n    this.el.on('mouseover', function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n      self._inContent = true;\n    });\n    this.el.on('mouseout', function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n      self._inContent = false;\n    });\n  };\n  TooltipRichContent.prototype.setEnterable = function (enterable) {\n    this._enterable = enterable;\n  };\n  TooltipRichContent.prototype.getSize = function () {\n    var el = this.el;\n    var bounding = this.el.getBoundingRect();\n    // bounding rect does not include shadow. For renderMode richText,\n    // if overflow, it will be cut. So calculate them accurately.\n    var shadowOuterSize = calcShadowOuterSize(el.style);\n    return [bounding.width + shadowOuterSize.left + shadowOuterSize.right, bounding.height + shadowOuterSize.top + shadowOuterSize.bottom];\n  };\n  TooltipRichContent.prototype.moveTo = function (x, y) {\n    var el = this.el;\n    if (el) {\n      var styleCoord = this._styleCoord;\n      makeStyleCoord(styleCoord, this._zr, x, y);\n      x = styleCoord[0];\n      y = styleCoord[1];\n      var style = el.style;\n      var borderWidth = mathMaxWith0(style.borderWidth || 0);\n      var shadowOuterSize = calcShadowOuterSize(style);\n      // rich text x, y do not include border.\n      el.x = x + borderWidth + shadowOuterSize.left;\n      el.y = y + borderWidth + shadowOuterSize.top;\n      el.markRedraw();\n    }\n  };\n  /**\n   * when `alwaysShowContent` is true,\n   * move the tooltip after chart resized\n   */\n  TooltipRichContent.prototype._moveIfResized = function () {\n    // The ratio of left to width\n    var ratioX = this._styleCoord[2];\n    // The ratio of top to height\n    var ratioY = this._styleCoord[3];\n    this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());\n  };\n  TooltipRichContent.prototype.hide = function () {\n    if (this.el) {\n      this.el.hide();\n    }\n    this._show = false;\n  };\n  TooltipRichContent.prototype.hideLater = function (time) {\n    if (this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent) {\n      if (time) {\n        this._hideDelay = time;\n        // Set show false to avoid invoke hideLater multiple times\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  };\n  TooltipRichContent.prototype.isShow = function () {\n    return this._show;\n  };\n  TooltipRichContent.prototype.dispose = function () {\n    this._zr.remove(this.el);\n  };\n  return TooltipRichContent;\n}();\nfunction mathMaxWith0(val) {\n  return Math.max(0, val);\n}\nfunction calcShadowOuterSize(style) {\n  var shadowBlur = mathMaxWith0(style.shadowBlur || 0);\n  var shadowOffsetX = mathMaxWith0(style.shadowOffsetX || 0);\n  var shadowOffsetY = mathMaxWith0(style.shadowOffsetY || 0);\n  return {\n    left: mathMaxWith0(shadowBlur - shadowOffsetX),\n    right: mathMaxWith0(shadowBlur + shadowOffsetX),\n    top: mathMaxWith0(shadowBlur - shadowOffsetY),\n    bottom: mathMaxWith0(shadowBlur + shadowOffsetY)\n  };\n}\nfunction makeStyleCoord(out, zr, zrX, zrY) {\n  out[0] = zrX;\n  out[1] = zrY;\n  out[2] = out[0] / zr.getWidth();\n  out[3] = out[1] / zr.getHeight();\n}\nexport default TooltipRichContent;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport { __extends } from \"tslib\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { bind, each, clone, trim, isString, isFunction, isArray, isObject, extend } from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport TooltipHTMLContent from './TooltipHTMLContent.js';\nimport TooltipRichContent from './TooltipRichContent.js';\nimport { convertToColorString, encodeHTML, formatTpl } from '../../util/format.js';\nimport { parsePercent } from '../../util/number.js';\nimport { Rect } from '../../util/graphic.js';\nimport findPointFromSeries from '../axisPointer/findPointFromSeries.js';\nimport { getLayoutRect } from '../../util/layout.js';\nimport Model from '../../model/Model.js';\nimport * as globalListener from '../axisPointer/globalListener.js';\nimport * as axisHelper from '../../coord/axisHelper.js';\nimport * as axisPointerViewHelper from '../axisPointer/viewHelper.js';\nimport { getTooltipRenderMode, preParseFinder, queryReferringComponents } from '../../util/model.js';\nimport ComponentView from '../../view/Component.js';\nimport { format as timeFormat } from '../../util/time.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { shouldTooltipConfine } from './helper.js';\nimport { normalizeTooltipFormatResult } from '../../model/mixin/dataFormat.js';\nimport { createTooltipMarkup, buildTooltipMarkup, TooltipMarkupStyleCreator } from './tooltipMarkup.js';\nimport { findEventDispatcher } from '../../util/event.js';\nimport { clear, createOrUpdate } from '../../util/throttle.js';\nvar proxyRect = new Rect({\n  shape: {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  }\n});\nvar TooltipView = /** @class */function (_super) {\n  __extends(TooltipView, _super);\n  function TooltipView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TooltipView.type;\n    return _this;\n  }\n  TooltipView.prototype.init = function (ecModel, api) {\n    if (env.node || !api.getDom()) {\n      return;\n    }\n    var tooltipModel = ecModel.getComponent('tooltip');\n    var renderMode = this._renderMode = getTooltipRenderMode(tooltipModel.get('renderMode'));\n    this._tooltipContent = renderMode === 'richText' ? new TooltipRichContent(api) : new TooltipHTMLContent(api, {\n      appendTo: tooltipModel.get('appendToBody', true) ? 'body' : tooltipModel.get('appendTo', true)\n    });\n  };\n  TooltipView.prototype.render = function (tooltipModel, ecModel, api) {\n    if (env.node || !api.getDom()) {\n      return;\n    }\n    // Reset\n    this.group.removeAll();\n    this._tooltipModel = tooltipModel;\n    this._ecModel = ecModel;\n    this._api = api;\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.update(tooltipModel);\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n    this._initGlobalListener();\n    this._keepShow();\n    // PENDING\n    // `mousemove` event will be triggered very frequently when the mouse moves fast,\n    // which causes that the `updatePosition` function was also called frequently.\n    // In Chrome with devtools open and Firefox, tooltip looks laggy and shakes. See #14695 #16101\n    // To avoid frequent triggering,\n    // consider throttling it in 50ms when transition is enabled\n    if (this._renderMode !== 'richText' && tooltipModel.get('transitionDuration')) {\n      createOrUpdate(this, '_updatePosition', 50, 'fixRate');\n    } else {\n      clear(this, '_updatePosition');\n    }\n  };\n  TooltipView.prototype._initGlobalListener = function () {\n    var tooltipModel = this._tooltipModel;\n    var triggerOn = tooltipModel.get('triggerOn');\n    globalListener.register('itemTooltip', this._api, bind(function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none') {\n        if (triggerOn.indexOf(currTrigger) >= 0) {\n          this._tryShow(e, dispatchAction);\n        } else if (currTrigger === 'leave') {\n          this._hide(dispatchAction);\n        }\n      }\n    }, this));\n  };\n  TooltipView.prototype._keepShow = function () {\n    var tooltipModel = this._tooltipModel;\n    var ecModel = this._ecModel;\n    var api = this._api;\n    var triggerOn = tooltipModel.get('triggerOn');\n    // Try to keep the tooltip show when refreshing\n    if (this._lastX != null && this._lastY != null\n    // When user is willing to control tooltip totally using API,\n    // self.manuallyShowTip({x, y}) might cause tooltip hide,\n    // which is not expected.\n    && triggerOn !== 'none' && triggerOn !== 'click') {\n      var self_1 = this;\n      clearTimeout(this._refreshUpdateTimeout);\n      this._refreshUpdateTimeout = setTimeout(function () {\n        // Show tip next tick after other charts are rendered\n        // In case highlight action has wrong result\n        // FIXME\n        !api.isDisposed() && self_1.manuallyShowTip(tooltipModel, ecModel, api, {\n          x: self_1._lastX,\n          y: self_1._lastY,\n          dataByCoordSys: self_1._lastDataByCoordSys\n        });\n      });\n    }\n  };\n  /**\n   * Show tip manually by\n   * dispatchAction({\n   *     type: 'showTip',\n   *     x: 10,\n   *     y: 10\n   * });\n   * Or\n   * dispatchAction({\n   *      type: 'showTip',\n   *      seriesIndex: 0,\n   *      dataIndex or dataIndexInside or name\n   * });\n   *\n   *  TODO Batch\n   */\n  TooltipView.prototype.manuallyShowTip = function (tooltipModel, ecModel, api, payload) {\n    if (payload.from === this.uid || env.node || !api.getDom()) {\n      return;\n    }\n    var dispatchAction = makeDispatchAction(payload, api);\n    // Reset ticket\n    this._ticket = '';\n    // When triggered from axisPointer.\n    var dataByCoordSys = payload.dataByCoordSys;\n    var cmptRef = findComponentReference(payload, ecModel, api);\n    if (cmptRef) {\n      var rect = cmptRef.el.getBoundingRect().clone();\n      rect.applyTransform(cmptRef.el.transform);\n      this._tryShow({\n        offsetX: rect.x + rect.width / 2,\n        offsetY: rect.y + rect.height / 2,\n        target: cmptRef.el,\n        position: payload.position,\n        // When manully trigger, the mouse is not on the el, so we'd better to\n        // position tooltip on the bottom of the el and display arrow is possible.\n        positionDefault: 'bottom'\n      }, dispatchAction);\n    } else if (payload.tooltip && payload.x != null && payload.y != null) {\n      var el = proxyRect;\n      el.x = payload.x;\n      el.y = payload.y;\n      el.update();\n      getECData(el).tooltipConfig = {\n        name: null,\n        option: payload.tooltip\n      };\n      // Manually show tooltip while view is not using zrender elements.\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        target: el\n      }, dispatchAction);\n    } else if (dataByCoordSys) {\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        dataByCoordSys: dataByCoordSys,\n        tooltipOption: payload.tooltipOption\n      }, dispatchAction);\n    } else if (payload.seriesIndex != null) {\n      if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n        return;\n      }\n      var pointInfo = findPointFromSeries(payload, ecModel);\n      var cx = pointInfo.point[0];\n      var cy = pointInfo.point[1];\n      if (cx != null && cy != null) {\n        this._tryShow({\n          offsetX: cx,\n          offsetY: cy,\n          target: pointInfo.el,\n          position: payload.position,\n          // When manully trigger, the mouse is not on the el, so we'd better to\n          // position tooltip on the bottom of the el and display arrow is possible.\n          positionDefault: 'bottom'\n        }, dispatchAction);\n      }\n    } else if (payload.x != null && payload.y != null) {\n      // FIXME\n      // should wrap dispatchAction like `axisPointer/globalListener` ?\n      api.dispatchAction({\n        type: 'updateAxisPointer',\n        x: payload.x,\n        y: payload.y\n      });\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        target: api.getZr().findHover(payload.x, payload.y).target\n      }, dispatchAction);\n    }\n  };\n  TooltipView.prototype.manuallyHideTip = function (tooltipModel, ecModel, api, payload) {\n    var tooltipContent = this._tooltipContent;\n    if (this._tooltipModel) {\n      tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n    }\n    this._lastX = this._lastY = this._lastDataByCoordSys = null;\n    if (payload.from !== this.uid) {\n      this._hide(makeDispatchAction(payload, api));\n    }\n  };\n  // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n  // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n  // and tooltip.\n  TooltipView.prototype._manuallyAxisShowTip = function (tooltipModel, ecModel, api, payload) {\n    var seriesIndex = payload.seriesIndex;\n    var dataIndex = payload.dataIndex;\n    // @ts-ignore\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n    if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n      return;\n    }\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n    if (!seriesModel) {\n      return;\n    }\n    var data = seriesModel.getData();\n    var tooltipCascadedModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model], this._tooltipModel);\n    if (tooltipCascadedModel.get('trigger') !== 'axis') {\n      return;\n    }\n    api.dispatchAction({\n      type: 'updateAxisPointer',\n      seriesIndex: seriesIndex,\n      dataIndex: dataIndex,\n      position: payload.position\n    });\n    return true;\n  };\n  TooltipView.prototype._tryShow = function (e, dispatchAction) {\n    var el = e.target;\n    var tooltipModel = this._tooltipModel;\n    if (!tooltipModel) {\n      return;\n    }\n    // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n    this._lastX = e.offsetX;\n    this._lastY = e.offsetY;\n    var dataByCoordSys = e.dataByCoordSys;\n    if (dataByCoordSys && dataByCoordSys.length) {\n      this._showAxisTooltip(dataByCoordSys, e);\n    } else if (el) {\n      var ecData = getECData(el);\n      if (ecData.ssrType === 'legend') {\n        // Don't trigger tooltip for legend tooltip item\n        return;\n      }\n      this._lastDataByCoordSys = null;\n      var seriesDispatcher_1;\n      var cmptDispatcher_1;\n      findEventDispatcher(el, function (target) {\n        if (target.tooltipDisabled) {\n          seriesDispatcher_1 = cmptDispatcher_1 = null;\n          return true;\n        }\n        if (seriesDispatcher_1 || cmptDispatcher_1) {\n          return;\n        }\n        // Always show item tooltip if mouse is on the element with dataIndex\n        if (getECData(target).dataIndex != null) {\n          seriesDispatcher_1 = target;\n        }\n        // Tooltip provided directly. Like legend.\n        else if (getECData(target).tooltipConfig != null) {\n          cmptDispatcher_1 = target;\n        }\n      }, true);\n      if (seriesDispatcher_1) {\n        this._showSeriesItemTooltip(e, seriesDispatcher_1, dispatchAction);\n      } else if (cmptDispatcher_1) {\n        this._showComponentItemTooltip(e, cmptDispatcher_1, dispatchAction);\n      } else {\n        this._hide(dispatchAction);\n      }\n    } else {\n      this._lastDataByCoordSys = null;\n      this._hide(dispatchAction);\n    }\n  };\n  TooltipView.prototype._showOrMove = function (tooltipModel, cb) {\n    // showDelay is used in this case: tooltip.enterable is set\n    // as true. User intent to move mouse into tooltip and click\n    // something. `showDelay` makes it easier to enter the content\n    // but tooltip do not move immediately.\n    var delay = tooltipModel.get('showDelay');\n    cb = bind(cb, this);\n    clearTimeout(this._showTimout);\n    delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();\n  };\n  TooltipView.prototype._showAxisTooltip = function (dataByCoordSys, e) {\n    var ecModel = this._ecModel;\n    var globalTooltipModel = this._tooltipModel;\n    var point = [e.offsetX, e.offsetY];\n    var singleTooltipModel = buildTooltipModel([e.tooltipOption], globalTooltipModel);\n    var renderMode = this._renderMode;\n    var cbParamsList = [];\n    var articleMarkup = createTooltipMarkup('section', {\n      blocks: [],\n      noHeader: true\n    });\n    // Only for legacy: `Serise['formatTooltip']` returns a string.\n    var markupTextArrLegacy = [];\n    var markupStyleCreator = new TooltipMarkupStyleCreator();\n    each(dataByCoordSys, function (itemCoordSys) {\n      each(itemCoordSys.dataByAxis, function (axisItem) {\n        var axisModel = ecModel.getComponent(axisItem.axisDim + 'Axis', axisItem.axisIndex);\n        var axisValue = axisItem.value;\n        if (!axisModel || axisValue == null) {\n          return;\n        }\n        // FIXME: when using `tooltip.trigger: 'axis'`, the precision of the axis value displayed in tooltip\n        //  should match the original series values rather than using the default stretegy in Interval.ts\n        //  (getPrecision(interval) + 2); otherwise it may cuase confusion.\n        var axisValueLabel = axisPointerViewHelper.getValueLabel(axisValue, axisModel.axis, ecModel, axisItem.seriesDataIndices, axisItem.valueLabelOpt);\n        var axisSectionMarkup = createTooltipMarkup('section', {\n          header: axisValueLabel,\n          noHeader: !trim(axisValueLabel),\n          sortBlocks: true,\n          blocks: []\n        });\n        articleMarkup.blocks.push(axisSectionMarkup);\n        each(axisItem.seriesDataIndices, function (idxItem) {\n          var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n          var dataIndex = idxItem.dataIndexInside;\n          var cbParams = series.getDataParams(dataIndex);\n          // Can't find data.\n          if (cbParams.dataIndex < 0) {\n            return;\n          }\n          cbParams.axisDim = axisItem.axisDim;\n          cbParams.axisIndex = axisItem.axisIndex;\n          cbParams.axisType = axisItem.axisType;\n          cbParams.axisId = axisItem.axisId;\n          cbParams.axisValue = axisHelper.getAxisRawValue(axisModel.axis, {\n            value: axisValue\n          });\n          cbParams.axisValueLabel = axisValueLabel;\n          // Pre-create marker style for makers. Users can assemble richText\n          // text in `formatter` callback and use those markers style.\n          cbParams.marker = markupStyleCreator.makeTooltipMarker('item', convertToColorString(cbParams.color), renderMode);\n          var seriesTooltipResult = normalizeTooltipFormatResult(series.formatTooltip(dataIndex, true, null));\n          var frag = seriesTooltipResult.frag;\n          if (frag) {\n            var valueFormatter = buildTooltipModel([series], globalTooltipModel).get('valueFormatter');\n            axisSectionMarkup.blocks.push(valueFormatter ? extend({\n              valueFormatter: valueFormatter\n            }, frag) : frag);\n          }\n          if (seriesTooltipResult.text) {\n            markupTextArrLegacy.push(seriesTooltipResult.text);\n          }\n          cbParamsList.push(cbParams);\n        });\n      });\n    });\n    // In most cases, the second axis is displays upper on the first one.\n    // So we reverse it to look better.\n    articleMarkup.blocks.reverse();\n    markupTextArrLegacy.reverse();\n    var positionExpr = e.position;\n    var orderMode = singleTooltipModel.get('order');\n    var builtMarkupText = buildTooltipMarkup(articleMarkup, markupStyleCreator, renderMode, orderMode, ecModel.get('useUTC'), singleTooltipModel.get('textStyle'));\n    builtMarkupText && markupTextArrLegacy.unshift(builtMarkupText);\n    var blockBreak = renderMode === 'richText' ? '\\n\\n' : '<br/>';\n    var allMarkupText = markupTextArrLegacy.join(blockBreak);\n    this._showOrMove(singleTooltipModel, function () {\n      if (this._updateContentNotChangedOnAxis(dataByCoordSys, cbParamsList)) {\n        this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, cbParamsList);\n      } else {\n        this._showTooltipContent(singleTooltipModel, allMarkupText, cbParamsList, Math.random() + '', point[0], point[1], positionExpr, null, markupStyleCreator);\n      }\n    });\n    // Do not trigger events here, because this branch only be entered\n    // from dispatchAction.\n  };\n  TooltipView.prototype._showSeriesItemTooltip = function (e, dispatcher, dispatchAction) {\n    var ecModel = this._ecModel;\n    var ecData = getECData(dispatcher);\n    // Use dataModel in element if possible\n    // Used when mouseover on a element like markPoint or edge\n    // In which case, the data is not main data in series.\n    var seriesIndex = ecData.seriesIndex;\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n    // For example, graph link.\n    var dataModel = ecData.dataModel || seriesModel;\n    var dataIndex = ecData.dataIndex;\n    var dataType = ecData.dataType;\n    var data = dataModel.getData(dataType);\n    var renderMode = this._renderMode;\n    var positionDefault = e.positionDefault;\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model], this._tooltipModel, positionDefault ? {\n      position: positionDefault\n    } : null);\n    var tooltipTrigger = tooltipModel.get('trigger');\n    if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n      return;\n    }\n    var params = dataModel.getDataParams(dataIndex, dataType);\n    var markupStyleCreator = new TooltipMarkupStyleCreator();\n    // Pre-create marker style for makers. Users can assemble richText\n    // text in `formatter` callback and use those markers style.\n    params.marker = markupStyleCreator.makeTooltipMarker('item', convertToColorString(params.color), renderMode);\n    var seriesTooltipResult = normalizeTooltipFormatResult(dataModel.formatTooltip(dataIndex, false, dataType));\n    var orderMode = tooltipModel.get('order');\n    var valueFormatter = tooltipModel.get('valueFormatter');\n    var frag = seriesTooltipResult.frag;\n    var markupText = frag ? buildTooltipMarkup(valueFormatter ? extend({\n      valueFormatter: valueFormatter\n    }, frag) : frag, markupStyleCreator, renderMode, orderMode, ecModel.get('useUTC'), tooltipModel.get('textStyle')) : seriesTooltipResult.text;\n    var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n    this._showOrMove(tooltipModel, function () {\n      this._showTooltipContent(tooltipModel, markupText, params, asyncTicket, e.offsetX, e.offsetY, e.position, e.target, markupStyleCreator);\n    });\n    // FIXME\n    // duplicated showtip if manuallyShowTip is called from dispatchAction.\n    dispatchAction({\n      type: 'showTip',\n      dataIndexInside: dataIndex,\n      dataIndex: data.getRawIndex(dataIndex),\n      seriesIndex: seriesIndex,\n      from: this.uid\n    });\n  };\n  TooltipView.prototype._showComponentItemTooltip = function (e, el, dispatchAction) {\n    var isHTMLRenderMode = this._renderMode === 'html';\n    var ecData = getECData(el);\n    var tooltipConfig = ecData.tooltipConfig;\n    var tooltipOpt = tooltipConfig.option || {};\n    var encodeHTMLContent = tooltipOpt.encodeHTMLContent;\n    if (isString(tooltipOpt)) {\n      var content = tooltipOpt;\n      tooltipOpt = {\n        content: content,\n        // Fixed formatter\n        formatter: content\n      };\n      // when `tooltipConfig.option` is a string rather than an object,\n      // we can't know if the content needs to be encoded\n      // for the sake of security, encode it by default.\n      encodeHTMLContent = true;\n    }\n    if (encodeHTMLContent && isHTMLRenderMode && tooltipOpt.content) {\n      // clone might be unnecessary?\n      tooltipOpt = clone(tooltipOpt);\n      tooltipOpt.content = encodeHTML(tooltipOpt.content);\n    }\n    var tooltipModelCascade = [tooltipOpt];\n    var cmpt = this._ecModel.getComponent(ecData.componentMainType, ecData.componentIndex);\n    if (cmpt) {\n      tooltipModelCascade.push(cmpt);\n    }\n    // In most cases, component tooltip formatter has different params with series tooltip formatter,\n    // so that they cannot share the same formatter. Since the global tooltip formatter is used for series\n    // by convention, we do not use it as the default formatter for component.\n    tooltipModelCascade.push({\n      formatter: tooltipOpt.content\n    });\n    var positionDefault = e.positionDefault;\n    var subTooltipModel = buildTooltipModel(tooltipModelCascade, this._tooltipModel, positionDefault ? {\n      position: positionDefault\n    } : null);\n    var defaultHtml = subTooltipModel.get('content');\n    var asyncTicket = Math.random() + '';\n    // PENDING: this case do not support richText style yet.\n    var markupStyleCreator = new TooltipMarkupStyleCreator();\n    // Do not check whether `trigger` is 'none' here, because `trigger`\n    // only works on coordinate system. In fact, we have not found case\n    // that requires setting `trigger` nothing on component yet.\n    this._showOrMove(subTooltipModel, function () {\n      // Use formatterParams from element defined in component\n      // Avoid users modify it.\n      var formatterParams = clone(subTooltipModel.get('formatterParams') || {});\n      this._showTooltipContent(subTooltipModel, defaultHtml, formatterParams, asyncTicket, e.offsetX, e.offsetY, e.position, el, markupStyleCreator);\n    });\n    // If not dispatch showTip, tip may be hide triggered by axis.\n    dispatchAction({\n      type: 'showTip',\n      from: this.uid\n    });\n  };\n  TooltipView.prototype._showTooltipContent = function (\n  // Use Model<TooltipOption> insteadof TooltipModel because this model may be from series or other options.\n  // Instead of top level tooltip.\n  tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el, markupStyleCreator) {\n    // Reset ticket\n    this._ticket = '';\n    if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n      return;\n    }\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n    var formatter = tooltipModel.get('formatter');\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var html = defaultHtml;\n    var nearPoint = this._getNearestPoint([x, y], params, tooltipModel.get('trigger'), tooltipModel.get('borderColor'), tooltipModel.get('defaultBorderColor', true));\n    var nearPointColor = nearPoint.color;\n    if (formatter) {\n      if (isString(formatter)) {\n        var useUTC = tooltipModel.ecModel.get('useUTC');\n        var params0 = isArray(params) ? params[0] : params;\n        var isTimeAxis = params0 && params0.axisType && params0.axisType.indexOf('time') >= 0;\n        html = formatter;\n        if (isTimeAxis) {\n          html = timeFormat(params0.axisValue, html, useUTC);\n        }\n        html = formatTpl(html, params, true);\n      } else if (isFunction(formatter)) {\n        var callback = bind(function (cbTicket, html) {\n          if (cbTicket === this._ticket) {\n            tooltipContent.setContent(html, markupStyleCreator, tooltipModel, nearPointColor, positionExpr);\n            this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n          }\n        }, this);\n        this._ticket = asyncTicket;\n        html = formatter(params, asyncTicket, callback);\n      } else {\n        html = formatter;\n      }\n    }\n    tooltipContent.setContent(html, markupStyleCreator, tooltipModel, nearPointColor, positionExpr);\n    tooltipContent.show(tooltipModel, nearPointColor);\n    this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n  };\n  TooltipView.prototype._getNearestPoint = function (point, tooltipDataParams, trigger, borderColor, defaultBorderColor) {\n    if (trigger === 'axis' || isArray(tooltipDataParams)) {\n      return {\n        color: borderColor || defaultBorderColor\n      };\n    }\n    if (!isArray(tooltipDataParams)) {\n      return {\n        color: borderColor || tooltipDataParams.color || tooltipDataParams.borderColor\n      };\n    }\n  };\n  TooltipView.prototype._updatePosition = function (tooltipModel, positionExpr, x,\n  // Mouse x\n  y,\n  // Mouse y\n  content, params, el) {\n    var viewWidth = this._api.getWidth();\n    var viewHeight = this._api.getHeight();\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var contentSize = content.getSize();\n    var align = tooltipModel.get('align');\n    var vAlign = tooltipModel.get('verticalAlign');\n    var rect = el && el.getBoundingRect().clone();\n    el && rect.applyTransform(el.transform);\n    if (isFunction(positionExpr)) {\n      // Callback of position can be an array or a string specify the position\n      positionExpr = positionExpr([x, y], params, content.el, rect, {\n        viewSize: [viewWidth, viewHeight],\n        contentSize: contentSize.slice()\n      });\n    }\n    if (isArray(positionExpr)) {\n      x = parsePercent(positionExpr[0], viewWidth);\n      y = parsePercent(positionExpr[1], viewHeight);\n    } else if (isObject(positionExpr)) {\n      var boxLayoutPosition = positionExpr;\n      boxLayoutPosition.width = contentSize[0];\n      boxLayoutPosition.height = contentSize[1];\n      var layoutRect = getLayoutRect(boxLayoutPosition, {\n        width: viewWidth,\n        height: viewHeight\n      });\n      x = layoutRect.x;\n      y = layoutRect.y;\n      align = null;\n      // When positionExpr is left/top/right/bottom,\n      // align and verticalAlign will not work.\n      vAlign = null;\n    }\n    // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n    else if (isString(positionExpr) && el) {\n      var pos = calcTooltipPosition(positionExpr, rect, contentSize, tooltipModel.get('borderWidth'));\n      x = pos[0];\n      y = pos[1];\n    } else {\n      var pos = refixTooltipPosition(x, y, content, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);\n      x = pos[0];\n      y = pos[1];\n    }\n    align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n    vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n    if (shouldTooltipConfine(tooltipModel)) {\n      var pos = confineTooltipPosition(x, y, content, viewWidth, viewHeight);\n      x = pos[0];\n      y = pos[1];\n    }\n    content.moveTo(x, y);\n  };\n  // FIXME\n  // Should we remove this but leave this to user?\n  TooltipView.prototype._updateContentNotChangedOnAxis = function (dataByCoordSys, cbParamsList) {\n    var lastCoordSys = this._lastDataByCoordSys;\n    var lastCbParamsList = this._cbParamsList;\n    var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;\n    contentNotChanged && each(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n      var lastDataByAxis = lastItemCoordSys.dataByAxis || [];\n      var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n      var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n      contentNotChanged = contentNotChanged && lastDataByAxis.length === thisDataByAxis.length;\n      contentNotChanged && each(lastDataByAxis, function (lastItem, indexAxis) {\n        var thisItem = thisDataByAxis[indexAxis] || {};\n        var lastIndices = lastItem.seriesDataIndices || [];\n        var newIndices = thisItem.seriesDataIndices || [];\n        contentNotChanged = contentNotChanged && lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;\n        contentNotChanged && each(lastIndices, function (lastIdxItem, j) {\n          var newIdxItem = newIndices[j];\n          contentNotChanged = contentNotChanged && lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n        });\n        // check is cbParams data value changed\n        lastCbParamsList && each(lastItem.seriesDataIndices, function (idxItem) {\n          var seriesIdx = idxItem.seriesIndex;\n          var cbParams = cbParamsList[seriesIdx];\n          var lastCbParams = lastCbParamsList[seriesIdx];\n          if (cbParams && lastCbParams && lastCbParams.data !== cbParams.data) {\n            contentNotChanged = false;\n          }\n        });\n      });\n    });\n    this._lastDataByCoordSys = dataByCoordSys;\n    this._cbParamsList = cbParamsList;\n    return !!contentNotChanged;\n  };\n  TooltipView.prototype._hide = function (dispatchAction) {\n    // Do not directly hideLater here, because this behavior may be prevented\n    // in dispatchAction when showTip is dispatched.\n    // FIXME\n    // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n    this._lastDataByCoordSys = null;\n    dispatchAction({\n      type: 'hideTip',\n      from: this.uid\n    });\n  };\n  TooltipView.prototype.dispose = function (ecModel, api) {\n    if (env.node || !api.getDom()) {\n      return;\n    }\n    clear(this, '_updatePosition');\n    this._tooltipContent.dispose();\n    globalListener.unregister('itemTooltip', api);\n  };\n  TooltipView.type = 'tooltip';\n  return TooltipView;\n}(ComponentView);\n/**\n * From top to bottom. (the last one should be globalTooltipModel);\n */\nfunction buildTooltipModel(modelCascade, globalTooltipModel, defaultTooltipOption) {\n  // Last is always tooltip model.\n  var ecModel = globalTooltipModel.ecModel;\n  var resultModel;\n  if (defaultTooltipOption) {\n    resultModel = new Model(defaultTooltipOption, ecModel, ecModel);\n    resultModel = new Model(globalTooltipModel.option, resultModel, ecModel);\n  } else {\n    resultModel = globalTooltipModel;\n  }\n  for (var i = modelCascade.length - 1; i >= 0; i--) {\n    var tooltipOpt = modelCascade[i];\n    if (tooltipOpt) {\n      if (tooltipOpt instanceof Model) {\n        tooltipOpt = tooltipOpt.get('tooltip', true);\n      }\n      // In each data item tooltip can be simply write:\n      // {\n      //  value: 10,\n      //  tooltip: 'Something you need to know'\n      // }\n      if (isString(tooltipOpt)) {\n        tooltipOpt = {\n          formatter: tooltipOpt\n        };\n      }\n      if (tooltipOpt) {\n        resultModel = new Model(tooltipOpt, resultModel, ecModel);\n      }\n    }\n  }\n  return resultModel;\n}\nfunction makeDispatchAction(payload, api) {\n  return payload.dispatchAction || bind(api.dispatchAction, api);\n}\nfunction refixTooltipPosition(x, y, content, viewWidth, viewHeight, gapH, gapV) {\n  var size = content.getSize();\n  var width = size[0];\n  var height = size[1];\n  if (gapH != null) {\n    // Add extra 2 pixels for this case:\n    // At present the \"values\" in default tooltip are using CSS `float: right`.\n    // When the right edge of the tooltip box is on the right side of the\n    // viewport, the `float` layout might push the \"values\" to the second line.\n    if (x + width + gapH + 2 > viewWidth) {\n      x -= width + gapH;\n    } else {\n      x += gapH;\n    }\n  }\n  if (gapV != null) {\n    if (y + height + gapV > viewHeight) {\n      y -= height + gapV;\n    } else {\n      y += gapV;\n    }\n  }\n  return [x, y];\n}\nfunction confineTooltipPosition(x, y, content, viewWidth, viewHeight) {\n  var size = content.getSize();\n  var width = size[0];\n  var height = size[1];\n  x = Math.min(x + width, viewWidth) - width;\n  y = Math.min(y + height, viewHeight) - height;\n  x = Math.max(x, 0);\n  y = Math.max(y, 0);\n  return [x, y];\n}\nfunction calcTooltipPosition(position, rect, contentSize, borderWidth) {\n  var domWidth = contentSize[0];\n  var domHeight = contentSize[1];\n  var offset = Math.ceil(Math.SQRT2 * borderWidth) + 8;\n  var x = 0;\n  var y = 0;\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n  switch (position) {\n    case 'inside':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n    case 'top':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y - domHeight - offset;\n      break;\n    case 'bottom':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight + offset;\n      break;\n    case 'left':\n      x = rect.x - domWidth - offset;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n    case 'right':\n      x = rect.x + rectWidth + offset;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n  }\n  return [x, y];\n}\nfunction isCenterAlign(align) {\n  return align === 'center' || align === 'middle';\n}\n/**\n * Find target component by payload like:\n * ```js\n * { legendId: 'some_id', name: 'xxx' }\n * { toolboxIndex: 1, name: 'xxx' }\n * { geoName: 'some_name', name: 'xxx' }\n * ```\n * PENDING: at present only\n *\n * If not found, return null/undefined.\n */\nfunction findComponentReference(payload, ecModel, api) {\n  var queryOptionMap = preParseFinder(payload).queryOptionMap;\n  var componentMainType = queryOptionMap.keys()[0];\n  if (!componentMainType || componentMainType === 'series') {\n    return;\n  }\n  var queryResult = queryReferringComponents(ecModel, componentMainType, queryOptionMap.get(componentMainType), {\n    useDefault: false,\n    enableAll: false,\n    enableNone: false\n  });\n  var model = queryResult.models[0];\n  if (!model) {\n    return;\n  }\n  var view = api.getViewOfComponentModel(model);\n  var el;\n  view.group.traverse(function (subEl) {\n    var tooltipConfig = getECData(subEl).tooltipConfig;\n    if (tooltipConfig && tooltipConfig.name === payload.name) {\n      el = subEl;\n      return true; // stop\n    }\n  });\n  if (el) {\n    return {\n      componentMainType: componentMainType,\n      componentIndex: model.componentIndex,\n      el: el\n    };\n  }\n}\nexport default TooltipView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { install as installAxisPointer } from '../axisPointer/install.js';\nimport { use } from '../../extension.js';\nimport TooltipModel from './TooltipModel.js';\nimport TooltipView from './TooltipView.js';\nimport { noop } from 'zrender/lib/core/util.js';\nexport function install(registers) {\n  use(installAxisPointer);\n  registers.registerComponentModel(TooltipModel);\n  registers.registerComponentView(TooltipView);\n  /**\n   * @action\n   * @property {string} type\n   * @property {number} seriesIndex\n   * @property {number} dataIndex\n   * @property {number} [x]\n   * @property {number} [y]\n   */\n  registers.registerAction({\n    type: 'showTip',\n    event: 'showTip',\n    update: 'tooltip:manuallyShowTip'\n  }, noop);\n  registers.registerAction({\n    type: 'hideTip',\n    event: 'hideTip',\n    update: 'tooltip:manuallyHideTip'\n  }, noop);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { normalizeToArray } from '../../util/model.js';\nvar DEFAULT_TOOLBOX_BTNS = ['rect', 'polygon', 'keep', 'clear'];\nexport default function brushPreprocessor(option, isNew) {\n  var brushComponents = normalizeToArray(option ? option.brush : []);\n  if (!brushComponents.length) {\n    return;\n  }\n  var brushComponentSpecifiedBtns = [];\n  zrUtil.each(brushComponents, function (brushOpt) {\n    var tbs = brushOpt.hasOwnProperty('toolbox') ? brushOpt.toolbox : [];\n    if (tbs instanceof Array) {\n      brushComponentSpecifiedBtns = brushComponentSpecifiedBtns.concat(tbs);\n    }\n  });\n  var toolbox = option && option.toolbox;\n  if (zrUtil.isArray(toolbox)) {\n    toolbox = toolbox[0];\n  }\n  if (!toolbox) {\n    toolbox = {\n      feature: {}\n    };\n    option.toolbox = [toolbox];\n  }\n  var toolboxFeature = toolbox.feature || (toolbox.feature = {});\n  var toolboxBrush = toolboxFeature.brush || (toolboxFeature.brush = {});\n  var brushTypes = toolboxBrush.type || (toolboxBrush.type = []);\n  brushTypes.push.apply(brushTypes, brushComponentSpecifiedBtns);\n  removeDuplicate(brushTypes);\n  if (isNew && !brushTypes.length) {\n    brushTypes.push.apply(brushTypes, DEFAULT_TOOLBOX_BTNS);\n  }\n}\nfunction removeDuplicate(arr) {\n  var map = {};\n  zrUtil.each(arr, function (val) {\n    map[val] = 1;\n  });\n  arr.length = 0;\n  zrUtil.each(map, function (flag, val) {\n    arr.push(val);\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * @file Visual solution, for consistent option specification.\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapping from './VisualMapping.js';\nimport { getItemVisualFromData, setItemVisualFromData } from './helper.js';\nvar each = zrUtil.each;\nfunction hasKeys(obj) {\n  if (obj) {\n    for (var name_1 in obj) {\n      if (obj.hasOwnProperty(name_1)) {\n        return true;\n      }\n    }\n  }\n}\nexport function createVisualMappings(option, stateList, supplementVisualOption) {\n  var visualMappings = {};\n  each(stateList, function (state) {\n    var mappings = visualMappings[state] = createMappings();\n    each(option[state], function (visualData, visualType) {\n      if (!VisualMapping.isValidType(visualType)) {\n        return;\n      }\n      var mappingOption = {\n        type: visualType,\n        visual: visualData\n      };\n      supplementVisualOption && supplementVisualOption(mappingOption, state);\n      mappings[visualType] = new VisualMapping(mappingOption);\n      // Prepare a alpha for opacity, for some case that opacity\n      // is not supported, such as rendering using gradient color.\n      if (visualType === 'opacity') {\n        mappingOption = zrUtil.clone(mappingOption);\n        mappingOption.type = 'colorAlpha';\n        mappings.__hidden.__alphaForOpacity = new VisualMapping(mappingOption);\n      }\n    });\n  });\n  return visualMappings;\n  function createMappings() {\n    var Creater = function () {};\n    // Make sure hidden fields will not be visited by\n    // object iteration (with hasOwnProperty checking).\n    Creater.prototype.__hidden = Creater.prototype;\n    var obj = new Creater();\n    return obj;\n  }\n}\nexport function replaceVisualOption(thisOption, newOption, keys) {\n  // Visual attributes merge is not supported, otherwise it\n  // brings overcomplicated merge logic. See #2853. So if\n  // newOption has anyone of these keys, all of these keys\n  // will be reset. Otherwise, all keys remain.\n  var has;\n  zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      has = true;\n    }\n  });\n  has && zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      thisOption[key] = zrUtil.clone(newOption[key]);\n    } else {\n      delete thisOption[key];\n    }\n  });\n}\n/**\n * @param stateList\n * @param visualMappings\n * @param list\n * @param getValueState param: valueOrIndex, return: state.\n * @param scope Scope for getValueState\n * @param dimension Concrete dimension, if used.\n */\n// ???! handle brush?\nexport function applyVisual(stateList, visualMappings, data, getValueState, scope, dimension) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  var dataIndex;\n  function getVisual(key) {\n    return getItemVisualFromData(data, dataIndex, key);\n  }\n  function setVisual(key, value) {\n    setItemVisualFromData(data, dataIndex, key, value);\n  }\n  if (dimension == null) {\n    data.each(eachItem);\n  } else {\n    data.each([dimension], eachItem);\n  }\n  function eachItem(valueOrIndex, index) {\n    dataIndex = dimension == null ? valueOrIndex // First argument is index\n    : index;\n    var rawDataItem = data.getRawDataItem(dataIndex);\n    // Consider performance\n    // @ts-ignore\n    if (rawDataItem && rawDataItem.visualMap === false) {\n      return;\n    }\n    var valueState = getValueState.call(scope, valueOrIndex);\n    var mappings = visualMappings[valueState];\n    var visualTypes = visualTypesMap[valueState];\n    for (var i = 0, len = visualTypes.length; i < len; i++) {\n      var type = visualTypes[i];\n      mappings[type] && mappings[type].applyVisual(valueOrIndex, getVisual, setVisual);\n    }\n  }\n}\n/**\n * @param data\n * @param stateList\n * @param visualMappings <state, Object.<visualType, module:echarts/visual/VisualMapping>>\n * @param getValueState param: valueOrIndex, return: state.\n * @param dim dimension or dimension index.\n */\nexport function incrementalApplyVisual(stateList, visualMappings, getValueState, dim) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  return {\n    progress: function progress(params, data) {\n      var dimIndex;\n      if (dim != null) {\n        dimIndex = data.getDimensionIndex(dim);\n      }\n      function getVisual(key) {\n        return getItemVisualFromData(data, dataIndex, key);\n      }\n      function setVisual(key, value) {\n        setItemVisualFromData(data, dataIndex, key, value);\n      }\n      var dataIndex;\n      var store = data.getStore();\n      while ((dataIndex = params.next()) != null) {\n        var rawDataItem = data.getRawDataItem(dataIndex);\n        // Consider performance\n        // @ts-ignore\n        if (rawDataItem && rawDataItem.visualMap === false) {\n          continue;\n        }\n        var value = dim != null ? store.get(dimIndex, dataIndex) : dataIndex;\n        var valueState = getValueState(value);\n        var mappings = visualMappings[valueState];\n        var visualTypes = visualTypesMap[valueState];\n        for (var i = 0, len = visualTypes.length; i < len; i++) {\n          var type = visualTypes[i];\n          mappings[type] && mappings[type].applyVisual(value, getVisual, setVisual);\n        }\n      }\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as polygonContain from 'zrender/lib/contain/polygon.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { linePolygonIntersect } from '../../util/graphic.js';\nexport function makeBrushCommonSelectorForSeries(area) {\n  var brushType = area.brushType;\n  // Do not use function binding or curry for performance.\n  var selectors = {\n    point: function (itemLayout) {\n      return selector[brushType].point(itemLayout, selectors, area);\n    },\n    rect: function (itemLayout) {\n      return selector[brushType].rect(itemLayout, selectors, area);\n    }\n  };\n  return selectors;\n}\nvar selector = {\n  lineX: getLineSelectors(0),\n  lineY: getLineSelectors(1),\n  rect: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.intersect(itemLayout);\n    }\n  },\n  polygon: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]) && polygonContain.contain(area.range, itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      var points = area.range;\n      if (!itemLayout || points.length <= 1) {\n        return false;\n      }\n      var x = itemLayout.x;\n      var y = itemLayout.y;\n      var width = itemLayout.width;\n      var height = itemLayout.height;\n      var p = points[0];\n      if (polygonContain.contain(points, x, y) || polygonContain.contain(points, x + width, y) || polygonContain.contain(points, x, y + height) || polygonContain.contain(points, x + width, y + height) || BoundingRect.create(itemLayout).contain(p[0], p[1]) || linePolygonIntersect(x, y, x + width, y, points) || linePolygonIntersect(x, y, x, y + height, points) || linePolygonIntersect(x + width, y, x + width, y + height, points) || linePolygonIntersect(x, y + height, x + width, y + height, points)) {\n        return true;\n      }\n    }\n  }\n};\nfunction getLineSelectors(xyIndex) {\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  return {\n    point: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var p = itemLayout[xyIndex];\n        return inLineRange(p, range);\n      }\n    },\n    rect: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var layoutRange = [itemLayout[xy[xyIndex]], itemLayout[xy[xyIndex]] + itemLayout[wh[xyIndex]]];\n        layoutRange[1] < layoutRange[0] && layoutRange.reverse();\n        return inLineRange(layoutRange[0], range) || inLineRange(layoutRange[1], range) || inLineRange(range[0], layoutRange) || inLineRange(range[1], layoutRange);\n      }\n    }\n  };\n}\nfunction inLineRange(p, range) {\n  return range[0] <= p && p <= range[1];\n}\nexport default selector;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport { makeBrushCommonSelectorForSeries } from './selector.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport BrushTargetManager from '../helper/BrushTargetManager.js';\nvar STATE_LIST = ['inBrush', 'outOfBrush'];\nvar DISPATCH_METHOD = '__ecBrushSelect';\nvar DISPATCH_FLAG = '__ecInBrushSelectEvent';\n;\nexport function layoutCovers(ecModel) {\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    var brushTargetManager = brushModel.brushTargetManager = new BrushTargetManager(brushModel.option, ecModel);\n    brushTargetManager.setInputRanges(brushModel.areas, ecModel);\n  });\n}\n/**\n * Register the visual encoding if this modules required.\n */\nexport default function brushVisual(ecModel, api, payload) {\n  var brushSelected = [];\n  var throttleType;\n  var throttleDelay;\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    payload && payload.type === 'takeGlobalCursor' && brushModel.setBrushOption(payload.key === 'brush' ? payload.brushOption : {\n      brushType: false\n    });\n  });\n  layoutCovers(ecModel);\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel, brushIndex) {\n    var thisBrushSelected = {\n      brushId: brushModel.id,\n      brushIndex: brushIndex,\n      brushName: brushModel.name,\n      areas: zrUtil.clone(brushModel.areas),\n      selected: []\n    };\n    // Every brush component exists in event params, convenient\n    // for user to find by index.\n    brushSelected.push(thisBrushSelected);\n    var brushOption = brushModel.option;\n    var brushLink = brushOption.brushLink;\n    var linkedSeriesMap = [];\n    var selectedDataIndexForLink = [];\n    var rangeInfoBySeries = [];\n    var hasBrushExists = false;\n    if (!brushIndex) {\n      // Only the first throttle setting works.\n      throttleType = brushOption.throttleType;\n      throttleDelay = brushOption.throttleDelay;\n    }\n    // Add boundingRect and selectors to range.\n    var areas = zrUtil.map(brushModel.areas, function (area) {\n      var builder = boundingRectBuilders[area.brushType];\n      var selectableArea = zrUtil.defaults({\n        boundingRect: builder ? builder(area) : void 0\n      }, area);\n      selectableArea.selectors = makeBrushCommonSelectorForSeries(selectableArea);\n      return selectableArea;\n    });\n    var visualMappings = visualSolution.createVisualMappings(brushModel.option, STATE_LIST, function (mappingOption) {\n      mappingOption.mappingMethod = 'fixed';\n    });\n    zrUtil.isArray(brushLink) && zrUtil.each(brushLink, function (seriesIndex) {\n      linkedSeriesMap[seriesIndex] = 1;\n    });\n    function linkOthers(seriesIndex) {\n      return brushLink === 'all' || !!linkedSeriesMap[seriesIndex];\n    }\n    // If no supported brush or no brush on the series,\n    // all visuals should be in original state.\n    function brushed(rangeInfoList) {\n      return !!rangeInfoList.length;\n    }\n    /**\n     * Logic for each series: (If the logic has to be modified one day, do it carefully!)\n     *\n     * ( brushed  && hasBrushExist  && linkOthers  ) => StepA: record,  StepB: visualByRecord.\n     *   !brushed    hasBrushExist                             nothing,        visualByRecord.\n     *                !hasBrushExist                                              nothing.\n     * ( !brushed  && hasBrushExist  && linkOthers  ) => StepA:  nothing,  StepB: visualByRecord.\n     *                !hasBrushExist                                              nothing.\n     * ( brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB: visualByCheck.\n     *   !brushed                                                                  nothing.\n     * ( !brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB:  nothing.\n     */\n    // Step A\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var rangeInfoList = rangeInfoBySeries[seriesIndex] = [];\n      seriesModel.subType === 'parallel' ? stepAParallel(seriesModel, seriesIndex) : stepAOthers(seriesModel, seriesIndex, rangeInfoList);\n    });\n    function stepAParallel(seriesModel, seriesIndex) {\n      var coordSys = seriesModel.coordinateSystem;\n      hasBrushExists = hasBrushExists || coordSys.hasAxisBrushed();\n      linkOthers(seriesIndex) && coordSys.eachActiveState(seriesModel.getData(), function (activeState, dataIndex) {\n        activeState === 'active' && (selectedDataIndexForLink[dataIndex] = 1);\n      });\n    }\n    function stepAOthers(seriesModel, seriesIndex, rangeInfoList) {\n      if (!seriesModel.brushSelector || brushModelNotControll(brushModel, seriesIndex)) {\n        return;\n      }\n      zrUtil.each(areas, function (area) {\n        if (brushModel.brushTargetManager.controlSeries(area, seriesModel, ecModel)) {\n          rangeInfoList.push(area);\n        }\n        hasBrushExists = hasBrushExists || brushed(rangeInfoList);\n      });\n      if (linkOthers(seriesIndex) && brushed(rangeInfoList)) {\n        var data_1 = seriesModel.getData();\n        data_1.each(function (dataIndex) {\n          if (checkInRange(seriesModel, rangeInfoList, data_1, dataIndex)) {\n            selectedDataIndexForLink[dataIndex] = 1;\n          }\n        });\n      }\n    }\n    // Step B\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var seriesBrushSelected = {\n        seriesId: seriesModel.id,\n        seriesIndex: seriesIndex,\n        seriesName: seriesModel.name,\n        dataIndex: []\n      };\n      // Every series exists in event params, convenient\n      // for user to find series by seriesIndex.\n      thisBrushSelected.selected.push(seriesBrushSelected);\n      var rangeInfoList = rangeInfoBySeries[seriesIndex];\n      var data = seriesModel.getData();\n      var getValueState = linkOthers(seriesIndex) ? function (dataIndex) {\n        return selectedDataIndexForLink[dataIndex] ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      } : function (dataIndex) {\n        return checkInRange(seriesModel, rangeInfoList, data, dataIndex) ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      };\n      // If no supported brush or no brush, all visuals are in original state.\n      (linkOthers(seriesIndex) ? hasBrushExists : brushed(rangeInfoList)) && visualSolution.applyVisual(STATE_LIST, visualMappings, data, getValueState);\n    });\n  });\n  dispatchAction(api, throttleType, throttleDelay, brushSelected, payload);\n}\n;\nfunction dispatchAction(api, throttleType, throttleDelay, brushSelected, payload) {\n  // This event will not be triggered when `setOpion`, otherwise dead lock may\n  // triggered when do `setOption` in event listener, which we do not find\n  // satisfactory way to solve yet. Some considered resolutions:\n  // (a) Diff with prevoius selected data ant only trigger event when changed.\n  // But store previous data and diff precisely (i.e., not only by dataIndex, but\n  // also detect value changes in selected data) might bring complexity or fragility.\n  // (b) Use spectial param like `silent` to suppress event triggering.\n  // But such kind of volatile param may be weird in `setOption`.\n  if (!payload) {\n    return;\n  }\n  var zr = api.getZr();\n  if (zr[DISPATCH_FLAG]) {\n    return;\n  }\n  if (!zr[DISPATCH_METHOD]) {\n    zr[DISPATCH_METHOD] = doDispatch;\n  }\n  var fn = throttleUtil.createOrUpdate(zr, DISPATCH_METHOD, throttleDelay, throttleType);\n  fn(api, brushSelected);\n}\nfunction doDispatch(api, brushSelected) {\n  if (!api.isDisposed()) {\n    var zr = api.getZr();\n    zr[DISPATCH_FLAG] = true;\n    api.dispatchAction({\n      type: 'brushSelect',\n      batch: brushSelected\n    });\n    zr[DISPATCH_FLAG] = false;\n  }\n}\nfunction checkInRange(seriesModel, rangeInfoList, data, dataIndex) {\n  for (var i = 0, len = rangeInfoList.length; i < len; i++) {\n    var area = rangeInfoList[i];\n    if (seriesModel.brushSelector(dataIndex, data, area.selectors, area)) {\n      return true;\n    }\n  }\n}\nfunction brushModelNotControll(brushModel, seriesIndex) {\n  var seriesIndices = brushModel.option.seriesIndex;\n  return seriesIndices != null && seriesIndices !== 'all' && (zrUtil.isArray(seriesIndices) ? zrUtil.indexOf(seriesIndices, seriesIndex) < 0 : seriesIndex !== seriesIndices);\n}\nvar boundingRectBuilders = {\n  rect: function (area) {\n    return getBoundingRectFromMinMax(area.range);\n  },\n  polygon: function (area) {\n    var minMax;\n    var range = area.range;\n    for (var i = 0, len = range.length; i < len; i++) {\n      minMax = minMax || [[Infinity, -Infinity], [Infinity, -Infinity]];\n      var rg = range[i];\n      rg[0] < minMax[0][0] && (minMax[0][0] = rg[0]);\n      rg[0] > minMax[0][1] && (minMax[0][1] = rg[0]);\n      rg[1] < minMax[1][0] && (minMax[1][0] = rg[1]);\n      rg[1] > minMax[1][1] && (minMax[1][1] = rg[1]);\n    }\n    return minMax && getBoundingRectFromMinMax(minMax);\n  }\n};\nfunction getBoundingRectFromMinMax(minMax) {\n  return new BoundingRect(minMax[0][0], minMax[1][0], minMax[0][1] - minMax[0][0], minMax[1][1] - minMax[1][0]);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BrushController from '../helper/BrushController.js';\nimport { layoutCovers } from './visualEncoding.js';\nimport ComponentView from '../../view/Component.js';\nvar BrushView = /** @class */function (_super) {\n  __extends(BrushView, _super);\n  function BrushView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BrushView.type;\n    return _this;\n  }\n  BrushView.prototype.init = function (ecModel, api) {\n    this.ecModel = ecModel;\n    this.api = api;\n    this.model;\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  };\n  BrushView.prototype.render = function (brushModel, ecModel, api, payload) {\n    this.model = brushModel;\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype.updateTransform = function (brushModel, ecModel, api, payload) {\n    // PENDING: `updateTransform` is a little tricky, whose layout need\n    // to be calculate mandatorily and other stages will not be performed.\n    // Take care the correctness of the logic. See #11754 .\n    layoutCovers(ecModel);\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype.updateVisual = function (brushModel, ecModel, api, payload) {\n    this.updateTransform(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype.updateView = function (brushModel, ecModel, api, payload) {\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype._updateController = function (brushModel, ecModel, api, payload) {\n    // Do not update controller when drawing.\n    (!payload || payload.$from !== brushModel.id) && this._brushController.setPanels(brushModel.brushTargetManager.makePanelOpts(api)).enableBrush(brushModel.brushOption).updateCovers(brushModel.areas.slice());\n  };\n  // updateLayout: updateController,\n  // updateVisual: updateController,\n  BrushView.prototype.dispose = function () {\n    this._brushController.dispose();\n  };\n  BrushView.prototype._onBrush = function (eventParam) {\n    var modelId = this.model.id;\n    var areas = this.model.brushTargetManager.setOutputRanges(eventParam.areas, this.ecModel);\n    // Action is not dispatched on drag end, because the drag end\n    // emits the same params with the last drag move event, and\n    // may have some delay when using touch pad, which makes\n    // animation not smooth (when using debounce).\n    (!eventParam.isEnd || eventParam.removeOnClick) && this.api.dispatchAction({\n      type: 'brush',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n    eventParam.isEnd && this.api.dispatchAction({\n      type: 'brushEnd',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n  };\n  BrushView.type = 'brush';\n  return BrushView;\n}(ComponentView);\nexport default BrushView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport Model from '../../model/Model.js';\nimport ComponentModel from '../../model/Component.js';\nimport tokens from '../../visual/tokens.js';\nvar BrushModel = /** @class */function (_super) {\n  __extends(BrushModel, _super);\n  function BrushModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BrushModel.type;\n    /**\n     * @readOnly\n     */\n    _this.areas = [];\n    /**\n     * Current brush painting area settings.\n     * @readOnly\n     */\n    _this.brushOption = {};\n    return _this;\n  }\n  BrushModel.prototype.optionUpdated = function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, ['inBrush', 'outOfBrush']);\n    var inBrush = thisOption.inBrush = thisOption.inBrush || {};\n    // Always give default visual, consider setOption at the second time.\n    thisOption.outOfBrush = thisOption.outOfBrush || {\n      color: this.option.defaultOutOfBrushColor\n    };\n    if (!inBrush.hasOwnProperty('liftZ')) {\n      // Bigger than the highlight z lift, otherwise it will\n      // be effected by the highlight z when brush.\n      inBrush.liftZ = 5;\n    }\n  };\n  /**\n   * If `areas` is null/undefined, range state remain.\n   */\n  BrushModel.prototype.setAreas = function (areas) {\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(zrUtil.isArray(areas));\n      zrUtil.each(areas, function (area) {\n        zrUtil.assert(area.brushType, 'Illegal areas');\n      });\n    }\n    // If areas is null/undefined, range state remain.\n    // This helps user to dispatchAction({type: 'brush'}) with no areas\n    // set but just want to get the current brush select info from a `brush` event.\n    if (!areas) {\n      return;\n    }\n    this.areas = zrUtil.map(areas, function (area) {\n      return generateBrushOption(this.option, area);\n    }, this);\n  };\n  /**\n   * Set the current painting brush option.\n   */\n  BrushModel.prototype.setBrushOption = function (brushOption) {\n    this.brushOption = generateBrushOption(this.option, brushOption);\n    this.brushType = this.brushOption.brushType;\n  };\n  BrushModel.type = 'brush';\n  BrushModel.dependencies = ['geo', 'grid', 'xAxis', 'yAxis', 'parallel', 'series'];\n  BrushModel.defaultOption = {\n    seriesIndex: 'all',\n    brushType: 'rect',\n    brushMode: 'single',\n    transformable: true,\n    brushStyle: {\n      borderWidth: 1,\n      color: tokens.color.backgroundTint,\n      borderColor: tokens.color.borderTint\n    },\n    throttleType: 'fixRate',\n    throttleDelay: 0,\n    removeOnClick: true,\n    z: 10000,\n    defaultOutOfBrushColor: tokens.color.disabled\n  };\n  return BrushModel;\n}(ComponentModel);\nfunction generateBrushOption(option, brushOption) {\n  return zrUtil.merge({\n    brushType: option.brushType,\n    brushMode: option.brushMode,\n    transformable: option.transformable,\n    brushStyle: new Model(option.brushStyle).getItemStyle(),\n    removeOnClick: option.removeOnClick,\n    z: option.z\n  }, brushOption, true);\n}\nexport default BrushModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { ToolboxFeature } from '../featureManager.js';\nvar ICON_TYPES = ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'];\nvar BrushFeature = /** @class */function (_super) {\n  __extends(BrushFeature, _super);\n  function BrushFeature() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  BrushFeature.prototype.render = function (featureModel, ecModel, api) {\n    var brushType;\n    var brushMode;\n    var isBrushed;\n    ecModel.eachComponent({\n      mainType: 'brush'\n    }, function (brushModel) {\n      brushType = brushModel.brushType;\n      brushMode = brushModel.brushOption.brushMode || 'single';\n      isBrushed = isBrushed || !!brushModel.areas.length;\n    });\n    this._brushType = brushType;\n    this._brushMode = brushMode;\n    zrUtil.each(featureModel.get('type', true), function (type) {\n      featureModel.setIconStatus(type, (type === 'keep' ? brushMode === 'multiple' : type === 'clear' ? isBrushed : type === brushType) ? 'emphasis' : 'normal');\n    });\n  };\n  BrushFeature.prototype.updateView = function (featureModel, ecModel, api) {\n    this.render(featureModel, ecModel, api);\n  };\n  BrushFeature.prototype.getIcons = function () {\n    var model = this.model;\n    var availableIcons = model.get('icon', true);\n    var icons = {};\n    zrUtil.each(model.get('type', true), function (type) {\n      if (availableIcons[type]) {\n        icons[type] = availableIcons[type];\n      }\n    });\n    return icons;\n  };\n  ;\n  BrushFeature.prototype.onclick = function (ecModel, api, type) {\n    var brushType = this._brushType;\n    var brushMode = this._brushMode;\n    if (type === 'clear') {\n      // Trigger parallel action firstly\n      api.dispatchAction({\n        type: 'axisAreaSelect',\n        intervals: []\n      });\n      api.dispatchAction({\n        type: 'brush',\n        command: 'clear',\n        // Clear all areas of all brush components.\n        areas: []\n      });\n    } else {\n      api.dispatchAction({\n        type: 'takeGlobalCursor',\n        key: 'brush',\n        brushOption: {\n          brushType: type === 'keep' ? brushType : brushType === type ? false : type,\n          brushMode: type === 'keep' ? brushMode === 'multiple' ? 'single' : 'multiple' : brushMode\n        }\n      });\n    }\n  };\n  ;\n  BrushFeature.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      type: ICON_TYPES.slice(),\n      icon: {\n        /* eslint-disable */\n        rect: 'M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13',\n        polygon: 'M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2',\n        lineX: 'M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4',\n        lineY: 'M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4',\n        keep: 'M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z',\n        clear: 'M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2' // jshint ignore:line\n        /* eslint-enable */\n      },\n      // `rect`, `polygon`, `lineX`, `lineY`, `keep`, `clear`\n      title: ecModel.getLocaleModel().get(['toolbox', 'brush', 'title'])\n    };\n    return defaultOption;\n  };\n  return BrushFeature;\n}(ToolboxFeature);\nexport default BrushFeature;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport brushPreprocessor from './preprocessor.js';\nimport BrushView from './BrushView.js';\nimport BrushModel from './BrushModel.js';\nimport brushVisual from './visualEncoding.js';\n// TODO\nimport BrushFeature from '../toolbox/feature/Brush.js';\nimport { registerFeature } from '../toolbox/featureManager.js';\nimport { noop } from 'zrender/lib/core/util.js';\nexport function install(registers) {\n  registers.registerComponentView(BrushView);\n  registers.registerComponentModel(BrushModel);\n  registers.registerPreprocessor(brushPreprocessor);\n  registers.registerVisual(registers.PRIORITY.VISUAL.BRUSH, brushVisual);\n  registers.registerAction({\n    type: 'brush',\n    event: 'brush',\n    update: 'updateVisual'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'brush',\n      query: payload\n    }, function (brushModel) {\n      brushModel.setAreas(payload.areas);\n    });\n  });\n  /**\n   * payload: {\n   *      brushComponents: [\n   *          {\n   *              brushId,\n   *              brushIndex,\n   *              brushName,\n   *              series: [\n   *                  {\n   *                      seriesId,\n   *                      seriesIndex,\n   *                      seriesName,\n   *                      rawIndices: [21, 34, ...]\n   *                  },\n   *                  ...\n   *              ]\n   *          },\n   *          ...\n   *      ]\n   * }\n   */\n  registers.registerAction({\n    type: 'brushSelect',\n    event: 'brushSelected',\n    update: 'none'\n  }, noop);\n  registers.registerAction({\n    type: 'brushEnd',\n    event: 'brushEnd',\n    update: 'none'\n  }, noop);\n  registerFeature('brush', BrushFeature);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { createBoxLayoutReference, getLayoutRect } from '../../util/layout.js';\nimport ComponentModel from '../../model/Component.js';\nimport ComponentView from '../../view/Component.js';\nimport { windowOpen } from '../../util/format.js';\nimport tokens from '../../visual/tokens.js';\nvar TitleModel = /** @class */function (_super) {\n  __extends(TitleModel, _super);\n  function TitleModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TitleModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      ignoreSize: true\n    };\n    return _this;\n  }\n  TitleModel.type = 'title';\n  TitleModel.defaultOption = {\n    // zlevel: 0,\n    z: 6,\n    show: true,\n    text: '',\n    target: 'blank',\n    subtext: '',\n    subtarget: 'blank',\n    left: 'center',\n    top: tokens.size.m,\n    backgroundColor: tokens.color.transparent,\n    borderColor: tokens.color.primary,\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    textStyle: {\n      fontSize: 18,\n      fontWeight: 'bold',\n      color: tokens.color.primary\n    },\n    subtextStyle: {\n      fontSize: 12,\n      color: tokens.color.quaternary\n    }\n  };\n  return TitleModel;\n}(ComponentModel);\n// View\nvar TitleView = /** @class */function (_super) {\n  __extends(TitleView, _super);\n  function TitleView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TitleView.type;\n    return _this;\n  }\n  TitleView.prototype.render = function (titleModel, ecModel, api) {\n    this.group.removeAll();\n    if (!titleModel.get('show')) {\n      return;\n    }\n    var group = this.group;\n    var textStyleModel = titleModel.getModel('textStyle');\n    var subtextStyleModel = titleModel.getModel('subtextStyle');\n    var textAlign = titleModel.get('textAlign');\n    var textVerticalAlign = zrUtil.retrieve2(titleModel.get('textBaseline'), titleModel.get('textVerticalAlign'));\n    var textEl = new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: titleModel.get('text'),\n        fill: textStyleModel.getTextColor()\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var textRect = textEl.getBoundingRect();\n    var subText = titleModel.get('subtext');\n    var subTextEl = new graphic.Text({\n      style: createTextStyle(subtextStyleModel, {\n        text: subText,\n        fill: subtextStyleModel.getTextColor(),\n        y: textRect.height + titleModel.get('itemGap'),\n        verticalAlign: 'top'\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var link = titleModel.get('link');\n    var sublink = titleModel.get('sublink');\n    var triggerEvent = titleModel.get('triggerEvent', true);\n    textEl.silent = !link && !triggerEvent;\n    subTextEl.silent = !sublink && !triggerEvent;\n    if (link) {\n      textEl.on('click', function () {\n        windowOpen(link, '_' + titleModel.get('target'));\n      });\n    }\n    if (sublink) {\n      subTextEl.on('click', function () {\n        windowOpen(sublink, '_' + titleModel.get('subtarget'));\n      });\n    }\n    getECData(textEl).eventData = getECData(subTextEl).eventData = triggerEvent ? {\n      componentType: 'title',\n      componentIndex: titleModel.componentIndex\n    } : null;\n    group.add(textEl);\n    subText && group.add(subTextEl);\n    // If no subText, but add subTextEl, there will be an empty line.\n    var groupRect = group.getBoundingRect();\n    var layoutOption = titleModel.getBoxLayoutParams();\n    layoutOption.width = groupRect.width;\n    layoutOption.height = groupRect.height;\n    var layoutRef = createBoxLayoutReference(titleModel, api);\n    var layoutRect = getLayoutRect(layoutOption, layoutRef.refContainer, titleModel.get('padding'));\n    // Adjust text align based on position\n    if (!textAlign) {\n      // Align left if title is on the left. center and right is same\n      textAlign = titleModel.get('left') || titleModel.get('right');\n      // @ts-ignore\n      if (textAlign === 'middle') {\n        textAlign = 'center';\n      }\n      // Adjust layout by text align\n      if (textAlign === 'right') {\n        layoutRect.x += layoutRect.width;\n      } else if (textAlign === 'center') {\n        layoutRect.x += layoutRect.width / 2;\n      }\n    }\n    if (!textVerticalAlign) {\n      textVerticalAlign = titleModel.get('top') || titleModel.get('bottom');\n      // @ts-ignore\n      if (textVerticalAlign === 'center') {\n        textVerticalAlign = 'middle';\n      }\n      if (textVerticalAlign === 'bottom') {\n        layoutRect.y += layoutRect.height;\n      } else if (textVerticalAlign === 'middle') {\n        layoutRect.y += layoutRect.height / 2;\n      }\n      textVerticalAlign = textVerticalAlign || 'top';\n    }\n    group.x = layoutRect.x;\n    group.y = layoutRect.y;\n    group.markRedraw();\n    var alignStyle = {\n      align: textAlign,\n      verticalAlign: textVerticalAlign\n    };\n    textEl.setStyle(alignStyle);\n    subTextEl.setStyle(alignStyle);\n    // Render background\n    // Get groupRect again because textAlign has been changed\n    groupRect = group.getBoundingRect();\n    var padding = layoutRect.margin;\n    var style = titleModel.getItemStyle(['color', 'opacity']);\n    style.fill = titleModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: groupRect.x - padding[3],\n        y: groupRect.y - padding[0],\n        width: groupRect.width + padding[1] + padding[3],\n        height: groupRect.height + padding[0] + padding[2],\n        r: titleModel.get('borderRadius')\n      },\n      style: style,\n      subPixelOptimize: true,\n      silent: true\n    });\n    group.add(rect);\n  };\n  TitleView.type = 'title';\n  return TitleView;\n}(ComponentView);\nexport function install(registers) {\n  registers.registerComponentModel(TitleModel);\n  registers.registerComponentView(TitleView);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport { each, isObject, clone } from 'zrender/lib/core/util.js';\nimport { convertOptionIdName, getDataItemValue } from '../../util/model.js';\nimport tokens from '../../visual/tokens.js';\nvar TimelineModel = /** @class */function (_super) {\n  __extends(TimelineModel, _super);\n  function TimelineModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TimelineModel.type;\n    _this.layoutMode = 'box';\n    return _this;\n  }\n  /**\n   * @override\n   */\n  TimelineModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    this._initData();\n  };\n  /**\n   * @override\n   */\n  TimelineModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n    this._initData();\n  };\n  TimelineModel.prototype.setCurrentIndex = function (currentIndex) {\n    if (currentIndex == null) {\n      currentIndex = this.option.currentIndex;\n    }\n    var count = this._data.count();\n    if (this.option.loop) {\n      currentIndex = (currentIndex % count + count) % count;\n    } else {\n      currentIndex >= count && (currentIndex = count - 1);\n      currentIndex < 0 && (currentIndex = 0);\n    }\n    this.option.currentIndex = currentIndex;\n  };\n  /**\n   * @return {number} currentIndex\n   */\n  TimelineModel.prototype.getCurrentIndex = function () {\n    return this.option.currentIndex;\n  };\n  /**\n   * @return {boolean}\n   */\n  TimelineModel.prototype.isIndexMax = function () {\n    return this.getCurrentIndex() >= this._data.count() - 1;\n  };\n  /**\n   * @param {boolean} state true: play, false: stop\n   */\n  TimelineModel.prototype.setPlayState = function (state) {\n    this.option.autoPlay = !!state;\n  };\n  /**\n   * @return {boolean} true: play, false: stop\n   */\n  TimelineModel.prototype.getPlayState = function () {\n    return !!this.option.autoPlay;\n  };\n  /**\n   * @private\n   */\n  TimelineModel.prototype._initData = function () {\n    var thisOption = this.option;\n    var dataArr = thisOption.data || [];\n    var axisType = thisOption.axisType;\n    var names = this._names = [];\n    var processedDataArr;\n    if (axisType === 'category') {\n      processedDataArr = [];\n      each(dataArr, function (item, index) {\n        var value = convertOptionIdName(getDataItemValue(item), '');\n        var newItem;\n        if (isObject(item)) {\n          newItem = clone(item);\n          newItem.value = index;\n        } else {\n          newItem = index;\n        }\n        processedDataArr.push(newItem);\n        names.push(value);\n      });\n    } else {\n      processedDataArr = dataArr;\n    }\n    var dimType = {\n      category: 'ordinal',\n      time: 'time',\n      value: 'number'\n    }[axisType] || 'number';\n    var data = this._data = new SeriesData([{\n      name: 'value',\n      type: dimType\n    }], this);\n    data.initData(processedDataArr, names);\n  };\n  TimelineModel.prototype.getData = function () {\n    return this._data;\n  };\n  /**\n   * @public\n   * @return {Array.<string>} categoreis\n   */\n  TimelineModel.prototype.getCategories = function () {\n    if (this.get('axisType') === 'category') {\n      return this._names.slice();\n    }\n  };\n  TimelineModel.type = 'timeline';\n  /**\n   * @protected\n   */\n  TimelineModel.defaultOption = {\n    // zlevel: 0,                  // \n    z: 4,\n    show: true,\n    axisType: 'time',\n    realtime: true,\n    left: '20%',\n    top: null,\n    right: '20%',\n    bottom: 0,\n    width: null,\n    height: 40,\n    padding: tokens.size.m,\n    controlPosition: 'left',\n    autoPlay: false,\n    rewind: false,\n    loop: true,\n    playInterval: 2000,\n    currentIndex: 0,\n    itemStyle: {},\n    label: {\n      color: tokens.color.secondary\n    },\n    data: []\n  };\n  return TimelineModel;\n}(ComponentModel);\nexport default TimelineModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport TimelineModel from './TimelineModel.js';\nimport { DataFormatMixin } from '../../model/mixin/dataFormat.js';\nimport { mixin } from 'zrender/lib/core/util.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nimport tokens from '../../visual/tokens.js';\nvar SliderTimelineModel = /** @class */function (_super) {\n  __extends(SliderTimelineModel, _super);\n  function SliderTimelineModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderTimelineModel.type;\n    return _this;\n  }\n  SliderTimelineModel.type = 'timeline.slider';\n  /**\n   * @protected\n   */\n  SliderTimelineModel.defaultOption = inheritDefaultOption(TimelineModel.defaultOption, {\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: tokens.color.border,\n    borderWidth: 0,\n    orient: 'horizontal',\n    inverse: false,\n    tooltip: {\n      trigger: 'item' // data item may also have tootip attr.\n    },\n    symbol: 'circle',\n    symbolSize: 12,\n    lineStyle: {\n      show: true,\n      width: 2,\n      color: tokens.color.accent10\n    },\n    label: {\n      position: 'auto',\n      // When using number, label position is not\n      // restricted by viewRect.\n      // positive: right/bottom, negative: left/top\n      show: true,\n      interval: 'auto',\n      rotate: 0,\n      // formatter: null,\n      // TEXTSTYLE\n      color: tokens.color.tertiary\n    },\n    itemStyle: {\n      color: tokens.color.accent20,\n      borderWidth: 0\n    },\n    checkpointStyle: {\n      symbol: 'circle',\n      symbolSize: 15,\n      color: tokens.color.accent50,\n      borderColor: tokens.color.accent50,\n      borderWidth: 0,\n      shadowBlur: 0,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      shadowColor: 'rgba(0, 0, 0, 0)',\n      // borderColor: 'rgba(194,53,49, 0.5)',\n      animation: true,\n      animationDuration: 300,\n      animationEasing: 'quinticInOut'\n    },\n    controlStyle: {\n      show: true,\n      showPlayBtn: true,\n      showPrevBtn: true,\n      showNextBtn: true,\n      itemSize: 24,\n      itemGap: 12,\n      position: 'left',\n      playIcon: 'path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z',\n      stopIcon: 'path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z',\n      // eslint-disable-next-line max-len\n      nextIcon: 'path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z',\n      // eslint-disable-next-line max-len\n      prevIcon: 'path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z',\n      prevBtnSize: 18,\n      nextBtnSize: 18,\n      color: tokens.color.accent50,\n      borderColor: tokens.color.accent50,\n      borderWidth: 0\n    },\n    emphasis: {\n      label: {\n        show: true,\n        // TEXTSTYLE\n        color: tokens.color.accent60\n      },\n      itemStyle: {\n        color: tokens.color.accent60,\n        borderColor: tokens.color.accent60\n      },\n      controlStyle: {\n        color: tokens.color.accent70,\n        borderColor: tokens.color.accent70\n      }\n    },\n    progress: {\n      lineStyle: {\n        color: tokens.color.accent30\n      },\n      itemStyle: {\n        color: tokens.color.accent40\n      }\n    },\n    data: []\n  });\n  return SliderTimelineModel;\n}(TimelineModel);\nmixin(SliderTimelineModel, DataFormatMixin.prototype);\nexport default SliderTimelineModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nvar TimelineView = /** @class */function (_super) {\n  __extends(TimelineView, _super);\n  function TimelineView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TimelineView.type;\n    return _this;\n  }\n  TimelineView.type = 'timeline';\n  return TimelineView;\n}(ComponentView);\nexport default TimelineView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../../coord/Axis.js';\n/**\n * Extend axis 2d\n */\nvar TimelineAxis = /** @class */function (_super) {\n  __extends(TimelineAxis, _super);\n  function TimelineAxis(dim, scale, coordExtent, axisType) {\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\n    _this.type = axisType || 'value';\n    return _this;\n  }\n  /**\n   * @override\n   */\n  TimelineAxis.prototype.getLabelModel = function () {\n    // Force override\n    return this.model.getModel('label');\n  };\n  /**\n   * @override\n   */\n  TimelineAxis.prototype.isHorizontal = function () {\n    return this.model.get('orient') === 'horizontal';\n  };\n  return TimelineAxis;\n}(Axis);\nexport default TimelineAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport * as layout from '../../util/layout.js';\nimport TimelineView from './TimelineView.js';\nimport TimelineAxis from './TimelineAxis.js';\nimport { createSymbol, normalizeSymbolOffset, normalizeSymbolSize } from '../../util/symbol.js';\nimport * as numberUtil from '../../util/number.js';\nimport { merge, each, extend, isString, bind, defaults, retrieve2 } from 'zrender/lib/core/util.js';\nimport OrdinalScale from '../../scale/Ordinal.js';\nimport TimeScale from '../../scale/Time.js';\nimport IntervalScale from '../../scale/Interval.js';\nimport { parsePercent } from 'zrender/lib/contain/text.js';\nimport { makeInner } from '../../util/model.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { createTooltipMarkup } from '../tooltip/tooltipMarkup.js';\nvar PI = Math.PI;\nvar labelDataIndexStore = makeInner();\nvar SliderTimelineView = /** @class */function (_super) {\n  __extends(SliderTimelineView, _super);\n  function SliderTimelineView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderTimelineView.type;\n    return _this;\n  }\n  SliderTimelineView.prototype.init = function (ecModel, api) {\n    this.api = api;\n  };\n  /**\n   * @override\n   */\n  SliderTimelineView.prototype.render = function (timelineModel, ecModel, api) {\n    this.model = timelineModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    this.group.removeAll();\n    if (timelineModel.get('show', true)) {\n      var layoutInfo_1 = this._layout(timelineModel, api);\n      var mainGroup_1 = this._createGroup('_mainGroup');\n      var labelGroup = this._createGroup('_labelGroup');\n      var axis_1 = this._axis = this._createAxis(layoutInfo_1, timelineModel);\n      timelineModel.formatTooltip = function (dataIndex) {\n        var name = axis_1.scale.getLabel({\n          value: dataIndex\n        });\n        return createTooltipMarkup('nameValue', {\n          noName: true,\n          value: name\n        });\n      };\n      each(['AxisLine', 'AxisTick', 'Control', 'CurrentPointer'], function (name) {\n        this['_render' + name](layoutInfo_1, mainGroup_1, axis_1, timelineModel);\n      }, this);\n      this._renderAxisLabel(layoutInfo_1, labelGroup, axis_1, timelineModel);\n      this._position(layoutInfo_1, timelineModel);\n    }\n    this._doPlayStop();\n    this._updateTicksStatus();\n  };\n  /**\n   * @override\n   */\n  SliderTimelineView.prototype.remove = function () {\n    this._clearTimer();\n    this.group.removeAll();\n  };\n  /**\n   * @override\n   */\n  SliderTimelineView.prototype.dispose = function () {\n    this._clearTimer();\n  };\n  SliderTimelineView.prototype._layout = function (timelineModel, api) {\n    var labelPosOpt = timelineModel.get(['label', 'position']);\n    var orient = timelineModel.get('orient');\n    var viewRect = getViewRect(timelineModel, api);\n    var parsedLabelPos;\n    // Auto label offset.\n    if (labelPosOpt == null || labelPosOpt === 'auto') {\n      parsedLabelPos = orient === 'horizontal' ? viewRect.y + viewRect.height / 2 < api.getHeight() / 2 ? '-' : '+' : viewRect.x + viewRect.width / 2 < api.getWidth() / 2 ? '+' : '-';\n    } else if (isString(labelPosOpt)) {\n      parsedLabelPos = {\n        horizontal: {\n          top: '-',\n          bottom: '+'\n        },\n        vertical: {\n          left: '-',\n          right: '+'\n        }\n      }[orient][labelPosOpt];\n    } else {\n      // is number\n      parsedLabelPos = labelPosOpt;\n    }\n    var labelAlignMap = {\n      horizontal: 'center',\n      vertical: parsedLabelPos >= 0 || parsedLabelPos === '+' ? 'left' : 'right'\n    };\n    var labelBaselineMap = {\n      horizontal: parsedLabelPos >= 0 || parsedLabelPos === '+' ? 'top' : 'bottom',\n      vertical: 'middle'\n    };\n    var rotationMap = {\n      horizontal: 0,\n      vertical: PI / 2\n    };\n    // Position\n    var mainLength = orient === 'vertical' ? viewRect.height : viewRect.width;\n    var controlModel = timelineModel.getModel('controlStyle');\n    var showControl = controlModel.get('show', true);\n    var controlSize = showControl ? controlModel.get('itemSize') : 0;\n    var controlGap = showControl ? controlModel.get('itemGap') : 0;\n    var sizePlusGap = controlSize + controlGap;\n    // Special label rotate.\n    var labelRotation = timelineModel.get(['label', 'rotate']) || 0;\n    labelRotation = labelRotation * PI / 180; // To radian.\n    var playPosition;\n    var prevBtnPosition;\n    var nextBtnPosition;\n    var controlPosition = controlModel.get('position', true);\n    var showPlayBtn = showControl && controlModel.get('showPlayBtn', true);\n    var showPrevBtn = showControl && controlModel.get('showPrevBtn', true);\n    var showNextBtn = showControl && controlModel.get('showNextBtn', true);\n    var xLeft = 0;\n    var xRight = mainLength;\n    // position[0] means left, position[1] means middle.\n    if (controlPosition === 'left' || controlPosition === 'bottom') {\n      showPlayBtn && (playPosition = [0, 0], xLeft += sizePlusGap);\n      showPrevBtn && (prevBtnPosition = [xLeft, 0], xLeft += sizePlusGap);\n      showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n    } else {\n      // 'top' 'right'\n      showPlayBtn && (playPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n      showPrevBtn && (prevBtnPosition = [0, 0], xLeft += sizePlusGap);\n      showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n    }\n    var axisExtent = [xLeft, xRight];\n    if (timelineModel.get('inverse')) {\n      axisExtent.reverse();\n    }\n    return {\n      viewRect: viewRect,\n      mainLength: mainLength,\n      orient: orient,\n      rotation: rotationMap[orient],\n      labelRotation: labelRotation,\n      labelPosOpt: parsedLabelPos,\n      labelAlign: timelineModel.get(['label', 'align']) || labelAlignMap[orient],\n      labelBaseline: timelineModel.get(['label', 'verticalAlign']) || timelineModel.get(['label', 'baseline']) || labelBaselineMap[orient],\n      // Based on mainGroup.\n      playPosition: playPosition,\n      prevBtnPosition: prevBtnPosition,\n      nextBtnPosition: nextBtnPosition,\n      axisExtent: axisExtent,\n      controlSize: controlSize,\n      controlGap: controlGap\n    };\n  };\n  SliderTimelineView.prototype._position = function (layoutInfo, timelineModel) {\n    // Position is be called finally, because bounding rect is needed for\n    // adapt content to fill viewRect (auto adapt offset).\n    // Timeline may be not all in the viewRect when 'offset' is specified\n    // as a number, because it is more appropriate that label aligns at\n    // 'offset' but not the other edge defined by viewRect.\n    var mainGroup = this._mainGroup;\n    var labelGroup = this._labelGroup;\n    var viewRect = layoutInfo.viewRect;\n    if (layoutInfo.orient === 'vertical') {\n      // transform to horizontal, inverse rotate by left-top point.\n      var m = matrix.create();\n      var rotateOriginX = viewRect.x;\n      var rotateOriginY = viewRect.y + viewRect.height;\n      matrix.translate(m, m, [-rotateOriginX, -rotateOriginY]);\n      matrix.rotate(m, m, -PI / 2);\n      matrix.translate(m, m, [rotateOriginX, rotateOriginY]);\n      viewRect = viewRect.clone();\n      viewRect.applyTransform(m);\n    }\n    var viewBound = getBound(viewRect);\n    var mainBound = getBound(mainGroup.getBoundingRect());\n    var labelBound = getBound(labelGroup.getBoundingRect());\n    var mainPosition = [mainGroup.x, mainGroup.y];\n    var labelsPosition = [labelGroup.x, labelGroup.y];\n    labelsPosition[0] = mainPosition[0] = viewBound[0][0];\n    var labelPosOpt = layoutInfo.labelPosOpt;\n    if (labelPosOpt == null || isString(labelPosOpt)) {\n      // '+' or '-'\n      var mainBoundIdx = labelPosOpt === '+' ? 0 : 1;\n      toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n      toBound(labelsPosition, labelBound, viewBound, 1, 1 - mainBoundIdx);\n    } else {\n      var mainBoundIdx = labelPosOpt >= 0 ? 0 : 1;\n      toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n      labelsPosition[1] = mainPosition[1] + labelPosOpt;\n    }\n    mainGroup.setPosition(mainPosition);\n    labelGroup.setPosition(labelsPosition);\n    mainGroup.rotation = labelGroup.rotation = layoutInfo.rotation;\n    setOrigin(mainGroup);\n    setOrigin(labelGroup);\n    function setOrigin(targetGroup) {\n      targetGroup.originX = viewBound[0][0] - targetGroup.x;\n      targetGroup.originY = viewBound[1][0] - targetGroup.y;\n    }\n    function getBound(rect) {\n      // [[xmin, xmax], [ymin, ymax]]\n      return [[rect.x, rect.x + rect.width], [rect.y, rect.y + rect.height]];\n    }\n    function toBound(fromPos, from, to, dimIdx, boundIdx) {\n      fromPos[dimIdx] += to[dimIdx][boundIdx] - from[dimIdx][boundIdx];\n    }\n  };\n  SliderTimelineView.prototype._createAxis = function (layoutInfo, timelineModel) {\n    var data = timelineModel.getData();\n    var axisType = timelineModel.get('axisType');\n    var scale = createScaleByModel(timelineModel, axisType);\n    // Customize scale. The `tickValue` is `dataIndex`.\n    scale.getTicks = function () {\n      return data.mapArray(['value'], function (value) {\n        return {\n          value: value\n        };\n      });\n    };\n    var dataExtent = data.getDataExtent('value');\n    scale.setExtent(dataExtent[0], dataExtent[1]);\n    scale.calcNiceTicks();\n    var axis = new TimelineAxis('value', scale, layoutInfo.axisExtent, axisType);\n    axis.model = timelineModel;\n    return axis;\n  };\n  SliderTimelineView.prototype._createGroup = function (key) {\n    var newGroup = this[key] = new graphic.Group();\n    this.group.add(newGroup);\n    return newGroup;\n  };\n  SliderTimelineView.prototype._renderAxisLine = function (layoutInfo, group, axis, timelineModel) {\n    var axisExtent = axis.getExtent();\n    if (!timelineModel.get(['lineStyle', 'show'])) {\n      return;\n    }\n    var line = new graphic.Line({\n      shape: {\n        x1: axisExtent[0],\n        y1: 0,\n        x2: axisExtent[1],\n        y2: 0\n      },\n      style: extend({\n        lineCap: 'round'\n      }, timelineModel.getModel('lineStyle').getLineStyle()),\n      silent: true,\n      z2: 1\n    });\n    group.add(line);\n    var progressLine = this._progressLine = new graphic.Line({\n      shape: {\n        x1: axisExtent[0],\n        x2: this._currentPointer ? this._currentPointer.x : axisExtent[0],\n        y1: 0,\n        y2: 0\n      },\n      style: defaults({\n        lineCap: 'round',\n        lineWidth: line.style.lineWidth\n      }, timelineModel.getModel(['progress', 'lineStyle']).getLineStyle()),\n      silent: true,\n      z2: 1\n    });\n    group.add(progressLine);\n  };\n  SliderTimelineView.prototype._renderAxisTick = function (layoutInfo, group, axis, timelineModel) {\n    var _this = this;\n    var data = timelineModel.getData();\n    // Show all ticks, despite ignoring strategy.\n    var ticks = axis.scale.getTicks();\n    this._tickSymbols = [];\n    // The value is dataIndex, see the customized scale.\n    each(ticks, function (tick) {\n      var tickCoord = axis.dataToCoord(tick.value);\n      var itemModel = data.getItemModel(tick.value);\n      var itemStyleModel = itemModel.getModel('itemStyle');\n      var hoverStyleModel = itemModel.getModel(['emphasis', 'itemStyle']);\n      var progressStyleModel = itemModel.getModel(['progress', 'itemStyle']);\n      var symbolOpt = {\n        x: tickCoord,\n        y: 0,\n        onclick: bind(_this._changeTimeline, _this, tick.value)\n      };\n      var el = giveSymbol(itemModel, itemStyleModel, group, symbolOpt);\n      el.ensureState('emphasis').style = hoverStyleModel.getItemStyle();\n      el.ensureState('progress').style = progressStyleModel.getItemStyle();\n      enableHoverEmphasis(el);\n      var ecData = getECData(el);\n      if (itemModel.get('tooltip')) {\n        ecData.dataIndex = tick.value;\n        ecData.dataModel = timelineModel;\n      } else {\n        ecData.dataIndex = ecData.dataModel = null;\n      }\n      _this._tickSymbols.push(el);\n    });\n  };\n  SliderTimelineView.prototype._renderAxisLabel = function (layoutInfo, group, axis, timelineModel) {\n    var _this = this;\n    var labelModel = axis.getLabelModel();\n    if (!labelModel.get('show')) {\n      return;\n    }\n    var data = timelineModel.getData();\n    var labels = axis.getViewLabels();\n    this._tickLabels = [];\n    each(labels, function (labelItem) {\n      // The tickValue is dataIndex, see the customized scale.\n      var dataIndex = labelItem.tickValue;\n      var itemModel = data.getItemModel(dataIndex);\n      var normalLabelModel = itemModel.getModel('label');\n      var hoverLabelModel = itemModel.getModel(['emphasis', 'label']);\n      var progressLabelModel = itemModel.getModel(['progress', 'label']);\n      var tickCoord = axis.dataToCoord(labelItem.tickValue);\n      var textEl = new graphic.Text({\n        x: tickCoord,\n        y: 0,\n        rotation: layoutInfo.labelRotation - layoutInfo.rotation,\n        onclick: bind(_this._changeTimeline, _this, dataIndex),\n        silent: false,\n        style: createTextStyle(normalLabelModel, {\n          text: labelItem.formattedLabel,\n          align: layoutInfo.labelAlign,\n          verticalAlign: layoutInfo.labelBaseline\n        })\n      });\n      textEl.ensureState('emphasis').style = createTextStyle(hoverLabelModel);\n      textEl.ensureState('progress').style = createTextStyle(progressLabelModel);\n      group.add(textEl);\n      enableHoverEmphasis(textEl);\n      labelDataIndexStore(textEl).dataIndex = dataIndex;\n      _this._tickLabels.push(textEl);\n    });\n  };\n  SliderTimelineView.prototype._renderControl = function (layoutInfo, group, axis, timelineModel) {\n    var controlSize = layoutInfo.controlSize;\n    var rotation = layoutInfo.rotation;\n    var itemStyle = timelineModel.getModel('controlStyle').getItemStyle();\n    var hoverStyle = timelineModel.getModel(['emphasis', 'controlStyle']).getItemStyle();\n    var playState = timelineModel.getPlayState();\n    var inverse = timelineModel.get('inverse', true);\n    makeBtn(layoutInfo.nextBtnPosition, 'next', bind(this._changeTimeline, this, inverse ? '-' : '+'));\n    makeBtn(layoutInfo.prevBtnPosition, 'prev', bind(this._changeTimeline, this, inverse ? '+' : '-'));\n    makeBtn(layoutInfo.playPosition, playState ? 'stop' : 'play', bind(this._handlePlayClick, this, !playState), true);\n    function makeBtn(position, iconName, onclick, willRotate) {\n      if (!position) {\n        return;\n      }\n      var iconSize = parsePercent(retrieve2(timelineModel.get(['controlStyle', iconName + 'BtnSize']), controlSize), controlSize);\n      var rect = [0, -iconSize / 2, iconSize, iconSize];\n      var btn = makeControlIcon(timelineModel, iconName + 'Icon', rect, {\n        x: position[0],\n        y: position[1],\n        originX: controlSize / 2,\n        originY: 0,\n        rotation: willRotate ? -rotation : 0,\n        rectHover: true,\n        style: itemStyle,\n        onclick: onclick\n      });\n      btn.ensureState('emphasis').style = hoverStyle;\n      group.add(btn);\n      enableHoverEmphasis(btn);\n    }\n  };\n  SliderTimelineView.prototype._renderCurrentPointer = function (layoutInfo, group, axis, timelineModel) {\n    var data = timelineModel.getData();\n    var currentIndex = timelineModel.getCurrentIndex();\n    var pointerModel = data.getItemModel(currentIndex).getModel('checkpointStyle');\n    var me = this;\n    var callback = {\n      onCreate: function (pointer) {\n        pointer.draggable = true;\n        pointer.drift = bind(me._handlePointerDrag, me);\n        pointer.ondragend = bind(me._handlePointerDragend, me);\n        pointerMoveTo(pointer, me._progressLine, currentIndex, axis, timelineModel, true);\n      },\n      onUpdate: function (pointer) {\n        pointerMoveTo(pointer, me._progressLine, currentIndex, axis, timelineModel);\n      }\n    };\n    // Reuse when exists, for animation and drag.\n    this._currentPointer = giveSymbol(pointerModel, pointerModel, this._mainGroup, {}, this._currentPointer, callback);\n  };\n  SliderTimelineView.prototype._handlePlayClick = function (nextState) {\n    this._clearTimer();\n    this.api.dispatchAction({\n      type: 'timelinePlayChange',\n      playState: nextState,\n      from: this.uid\n    });\n  };\n  SliderTimelineView.prototype._handlePointerDrag = function (dx, dy, e) {\n    this._clearTimer();\n    this._pointerChangeTimeline([e.offsetX, e.offsetY]);\n  };\n  SliderTimelineView.prototype._handlePointerDragend = function (e) {\n    this._pointerChangeTimeline([e.offsetX, e.offsetY], true);\n  };\n  SliderTimelineView.prototype._pointerChangeTimeline = function (mousePos, trigger) {\n    var toCoord = this._toAxisCoord(mousePos)[0];\n    var axis = this._axis;\n    var axisExtent = numberUtil.asc(axis.getExtent().slice());\n    toCoord > axisExtent[1] && (toCoord = axisExtent[1]);\n    toCoord < axisExtent[0] && (toCoord = axisExtent[0]);\n    this._currentPointer.x = toCoord;\n    this._currentPointer.markRedraw();\n    var progressLine = this._progressLine;\n    if (progressLine) {\n      progressLine.shape.x2 = toCoord;\n      progressLine.dirty();\n    }\n    var targetDataIndex = this._findNearestTick(toCoord);\n    var timelineModel = this.model;\n    if (trigger || targetDataIndex !== timelineModel.getCurrentIndex() && timelineModel.get('realtime')) {\n      this._changeTimeline(targetDataIndex);\n    }\n  };\n  SliderTimelineView.prototype._doPlayStop = function () {\n    var _this = this;\n    this._clearTimer();\n    if (this.model.getPlayState()) {\n      this._timer = setTimeout(function () {\n        // Do not cache\n        var timelineModel = _this.model;\n        _this._changeTimeline(timelineModel.getCurrentIndex() + (timelineModel.get('rewind', true) ? -1 : 1));\n      }, this.model.get('playInterval'));\n    }\n  };\n  SliderTimelineView.prototype._toAxisCoord = function (vertex) {\n    var trans = this._mainGroup.getLocalTransform();\n    return graphic.applyTransform(vertex, trans, true);\n  };\n  SliderTimelineView.prototype._findNearestTick = function (axisCoord) {\n    var data = this.model.getData();\n    var dist = Infinity;\n    var targetDataIndex;\n    var axis = this._axis;\n    data.each(['value'], function (value, dataIndex) {\n      var coord = axis.dataToCoord(value);\n      var d = Math.abs(coord - axisCoord);\n      if (d < dist) {\n        dist = d;\n        targetDataIndex = dataIndex;\n      }\n    });\n    return targetDataIndex;\n  };\n  SliderTimelineView.prototype._clearTimer = function () {\n    if (this._timer) {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  };\n  SliderTimelineView.prototype._changeTimeline = function (nextIndex) {\n    var currentIndex = this.model.getCurrentIndex();\n    if (nextIndex === '+') {\n      nextIndex = currentIndex + 1;\n    } else if (nextIndex === '-') {\n      nextIndex = currentIndex - 1;\n    }\n    this.api.dispatchAction({\n      type: 'timelineChange',\n      currentIndex: nextIndex,\n      from: this.uid\n    });\n  };\n  SliderTimelineView.prototype._updateTicksStatus = function () {\n    var currentIndex = this.model.getCurrentIndex();\n    var tickSymbols = this._tickSymbols;\n    var tickLabels = this._tickLabels;\n    if (tickSymbols) {\n      for (var i = 0; i < tickSymbols.length; i++) {\n        tickSymbols && tickSymbols[i] && tickSymbols[i].toggleState('progress', i < currentIndex);\n      }\n    }\n    if (tickLabels) {\n      for (var i = 0; i < tickLabels.length; i++) {\n        tickLabels && tickLabels[i] && tickLabels[i].toggleState('progress', labelDataIndexStore(tickLabels[i]).dataIndex <= currentIndex);\n      }\n    }\n  };\n  SliderTimelineView.type = 'timeline.slider';\n  return SliderTimelineView;\n}(TimelineView);\nfunction createScaleByModel(model, axisType) {\n  axisType = axisType || model.get('type');\n  if (axisType) {\n    switch (axisType) {\n      // Buildin scale\n      case 'category':\n        return new OrdinalScale({\n          ordinalMeta: model.getCategories(),\n          extent: [Infinity, -Infinity]\n        });\n      case 'time':\n        return new TimeScale({\n          locale: model.ecModel.getLocaleModel(),\n          useUTC: model.ecModel.get('useUTC')\n        });\n      default:\n        // default to be value\n        return new IntervalScale();\n    }\n  }\n}\nfunction getViewRect(model, api) {\n  return layout.getLayoutRect(model.getBoxLayoutParams(), layout.createBoxLayoutReference(model, api).refContainer, model.get('padding'));\n}\nfunction makeControlIcon(timelineModel, objPath, rect, opts) {\n  var style = opts.style;\n  var icon = graphic.createIcon(timelineModel.get(['controlStyle', objPath]), opts || {}, new BoundingRect(rect[0], rect[1], rect[2], rect[3]));\n  // TODO createIcon won't use style in opt.\n  if (style) {\n    icon.setStyle(style);\n  }\n  return icon;\n}\n/**\n * Create symbol or update symbol\n * opt: basic position and event handlers\n */\nfunction giveSymbol(hostModel, itemStyleModel, group, opt, symbol, callback) {\n  var color = itemStyleModel.get('color');\n  if (!symbol) {\n    var symbolType = hostModel.get('symbol');\n    symbol = createSymbol(symbolType, -1, -1, 2, 2, color);\n    symbol.setStyle('strokeNoScale', true);\n    group.add(symbol);\n    callback && callback.onCreate(symbol);\n  } else {\n    symbol.setColor(color);\n    group.add(symbol); // Group may be new, also need to add.\n    callback && callback.onUpdate(symbol);\n  }\n  // Style\n  var itemStyle = itemStyleModel.getItemStyle(['color']);\n  symbol.setStyle(itemStyle);\n  // Transform and events.\n  opt = merge({\n    rectHover: true,\n    z2: 100\n  }, opt, true);\n  var symbolSize = normalizeSymbolSize(hostModel.get('symbolSize'));\n  opt.scaleX = symbolSize[0] / 2;\n  opt.scaleY = symbolSize[1] / 2;\n  var symbolOffset = normalizeSymbolOffset(hostModel.get('symbolOffset'), symbolSize);\n  if (symbolOffset) {\n    opt.x = (opt.x || 0) + symbolOffset[0];\n    opt.y = (opt.y || 0) + symbolOffset[1];\n  }\n  var symbolRotate = hostModel.get('symbolRotate');\n  opt.rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  symbol.attr(opt);\n  // FIXME\n  // (1) When symbol.style.strokeNoScale is true and updateTransform is not performed,\n  // getBoundingRect will return wrong result.\n  // (This is supposed to be resolved in zrender, but it is a little difficult to\n  // leverage performance and auto updateTransform)\n  // (2) All of ancesters of symbol do not scale, so we can just updateTransform symbol.\n  symbol.updateTransform();\n  return symbol;\n}\nfunction pointerMoveTo(pointer, progressLine, dataIndex, axis, timelineModel, noAnimation) {\n  if (pointer.dragging) {\n    return;\n  }\n  var pointerModel = timelineModel.getModel('checkpointStyle');\n  var toCoord = axis.dataToCoord(timelineModel.getData().get('value', dataIndex));\n  if (noAnimation || !pointerModel.get('animation', true)) {\n    pointer.attr({\n      x: toCoord,\n      y: 0\n    });\n    progressLine && progressLine.attr({\n      shape: {\n        x2: toCoord\n      }\n    });\n  } else {\n    var animationCfg = {\n      duration: pointerModel.get('animationDuration', true),\n      easing: pointerModel.get('animationEasing', true)\n    };\n    pointer.stopAnimation(null, true);\n    pointer.animateTo({\n      x: toCoord,\n      y: 0\n    }, animationCfg);\n    progressLine && progressLine.animateTo({\n      shape: {\n        x2: toCoord\n      }\n    }, animationCfg);\n  }\n}\nexport default SliderTimelineView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { defaults } from 'zrender/lib/core/util.js';\nexport function installTimelineAction(registers) {\n  registers.registerAction({\n    type: 'timelineChange',\n    event: 'timelineChanged',\n    update: 'prepareAndUpdate'\n  }, function (payload, ecModel, api) {\n    var timelineModel = ecModel.getComponent('timeline');\n    if (timelineModel && payload.currentIndex != null) {\n      timelineModel.setCurrentIndex(payload.currentIndex);\n      if (!timelineModel.get('loop', true) && timelineModel.isIndexMax() && timelineModel.getPlayState()) {\n        timelineModel.setPlayState(false);\n        // The timeline has played to the end, trigger event\n        api.dispatchAction({\n          type: 'timelinePlayChange',\n          playState: false,\n          from: payload.from\n        });\n      }\n    }\n    // Set normalized currentIndex to payload.\n    ecModel.resetOption('timeline', {\n      replaceMerge: timelineModel.get('replaceMerge', true)\n    });\n    return defaults({\n      currentIndex: timelineModel.option.currentIndex\n    }, payload);\n  });\n  registers.registerAction({\n    type: 'timelinePlayChange',\n    event: 'timelinePlayChanged',\n    update: 'update'\n  }, function (payload, ecModel) {\n    var timelineModel = ecModel.getComponent('timeline');\n    if (timelineModel && payload.playState != null) {\n      timelineModel.setPlayState(payload.playState);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function timelinePreprocessor(option) {\n  var timelineOpt = option && option.timeline;\n  if (!zrUtil.isArray(timelineOpt)) {\n    timelineOpt = timelineOpt ? [timelineOpt] : [];\n  }\n  zrUtil.each(timelineOpt, function (opt) {\n    if (!opt) {\n      return;\n    }\n    compatibleEC2(opt);\n  });\n}\nfunction compatibleEC2(opt) {\n  var type = opt.type;\n  var ec2Types = {\n    'number': 'value',\n    'time': 'time'\n  };\n  // Compatible with ec2\n  if (ec2Types[type]) {\n    opt.axisType = ec2Types[type];\n    delete opt.type;\n  }\n  transferItem(opt);\n  if (has(opt, 'controlPosition')) {\n    var controlStyle = opt.controlStyle || (opt.controlStyle = {});\n    if (!has(controlStyle, 'position')) {\n      controlStyle.position = opt.controlPosition;\n    }\n    if (controlStyle.position === 'none' && !has(controlStyle, 'show')) {\n      controlStyle.show = false;\n      delete controlStyle.position;\n    }\n    delete opt.controlPosition;\n  }\n  zrUtil.each(opt.data || [], function (dataItem) {\n    if (zrUtil.isObject(dataItem) && !zrUtil.isArray(dataItem)) {\n      if (!has(dataItem, 'value') && has(dataItem, 'name')) {\n        // In ec2, using name as value.\n        dataItem.value = dataItem.name;\n      }\n      transferItem(dataItem);\n    }\n  });\n}\nfunction transferItem(opt) {\n  var itemStyle = opt.itemStyle || (opt.itemStyle = {});\n  var itemStyleEmphasis = itemStyle.emphasis || (itemStyle.emphasis = {});\n  // Transfer label out\n  var label = opt.label || opt.label || {};\n  var labelNormal = label.normal || (label.normal = {});\n  var excludeLabelAttr = {\n    normal: 1,\n    emphasis: 1\n  };\n  zrUtil.each(label, function (value, name) {\n    if (!excludeLabelAttr[name] && !has(labelNormal, name)) {\n      labelNormal[name] = value;\n    }\n  });\n  if (itemStyleEmphasis.label && !has(label, 'emphasis')) {\n    label.emphasis = itemStyleEmphasis.label;\n    delete itemStyleEmphasis.label;\n  }\n}\nfunction has(obj, attr) {\n  return obj.hasOwnProperty(attr);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport SliderTimelineModel from './SliderTimelineModel.js';\nimport SliderTimelineView from './SliderTimelineView.js';\nimport { installTimelineAction } from './timelineAction.js';\nimport preprocessor from './preprocessor.js';\nexport function install(registers) {\n  registers.registerComponentModel(SliderTimelineModel);\n  registers.registerComponentView(SliderTimelineView);\n  registers.registerSubTypeDefaulter('timeline', function () {\n    // Only slider now.\n    return 'slider';\n  });\n  installTimelineAction(registers);\n  registers.registerPreprocessor(preprocessor);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util.js';\nexport default function checkMarkerInSeries(seriesOpts, markerType) {\n  if (!seriesOpts) {\n    return false;\n  }\n  var seriesOptArr = isArray(seriesOpts) ? seriesOpts : [seriesOpts];\n  for (var idx = 0; idx < seriesOptArr.length; idx++) {\n    if (seriesOptArr[idx] && seriesOptArr[idx][markerType]) {\n      return true;\n    }\n  }\n  return false;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport { DataFormatMixin } from '../../model/mixin/dataFormat.js';\nimport ComponentModel from '../../model/Component.js';\nimport { makeInner, defaultEmphasis } from '../../util/model.js';\nimport { createTooltipMarkup } from '../tooltip/tooltipMarkup.js';\nfunction fillLabel(opt) {\n  defaultEmphasis(opt, 'label', ['show']);\n}\n// { [componentType]: MarkerModel }\nvar inner = makeInner();\nvar MarkerModel = /** @class */function (_super) {\n  __extends(MarkerModel, _super);\n  function MarkerModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkerModel.type;\n    /**\n     * If marker model is created by self from series\n     */\n    _this.createdBySelf = false;\n    _this.preventAutoZ = true;\n    return _this;\n  }\n  /**\n   * @overrite\n   */\n  MarkerModel.prototype.init = function (option, parentModel, ecModel) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.type === 'marker') {\n        throw new Error('Marker component is abstract component. Use markLine, markPoint, markArea instead.');\n      }\n    }\n    this.mergeDefaultAndTheme(option, ecModel);\n    this._mergeOption(option, ecModel, false, true);\n  };\n  MarkerModel.prototype.isAnimationEnabled = function () {\n    if (env.node) {\n      return false;\n    }\n    var hostSeries = this.__hostSeries;\n    return this.getShallow('animation') && hostSeries && hostSeries.isAnimationEnabled();\n  };\n  /**\n   * @overrite\n   */\n  MarkerModel.prototype.mergeOption = function (newOpt, ecModel) {\n    this._mergeOption(newOpt, ecModel, false, false);\n  };\n  MarkerModel.prototype._mergeOption = function (newOpt, ecModel, createdBySelf, isInit) {\n    var componentType = this.mainType;\n    if (!createdBySelf) {\n      ecModel.eachSeries(function (seriesModel) {\n        // mainType can be markPoint, markLine, markArea\n        var markerOpt = seriesModel.get(this.mainType, true);\n        var markerModel = inner(seriesModel)[componentType];\n        if (!markerOpt || !markerOpt.data) {\n          inner(seriesModel)[componentType] = null;\n          return;\n        }\n        if (!markerModel) {\n          if (isInit) {\n            // Default label emphasis `position` and `show`\n            fillLabel(markerOpt);\n          }\n          zrUtil.each(markerOpt.data, function (item) {\n            // FIXME Overwrite fillLabel method ?\n            if (item instanceof Array) {\n              fillLabel(item[0]);\n              fillLabel(item[1]);\n            } else {\n              fillLabel(item);\n            }\n          });\n          markerModel = this.createMarkerModelFromSeries(markerOpt, this, ecModel);\n          // markerModel = new ImplementedMarkerModel(\n          //     markerOpt, this, ecModel\n          // );\n          zrUtil.extend(markerModel, {\n            mainType: this.mainType,\n            // Use the same series index and name\n            seriesIndex: seriesModel.seriesIndex,\n            name: seriesModel.name,\n            createdBySelf: true\n          });\n          markerModel.__hostSeries = seriesModel;\n        } else {\n          markerModel._mergeOption(markerOpt, ecModel, true);\n        }\n        inner(seriesModel)[componentType] = markerModel;\n      }, this);\n    }\n  };\n  MarkerModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var itemName = data.getName(dataIndex);\n    return createTooltipMarkup('section', {\n      header: this.name,\n      blocks: [createTooltipMarkup('nameValue', {\n        name: itemName,\n        value: value,\n        noName: !itemName,\n        noValue: value == null\n      })]\n    });\n  };\n  MarkerModel.prototype.getData = function () {\n    return this._data;\n  };\n  MarkerModel.prototype.setData = function (data) {\n    this._data = data;\n  };\n  MarkerModel.prototype.getDataParams = function (dataIndex, dataType) {\n    var params = DataFormatMixin.prototype.getDataParams.call(this, dataIndex, dataType);\n    var hostSeries = this.__hostSeries;\n    if (hostSeries) {\n      params.seriesId = hostSeries.id;\n      params.seriesName = hostSeries.name;\n      params.seriesType = hostSeries.subType;\n    }\n    return params;\n  };\n  MarkerModel.getMarkerModelFromSeries = function (seriesModel,\n  // Support three types of markers. Strict check.\n  componentType) {\n    return inner(seriesModel)[componentType];\n  };\n  MarkerModel.type = 'marker';\n  MarkerModel.dependencies = ['series', 'grid', 'polar', 'geo'];\n  return MarkerModel;\n}(ComponentModel);\nzrUtil.mixin(MarkerModel, DataFormatMixin.prototype);\nexport default MarkerModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MarkerModel from './MarkerModel.js';\nvar MarkPointModel = /** @class */function (_super) {\n  __extends(MarkPointModel, _super);\n  function MarkPointModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkPointModel.type;\n    return _this;\n  }\n  MarkPointModel.prototype.createMarkerModelFromSeries = function (markerOpt, masterMarkerModel, ecModel) {\n    return new MarkPointModel(markerOpt, masterMarkerModel, ecModel);\n  };\n  MarkPointModel.type = 'markPoint';\n  MarkPointModel.defaultOption = {\n    // zlevel: 0,\n    z: 5,\n    symbol: 'pin',\n    symbolSize: 50,\n    // symbolRotate: 0,\n    // symbolOffset: [0, 0]\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      show: true,\n      position: 'inside'\n    },\n    itemStyle: {\n      borderWidth: 2\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    }\n  };\n  return MarkPointModel;\n}(MarkerModel);\nexport default MarkPointModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as numberUtil from '../../util/number.js';\nimport { isDimensionStacked } from '../../data/helper/dataStackHelper.js';\nimport { indexOf, curry, clone, isArray } from 'zrender/lib/core/util.js';\nimport { parseDataValue } from '../../data/helper/dataValueHelper.js';\nfunction hasXOrY(item) {\n  return !(isNaN(parseFloat(item.x)) && isNaN(parseFloat(item.y)));\n}\nfunction hasXAndY(item) {\n  return !isNaN(parseFloat(item.x)) && !isNaN(parseFloat(item.y));\n}\nfunction markerTypeCalculatorWithExtent(markerType, data, axisDim, otherDataDim, targetDataDim, otherCoordIndex, targetCoordIndex) {\n  var coordArr = [];\n  var stacked = isDimensionStacked(data, targetDataDim /* , otherDataDim */);\n  var calcDataDim = stacked ? data.getCalculationInfo('stackResultDimension') : targetDataDim;\n  var value = numCalculate(data, calcDataDim, markerType);\n  var seriesModel = data.hostModel;\n  var dataIndex = seriesModel.indicesOfNearest(axisDim, calcDataDim, value)[0];\n  coordArr[otherCoordIndex] = data.get(otherDataDim, dataIndex);\n  coordArr[targetCoordIndex] = data.get(calcDataDim, dataIndex);\n  var coordArrValue = data.get(targetDataDim, dataIndex);\n  // Make it simple, do not visit all stacked value to count precision.\n  var precision = numberUtil.getPrecision(data.get(targetDataDim, dataIndex));\n  precision = Math.min(precision, 20);\n  if (precision >= 0) {\n    coordArr[targetCoordIndex] = +coordArr[targetCoordIndex].toFixed(precision);\n  }\n  return [coordArr, coordArrValue];\n}\n// TODO Specified percent\nvar markerTypeCalculator = {\n  min: curry(markerTypeCalculatorWithExtent, 'min'),\n  max: curry(markerTypeCalculatorWithExtent, 'max'),\n  average: curry(markerTypeCalculatorWithExtent, 'average'),\n  median: curry(markerTypeCalculatorWithExtent, 'median')\n};\n/**\n * Transform markPoint data item to format used in List by do the following\n * 1. Calculate statistic like `max`, `min`, `average`\n * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array\n */\nexport function dataTransform(seriesModel, item) {\n  if (!item) {\n    return;\n  }\n  var data = seriesModel.getData();\n  var coordSys = seriesModel.coordinateSystem;\n  var dims = coordSys && coordSys.dimensions;\n  // 1. If not specify the position with pixel directly\n  // 2. If `coord` is not a data array. Which uses `xAxis`,\n  // `yAxis` to specify the coord on each dimension\n  // parseFloat first because item.x and item.y can be percent string like '20%'\n  if (!hasXAndY(item) && !isArray(item.coord) && isArray(dims)) {\n    var axisInfo = getAxisInfo(item, data, coordSys, seriesModel);\n    // Clone the option\n    // Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value\n    item = clone(item);\n    if (item.type && markerTypeCalculator[item.type] && axisInfo.baseAxis && axisInfo.valueAxis) {\n      var otherCoordIndex = indexOf(dims, axisInfo.baseAxis.dim);\n      var targetCoordIndex = indexOf(dims, axisInfo.valueAxis.dim);\n      var coordInfo = markerTypeCalculator[item.type](data, axisInfo.valueAxis.dim, axisInfo.baseDataDim, axisInfo.valueDataDim, otherCoordIndex, targetCoordIndex);\n      item.coord = coordInfo[0];\n      // Force to use the value of calculated value.\n      // let item use the value without stack.\n      item.value = coordInfo[1];\n    } else {\n      // FIXME Only has one of xAxis and yAxis.\n      item.coord = [item.xAxis != null ? item.xAxis : item.radiusAxis, item.yAxis != null ? item.yAxis : item.angleAxis];\n    }\n  }\n  // x y is provided\n  if (item.coord == null || !isArray(dims)) {\n    item.coord = [];\n    var baseAxis = seriesModel.getBaseAxis();\n    if (baseAxis && item.type && markerTypeCalculator[item.type]) {\n      var otherAxis = coordSys.getOtherAxis(baseAxis);\n      if (otherAxis) {\n        item.value = numCalculate(data, data.mapDimension(otherAxis.dim), item.type);\n      }\n    }\n  } else {\n    // Each coord support max, min, average\n    var coord = item.coord;\n    for (var i = 0; i < 2; i++) {\n      if (markerTypeCalculator[coord[i]]) {\n        coord[i] = numCalculate(data, data.mapDimension(dims[i]), coord[i]);\n      }\n    }\n  }\n  return item;\n}\nexport function getAxisInfo(item, data, coordSys, seriesModel) {\n  var ret = {};\n  if (item.valueIndex != null || item.valueDim != null) {\n    ret.valueDataDim = item.valueIndex != null ? data.getDimension(item.valueIndex) : item.valueDim;\n    ret.valueAxis = coordSys.getAxis(dataDimToCoordDim(seriesModel, ret.valueDataDim));\n    ret.baseAxis = coordSys.getOtherAxis(ret.valueAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n  } else {\n    ret.baseAxis = seriesModel.getBaseAxis();\n    ret.valueAxis = coordSys.getOtherAxis(ret.baseAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n    ret.valueDataDim = data.mapDimension(ret.valueAxis.dim);\n  }\n  return ret;\n}\nfunction dataDimToCoordDim(seriesModel, dataDim) {\n  var dimItem = seriesModel.getData().getDimensionInfo(dataDim);\n  return dimItem && dimItem.coordDim;\n}\n/**\n * Filter data which is out of coordinateSystem range\n * [dataFilter description]\n */\nexport function dataFilter(\n// Currently only polar and cartesian has containData.\ncoordSys, item) {\n  // Always return true if there is no coordSys\n  return coordSys && coordSys.containData && item.coord && !hasXOrY(item) ? coordSys.containData(item.coord) : true;\n}\nexport function zoneFilter(\n// Currently only polar and cartesian has containData.\ncoordSys, item1, item2) {\n  // Always return true if there is no coordSys\n  return coordSys && coordSys.containZone && item1.coord && item2.coord && !hasXOrY(item1) && !hasXOrY(item2) ? coordSys.containZone(item1.coord, item2.coord) : true;\n}\nexport function createMarkerDimValueGetter(inCoordSys, dims) {\n  return inCoordSys ? function (item, dimName, dataIndex, dimIndex) {\n    var rawVal = dimIndex < 2\n    // x, y, radius, angle\n    ? item.coord && item.coord[dimIndex] : item.value;\n    return parseDataValue(rawVal, dims[dimIndex]);\n  } : function (item, dimName, dataIndex, dimIndex) {\n    return parseDataValue(item.value, dims[dimIndex]);\n  };\n}\nexport function numCalculate(data, valueDataDim, type) {\n  if (type === 'average') {\n    var sum_1 = 0;\n    var count_1 = 0;\n    data.each(valueDataDim, function (val, idx) {\n      if (!isNaN(val)) {\n        sum_1 += val;\n        count_1++;\n      }\n    });\n    return sum_1 / count_1;\n  } else if (type === 'median') {\n    return data.getMedian(valueDataDim);\n  } else {\n    // max & min\n    return data.getDataExtent(valueDataDim)[type === 'max' ? 1 : 0];\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport MarkerModel from './MarkerModel.js';\nimport { makeInner } from '../../util/model.js';\nimport { enterBlur, leaveBlur } from '../../util/states.js';\nimport { traverseUpdateZ, retrieveZInfo } from '../../util/graphic.js';\nvar inner = makeInner();\nvar MarkerView = /** @class */function (_super) {\n  __extends(MarkerView, _super);\n  function MarkerView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkerView.type;\n    return _this;\n  }\n  MarkerView.prototype.init = function () {\n    this.markerGroupMap = createHashMap();\n  };\n  MarkerView.prototype.render = function (markerModel, ecModel, api) {\n    var _this = this;\n    var markerGroupMap = this.markerGroupMap;\n    markerGroupMap.each(function (item) {\n      inner(item).keep = false;\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      var markerModel = MarkerModel.getMarkerModelFromSeries(seriesModel, _this.type);\n      markerModel && _this.renderSeries(seriesModel, markerModel, ecModel, api);\n    });\n    markerGroupMap.each(function (item) {\n      !inner(item).keep && _this.group.remove(item.group);\n    });\n    updateZ(ecModel, markerGroupMap, this.type);\n  };\n  MarkerView.prototype.markKeep = function (drawGroup) {\n    inner(drawGroup).keep = true;\n  };\n  MarkerView.prototype.toggleBlurSeries = function (seriesModelList, isBlur) {\n    var _this = this;\n    each(seriesModelList, function (seriesModel) {\n      var markerModel = MarkerModel.getMarkerModelFromSeries(seriesModel, _this.type);\n      if (markerModel) {\n        var data = markerModel.getData();\n        data.eachItemGraphicEl(function (el) {\n          if (el) {\n            isBlur ? enterBlur(el) : leaveBlur(el);\n          }\n        });\n      }\n    });\n  };\n  MarkerView.type = 'marker';\n  return MarkerView;\n}(ComponentView);\nfunction updateZ(ecModel, markerGroupMap, type) {\n  ecModel.eachSeries(function (seriesModel) {\n    var markerModel = MarkerModel.getMarkerModelFromSeries(seriesModel, type);\n    var markerDraw = markerGroupMap.get(seriesModel.id);\n    if (markerModel && markerDraw && markerDraw.group) {\n      var _a = retrieveZInfo(markerModel),\n        z = _a.z,\n        zlevel = _a.zlevel;\n      traverseUpdateZ(markerDraw.group, z, zlevel);\n    }\n  });\n}\nexport default MarkerView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../../chart/helper/SymbolDraw.js';\nimport * as numberUtil from '../../util/number.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport * as markerHelper from './markerHelper.js';\nimport MarkerView from './MarkerView.js';\nimport MarkerModel from './MarkerModel.js';\nimport { isFunction, map, filter, curry, extend, retrieve2 } from 'zrender/lib/core/util.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nfunction updateMarkerLayout(mpData, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var apiWidth = api.getWidth();\n  var apiHeight = api.getHeight();\n  var coordRect = coordSys && coordSys.getArea && coordSys.getArea();\n  mpData.each(function (idx) {\n    var itemModel = mpData.getItemModel(idx);\n    var isRelativeToCoordinate = itemModel.get('relativeTo') === 'coordinate';\n    var width = isRelativeToCoordinate ? coordRect ? coordRect.width : 0 : apiWidth;\n    var height = isRelativeToCoordinate ? coordRect ? coordRect.height : 0 : apiHeight;\n    var left = isRelativeToCoordinate && coordRect ? coordRect.x : 0;\n    var top = isRelativeToCoordinate && coordRect ? coordRect.y : 0;\n    var point;\n    var xPx = numberUtil.parsePercent(itemModel.get('x'), width) + left;\n    var yPx = numberUtil.parsePercent(itemModel.get('y'), height) + top;\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    }\n    // Chart like bar may have there own marker positioning logic\n    else if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPosition\n      point = seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions, idx));\n    } else if (coordSys) {\n      var x = mpData.get(coordSys.dimensions[0], idx);\n      var y = mpData.get(coordSys.dimensions[1], idx);\n      point = coordSys.dataToPoint([x, y]);\n    }\n    // Use x, y if has any\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n    mpData.setItemLayout(idx, point);\n  });\n}\nvar MarkPointView = /** @class */function (_super) {\n  __extends(MarkPointView, _super);\n  function MarkPointView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkPointView.type;\n    return _this;\n  }\n  MarkPointView.prototype.updateTransform = function (markPointModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mpModel = MarkerModel.getMarkerModelFromSeries(seriesModel, 'markPoint');\n      if (mpModel) {\n        updateMarkerLayout(mpModel.getData(), seriesModel, api);\n        this.markerGroupMap.get(seriesModel.id).updateLayout();\n      }\n    }, this);\n  };\n  MarkPointView.prototype.renderSeries = function (seriesModel, mpModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var symbolDrawMap = this.markerGroupMap;\n    var symbolDraw = symbolDrawMap.get(seriesId) || symbolDrawMap.set(seriesId, new SymbolDraw());\n    var mpData = createData(coordSys, seriesModel, mpModel);\n    // FIXME\n    mpModel.setData(mpData);\n    updateMarkerLayout(mpModel.getData(), seriesModel, api);\n    mpData.each(function (idx) {\n      var itemModel = mpData.getItemModel(idx);\n      var symbol = itemModel.getShallow('symbol');\n      var symbolSize = itemModel.getShallow('symbolSize');\n      var symbolRotate = itemModel.getShallow('symbolRotate');\n      var symbolOffset = itemModel.getShallow('symbolOffset');\n      var symbolKeepAspect = itemModel.getShallow('symbolKeepAspect');\n      // TODO: refactor needed: single data item should not support callback function\n      if (isFunction(symbol) || isFunction(symbolSize) || isFunction(symbolRotate) || isFunction(symbolOffset)) {\n        var rawIdx = mpModel.getRawValue(idx);\n        var dataParams = mpModel.getDataParams(idx);\n        if (isFunction(symbol)) {\n          symbol = symbol(rawIdx, dataParams);\n        }\n        if (isFunction(symbolSize)) {\n          // FIXME  ECharts 2.x2.x \n          symbolSize = symbolSize(rawIdx, dataParams);\n        }\n        if (isFunction(symbolRotate)) {\n          symbolRotate = symbolRotate(rawIdx, dataParams);\n        }\n        if (isFunction(symbolOffset)) {\n          symbolOffset = symbolOffset(rawIdx, dataParams);\n        }\n      }\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n      var z2 = itemModel.get('z2');\n      var color = getVisualFromData(seriesData, 'color');\n      if (!style.fill) {\n        style.fill = color;\n      }\n      mpData.setItemVisual(idx, {\n        z2: retrieve2(z2, 0),\n        symbol: symbol,\n        symbolSize: symbolSize,\n        symbolRotate: symbolRotate,\n        symbolOffset: symbolOffset,\n        symbolKeepAspect: symbolKeepAspect,\n        style: style\n      });\n    });\n    // TODO Text are wrong\n    symbolDraw.updateData(mpData);\n    this.group.add(symbolDraw.group);\n    // Set host model for tooltip\n    // FIXME\n    mpData.eachItemGraphicEl(function (el) {\n      el.traverse(function (child) {\n        getECData(child).dataModel = mpModel;\n      });\n    });\n    this.markKeep(symbolDraw);\n    symbolDraw.group.silent = mpModel.get('silent') || seriesModel.get('silent');\n  };\n  MarkPointView.type = 'markPoint';\n  return MarkPointView;\n}(MarkerView);\nfunction createData(coordSys, seriesModel, mpModel) {\n  var coordDimsInfos;\n  if (coordSys) {\n    coordDimsInfos = map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {};\n      // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n      return extend(extend({}, info), {\n        name: coordDim,\n        // DON'T use ordinalMeta to parse and collect ordinal.\n        ordinalMeta: null\n      });\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n  var mpData = new SeriesData(coordDimsInfos, mpModel);\n  var dataOpt = map(mpModel.get('data'), curry(markerHelper.dataTransform, seriesModel));\n  if (coordSys) {\n    dataOpt = filter(dataOpt, curry(markerHelper.dataFilter, coordSys));\n  }\n  var dimValueGetter = markerHelper.createMarkerDimValueGetter(!!coordSys, coordDimsInfos);\n  mpData.initData(dataOpt, null, dimValueGetter);\n  return mpData;\n}\nexport default MarkPointView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport checkMarkerInSeries from './checkMarkerInSeries.js';\nimport MarkPointModel from './MarkPointModel.js';\nimport MarkPointView from './MarkPointView.js';\nexport function install(registers) {\n  registers.registerComponentModel(MarkPointModel);\n  registers.registerComponentView(MarkPointView);\n  registers.registerPreprocessor(function (opt) {\n    if (checkMarkerInSeries(opt.series, 'markPoint')) {\n      // Make sure markPoint component is enabled\n      opt.markPoint = opt.markPoint || {};\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MarkerModel from './MarkerModel.js';\nvar MarkLineModel = /** @class */function (_super) {\n  __extends(MarkLineModel, _super);\n  function MarkLineModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkLineModel.type;\n    return _this;\n  }\n  MarkLineModel.prototype.createMarkerModelFromSeries = function (markerOpt, masterMarkerModel, ecModel) {\n    return new MarkLineModel(markerOpt, masterMarkerModel, ecModel);\n  };\n  MarkLineModel.type = 'markLine';\n  MarkLineModel.defaultOption = {\n    // zlevel: 0,\n    z: 5,\n    symbol: ['circle', 'arrow'],\n    symbolSize: [8, 16],\n    // symbolRotate: 0,\n    symbolOffset: 0,\n    precision: 2,\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      show: true,\n      position: 'end',\n      distance: 5\n    },\n    lineStyle: {\n      type: 'dashed'\n    },\n    emphasis: {\n      label: {\n        show: true\n      },\n      lineStyle: {\n        width: 3\n      }\n    },\n    animationEasing: 'linear'\n  };\n  return MarkLineModel;\n}(MarkerModel);\nexport default MarkLineModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesData from '../../data/SeriesData.js';\nimport * as numberUtil from '../../util/number.js';\nimport * as markerHelper from './markerHelper.js';\nimport LineDraw from '../../chart/helper/LineDraw.js';\nimport MarkerView from './MarkerView.js';\nimport { getStackedDimension } from '../../data/helper/dataStackHelper.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport { getECData } from '../../util/innerStore.js';\nimport MarkerModel from './MarkerModel.js';\nimport { isArray, retrieve, retrieve2, clone, extend, logError, merge, map, curry, filter, isNumber } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nvar inner = makeInner();\nvar markLineTransform = function (seriesModel, coordSys, mlModel, item) {\n  var data = seriesModel.getData();\n  var itemArray;\n  if (!isArray(item)) {\n    // Special type markLine like 'min', 'max', 'average', 'median'\n    var mlType = item.type;\n    if (mlType === 'min' || mlType === 'max' || mlType === 'average' || mlType === 'median'\n    // In case\n    // data: [{\n    //   yAxis: 10\n    // }]\n    || item.xAxis != null || item.yAxis != null) {\n      var valueAxis = void 0;\n      var value = void 0;\n      if (item.yAxis != null || item.xAxis != null) {\n        valueAxis = coordSys.getAxis(item.yAxis != null ? 'y' : 'x');\n        value = retrieve(item.yAxis, item.xAxis);\n      } else {\n        var axisInfo = markerHelper.getAxisInfo(item, data, coordSys, seriesModel);\n        valueAxis = axisInfo.valueAxis;\n        var valueDataDim = getStackedDimension(data, axisInfo.valueDataDim);\n        value = markerHelper.numCalculate(data, valueDataDim, mlType);\n      }\n      var valueIndex = valueAxis.dim === 'x' ? 0 : 1;\n      var baseIndex = 1 - valueIndex;\n      // Normized to 2d data with start and end point\n      var mlFrom = clone(item);\n      var mlTo = {\n        coord: []\n      };\n      mlFrom.type = null;\n      mlFrom.coord = [];\n      mlFrom.coord[baseIndex] = -Infinity;\n      mlTo.coord[baseIndex] = Infinity;\n      var precision = mlModel.get('precision');\n      if (precision >= 0 && isNumber(value)) {\n        value = +value.toFixed(Math.min(precision, 20));\n      }\n      mlFrom.coord[valueIndex] = mlTo.coord[valueIndex] = value;\n      itemArray = [mlFrom, mlTo, {\n        type: mlType,\n        valueIndex: item.valueIndex,\n        // Force to use the value of calculated value.\n        value: value\n      }];\n    } else {\n      // Invalid data\n      if (process.env.NODE_ENV !== 'production') {\n        logError('Invalid markLine data.');\n      }\n      itemArray = [];\n    }\n  } else {\n    itemArray = item;\n  }\n  var normalizedItem = [markerHelper.dataTransform(seriesModel, itemArray[0]), markerHelper.dataTransform(seriesModel, itemArray[1]), extend({}, itemArray[2])];\n  // Avoid line data type is extended by from(to) data type\n  normalizedItem[2].type = normalizedItem[2].type || null;\n  // Merge from option and to option into line option\n  merge(normalizedItem[2], normalizedItem[0]);\n  merge(normalizedItem[2], normalizedItem[1]);\n  return normalizedItem;\n};\nfunction isInfinity(val) {\n  return !isNaN(val) && !isFinite(val);\n}\n// If a markLine has one dim\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  var dimName = coordSys.dimensions[dimIndex];\n  return isInfinity(fromCoord[otherDimIndex]) && isInfinity(toCoord[otherDimIndex]) && fromCoord[dimIndex] === toCoord[dimIndex] && coordSys.getAxis(dimName).containData(fromCoord[dimIndex]);\n}\nfunction markLineFilter(coordSys, item) {\n  if (coordSys.type === 'cartesian2d') {\n    var fromCoord = item[0].coord;\n    var toCoord = item[1].coord;\n    // In case\n    // {\n    //  markLine: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n    if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n  }\n  return markerHelper.dataFilter(coordSys, item[0]) && markerHelper.dataFilter(coordSys, item[1]);\n}\nfunction updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPosition\n      point = seriesModel.getMarkerPosition(data.getValues(data.dimensions, idx));\n    } else {\n      var dims = coordSys.dimensions;\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      point = coordSys.dataToPoint([x, y]);\n    }\n    // Expand line to the edge of grid if value on one axis is Inifnity\n    // In case\n    //  markLine: {\n    //    data: [{\n    //      yAxis: 2\n    //      // or\n    //      type: 'average'\n    //    }]\n    //  }\n    if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n      // TODO: TYPE ts@4.1 may still infer it as Axis instead of Axis2D. Not sure if it's a bug\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var dims = coordSys.dimensions;\n      if (isInfinity(data.get(dims[0], idx))) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[isFrom ? 0 : 1]);\n      } else if (isInfinity(data.get(dims[1], idx))) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[isFrom ? 0 : 1]);\n      }\n    }\n    // Use x, y if has any\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n  data.setItemLayout(idx, point);\n}\nvar MarkLineView = /** @class */function (_super) {\n  __extends(MarkLineView, _super);\n  function MarkLineView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkLineView.type;\n    return _this;\n  }\n  MarkLineView.prototype.updateTransform = function (markLineModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mlModel = MarkerModel.getMarkerModelFromSeries(seriesModel, 'markLine');\n      if (mlModel) {\n        var mlData_1 = mlModel.getData();\n        var fromData_1 = inner(mlModel).from;\n        var toData_1 = inner(mlModel).to;\n        // Update visual and layout of from symbol and to symbol\n        fromData_1.each(function (idx) {\n          updateSingleMarkerEndLayout(fromData_1, idx, true, seriesModel, api);\n          updateSingleMarkerEndLayout(toData_1, idx, false, seriesModel, api);\n        });\n        // Update layout of line\n        mlData_1.each(function (idx) {\n          mlData_1.setItemLayout(idx, [fromData_1.getItemLayout(idx), toData_1.getItemLayout(idx)]);\n        });\n        this.markerGroupMap.get(seriesModel.id).updateLayout();\n      }\n    }, this);\n  };\n  MarkLineView.prototype.renderSeries = function (seriesModel, mlModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var lineDrawMap = this.markerGroupMap;\n    var lineDraw = lineDrawMap.get(seriesId) || lineDrawMap.set(seriesId, new LineDraw());\n    this.group.add(lineDraw.group);\n    var mlData = createList(coordSys, seriesModel, mlModel);\n    var fromData = mlData.from;\n    var toData = mlData.to;\n    var lineData = mlData.line;\n    inner(mlModel).from = fromData;\n    inner(mlModel).to = toData;\n    // Line data for tooltip and formatter\n    mlModel.setData(lineData);\n    // TODO\n    // Functionally, `symbolSize` & `symbolOffset` can also be 2D array now.\n    // But the related logic and type definition are not finished yet.\n    // Finish it if required\n    var symbolType = mlModel.get('symbol');\n    var symbolSize = mlModel.get('symbolSize');\n    var symbolRotate = mlModel.get('symbolRotate');\n    var symbolOffset = mlModel.get('symbolOffset');\n    // TODO: support callback function like markPoint\n    if (!isArray(symbolType)) {\n      symbolType = [symbolType, symbolType];\n    }\n    if (!isArray(symbolSize)) {\n      symbolSize = [symbolSize, symbolSize];\n    }\n    if (!isArray(symbolRotate)) {\n      symbolRotate = [symbolRotate, symbolRotate];\n    }\n    if (!isArray(symbolOffset)) {\n      symbolOffset = [symbolOffset, symbolOffset];\n    }\n    // Update visual and layout of from symbol and to symbol\n    mlData.from.each(function (idx) {\n      updateDataVisualAndLayout(fromData, idx, true);\n      updateDataVisualAndLayout(toData, idx, false);\n    });\n    // Update visual and layout of line\n    lineData.each(function (idx) {\n      var itemModel = lineData.getItemModel(idx);\n      var lineStyle = itemModel.getModel('lineStyle').getLineStyle();\n      // lineData.setItemVisual(idx, {\n      //     color: lineColor || fromData.getItemVisual(idx, 'color')\n      // });\n      lineData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n      var z2 = itemModel.get('z2');\n      if (lineStyle.stroke == null) {\n        lineStyle.stroke = fromData.getItemVisual(idx, 'style').fill;\n      }\n      lineData.setItemVisual(idx, {\n        z2: retrieve2(z2, 0),\n        fromSymbolKeepAspect: fromData.getItemVisual(idx, 'symbolKeepAspect'),\n        fromSymbolOffset: fromData.getItemVisual(idx, 'symbolOffset'),\n        fromSymbolRotate: fromData.getItemVisual(idx, 'symbolRotate'),\n        fromSymbolSize: fromData.getItemVisual(idx, 'symbolSize'),\n        fromSymbol: fromData.getItemVisual(idx, 'symbol'),\n        toSymbolKeepAspect: toData.getItemVisual(idx, 'symbolKeepAspect'),\n        toSymbolOffset: toData.getItemVisual(idx, 'symbolOffset'),\n        toSymbolRotate: toData.getItemVisual(idx, 'symbolRotate'),\n        toSymbolSize: toData.getItemVisual(idx, 'symbolSize'),\n        toSymbol: toData.getItemVisual(idx, 'symbol'),\n        style: lineStyle\n      });\n    });\n    lineDraw.updateData(lineData);\n    // Set host model for tooltip\n    // FIXME\n    mlData.line.eachItemGraphicEl(function (el) {\n      getECData(el).dataModel = mlModel;\n      el.traverse(function (child) {\n        getECData(child).dataModel = mlModel;\n      });\n    });\n    function updateDataVisualAndLayout(data, idx, isFrom) {\n      var itemModel = data.getItemModel(idx);\n      updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api);\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n      if (style.fill == null) {\n        style.fill = getVisualFromData(seriesData, 'color');\n      }\n      data.setItemVisual(idx, {\n        symbolKeepAspect: itemModel.get('symbolKeepAspect'),\n        // `0` should be considered as a valid value, so use `retrieve2` instead of `||`\n        symbolOffset: retrieve2(itemModel.get('symbolOffset', true), symbolOffset[isFrom ? 0 : 1]),\n        symbolRotate: retrieve2(itemModel.get('symbolRotate', true), symbolRotate[isFrom ? 0 : 1]),\n        // TODO: when 2d array is supported, it should ignore parent\n        symbolSize: retrieve2(itemModel.get('symbolSize'), symbolSize[isFrom ? 0 : 1]),\n        symbol: retrieve2(itemModel.get('symbol', true), symbolType[isFrom ? 0 : 1]),\n        style: style\n      });\n    }\n    this.markKeep(lineDraw);\n    lineDraw.group.silent = mlModel.get('silent') || seriesModel.get('silent');\n  };\n  MarkLineView.type = 'markLine';\n  return MarkLineView;\n}(MarkerView);\nfunction createList(coordSys, seriesModel, mlModel) {\n  var coordDimsInfos;\n  if (coordSys) {\n    coordDimsInfos = map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {};\n      // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n      return extend(extend({}, info), {\n        name: coordDim,\n        // DON'T use ordinalMeta to parse and collect ordinal.\n        ordinalMeta: null\n      });\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n  var fromData = new SeriesData(coordDimsInfos, mlModel);\n  var toData = new SeriesData(coordDimsInfos, mlModel);\n  // No dimensions\n  var lineData = new SeriesData([], mlModel);\n  var optData = map(mlModel.get('data'), curry(markLineTransform, seriesModel, coordSys, mlModel));\n  if (coordSys) {\n    optData = filter(optData, curry(markLineFilter, coordSys));\n  }\n  var dimValueGetter = markerHelper.createMarkerDimValueGetter(!!coordSys, coordDimsInfos);\n  fromData.initData(map(optData, function (item) {\n    return item[0];\n  }), null, dimValueGetter);\n  toData.initData(map(optData, function (item) {\n    return item[1];\n  }), null, dimValueGetter);\n  lineData.initData(map(optData, function (item) {\n    return item[2];\n  }));\n  lineData.hasItemOption = true;\n  return {\n    from: fromData,\n    to: toData,\n    line: lineData\n  };\n}\nexport default MarkLineView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport checkMarkerInSeries from './checkMarkerInSeries.js';\nimport MarkLineModel from './MarkLineModel.js';\nimport MarkLineView from './MarkLineView.js';\nexport function install(registers) {\n  registers.registerComponentModel(MarkLineModel);\n  registers.registerComponentView(MarkLineView);\n  registers.registerPreprocessor(function (opt) {\n    if (checkMarkerInSeries(opt.series, 'markLine')) {\n      // Make sure markLine component is enabled\n      opt.markLine = opt.markLine || {};\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MarkerModel from './MarkerModel.js';\nvar MarkAreaModel = /** @class */function (_super) {\n  __extends(MarkAreaModel, _super);\n  function MarkAreaModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkAreaModel.type;\n    return _this;\n  }\n  MarkAreaModel.prototype.createMarkerModelFromSeries = function (markerOpt, masterMarkerModel, ecModel) {\n    return new MarkAreaModel(markerOpt, masterMarkerModel, ecModel);\n  };\n  MarkAreaModel.type = 'markArea';\n  MarkAreaModel.defaultOption = {\n    // zlevel: 0,\n    // PENDING\n    z: 1,\n    tooltip: {\n      trigger: 'item'\n    },\n    // markArea should fixed on the coordinate system\n    animation: false,\n    label: {\n      show: true,\n      position: 'top'\n    },\n    itemStyle: {\n      // color and borderColor default to use color from series\n      // color: 'auto'\n      // borderColor: 'auto'\n      borderWidth: 0\n    },\n    emphasis: {\n      label: {\n        show: true,\n        position: 'top'\n      }\n    }\n  };\n  return MarkAreaModel;\n}(MarkerModel);\nexport default MarkAreaModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n// TODO Optimize on polar\nimport * as colorUtil from 'zrender/lib/tool/color.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport * as numberUtil from '../../util/number.js';\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis, setStatesStylesFromModel } from '../../util/states.js';\nimport * as markerHelper from './markerHelper.js';\nimport MarkerView from './MarkerView.js';\nimport { retrieve, mergeAll, map, curry, filter, extend, isString, retrieve2 } from 'zrender/lib/core/util.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport MarkerModel from './MarkerModel.js';\nimport { makeInner } from '../../util/model.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { parseDataValue } from '../../data/helper/dataValueHelper.js';\nimport tokens from '../../visual/tokens.js';\nvar inner = makeInner();\nvar markAreaTransform = function (seriesModel, coordSys, maModel, item) {\n  // item may be null\n  var item0 = item[0];\n  var item1 = item[1];\n  if (!item0 || !item1) {\n    return;\n  }\n  var lt = markerHelper.dataTransform(seriesModel, item0);\n  var rb = markerHelper.dataTransform(seriesModel, item1);\n  // FIXME make sure lt is less than rb\n  var ltCoord = lt.coord;\n  var rbCoord = rb.coord;\n  ltCoord[0] = retrieve(ltCoord[0], -Infinity);\n  ltCoord[1] = retrieve(ltCoord[1], -Infinity);\n  rbCoord[0] = retrieve(rbCoord[0], Infinity);\n  rbCoord[1] = retrieve(rbCoord[1], Infinity);\n  // Merge option into one\n  var result = mergeAll([{}, lt, rb]);\n  result.coord = [lt.coord, rb.coord];\n  result.x0 = lt.x;\n  result.y0 = lt.y;\n  result.x1 = rb.x;\n  result.y1 = rb.y;\n  return result;\n};\nfunction isInfinity(val) {\n  return !isNaN(val) && !isFinite(val);\n}\n// If a markArea has one dim\nfunction ifMarkAreaHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  return isInfinity(fromCoord[otherDimIndex]) && isInfinity(toCoord[otherDimIndex]);\n}\nfunction markAreaFilter(coordSys, item) {\n  var fromCoord = item.coord[0];\n  var toCoord = item.coord[1];\n  var item0 = {\n    coord: fromCoord,\n    x: item.x0,\n    y: item.y0\n  };\n  var item1 = {\n    coord: toCoord,\n    x: item.x1,\n    y: item.y1\n  };\n  if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n    // In case\n    // {\n    //  markArea: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n    if (fromCoord && toCoord && (ifMarkAreaHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkAreaHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n    // Directly returning true may also do the work,\n    // because markArea will not be shown automatically\n    // when it's not included in coordinate system.\n    // But filtering ahead can avoid keeping rendering markArea\n    // when there are too many of them.\n    return markerHelper.zoneFilter(coordSys, item0, item1);\n  }\n  return markerHelper.dataFilter(coordSys, item0) || markerHelper.dataFilter(coordSys, item1);\n}\n// dims can be ['x0', 'y0'], ['x1', 'y1'], ['x0', 'y1'], ['x1', 'y0']\nfunction getSingleMarkerEndPoint(data, idx, dims, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get(dims[0]), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get(dims[1]), api.getHeight());\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Consider the case that user input the right-bottom point first\n      // Pick the larger x and y as 'x1' and 'y1'\n      var pointValue0 = data.getValues(['x0', 'y0'], idx);\n      var pointValue1 = data.getValues(['x1', 'y1'], idx);\n      var clampPointValue0 = coordSys.clampData(pointValue0);\n      var clampPointValue1 = coordSys.clampData(pointValue1);\n      var pointValue = [];\n      if (dims[0] === 'x0') {\n        pointValue[0] = clampPointValue0[0] > clampPointValue1[0] ? pointValue1[0] : pointValue0[0];\n      } else {\n        pointValue[0] = clampPointValue0[0] > clampPointValue1[0] ? pointValue0[0] : pointValue1[0];\n      }\n      if (dims[1] === 'y0') {\n        pointValue[1] = clampPointValue0[1] > clampPointValue1[1] ? pointValue1[1] : pointValue0[1];\n      } else {\n        pointValue[1] = clampPointValue0[1] > clampPointValue1[1] ? pointValue0[1] : pointValue1[1];\n      }\n      // Use the getMarkerPosition\n      point = seriesModel.getMarkerPosition(pointValue, dims, true);\n    } else {\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      var pt = [x, y];\n      coordSys.clampData && coordSys.clampData(pt, pt);\n      point = coordSys.dataToPoint(pt, true);\n    }\n    if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n      // TODO: TYPE ts@4.1 may still infer it as Axis instead of Axis2D. Not sure if it's a bug\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      if (isInfinity(x)) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[dims[0] === 'x0' ? 0 : 1]);\n      } else if (isInfinity(y)) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[dims[1] === 'y0' ? 0 : 1]);\n      }\n    }\n    // Use x, y if has any\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n  return point;\n}\nexport var dimPermutations = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']];\nvar MarkAreaView = /** @class */function (_super) {\n  __extends(MarkAreaView, _super);\n  function MarkAreaView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkAreaView.type;\n    return _this;\n  }\n  MarkAreaView.prototype.updateTransform = function (markAreaModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var maModel = MarkerModel.getMarkerModelFromSeries(seriesModel, 'markArea');\n      if (maModel) {\n        var areaData_1 = maModel.getData();\n        areaData_1.each(function (idx) {\n          var points = map(dimPermutations, function (dim) {\n            return getSingleMarkerEndPoint(areaData_1, idx, dim, seriesModel, api);\n          });\n          // Layout\n          areaData_1.setItemLayout(idx, points);\n          var el = areaData_1.getItemGraphicEl(idx);\n          el.setShape('points', points);\n        });\n      }\n    }, this);\n  };\n  MarkAreaView.prototype.renderSeries = function (seriesModel, maModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var areaGroupMap = this.markerGroupMap;\n    var polygonGroup = areaGroupMap.get(seriesId) || areaGroupMap.set(seriesId, {\n      group: new graphic.Group()\n    });\n    this.group.add(polygonGroup.group);\n    this.markKeep(polygonGroup);\n    var areaData = createList(coordSys, seriesModel, maModel);\n    // Line data for tooltip and formatter\n    maModel.setData(areaData);\n    // Update visual and layout of line\n    areaData.each(function (idx) {\n      // Layout\n      var points = map(dimPermutations, function (dim) {\n        return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n      });\n      var xAxisScale = coordSys.getAxis('x').scale;\n      var yAxisScale = coordSys.getAxis('y').scale;\n      var xAxisExtent = xAxisScale.getExtent();\n      var yAxisExtent = yAxisScale.getExtent();\n      var xPointExtent = [xAxisScale.parse(areaData.get('x0', idx)), xAxisScale.parse(areaData.get('x1', idx))];\n      var yPointExtent = [yAxisScale.parse(areaData.get('y0', idx)), yAxisScale.parse(areaData.get('y1', idx))];\n      numberUtil.asc(xPointExtent);\n      numberUtil.asc(yPointExtent);\n      var overlapped = !(xAxisExtent[0] > xPointExtent[1] || xAxisExtent[1] < xPointExtent[0] || yAxisExtent[0] > yPointExtent[1] || yAxisExtent[1] < yPointExtent[0]);\n      // If none of the area is inside coordSys, allClipped is set to be true\n      // in layout so that label will not be displayed. See #12591\n      var allClipped = !overlapped;\n      areaData.setItemLayout(idx, {\n        points: points,\n        allClipped: allClipped\n      });\n      var itemModel = areaData.getItemModel(idx);\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n      var z2 = itemModel.get('z2');\n      var color = getVisualFromData(seriesData, 'color');\n      if (!style.fill) {\n        style.fill = color;\n        if (isString(style.fill)) {\n          style.fill = colorUtil.modifyAlpha(style.fill, 0.4);\n        }\n      }\n      if (!style.stroke) {\n        style.stroke = color;\n      }\n      // Visual\n      areaData.setItemVisual(idx, 'style', style);\n      areaData.setItemVisual(idx, 'z2', retrieve2(z2, 0));\n    });\n    areaData.diff(inner(polygonGroup).data).add(function (idx) {\n      var layout = areaData.getItemLayout(idx);\n      var z2 = areaData.getItemVisual(idx, 'z2');\n      if (!layout.allClipped) {\n        var polygon = new graphic.Polygon({\n          z2: retrieve2(z2, 0),\n          shape: {\n            points: layout.points\n          }\n        });\n        areaData.setItemGraphicEl(idx, polygon);\n        polygonGroup.group.add(polygon);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var polygon = inner(polygonGroup).data.getItemGraphicEl(oldIdx);\n      var layout = areaData.getItemLayout(newIdx);\n      var z2 = areaData.getItemVisual(newIdx, 'z2');\n      if (!layout.allClipped) {\n        if (polygon) {\n          graphic.updateProps(polygon, {\n            z2: retrieve2(z2, 0),\n            shape: {\n              points: layout.points\n            }\n          }, maModel, newIdx);\n        } else {\n          polygon = new graphic.Polygon({\n            shape: {\n              points: layout.points\n            }\n          });\n        }\n        areaData.setItemGraphicEl(newIdx, polygon);\n        polygonGroup.group.add(polygon);\n      } else if (polygon) {\n        polygonGroup.group.remove(polygon);\n      }\n    }).remove(function (idx) {\n      var polygon = inner(polygonGroup).data.getItemGraphicEl(idx);\n      polygonGroup.group.remove(polygon);\n    }).execute();\n    areaData.eachItemGraphicEl(function (polygon, idx) {\n      var itemModel = areaData.getItemModel(idx);\n      var style = areaData.getItemVisual(idx, 'style');\n      polygon.useStyle(areaData.getItemVisual(idx, 'style'));\n      setLabelStyle(polygon, getLabelStatesModels(itemModel), {\n        labelFetcher: maModel,\n        labelDataIndex: idx,\n        defaultText: areaData.getName(idx) || '',\n        inheritColor: isString(style.fill) ? colorUtil.modifyAlpha(style.fill, 1) : tokens.color.neutral99\n      });\n      setStatesStylesFromModel(polygon, itemModel);\n      toggleHoverEmphasis(polygon, null, null, itemModel.get(['emphasis', 'disabled']));\n      getECData(polygon).dataModel = maModel;\n    });\n    inner(polygonGroup).data = areaData;\n    polygonGroup.group.silent = maModel.get('silent') || seriesModel.get('silent');\n  };\n  MarkAreaView.type = 'markArea';\n  return MarkAreaView;\n}(MarkerView);\nfunction createList(coordSys, seriesModel, maModel) {\n  var areaData;\n  var dataDims;\n  var dims = ['x0', 'y0', 'x1', 'y1'];\n  if (coordSys) {\n    var coordDimsInfos_1 = map(coordSys && coordSys.dimensions, function (coordDim) {\n      var data = seriesModel.getData();\n      var info = data.getDimensionInfo(data.mapDimension(coordDim)) || {};\n      // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n      return extend(extend({}, info), {\n        name: coordDim,\n        // DON'T use ordinalMeta to parse and collect ordinal.\n        ordinalMeta: null\n      });\n    });\n    dataDims = map(dims, function (dim, idx) {\n      return {\n        name: dim,\n        type: coordDimsInfos_1[idx % 2].type\n      };\n    });\n    areaData = new SeriesData(dataDims, maModel);\n  } else {\n    dataDims = [{\n      name: 'value',\n      type: 'float'\n    }];\n    areaData = new SeriesData(dataDims, maModel);\n  }\n  var optData = map(maModel.get('data'), curry(markAreaTransform, seriesModel, coordSys, maModel));\n  if (coordSys) {\n    optData = filter(optData, curry(markAreaFilter, coordSys));\n  }\n  var dimValueGetter = coordSys ? function (item, dimName, dataIndex, dimIndex) {\n    // TODO should convert to ParsedValue?\n    var rawVal = item.coord[Math.floor(dimIndex / 2)][dimIndex % 2];\n    return parseDataValue(rawVal, dataDims[dimIndex]);\n  } : function (item, dimName, dataIndex, dimIndex) {\n    return parseDataValue(item.value, dataDims[dimIndex]);\n  };\n  areaData.initData(optData, null, dimValueGetter);\n  areaData.hasItemOption = true;\n  return areaData;\n}\nexport default MarkAreaView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport checkMarkerInSeries from './checkMarkerInSeries.js';\nimport MarkAreaModel from './MarkAreaModel.js';\nimport MarkAreaView from './MarkAreaView.js';\nexport function install(registers) {\n  registers.registerComponentModel(MarkAreaModel);\n  registers.registerComponentView(MarkAreaView);\n  registers.registerPreprocessor(function (opt) {\n    if (checkMarkerInSeries(opt.series, 'markArea')) {\n      // Make sure markArea component is enabled\n      opt.markArea = opt.markArea || {};\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from '../../model/Model.js';\nimport { isNameSpecified } from '../../util/model.js';\nimport ComponentModel from '../../model/Component.js';\nimport tokens from '../../visual/tokens.js';\nvar getDefaultSelectorOptions = function (ecModel, type) {\n  if (type === 'all') {\n    return {\n      type: 'all',\n      title: ecModel.getLocaleModel().get(['legend', 'selector', 'all'])\n    };\n  } else if (type === 'inverse') {\n    return {\n      type: 'inverse',\n      title: ecModel.getLocaleModel().get(['legend', 'selector', 'inverse'])\n    };\n  }\n};\nvar LegendModel = /** @class */function (_super) {\n  __extends(LegendModel, _super);\n  function LegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = LegendModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      // legend.width/height are maxWidth/maxHeight actually,\n      // whereas real width/height is calculated by its content.\n      // (Setting {left: 10, right: 10} does not make sense).\n      // So consider the case:\n      // `setOption({legend: {left: 10});`\n      // then `setOption({legend: {right: 10});`\n      // The previous `left` should be cleared by setting `ignoreSize`.\n      ignoreSize: true\n    };\n    return _this;\n  }\n  LegendModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n    this._updateSelector(option);\n  };\n  LegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n    this._updateSelector(option);\n  };\n  LegendModel.prototype._updateSelector = function (option) {\n    var selector = option.selector;\n    var ecModel = this.ecModel;\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, getDefaultSelectorOptions(ecModel, item.type));\n      });\n    }\n  };\n  LegendModel.prototype.optionUpdated = function () {\n    this._updateData(this.ecModel);\n    var legendData = this._data;\n    // If selectedMode is single, try to select one\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false;\n      // If has any selected in option.selected\n      for (var i = 0; i < legendData.length; i++) {\n        var name_1 = legendData[i].get('name');\n        if (this.isSelected(name_1)) {\n          // Force to unselect others\n          this.select(name_1);\n          hasSelected = true;\n          break;\n        }\n      }\n      // Try select the first if selectedMode is single\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  };\n  LegendModel.prototype._updateData = function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n    this._availableNames = availableNames;\n    // If legend.data is not specified in option, use availableNames as data,\n    // which is convenient for user preparing option.\n    var rawData = this.get('data') || potentialData;\n    var legendNameMap = zrUtil.createHashMap();\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (zrUtil.isString(dataItem) || zrUtil.isNumber(dataItem)) {\n        dataItem = {\n          name: dataItem\n        };\n      }\n      if (legendNameMap.get(dataItem.name)) {\n        // remove legend name duplicate\n        return null;\n      }\n      legendNameMap.set(dataItem.name, true);\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n    this._data = zrUtil.filter(legendData, function (item) {\n      return !!item;\n    });\n  };\n  LegendModel.prototype.getData = function () {\n    return this._data;\n  };\n  LegendModel.prototype.select = function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n    selected[name] = true;\n  };\n  LegendModel.prototype.unSelect = function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  };\n  LegendModel.prototype.toggleSelected = function (name) {\n    var selected = this.option.selected;\n    // Default is true\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  };\n  LegendModel.prototype.allSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  };\n  LegendModel.prototype.inverseSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true);\n      // Initially, default value is true\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n      selected[name] = !selected[name];\n    });\n  };\n  LegendModel.prototype.isSelected = function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  };\n  LegendModel.prototype.getOrient = function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  };\n  LegendModel.type = 'legend.plain';\n  LegendModel.dependencies = ['series'];\n  LegendModel.defaultOption = {\n    // zlevel: 0,\n    z: 4,\n    show: true,\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    // top: 0,\n    bottom: tokens.size.m,\n    align: 'auto',\n    backgroundColor: tokens.color.transparent,\n    borderColor: tokens.color.border,\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 8,\n    itemWidth: 25,\n    itemHeight: 14,\n    symbolRotate: 'inherit',\n    symbolKeepAspect: true,\n    inactiveColor: tokens.color.disabled,\n    inactiveBorderColor: tokens.color.disabled,\n    inactiveBorderWidth: 'auto',\n    itemStyle: {\n      color: 'inherit',\n      opacity: 'inherit',\n      borderColor: 'inherit',\n      borderWidth: 'auto',\n      borderCap: 'inherit',\n      borderJoin: 'inherit',\n      borderDashOffset: 'inherit',\n      borderMiterLimit: 'inherit'\n    },\n    lineStyle: {\n      width: 'auto',\n      color: 'inherit',\n      inactiveColor: tokens.color.disabled,\n      inactiveWidth: 2,\n      opacity: 'inherit',\n      type: 'inherit',\n      cap: 'inherit',\n      join: 'inherit',\n      dashOffset: 'inherit',\n      miterLimit: 'inherit'\n    },\n    textStyle: {\n      color: tokens.color.secondary\n    },\n    selectedMode: true,\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: 'sans-serif',\n      color: tokens.color.tertiary,\n      borderWidth: 1,\n      borderColor: tokens.color.border\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: tokens.color.quaternary\n      }\n    },\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    tooltip: {\n      show: false\n    },\n    triggerEvent: false\n  };\n  return LegendModel;\n}(ComponentModel);\nexport default LegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parse, stringify } from 'zrender/lib/tool/color.js';\nimport * as graphic from '../../util/graphic.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { setLabelStyle, createTextStyle } from '../../label/labelStyle.js';\nimport { makeBackground } from '../helper/listComponent.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport ComponentView from '../../view/Component.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal.js';\nimport { getECData } from '../../util/innerStore.js';\nimport tokens from '../../visual/tokens.js';\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\nvar LegendView = /** @class */function (_super) {\n  __extends(LegendView, _super);\n  function LegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = LegendView.type;\n    _this.newlineDisabled = false;\n    return _this;\n  }\n  LegendView.prototype.init = function () {\n    this.group.add(this._contentGroup = new Group());\n    this.group.add(this._selectorGroup = new Group());\n    this._isFirstRender = true;\n  };\n  /**\n   * @protected\n   */\n  LegendView.prototype.getContentGroup = function () {\n    return this._contentGroup;\n  };\n  /**\n   * @protected\n   */\n  LegendView.prototype.getSelectorGroup = function () {\n    return this._selectorGroup;\n  };\n  /**\n   * @override\n   */\n  LegendView.prototype.render = function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    }\n    // selector has been normalized to an array in model\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n    // Perform layout.\n    var refContainer = layoutUtil.createBoxLayoutReference(legendModel, api).refContainer;\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, refContainer, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition);\n    // Place mainGroup, based on the calculated `mainRect`.\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), refContainer, padding);\n    this.group.x = layoutRect.x - mainRect.x;\n    this.group.y = layoutRect.y - mainRect.y;\n    this.group.markRedraw();\n    // Render background after group is layout.\n    this.group.add(this._backgroundEl = makeBackground(mainRect,\n    // FXIME: most itemStyle options does not work in background because inherit is not handled yet.\n    legendModel));\n  };\n  LegendView.prototype.resetInner = function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  };\n  LegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var triggerEvent = legendModel.get('triggerEvent');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (legendItemModel, dataIndex) {\n      var _this = this;\n      var name = legendItemModel.get('name');\n      // Use empty string or \\n as a newline string\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        var g = new Group();\n        // @ts-ignore\n        g.newline = true;\n        contentGroup.add(g);\n        return;\n      }\n      // Representitive series.\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n      if (legendDrawnMap.get(name)) {\n        // Have been drawn\n        return;\n      }\n      // Legend to control series.\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var lineVisualStyle = data.getVisual('legendLineStyle') || {};\n        var legendIcon = data.getVisual('legendIcon');\n        /**\n         * `data.getVisual('style')` may be the color from the register\n         * in series. For example, for line series,\n         */\n        var style = data.getVisual('style');\n        var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, style, legendIcon, selectMode, api);\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        if (ecModel.ssr) {\n          itemGroup.eachChild(function (child) {\n            var ecData = getECData(child);\n            ecData.seriesIndex = seriesModel.seriesIndex;\n            ecData.dataIndex = dataIndex;\n            ecData.ssrType = 'legend';\n          });\n        }\n        if (triggerEvent) {\n          itemGroup.eachChild(function (child) {\n            _this.packEventData(child, legendModel, seriesModel, dataIndex, name);\n          });\n        }\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          var _this = this;\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n            if (!provider.containName(name)) {\n              return;\n            }\n            var idx = provider.indexOfName(name);\n            var style = provider.getItemVisual(idx, 'style');\n            var legendIcon = provider.getItemVisual(idx, 'legendIcon');\n            var colorArr = parse(style.fill);\n            // Color may be set to transparent in visualMap when data is out of range.\n            // Do not show nothing.\n            if (colorArr && colorArr[3] === 0) {\n              colorArr[3] = 0.2;\n              // TODO color is set to 0, 0, 0, 0. Should show correct RGBA\n              style = zrUtil.extend(zrUtil.extend({}, style), {\n                fill: stringify(colorArr, 'rgba')\n              });\n            }\n            var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, {}, style, legendIcon, selectMode, api);\n            // FIXME: consider different series has items with the same name.\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId))\n            // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            if (ecModel.ssr) {\n              itemGroup.eachChild(function (child) {\n                var ecData = getECData(child);\n                ecData.seriesIndex = seriesModel.seriesIndex;\n                ecData.dataIndex = dataIndex;\n                ecData.ssrType = 'legend';\n              });\n            }\n            if (triggerEvent) {\n              itemGroup.eachChild(function (child) {\n                _this.packEventData(child, legendModel, seriesModel, dataIndex, name);\n              });\n            }\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        if (!legendDrawnMap.get(name)) {\n          console.warn(name + ' series not exists. Legend data should be same with series name or data name.');\n        }\n      }\n    }, this);\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  };\n  LegendView.prototype.packEventData = function (el, legendModel, seriesModel, dataIndex, name) {\n    var eventData = {\n      componentType: 'legend',\n      componentIndex: legendModel.componentIndex,\n      dataIndex: dataIndex,\n      value: name,\n      seriesIndex: seriesModel.seriesIndex\n    };\n    getECData(el).eventData = eventData;\n  };\n  ;\n  LegendView.prototype._createSelector = function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect',\n            legendId: legendModel.id\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel(['emphasis', 'selectorLabel']);\n      setLabelStyle(labelText, {\n        normal: labelModel,\n        emphasis: emphasisLabelModel\n      }, {\n        defaultText: selectorItem.title\n      });\n      enableHoverEmphasis(labelText);\n    });\n  };\n  LegendView.prototype._createItem = function (seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, itemVisualStyle, legendIcon, selectMode, api) {\n    var drawType = seriesModel.visualDrawType;\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var isSelected = legendModel.isSelected(name);\n    var iconRotate = legendItemModel.get('symbolRotate');\n    var symbolKeepAspect = legendItemModel.get('symbolKeepAspect');\n    var legendIconType = legendItemModel.get('icon');\n    legendIcon = legendIconType || legendIcon || 'roundRect';\n    var style = getLegendStyle(legendIcon, legendItemModel, lineVisualStyle, itemVisualStyle, drawType, isSelected, api);\n    var itemGroup = new Group();\n    var textStyleModel = legendItemModel.getModel('textStyle');\n    if (zrUtil.isFunction(seriesModel.getLegendIcon) && (!legendIconType || legendIconType === 'inherit')) {\n      // Series has specific way to define legend icon\n      itemGroup.add(seriesModel.getLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: iconRotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle,\n        symbolKeepAspect: symbolKeepAspect\n      }));\n    } else {\n      // Use default legend icon policy for most series\n      var rotate = legendIconType === 'inherit' && seriesModel.getData().getVisual('symbol') ? iconRotate === 'inherit' ? seriesModel.getData().getVisual('symbolRotate') : iconRotate : 0; // No rotation for no icon\n      itemGroup.add(getDefaultLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: rotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle,\n        symbolKeepAspect: symbolKeepAspect\n      }));\n    }\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n    if (zrUtil.isString(formatter) && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (zrUtil.isFunction(formatter)) {\n      content = formatter(name);\n    }\n    var textColor = isSelected ? textStyleModel.getTextColor() : legendItemModel.get('inactiveColor');\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        fill: textColor,\n        align: textAlign,\n        verticalAlign: 'middle'\n      }, {\n        inheritColor: textColor\n      })\n    }));\n    // Add a invisible rect to increase the area of mouse hover\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      style: {\n        // Cannot use 'invisible' because SVG SSR will miss the node\n        fill: 'transparent'\n      }\n    });\n    var tooltipModel = legendItemModel.getModel('tooltip');\n    if (tooltipModel.get('show')) {\n      graphic.setTooltipConfig({\n        el: hitRect,\n        componentModel: legendModel,\n        itemName: name,\n        itemTooltipOption: tooltipModel.option\n      });\n    }\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    enableHoverEmphasis(itemGroup);\n    // @ts-ignore\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  };\n  LegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup();\n    // Place items in contentGroup.\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n    selectorGroup.markRedraw();\n    contentGroup.markRedraw();\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box(\n      // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      }\n      // Always align selector to content as 'middle'\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      return this.group.getBoundingRect();\n    }\n  };\n  /**\n   * @protected\n   */\n  LegendView.prototype.remove = function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  };\n  LegendView.type = 'legend.plain';\n  return LegendView;\n}(ComponentView);\nfunction getLegendStyle(iconType, legendItemModel, lineVisualStyle, itemVisualStyle, drawType, isSelected, api) {\n  /**\n   * Use series style if is inherit;\n   * elsewise, use legend style\n   */\n  function handleCommonProps(style, visualStyle) {\n    // If lineStyle.width is 'auto', it is set to be 2 if series has border\n    if (style.lineWidth === 'auto') {\n      style.lineWidth = visualStyle.lineWidth > 0 ? 2 : 0;\n    }\n    each(style, function (propVal, propName) {\n      style[propName] === 'inherit' && (style[propName] = visualStyle[propName]);\n    });\n  }\n  // itemStyle\n  var itemStyleModel = legendItemModel.getModel('itemStyle');\n  var itemStyle = itemStyleModel.getItemStyle();\n  var iconBrushType = iconType.lastIndexOf('empty', 0) === 0 ? 'fill' : 'stroke';\n  var decalStyle = itemStyleModel.getShallow('decal');\n  itemStyle.decal = !decalStyle || decalStyle === 'inherit' ? itemVisualStyle.decal : createOrUpdatePatternFromDecal(decalStyle, api);\n  if (itemStyle.fill === 'inherit') {\n    /**\n     * Series with visualDrawType as 'stroke' should have\n     * series stroke as legend fill\n     */\n    itemStyle.fill = itemVisualStyle[drawType];\n  }\n  if (itemStyle.stroke === 'inherit') {\n    /**\n     * icon type with \"emptyXXX\" should use fill color\n     * in visual style\n     */\n    itemStyle.stroke = itemVisualStyle[iconBrushType];\n  }\n  if (itemStyle.opacity === 'inherit') {\n    /**\n     * Use lineStyle.opacity if drawType is stroke\n     */\n    itemStyle.opacity = (drawType === 'fill' ? itemVisualStyle : lineVisualStyle).opacity;\n  }\n  handleCommonProps(itemStyle, itemVisualStyle);\n  // lineStyle\n  var legendLineModel = legendItemModel.getModel('lineStyle');\n  var lineStyle = legendLineModel.getLineStyle();\n  handleCommonProps(lineStyle, lineVisualStyle);\n  // Fix auto color to real color\n  itemStyle.fill === 'auto' && (itemStyle.fill = itemVisualStyle.fill);\n  itemStyle.stroke === 'auto' && (itemStyle.stroke = itemVisualStyle.fill);\n  lineStyle.stroke === 'auto' && (lineStyle.stroke = itemVisualStyle.fill);\n  if (!isSelected) {\n    var borderWidth = legendItemModel.get('inactiveBorderWidth');\n    /**\n     * Since stroke is set to be inactiveBorderColor, it may occur that\n     * there is no border in series but border in legend, so we need to\n     * use border only when series has border if is set to be auto\n     */\n    var visualHasBorder = itemStyle[iconBrushType];\n    itemStyle.lineWidth = borderWidth === 'auto' ? itemVisualStyle.lineWidth > 0 && visualHasBorder ? 2 : 0 : itemStyle.lineWidth;\n    itemStyle.fill = legendItemModel.get('inactiveColor');\n    itemStyle.stroke = legendItemModel.get('inactiveBorderColor');\n    lineStyle.stroke = legendLineModel.get('inactiveColor');\n    lineStyle.lineWidth = legendLineModel.get('inactiveWidth');\n  }\n  return {\n    itemStyle: itemStyle,\n    lineStyle: lineStyle\n  };\n}\nfunction getDefaultLegendIcon(opt) {\n  var symboType = opt.icon || 'roundRect';\n  var icon = createSymbol(symboType, 0, 0, opt.itemWidth, opt.itemHeight, opt.itemStyle.fill, opt.symbolKeepAspect);\n  icon.setStyle(opt.itemStyle);\n  icon.rotation = (opt.iconRotate || 0) * Math.PI / 180;\n  icon.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n  if (symboType.indexOf('empty') > -1) {\n    icon.style.stroke = icon.style.fill;\n    icon.style.fill = tokens.color.neutral00;\n    icon.style.lineWidth = 2;\n  }\n  return icon;\n}\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  });\n  // highlight after select\n  // TODO highlight immediately may cause animation loss.\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\nfunction isUseHoverLayer(api) {\n  var list = api.getZr().storage.getDisplayList();\n  var emphasisState;\n  var i = 0;\n  var len = list.length;\n  while (i < len && !(emphasisState = list[i].states.emphasis)) {\n    i++;\n  }\n  return emphasisState && emphasisState.hoverLayer;\n}\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\nexport default LegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function legendFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n      return true;\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { curry, each, hasOwn } from 'zrender/lib/core/util.js';\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var isAllSelect = methodName === 'allSelect' || methodName === 'inverseSelect';\n  var selectedMap = {};\n  var actionLegendIndices = [];\n  ecModel.eachComponent({\n    mainType: 'legend',\n    query: payload\n  }, function (legendModel) {\n    if (isAllSelect) {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n    }\n    makeSelectedMap(legendModel, selectedMap);\n    actionLegendIndices.push(legendModel.componentIndex);\n  });\n  var allSelectedMap = {};\n  // make selectedMap from all legend components\n  ecModel.eachComponent('legend', function (legendModel) {\n    each(selectedMap, function (isSelected, name) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](name);\n    });\n    makeSelectedMap(legendModel, allSelectedMap);\n  });\n  // Return the event explicitly\n  return isAllSelect ? {\n    selected: allSelectedMap,\n    // return legendIndex array to tell the developers which legends are allSelect / inverseSelect\n    legendIndex: actionLegendIndices\n  } : {\n    name: payload.name,\n    selected: allSelectedMap\n  };\n}\nfunction makeSelectedMap(legendModel, out) {\n  var selectedMap = out || {};\n  each(legendModel.getData(), function (model) {\n    var name = model.get('name');\n    // Wrap element\n    if (name === '\\n' || name === '') {\n      return;\n    }\n    var isItemSelected = legendModel.isSelected(name);\n    if (hasOwn(selectedMap, name)) {\n      // Unselected if any legend is unselected\n      selectedMap[name] = selectedMap[name] && isItemSelected;\n    } else {\n      selectedMap[name] = isItemSelected;\n    }\n  });\n  return selectedMap;\n}\nexport function installLegendAction(registers) {\n  /**\n   * @event legendToggleSelect\n   * @type {Object}\n   * @property {string} type 'legendToggleSelect'\n   * @property {string} [from]\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendToggleSelect', 'legendselectchanged', curry(legendSelectActionHandler, 'toggleSelected'));\n  registers.registerAction('legendAllSelect', 'legendselectall', curry(legendSelectActionHandler, 'allSelect'));\n  registers.registerAction('legendInverseSelect', 'legendinverseselect', curry(legendSelectActionHandler, 'inverseSelect'));\n  /**\n   * @event legendSelect\n   * @type {Object}\n   * @property {string} type 'legendSelect'\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendSelect', 'legendselected', curry(legendSelectActionHandler, 'select'));\n  /**\n   * @event legendUnSelect\n   * @type {Object}\n   * @property {string} type 'legendUnSelect'\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendUnSelect', 'legendunselected', curry(legendSelectActionHandler, 'unSelect'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LegendModel from './LegendModel.js';\nimport LegendView from './LegendView.js';\nimport legendFilter from './legendFilter.js';\nimport { installLegendAction } from './legendAction.js';\nexport function install(registers) {\n  registers.registerComponentModel(LegendModel);\n  registers.registerComponentView(LegendView);\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\n  registers.registerSubTypeDefaulter('legend', function () {\n    return 'plain';\n  });\n  installLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport LegendModel from './LegendModel.js';\nimport { mergeLayoutParam, getLayoutParams } from '../../util/layout.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nimport tokens from '../../visual/tokens.js';\nvar ScrollableLegendModel = /** @class */function (_super) {\n  __extends(ScrollableLegendModel, _super);\n  function ScrollableLegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ScrollableLegendModel.type;\n    return _this;\n  }\n  /**\n   * @param {number} scrollDataIndex\n   */\n  ScrollableLegendModel.prototype.setScrollDataIndex = function (scrollDataIndex) {\n    this.option.scrollDataIndex = scrollDataIndex;\n  };\n  ScrollableLegendModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n    mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n    mergeAndNormalizeLayoutParams(this, this.option, option);\n  };\n  ScrollableLegendModel.type = 'legend.scroll';\n  ScrollableLegendModel.defaultOption = inheritDefaultOption(LegendModel.defaultOption, {\n    scrollDataIndex: 0,\n    pageButtonItemGap: 5,\n    pageButtonGap: null,\n    pageButtonPosition: 'end',\n    pageFormatter: '{current}/{total}',\n    pageIcons: {\n      horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n      vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n    },\n    pageIconColor: tokens.color.accent50,\n    pageIconInactiveColor: tokens.color.accent10,\n    pageIconSize: 15,\n    pageTextStyle: {\n      color: tokens.color.tertiary\n    },\n    animationDurationUpdate: 800\n  });\n  return ScrollableLegendModel;\n}(LegendModel);\n;\n// Do not `ignoreSize` to enable setting {left: 10, right: 10}.\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n  var orient = legendModel.getOrient();\n  var ignoreSize = [1, 1];\n  ignoreSize[orient.index] = 0;\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: !!ignoreSize\n  });\n}\nexport default ScrollableLegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport LegendView from './LegendView.js';\nvar Group = graphic.Group;\nvar WH = ['width', 'height'];\nvar XY = ['x', 'y'];\nvar ScrollableLegendView = /** @class */function (_super) {\n  __extends(ScrollableLegendView, _super);\n  function ScrollableLegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ScrollableLegendView.type;\n    _this.newlineDisabled = true;\n    _this._currentIndex = 0;\n    return _this;\n  }\n  ScrollableLegendView.prototype.init = function () {\n    _super.prototype.init.call(this);\n    this.group.add(this._containerGroup = new Group());\n    this._containerGroup.add(this.getContentGroup());\n    this.group.add(this._controllerGroup = new Group());\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendView.prototype.resetInner = function () {\n    _super.prototype.resetInner.call(this);\n    this._controllerGroup.removeAll();\n    this._containerGroup.removeClipPath();\n    this._containerGroup.__rectSize = null;\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var self = this;\n    // Render content items.\n    _super.prototype.renderInner.call(this, itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n    var controllerGroup = this._controllerGroup;\n    // FIXME: support be 'auto' adapt to size number text length,\n    // e.g., '3/12345' should not overlap with the control arrow button.\n    var pageIconSize = legendModel.get('pageIconSize', true);\n    var pageIconSizeArr = zrUtil.isArray(pageIconSize) ? pageIconSize : [pageIconSize, pageIconSize];\n    createPageButton('pagePrev', 0);\n    var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n    controllerGroup.add(new graphic.Text({\n      name: 'pageText',\n      style: {\n        // Placeholder to calculate a proper layout.\n        text: 'xx/xx',\n        fill: pageTextStyleModel.getTextColor(),\n        font: pageTextStyleModel.getFont(),\n        verticalAlign: 'middle',\n        align: 'center'\n      },\n      silent: true\n    }));\n    createPageButton('pageNext', 1);\n    function createPageButton(name, iconIdx) {\n      var pageDataIndexName = name + 'DataIndex';\n      var icon = graphic.createIcon(legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx], {\n        // Buttons will be created in each render, so we do not need\n        // to worry about avoiding using legendModel kept in scope.\n        onclick: zrUtil.bind(self._pageGo, self, pageDataIndexName, legendModel, api)\n      }, {\n        x: -pageIconSizeArr[0] / 2,\n        y: -pageIconSizeArr[1] / 2,\n        width: pageIconSizeArr[0],\n        height: pageIconSizeArr[1]\n      });\n      icon.name = name;\n      controllerGroup.add(icon);\n    }\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var yx = XY[1 - orientIdx];\n    selector && layoutUtil.box(\n    // Buttons in selectorGroup always layout horizontally\n    'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n    var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n    var selectorRect = selectorGroup.getBoundingRect();\n    var selectorPos = [-selectorRect.x, -selectorRect.y];\n    var processMaxSize = zrUtil.clone(maxSize);\n    selector && (processMaxSize[wh] = maxSize[wh] - selectorRect[wh] - selectorButtonGap);\n    var mainRect = this._layoutContentAndController(legendModel, isFirstRender, processMaxSize, orientIdx, wh, hw, yx, xy);\n    if (selector) {\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += mainRect[wh] + selectorButtonGap;\n      } else {\n        var offset = selectorRect[wh] + selectorButtonGap;\n        selectorPos[orientIdx] -= offset;\n        mainRect[xy] -= offset;\n      }\n      mainRect[wh] += selectorRect[wh] + selectorButtonGap;\n      selectorPos[1 - orientIdx] += mainRect[yx] + mainRect[hw] / 2 - selectorRect[hw] / 2;\n      mainRect[hw] = Math.max(mainRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(mainRect[yx], selectorRect[yx] + selectorPos[1 - orientIdx]);\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      selectorGroup.markRedraw();\n    }\n    return mainRect;\n  };\n  ScrollableLegendView.prototype._layoutContentAndController = function (legendModel, isFirstRender, maxSize, orientIdx, wh, hw, yx, xy) {\n    var contentGroup = this.getContentGroup();\n    var containerGroup = this._containerGroup;\n    var controllerGroup = this._controllerGroup;\n    // Place items in contentGroup.\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), !orientIdx ? null : maxSize.width, orientIdx ? null : maxSize.height);\n    layoutUtil.box(\n    // Buttons in controller are layout always horizontally.\n    'horizontal', controllerGroup, legendModel.get('pageButtonItemGap', true));\n    var contentRect = contentGroup.getBoundingRect();\n    var controllerRect = controllerGroup.getBoundingRect();\n    var showController = this._showController = contentRect[wh] > maxSize[wh];\n    // In case that the inner elements of contentGroup layout do not based on [0, 0]\n    var contentPos = [-contentRect.x, -contentRect.y];\n    // Remain contentPos when scroll animation perfroming.\n    // If first rendering, `contentGroup.position` is [0, 0], which\n    // does not make sense and may cause unexepcted animation if adopted.\n    if (!isFirstRender) {\n      contentPos[orientIdx] = contentGroup[xy];\n    }\n    // Layout container group based on 0.\n    var containerPos = [0, 0];\n    var controllerPos = [-controllerRect.x, -controllerRect.y];\n    var pageButtonGap = zrUtil.retrieve2(legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true));\n    // Place containerGroup and controllerGroup and contentGroup.\n    if (showController) {\n      var pageButtonPosition = legendModel.get('pageButtonPosition', true);\n      // controller is on the right / bottom.\n      if (pageButtonPosition === 'end') {\n        controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n      }\n      // controller is on the left / top.\n      else {\n        containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n      }\n    }\n    // Always align controller to content as 'middle'.\n    controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n    contentGroup.setPosition(contentPos);\n    containerGroup.setPosition(containerPos);\n    controllerGroup.setPosition(controllerPos);\n    // Calculate `mainRect` and set `clipPath`.\n    // mainRect should not be calculated by `this.group.getBoundingRect()`\n    // for sake of the overflow.\n    var mainRect = {\n      x: 0,\n      y: 0\n    };\n    // Consider content may be overflow (should be clipped).\n    mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n    mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]);\n    // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n    mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n    containerGroup.__rectSize = maxSize[wh];\n    if (showController) {\n      var clipShape = {\n        x: 0,\n        y: 0\n      };\n      clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n      clipShape[hw] = mainRect[hw];\n      containerGroup.setClipPath(new graphic.Rect({\n        shape: clipShape\n      }));\n      // Consider content may be larger than container, container rect\n      // can not be obtained from `containerGroup.getBoundingRect()`.\n      containerGroup.__rectSize = clipShape[wh];\n    } else {\n      // Do not remove or ignore controller. Keep them set as placeholders.\n      controllerGroup.eachChild(function (child) {\n        child.attr({\n          invisible: true,\n          silent: true\n        });\n      });\n    }\n    // Content translate animation.\n    var pageInfo = this._getPageInfo(legendModel);\n    pageInfo.pageIndex != null && graphic.updateProps(contentGroup, {\n      x: pageInfo.contentPosition[0],\n      y: pageInfo.contentPosition[1]\n    },\n    // When switch from \"show controller\" to \"not show controller\", view should be\n    // updated immediately without animation, otherwise causes weird effect.\n    showController ? legendModel : null);\n    this._updatePageInfoView(legendModel, pageInfo);\n    return mainRect;\n  };\n  ScrollableLegendView.prototype._pageGo = function (to, legendModel, api) {\n    var scrollDataIndex = this._getPageInfo(legendModel)[to];\n    scrollDataIndex != null && api.dispatchAction({\n      type: 'legendScroll',\n      scrollDataIndex: scrollDataIndex,\n      legendId: legendModel.id\n    });\n  };\n  ScrollableLegendView.prototype._updatePageInfoView = function (legendModel, pageInfo) {\n    var controllerGroup = this._controllerGroup;\n    zrUtil.each(['pagePrev', 'pageNext'], function (name) {\n      var key = name + 'DataIndex';\n      var canJump = pageInfo[key] != null;\n      var icon = controllerGroup.childOfName(name);\n      if (icon) {\n        icon.setStyle('fill', canJump ? legendModel.get('pageIconColor', true) : legendModel.get('pageIconInactiveColor', true));\n        icon.cursor = canJump ? 'pointer' : 'default';\n      }\n    });\n    var pageText = controllerGroup.childOfName('pageText');\n    var pageFormatter = legendModel.get('pageFormatter');\n    var pageIndex = pageInfo.pageIndex;\n    var current = pageIndex != null ? pageIndex + 1 : 0;\n    var total = pageInfo.pageCount;\n    pageText && pageFormatter && pageText.setStyle('text', zrUtil.isString(pageFormatter) ? pageFormatter.replace('{current}', current == null ? '' : current + '').replace('{total}', total == null ? '' : total + '') : pageFormatter({\n      current: current,\n      total: total\n    }));\n  };\n  /**\n   *  contentPosition: Array.<number>, null when data item not found.\n   *  pageIndex: number, null when data item not found.\n   *  pageCount: number, always be a number, can be 0.\n   *  pagePrevDataIndex: number, null when no previous page.\n   *  pageNextDataIndex: number, null when no next page.\n   * }\n   */\n  ScrollableLegendView.prototype._getPageInfo = function (legendModel) {\n    var scrollDataIndex = legendModel.get('scrollDataIndex', true);\n    var contentGroup = this.getContentGroup();\n    var containerRectSize = this._containerGroup.__rectSize;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var targetItemIndex = this._findTargetItemIndex(scrollDataIndex);\n    var children = contentGroup.children();\n    var targetItem = children[targetItemIndex];\n    var itemCount = children.length;\n    var pCount = !itemCount ? 0 : 1;\n    var result = {\n      contentPosition: [contentGroup.x, contentGroup.y],\n      pageCount: pCount,\n      pageIndex: pCount - 1,\n      pagePrevDataIndex: null,\n      pageNextDataIndex: null\n    };\n    if (!targetItem) {\n      return result;\n    }\n    var targetItemInfo = getItemInfo(targetItem);\n    result.contentPosition[orientIdx] = -targetItemInfo.s;\n    // Strategy:\n    // (1) Always align based on the left/top most item.\n    // (2) It is user-friendly that the last item shown in the\n    // current window is shown at the begining of next window.\n    // Otherwise if half of the last item is cut by the window,\n    // it will have no chance to display entirely.\n    // (3) Consider that item size probably be different, we\n    // have calculate pageIndex by size rather than item index,\n    // and we can not get page index directly by division.\n    // (4) The window is to narrow to contain more than\n    // one item, we should make sure that the page can be fliped.\n    for (var i = targetItemIndex + 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i <= itemCount; ++i) {\n      currItemInfo = getItemInfo(children[i]);\n      if (\n      // Half of the last item is out of the window.\n      !currItemInfo && winEndItemInfo.e > winStartItemInfo.s + containerRectSize\n      // If the current item does not intersect with the window, the new page\n      // can be started at the current item or the last item.\n      || currItemInfo && !intersect(currItemInfo, winStartItemInfo.s)) {\n        if (winEndItemInfo.i > winStartItemInfo.i) {\n          winStartItemInfo = winEndItemInfo;\n        } else {\n          // e.g., when page size is smaller than item size.\n          winStartItemInfo = currItemInfo;\n        }\n        if (winStartItemInfo) {\n          if (result.pageNextDataIndex == null) {\n            result.pageNextDataIndex = winStartItemInfo.i;\n          }\n          ++result.pageCount;\n        }\n      }\n      winEndItemInfo = currItemInfo;\n    }\n    for (var i = targetItemIndex - 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i >= -1; --i) {\n      currItemInfo = getItemInfo(children[i]);\n      if (\n      // If the the end item does not intersect with the window started\n      // from the current item, a page can be settled.\n      (!currItemInfo || !intersect(winEndItemInfo, currItemInfo.s)\n      // e.g., when page size is smaller than item size.\n      ) && winStartItemInfo.i < winEndItemInfo.i) {\n        winEndItemInfo = winStartItemInfo;\n        if (result.pagePrevDataIndex == null) {\n          result.pagePrevDataIndex = winStartItemInfo.i;\n        }\n        ++result.pageCount;\n        ++result.pageIndex;\n      }\n      winStartItemInfo = currItemInfo;\n    }\n    return result;\n    function getItemInfo(el) {\n      if (el) {\n        var itemRect = el.getBoundingRect();\n        var start = itemRect[xy] + el[xy];\n        return {\n          s: start,\n          e: start + itemRect[wh],\n          i: el.__legendDataIndex\n        };\n      }\n    }\n    function intersect(itemInfo, winStart) {\n      return itemInfo.e >= winStart && itemInfo.s <= winStart + containerRectSize;\n    }\n  };\n  ScrollableLegendView.prototype._findTargetItemIndex = function (targetDataIndex) {\n    if (!this._showController) {\n      return 0;\n    }\n    var index;\n    var contentGroup = this.getContentGroup();\n    var defaultIndex;\n    contentGroup.eachChild(function (child, idx) {\n      var legendDataIdx = child.__legendDataIndex;\n      // FIXME\n      // If the given targetDataIndex (from model) is illegal,\n      // we use defaultIndex. But the index on the legend model and\n      // action payload is still illegal. That case will not be\n      // changed until some scenario requires.\n      if (defaultIndex == null && legendDataIdx != null) {\n        defaultIndex = idx;\n      }\n      if (legendDataIdx === targetDataIndex) {\n        index = idx;\n      }\n    });\n    return index != null ? index : defaultIndex;\n  };\n  ScrollableLegendView.type = 'legend.scroll';\n  return ScrollableLegendView;\n}(LegendView);\nexport default ScrollableLegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function installScrollableLegendAction(registers) {\n  /**\n   * @event legendScroll\n   * @type {Object}\n   * @property {string} type 'legendScroll'\n   * @property {string} scrollDataIndex\n   */\n  registers.registerAction('legendScroll', 'legendscroll', function (payload, ecModel) {\n    var scrollDataIndex = payload.scrollDataIndex;\n    scrollDataIndex != null && ecModel.eachComponent({\n      mainType: 'legend',\n      subType: 'scroll',\n      query: payload\n    }, function (legendModel) {\n      legendModel.setScrollDataIndex(scrollDataIndex);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installLegendPlain } from './installLegendPlain.js';\nimport ScrollableLegendModel from './ScrollableLegendModel.js';\nimport ScrollableLegendView from './ScrollableLegendView.js';\nimport installScrollableLegendAction from './scrollableLegendAction.js';\nexport function install(registers) {\n  use(installLegendPlain);\n  registers.registerComponentModel(ScrollableLegendModel);\n  registers.registerComponentView(ScrollableLegendView);\n  installScrollableLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installLegendPlain } from './installLegendPlain.js';\nimport { install as installLegendScroll } from './installLegendScroll.js';\nexport function install(registers) {\n  use(installLegendPlain);\n  use(installLegendScroll);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar InsideZoomModel = /** @class */function (_super) {\n  __extends(InsideZoomModel, _super);\n  function InsideZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = InsideZoomModel.type;\n    return _this;\n  }\n  InsideZoomModel.type = 'dataZoom.inside';\n  InsideZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    disabled: false,\n    zoomLock: false,\n    zoomOnMouseWheel: true,\n    moveOnMouseMove: true,\n    moveOnMouseWheel: false,\n    preventDefaultMouseMove: true\n  });\n  return InsideZoomModel;\n}(DataZoomModel);\nexport default InsideZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Only create one roam controller for each coordinate system.\n// one roam controller might be refered by two inside data zoom\n// components (for example, one for x and one for y). When user\n// pan or zoom, only dispatch one action for those data zoom\n// components.\nimport RoamController from '../../component/helper/RoamController.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport { makeInner } from '../../util/model.js';\nimport { each, curry, createHashMap } from 'zrender/lib/core/util.js';\nimport { collectReferCoordSysModelInfo } from './helper.js';\nvar inner = makeInner();\nexport function setViewInfoToCoordSysRecord(api, dataZoomModel, getRange) {\n  inner(api).coordSysRecordMap.each(function (coordSysRecord) {\n    var dzInfo = coordSysRecord.dataZoomInfoMap.get(dataZoomModel.uid);\n    if (dzInfo) {\n      dzInfo.getRange = getRange;\n    }\n  });\n}\nexport function disposeCoordSysRecordIfNeeded(api, dataZoomModel) {\n  var coordSysRecordMap = inner(api).coordSysRecordMap;\n  var coordSysKeyArr = coordSysRecordMap.keys();\n  for (var i = 0; i < coordSysKeyArr.length; i++) {\n    var coordSysKey = coordSysKeyArr[i];\n    var coordSysRecord = coordSysRecordMap.get(coordSysKey);\n    var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n    if (dataZoomInfoMap) {\n      var dzUid = dataZoomModel.uid;\n      var dzInfo = dataZoomInfoMap.get(dzUid);\n      if (dzInfo) {\n        dataZoomInfoMap.removeKey(dzUid);\n        if (!dataZoomInfoMap.keys().length) {\n          disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        }\n      }\n    }\n  }\n}\nfunction disposeCoordSysRecord(coordSysRecordMap, coordSysRecord) {\n  if (coordSysRecord) {\n    coordSysRecordMap.removeKey(coordSysRecord.model.uid);\n    var controller = coordSysRecord.controller;\n    controller && controller.dispose();\n  }\n}\nfunction createCoordSysRecord(api, coordSysModel) {\n  // These init props will never change after record created.\n  var coordSysRecord = {\n    model: coordSysModel,\n    containsPoint: curry(containsPoint, coordSysModel),\n    dispatchAction: curry(dispatchAction, api),\n    dataZoomInfoMap: null,\n    controller: null\n  };\n  // Must not do anything depends on coordSysRecord outside the event handler here,\n  // because coordSysRecord not completed yet.\n  var controller = coordSysRecord.controller = new RoamController(api.getZr());\n  each(['pan', 'zoom', 'scrollMove'], function (eventName) {\n    controller.on(eventName, function (event) {\n      var batch = [];\n      coordSysRecord.dataZoomInfoMap.each(function (dzInfo) {\n        // Check whether the behaviors (zoomOnMouseWheel, moveOnMouseMove,\n        // moveOnMouseWheel, ...) enabled.\n        if (!event.isAvailableBehavior(dzInfo.model.option)) {\n          return;\n        }\n        var method = (dzInfo.getRange || {})[eventName];\n        var range = method && method(dzInfo.dzReferCoordSysInfo, coordSysRecord.model.mainType, coordSysRecord.controller, event);\n        !dzInfo.model.get('disabled', true) && range && batch.push({\n          dataZoomId: dzInfo.model.id,\n          start: range[0],\n          end: range[1]\n        });\n      });\n      batch.length && coordSysRecord.dispatchAction(batch);\n    });\n  });\n  return coordSysRecord;\n}\n/**\n * This action will be throttled.\n */\nfunction dispatchAction(api, batch) {\n  if (!api.isDisposed()) {\n    api.dispatchAction({\n      type: 'dataZoom',\n      animation: {\n        easing: 'cubicOut',\n        duration: 100\n      },\n      batch: batch\n    });\n  }\n}\nfunction containsPoint(coordSysModel, e, x, y) {\n  return coordSysModel.coordinateSystem.containPoint([x, y]);\n}\n/**\n * Merge roamController settings when multiple dataZooms share one roamController.\n */\nfunction mergeControllerParams(dataZoomInfoMap, coordSysRecord, api) {\n  var controlType;\n  // DO NOT use reserved word (true, false, undefined) as key literally. Even if encapsulated\n  // as string, it is probably revert to reserved word by compress tool. See #7411.\n  var prefix = 'type_';\n  var typePriority = {\n    'type_true': 2,\n    'type_move': 1,\n    'type_false': 0,\n    'type_undefined': -1\n  };\n  var preventDefaultMouseMove = true;\n  dataZoomInfoMap.each(function (dataZoomInfo) {\n    var dataZoomModel = dataZoomInfo.model;\n    var oneType = dataZoomModel.get('disabled', true) ? false : dataZoomModel.get('zoomLock', true) ? 'move' : true;\n    if (typePriority[prefix + oneType] > typePriority[prefix + controlType]) {\n      controlType = oneType;\n    }\n    // Prevent default move event by default. If one false, do not prevent. Otherwise\n    // users may be confused why it does not work when multiple insideZooms exist.\n    preventDefaultMouseMove = preventDefaultMouseMove && dataZoomModel.get('preventDefaultMouseMove', true);\n  });\n  return {\n    controlType: controlType,\n    opt: {\n      // RoamController will enable all of these functionalities,\n      // and the final behavior is determined by its event listener\n      // provided by each inside zoom.\n      zoomOnMouseWheel: true,\n      moveOnMouseMove: true,\n      moveOnMouseWheel: true,\n      preventDefaultMouseMove: !!preventDefaultMouseMove,\n      api: api,\n      zInfo: {\n        component: coordSysRecord.model\n      },\n      triggerInfo: {\n        roamTrigger: null,\n        isInSelf: coordSysRecord.containsPoint\n      }\n    }\n  };\n}\nexport function installDataZoomRoamProcessor(registers) {\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, function (ecModel, api) {\n    var apiInner = inner(api);\n    var coordSysRecordMap = apiInner.coordSysRecordMap || (apiInner.coordSysRecordMap = createHashMap());\n    coordSysRecordMap.each(function (coordSysRecord) {\n      // `coordSysRecordMap` always exists (because it holds the `roam controller`, which should\n      // better not re-create each time), but clear `dataZoomInfoMap` each round of the workflow.\n      coordSysRecord.dataZoomInfoMap = null;\n    });\n    ecModel.eachComponent({\n      mainType: 'dataZoom',\n      subType: 'inside'\n    }, function (dataZoomModel) {\n      var dzReferCoordSysWrap = collectReferCoordSysModelInfo(dataZoomModel);\n      each(dzReferCoordSysWrap.infoList, function (dzCoordSysInfo) {\n        var coordSysUid = dzCoordSysInfo.model.uid;\n        var coordSysRecord = coordSysRecordMap.get(coordSysUid) || coordSysRecordMap.set(coordSysUid, createCoordSysRecord(api, dzCoordSysInfo.model));\n        var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap || (coordSysRecord.dataZoomInfoMap = createHashMap());\n        // Notice these props might be changed each time for a single dataZoomModel.\n        dataZoomInfoMap.set(dataZoomModel.uid, {\n          dzReferCoordSysInfo: dzCoordSysInfo,\n          model: dataZoomModel,\n          getRange: null\n        });\n      });\n    });\n    // (1) Merge dataZoom settings for each coord sys and set to the roam controller.\n    // (2) Clear coord sys if not refered by any dataZoom.\n    coordSysRecordMap.each(function (coordSysRecord) {\n      var controller = coordSysRecord.controller;\n      var firstDzInfo;\n      var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n      if (dataZoomInfoMap) {\n        var firstDzKey = dataZoomInfoMap.keys()[0];\n        if (firstDzKey != null) {\n          firstDzInfo = dataZoomInfoMap.get(firstDzKey);\n        }\n      }\n      if (!firstDzInfo) {\n        disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        return;\n      }\n      var controllerParams = mergeControllerParams(dataZoomInfoMap, coordSysRecord, api);\n      controller.enable(controllerParams.controlType, controllerParams.opt);\n      throttleUtil.createOrUpdate(coordSysRecord, 'dispatchAction', firstDzInfo.model.get('throttle', true), 'fixRate');\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomView from './DataZoomView.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport * as roams from './roams.js';\nimport { bind } from 'zrender/lib/core/util.js';\nvar InsideZoomView = /** @class */function (_super) {\n  __extends(InsideZoomView, _super);\n  function InsideZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'dataZoom.inside';\n    return _this;\n  }\n  InsideZoomView.prototype.render = function (dataZoomModel, ecModel, api) {\n    _super.prototype.render.apply(this, arguments);\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n      return;\n    }\n    // Hence the `throttle` util ensures to preserve command order,\n    // here simply updating range all the time will not cause missing\n    // any of the the roam change.\n    this.range = dataZoomModel.getPercentRange();\n    // Reset controllers.\n    roams.setViewInfoToCoordSysRecord(api, dataZoomModel, {\n      pan: bind(getRangeHandlers.pan, this),\n      zoom: bind(getRangeHandlers.zoom, this),\n      scrollMove: bind(getRangeHandlers.scrollMove, this)\n    });\n  };\n  InsideZoomView.prototype.dispose = function () {\n    this._clear();\n    _super.prototype.dispose.apply(this, arguments);\n  };\n  InsideZoomView.prototype._clear = function () {\n    roams.disposeCoordSysRecordIfNeeded(this.api, this.dataZoomModel);\n    this.range = null;\n  };\n  InsideZoomView.type = 'dataZoom.inside';\n  return InsideZoomView;\n}(DataZoomView);\nvar getRangeHandlers = {\n  zoom: function (coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice();\n    // Calculate transform by the first axis.\n    var axisModel = coordSysInfo.axisModels[0];\n    if (!axisModel) {\n      return;\n    }\n    var directionInfo = getDirectionInfo[coordSysMainType](null, [e.originX, e.originY], axisModel, controller, coordSysInfo);\n    var percentPoint = (directionInfo.signal > 0 ? directionInfo.pixelStart + directionInfo.pixelLength - directionInfo.pixel : directionInfo.pixel - directionInfo.pixelStart) / directionInfo.pixelLength * (range[1] - range[0]) + range[0];\n    var scale = Math.max(1 / e.scale, 0);\n    range[0] = (range[0] - percentPoint) * scale + percentPoint;\n    range[1] = (range[1] - percentPoint) * scale + percentPoint;\n    // Restrict range.\n    var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    sliderMove(0, range, [0, 100], 0, minMaxSpan.minSpan, minMaxSpan.maxSpan);\n    this.range = range;\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  },\n  pan: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([e.oldX, e.oldY], [e.newX, e.newY], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * directionInfo.pixel / directionInfo.pixelLength;\n  }),\n  scrollMove: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([0, 0], [e.scrollDelta, e.scrollDelta], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * e.scrollDelta;\n  })\n};\nfunction makeMover(getPercentDelta) {\n  return function (coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice();\n    // Calculate transform by the first axis.\n    var axisModel = coordSysInfo.axisModels[0];\n    if (!axisModel) {\n      return;\n    }\n    var percentDelta = getPercentDelta(range, axisModel, coordSysInfo, coordSysMainType, controller, e);\n    sliderMove(percentDelta, range, [0, 100], 'all');\n    this.range = range;\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  };\n}\nvar getDirectionInfo = {\n  grid: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    oldPoint = oldPoint || [0, 0];\n    if (axis.dim === 'x') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // axis.dim === 'y'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n    return ret;\n  },\n  polar: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var polar = coordSysInfo.model.coordinateSystem;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var angleExtent = polar.getAngleAxis().getExtent();\n    oldPoint = oldPoint ? polar.pointToCoord(oldPoint) : [0, 0];\n    newPoint = polar.pointToCoord(newPoint);\n    if (axisModel.mainType === 'radiusAxis') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      // ret.pixelLength = Math.abs(radiusExtent[1] - radiusExtent[0]);\n      // ret.pixelStart = Math.min(radiusExtent[0], radiusExtent[1]);\n      ret.pixelLength = radiusExtent[1] - radiusExtent[0];\n      ret.pixelStart = radiusExtent[0];\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'angleAxis'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      // ret.pixelLength = Math.abs(angleExtent[1] - angleExtent[0]);\n      // ret.pixelStart = Math.min(angleExtent[0], angleExtent[1]);\n      ret.pixelLength = angleExtent[1] - angleExtent[0];\n      ret.pixelStart = angleExtent[0];\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n    return ret;\n  },\n  singleAxis: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    var ret = {};\n    oldPoint = oldPoint || [0, 0];\n    if (axis.orient === 'horizontal') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'vertical'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n    return ret;\n  }\n};\nexport default InsideZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport InsideZoomModel from './InsideZoomModel.js';\nimport InsideZoomView from './InsideZoomView.js';\nimport { installDataZoomRoamProcessor } from './roams.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  installCommon(registers);\n  registers.registerComponentModel(InsideZoomModel);\n  registers.registerComponentView(InsideZoomView);\n  installDataZoomRoamProcessor(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nimport tokens from '../../visual/tokens.js';\nvar SliderZoomModel = /** @class */function (_super) {\n  __extends(SliderZoomModel, _super);\n  function SliderZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderZoomModel.type;\n    return _this;\n  }\n  SliderZoomModel.type = 'dataZoom.slider';\n  SliderZoomModel.layoutMode = 'box';\n  SliderZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    show: true,\n    // deault value can only be drived in view stage.\n    right: 'ph',\n    top: 'ph',\n    width: 'ph',\n    height: 'ph',\n    left: null,\n    bottom: null,\n    borderColor: tokens.color.accent10,\n    borderRadius: 0,\n    backgroundColor: tokens.color.transparent,\n    // dataBackgroundColor: '#ddd',\n    dataBackground: {\n      lineStyle: {\n        color: tokens.color.accent30,\n        width: 0.5\n      },\n      areaStyle: {\n        color: tokens.color.accent20,\n        opacity: 0.2\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: tokens.color.accent40,\n        width: 0.5\n      },\n      areaStyle: {\n        color: tokens.color.accent20,\n        opacity: 0.3\n      }\n    },\n    // Color of selected window.\n    fillerColor: 'rgba(135,175,274,0.2)',\n    handleIcon: 'path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z',\n    // Percent of the slider height\n    handleSize: '100%',\n    handleStyle: {\n      color: tokens.color.neutral00,\n      borderColor: tokens.color.accent20\n    },\n    moveHandleSize: 7,\n    moveHandleIcon: 'path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z',\n    moveHandleStyle: {\n      color: tokens.color.accent40,\n      opacity: 0.5\n    },\n    showDetail: true,\n    showDataShadow: 'auto',\n    realtime: true,\n    zoomLock: false,\n    textStyle: {\n      color: tokens.color.tertiary\n    },\n    brushSelect: true,\n    brushStyle: {\n      color: tokens.color.accent30,\n      opacity: 0.3\n    },\n    emphasis: {\n      handleLabel: {\n        show: true\n      },\n      handleStyle: {\n        borderColor: tokens.color.accent40\n      },\n      moveHandleStyle: {\n        opacity: 0.8\n      }\n    },\n    defaultLocationEdgeGap: 15\n  });\n  return SliderZoomModel;\n}(DataZoomModel);\nexport default SliderZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { bind, each, isFunction, isString, indexOf } from 'zrender/lib/core/util.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as throttle from '../../util/throttle.js';\nimport DataZoomView from './DataZoomView.js';\nimport { linearMap, asc, parsePercent } from '../../util/number.js';\nimport * as layout from '../../util/layout.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport { getAxisMainType, collectReferCoordSysModelInfo } from './helper.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { createSymbol, symbolBuildProxies } from '../../util/symbol.js';\nimport { deprecateLog } from '../../util/log.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport tokens from '../../visual/tokens.js';\nvar Rect = graphic.Rect;\n// Constants\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar DEFAULT_MOVE_HANDLE_SIZE = 7;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar REALTIME_ANIMATION_CONFIG = {\n  easing: 'cubicOut',\n  duration: 100,\n  delay: 0\n};\nvar SliderZoomView = /** @class */function (_super) {\n  __extends(SliderZoomView, _super);\n  function SliderZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderZoomView.type;\n    _this._displayables = {};\n    return _this;\n  }\n  SliderZoomView.prototype.init = function (ecModel, api) {\n    this.api = api;\n    // A unique handler for each dataZoom component\n    this._onBrush = bind(this._onBrush, this);\n    this._onBrushEnd = bind(this._onBrushEnd, this);\n  };\n  SliderZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    _super.prototype.render.apply(this, arguments);\n    throttle.createOrUpdate(this, '_dispatchZoomAction', dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.getOrient();\n    if (dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n      this.group.removeAll();\n      return;\n    }\n    // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n    this._updateView();\n  };\n  SliderZoomView.prototype.dispose = function () {\n    this._clear();\n    _super.prototype.dispose.apply(this, arguments);\n  };\n  SliderZoomView.prototype._clear = function () {\n    throttle.clear(this, '_dispatchZoomAction');\n    var zr = this.api.getZr();\n    zr.off('mousemove', this._onBrush);\n    zr.off('mouseup', this._onBrushEnd);\n  };\n  SliderZoomView.prototype._buildView = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    this._brushing = false;\n    this._displayables.brushRect = null;\n    this._resetLocation();\n    this._resetInterval();\n    var barGroup = this._displayables.sliderGroup = new graphic.Group();\n    this._renderBackground();\n    this._renderHandle();\n    this._renderDataShadow();\n    thisGroup.add(barGroup);\n    this._positionGroup();\n  };\n  SliderZoomView.prototype._resetLocation = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var showMoveHandle = dataZoomModel.get('brushSelect');\n    var moveHandleSize = showMoveHandle ? DEFAULT_MOVE_HANDLE_SIZE : 0;\n    var refContainer = layout.createBoxLayoutReference(dataZoomModel, api).refContainer;\n    // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n    var coordRect = this._findCoordRect();\n    var edgeGap = dataZoomModel.get('defaultLocationEdgeGap', true) || 0;\n    // Default align by coordinate system rect.\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: refContainer.width - coordRect.x - coordRect.width,\n      top: refContainer.height - DEFAULT_FILLER_SIZE - edgeGap - moveHandleSize,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      right: edgeGap,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    };\n    // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option);\n    // Replace the placeholder value.\n    each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, refContainer);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  };\n  SliderZoomView.prototype._positionGroup = function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient;\n    // Just use the first axis to determine mapping.\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var sliderGroup = this._displayables.sliderGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse;\n    // Transform barGroup.\n    sliderGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: 1\n    } : orient === HORIZONTAL && inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: -1\n    } : orient === VERTICAL && !inverse ? {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: 1,\n      rotation: Math.PI / 2\n    }\n    // Don't use Math.PI, considering shadow direction.\n    : {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: -1,\n      rotation: Math.PI / 2\n    });\n    // Position barGroup\n    var rect = thisGroup.getBoundingRect([sliderGroup]);\n    thisGroup.x = location.x - rect.x;\n    thisGroup.y = location.y - rect.y;\n    thisGroup.markRedraw();\n  };\n  SliderZoomView.prototype._getViewExtent = function () {\n    return [0, this._size[0]];\n  };\n  SliderZoomView.prototype._renderBackground = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.sliderGroup;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    }));\n    // Click panel, over shadow, below handles.\n    var clickPanel = new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: bind(this._onClickPanel, this)\n    });\n    var zr = this.api.getZr();\n    if (brushSelect) {\n      clickPanel.on('mousedown', this._onBrushStart, this);\n      clickPanel.cursor = 'crosshair';\n      zr.on('mousemove', this._onBrush);\n      zr.on('mouseup', this._onBrushEnd);\n    } else {\n      zr.off('mousemove', this._onBrush);\n      zr.off('mouseup', this._onBrushEnd);\n    }\n    barGroup.add(clickPanel);\n  };\n  SliderZoomView.prototype._renderDataShadow = function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n    this._displayables.dataShadowSegs = [];\n    if (!info) {\n      return;\n    }\n    var size = this._size;\n    var oldSize = this._shadowSize || [];\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var candlestickDim = seriesModel.getShadowDim && seriesModel.getShadowDim();\n    var otherDim = candlestickDim && data.getDimensionInfo(candlestickDim) ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n    if (otherDim == null) {\n      return;\n    }\n    var polygonPts = this._shadowPolygonPts;\n    var polylinePts = this._shadowPolylinePts;\n    // Not re-render if data doesn't change.\n    if (data !== this._shadowData || otherDim !== this._shadowDim || size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      var thisDataExtent_1 = data.getDataExtent(info.thisDim);\n      var otherDataExtent_1 = data.getDataExtent(otherDim);\n      // Nice extent.\n      var otherOffset = (otherDataExtent_1[1] - otherDataExtent_1[0]) * 0.3;\n      otherDataExtent_1 = [otherDataExtent_1[0] - otherOffset, otherDataExtent_1[1] + otherOffset];\n      var otherShadowExtent_1 = [0, size[1]];\n      var thisShadowExtent = [0, size[0]];\n      var areaPoints_1 = [[size[0], 0], [0, 0]];\n      var linePoints_1 = [];\n      var step_1 = thisShadowExtent[1] / Math.max(1, data.count() - 1);\n      var normalizationConstant_1 = size[0] / (thisDataExtent_1[1] - thisDataExtent_1[0]);\n      var isTimeAxis_1 = info.thisAxis.type === 'time';\n      var thisCoord_1 = -step_1;\n      // Optimize for large data shadow\n      var stride_1 = Math.round(data.count() / size[0]);\n      var lastIsEmpty_1;\n      data.each([info.thisDim, otherDim], function (thisValue, otherValue, index) {\n        if (stride_1 > 0 && index % stride_1) {\n          if (!isTimeAxis_1) {\n            thisCoord_1 += step_1;\n          }\n          return;\n        }\n        thisCoord_1 = isTimeAxis_1 ? (+thisValue - thisDataExtent_1[0]) * normalizationConstant_1 : thisCoord_1 + step_1;\n        // FIXME\n        // Should consider axis.min/axis.max when drawing dataShadow.\n        // FIXME\n        // list\n        var isEmpty = otherValue == null || isNaN(otherValue) || otherValue === '';\n        // See #4235.\n        var otherCoord = isEmpty ? 0 : linearMap(otherValue, otherDataExtent_1, otherShadowExtent_1, true);\n        // Attempt to draw data shadow precisely when there are empty value.\n        if (isEmpty && !lastIsEmpty_1 && index) {\n          areaPoints_1.push([areaPoints_1[areaPoints_1.length - 1][0], 0]);\n          linePoints_1.push([linePoints_1[linePoints_1.length - 1][0], 0]);\n        } else if (!isEmpty && lastIsEmpty_1) {\n          areaPoints_1.push([thisCoord_1, 0]);\n          linePoints_1.push([thisCoord_1, 0]);\n        }\n        if (!isEmpty) {\n          areaPoints_1.push([thisCoord_1, otherCoord]);\n          linePoints_1.push([thisCoord_1, otherCoord]);\n        }\n        lastIsEmpty_1 = isEmpty;\n      });\n      polygonPts = this._shadowPolygonPts = areaPoints_1;\n      polylinePts = this._shadowPolylinePts = linePoints_1;\n    }\n    this._shadowData = data;\n    this._shadowDim = otherDim;\n    this._shadowSize = [size[0], size[1]];\n    var dataZoomModel = this.dataZoomModel;\n    function createDataShadowGroup(isSelectedArea) {\n      var model = dataZoomModel.getModel(isSelectedArea ? 'selectedDataBackground' : 'dataBackground');\n      var group = new graphic.Group();\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: polygonPts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('areaStyle').getAreaStyle(),\n        silent: true,\n        z2: -20\n      });\n      var polyline = new graphic.Polyline({\n        shape: {\n          points: polylinePts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('lineStyle').getLineStyle(),\n        silent: true,\n        z2: -19\n      });\n      group.add(polygon);\n      group.add(polyline);\n      return group;\n    }\n    // let dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n    for (var i = 0; i < 3; i++) {\n      var group = createDataShadowGroup(i === 1);\n      this._displayables.sliderGroup.add(group);\n      this._displayables.dataShadowSegs.push(group);\n    }\n  };\n  SliderZoomView.prototype._prepareDataShadowInfo = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n    if (showDataShadow === false) {\n      return;\n    }\n    // Find a representative series.\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(axisDim, axisIndex).getTargetSeriesModels();\n      each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n        if (showDataShadow !== true && indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n        var thisAxis = ecModel.getComponent(getAxisMainType(axisDim), axisIndex).axis;\n        var otherDim = getOtherDim(axisDim);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        var thisDim = seriesModel.getData().mapDimension(axisDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: thisDim,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  };\n  SliderZoomView.prototype._renderHandle = function () {\n    var thisGroup = this.group;\n    var displayables = this._displayables;\n    var handles = displayables.handles = [null, null];\n    var handleLabels = displayables.handleLabels = [null, null];\n    var sliderGroup = this._displayables.sliderGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var borderRadius = dataZoomModel.get('borderRadius') || 0;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    var filler = displayables.filler = new Rect({\n      silent: brushSelect,\n      style: {\n        fill: dataZoomModel.get('fillerColor')\n      },\n      textConfig: {\n        position: 'inside'\n      }\n    });\n    sliderGroup.add(filler);\n    // Frame border.\n    sliderGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1],\n        r: borderRadius\n      },\n      style: {\n        // deprecated option\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: tokens.color.transparent\n      }\n    }));\n    // Left and right handle to resize\n    each([0, 1], function (handleIndex) {\n      var iconStr = dataZoomModel.get('handleIcon');\n      if (!symbolBuildProxies[iconStr] && iconStr.indexOf('path://') < 0 && iconStr.indexOf('image://') < 0) {\n        // Compatitable with the old icon parsers. Which can use a path string without path://\n        iconStr = 'path://' + iconStr;\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('handleIcon now needs \\'path://\\' prefix when using a path string');\n        }\n      }\n      var path = createSymbol(iconStr, -1, 0, 2, 2, null, true);\n      path.attr({\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false),\n        z2: 5\n      });\n      var bRect = path.getBoundingRect();\n      var handleSize = dataZoomModel.get('handleSize');\n      this._handleHeight = parsePercent(handleSize, this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      path.style.strokeNoScale = true;\n      path.rectHover = true;\n      path.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n      enableHoverEmphasis(path);\n      var handleColor = dataZoomModel.get('handleColor'); // deprecated option\n      // Compatitable with previous version\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n      sliderGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.getModel('textStyle');\n      var handleLabel = dataZoomModel.get('handleLabel') || {};\n      var handleLabelShow = handleLabel.show || false;\n      thisGroup.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: !handleLabelShow,\n        style: createTextStyle(textStyleModel, {\n          x: 0,\n          y: 0,\n          text: '',\n          verticalAlign: 'middle',\n          align: 'center',\n          fill: textStyleModel.getTextColor(),\n          font: textStyleModel.getFont()\n        }),\n        z2: 10\n      }));\n    }, this);\n    // Handle to move. Only visible when brushSelect is set true.\n    var actualMoveZone = filler;\n    if (brushSelect) {\n      var moveHandleHeight = parsePercent(dataZoomModel.get('moveHandleSize'), size[1]);\n      var moveHandle_1 = displayables.moveHandle = new graphic.Rect({\n        style: dataZoomModel.getModel('moveHandleStyle').getItemStyle(),\n        silent: true,\n        shape: {\n          r: [0, 0, 2, 2],\n          y: size[1] - 0.5,\n          height: moveHandleHeight\n        }\n      });\n      var iconSize = moveHandleHeight * 0.8;\n      var moveHandleIcon = displayables.moveHandleIcon = createSymbol(dataZoomModel.get('moveHandleIcon'), -iconSize / 2, -iconSize / 2, iconSize, iconSize, tokens.color.neutral00, true);\n      moveHandleIcon.silent = true;\n      moveHandleIcon.y = size[1] + moveHandleHeight / 2 - 0.5;\n      moveHandle_1.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'moveHandleStyle']).getItemStyle();\n      var moveZoneExpandSize = Math.min(size[1] / 2, Math.max(moveHandleHeight, 10));\n      actualMoveZone = displayables.moveZone = new graphic.Rect({\n        invisible: true,\n        shape: {\n          y: size[1] - moveZoneExpandSize,\n          height: moveHandleHeight + moveZoneExpandSize\n        }\n      });\n      actualMoveZone.on('mouseover', function () {\n        api.enterEmphasis(moveHandle_1);\n      }).on('mouseout', function () {\n        api.leaveEmphasis(moveHandle_1);\n      });\n      sliderGroup.add(moveHandle_1);\n      sliderGroup.add(moveHandleIcon);\n      sliderGroup.add(actualMoveZone);\n    }\n    actualMoveZone.attr({\n      draggable: true,\n      cursor: 'default',\n      drift: bind(this._onDragMove, this, 'all'),\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false)\n    });\n  };\n  SliderZoomView.prototype._resetInterval = function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n    var viewExtent = this._getViewExtent();\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  };\n  SliderZoomView.prototype._updateInterval = function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n    var viewExtend = this._getViewExtent();\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  };\n  SliderZoomView.prototype._updateView = function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scaleX: handleHeight / 2,\n        scaleY: handleHeight / 2,\n        // This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.\n        // NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.\n        x: handleEnds[handleIndex] + (handleIndex ? -1 : 1),\n        y: size[1] / 2 - handleHeight / 2\n      });\n    }, this);\n    // Filler\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n    var viewExtent = {\n      x: handleInterval[0],\n      width: handleInterval[1] - handleInterval[0]\n    };\n    // Move handle\n    if (displaybles.moveHandle) {\n      displaybles.moveHandle.setShape(viewExtent);\n      displaybles.moveZone.setShape(viewExtent);\n      // Force update path on the invisible object\n      displaybles.moveZone.getBoundingRect();\n      displaybles.moveHandleIcon && displaybles.moveHandleIcon.attr('x', viewExtent.x + viewExtent.width / 2);\n    }\n    // update clip path of shadow.\n    var dataShadowSegs = displaybles.dataShadowSegs;\n    var segIntervals = [0, handleInterval[0], handleInterval[1], size[0]];\n    for (var i = 0; i < dataShadowSegs.length; i++) {\n      var segGroup = dataShadowSegs[i];\n      var clipPath = segGroup.getClipPath();\n      if (!clipPath) {\n        clipPath = new graphic.Rect();\n        segGroup.setClipPath(clipPath);\n      }\n      clipPath.setShape({\n        x: segIntervals[i],\n        y: 0,\n        width: segIntervals[i + 1] - segIntervals[i],\n        height: size[1]\n      });\n    }\n    this._updateDataInfo(nonRealtime);\n  };\n  SliderZoomView.prototype._updateDataInfo = function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', ''];\n    // FIXME\n    // dateformatterautoformatterec2 date.getAutoFormatter\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime\n        // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        verticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        align: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  };\n  SliderZoomView.prototype._formatLabel = function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n    var valueStr = value == null || isNaN(value) ? ''\n    // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel({\n      value: Math.round(value)\n    })\n    // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return isFunction(labelFormatter) ? labelFormatter(value, valueStr) : isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  };\n  /**\n   * @param isEmphasis true: show, false: hide\n   */\n  SliderZoomView.prototype._showDataInfo = function (isEmphasis) {\n    var handleLabel = this.dataZoomModel.get('handleLabel') || {};\n    var normalShow = handleLabel.show || false;\n    var emphasisHandleLabel = this.dataZoomModel.getModel(['emphasis', 'handleLabel']);\n    var emphasisShow = emphasisHandleLabel.get('show') || false;\n    // Dragging is considered as emphasis, unless emphasisShow is false\n    var toShow = isEmphasis || this._dragging ? emphasisShow : normalShow;\n    var displayables = this._displayables;\n    var handleLabels = displayables.handleLabels;\n    handleLabels[0].attr('invisible', !toShow);\n    handleLabels[1].attr('invisible', !toShow);\n    // Highlight move handle\n    displayables.moveHandle && this.api[toShow ? 'enterEmphasis' : 'leaveEmphasis'](displayables.moveHandle, 1);\n  };\n  SliderZoomView.prototype._onDragMove = function (handleIndex, dx, dy, event) {\n    this._dragging = true;\n    // For mobile device, prevent screen slider on the button.\n    eventTool.stop(event.event);\n    // Transform dx, dy to bar coordination.\n    var barTransform = this._displayables.sliderGroup.getLocalTransform();\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n    var realtime = this.dataZoomModel.get('realtime');\n    this._updateView(!realtime);\n    // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n    changed && realtime && this._dispatchZoomAction(true);\n  };\n  SliderZoomView.prototype._onDragEnd = function () {\n    this._dragging = false;\n    this._showDataInfo(false);\n    // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onClickPanel = function (e) {\n    var size = this._size;\n    var localPoint = this._displayables.sliderGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n    var changed = this._updateInterval('all', localPoint[0] - center);\n    this._updateView();\n    changed && this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onBrushStart = function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    this._brushStart = new graphic.Point(x, y);\n    this._brushing = true;\n    this._brushStartTime = +new Date();\n    // this._updateBrushRect(x, y);\n  };\n  SliderZoomView.prototype._onBrushEnd = function (e) {\n    if (!this._brushing) {\n      return;\n    }\n    var brushRect = this._displayables.brushRect;\n    this._brushing = false;\n    if (!brushRect) {\n      return;\n    }\n    brushRect.attr('ignore', true);\n    var brushShape = brushRect.shape;\n    var brushEndTime = +new Date();\n    // console.log(brushEndTime - this._brushStartTime);\n    if (brushEndTime - this._brushStartTime < 200 && Math.abs(brushShape.width) < 5) {\n      // Will treat it as a click\n      return;\n    }\n    var viewExtend = this._getViewExtent();\n    var percentExtent = [0, 100];\n    var handleEnds = this._handleEnds = [brushShape.x, brushShape.x + brushShape.width];\n    var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    // Restrict range.\n    sliderMove(0, handleEnds, viewExtend, 0, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    this._updateView();\n    this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onBrush = function (e) {\n    if (this._brushing) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n      this._updateBrushRect(e.offsetX, e.offsetY);\n    }\n  };\n  SliderZoomView.prototype._updateBrushRect = function (mouseX, mouseY) {\n    var displayables = this._displayables;\n    var dataZoomModel = this.dataZoomModel;\n    var brushRect = displayables.brushRect;\n    if (!brushRect) {\n      brushRect = displayables.brushRect = new Rect({\n        silent: true,\n        style: dataZoomModel.getModel('brushStyle').getItemStyle()\n      });\n      displayables.sliderGroup.add(brushRect);\n    }\n    brushRect.attr('ignore', false);\n    var brushStart = this._brushStart;\n    var sliderGroup = this._displayables.sliderGroup;\n    var endPoint = sliderGroup.transformCoordToLocal(mouseX, mouseY);\n    var startPoint = sliderGroup.transformCoordToLocal(brushStart.x, brushStart.y);\n    var size = this._size;\n    endPoint[0] = Math.max(Math.min(size[0], endPoint[0]), 0);\n    brushRect.setShape({\n      x: startPoint[0],\n      y: 0,\n      width: endPoint[0] - startPoint[0],\n      height: size[1]\n    });\n  };\n  /**\n   * This action will be throttled.\n   */\n  SliderZoomView.prototype._dispatchZoomAction = function (realtime) {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      animation: realtime ? REALTIME_ANIMATION_CONFIG : null,\n      start: range[0],\n      end: range[1]\n    });\n  };\n  SliderZoomView.prototype._findCoordRect = function () {\n    // Find the grid corresponding to the first axis referred by dataZoom.\n    var rect;\n    var coordSysInfoList = collectReferCoordSysModelInfo(this.dataZoomModel).infoList;\n    if (!rect && coordSysInfoList.length) {\n      var coordSys = coordSysInfoList[0].model.coordinateSystem;\n      rect = coordSys.getRect && coordSys.getRect();\n    }\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n    return rect;\n  };\n  SliderZoomView.type = 'dataZoom.slider';\n  return SliderZoomView;\n}(DataZoomView);\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // getOtherAxis\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\nexport default SliderZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SliderZoomModel from './SliderZoomModel.js';\nimport SliderZoomView from './SliderZoomView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(SliderZoomModel);\n  registers.registerComponentView(SliderZoomView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installDataZoomInside } from './installDataZoomInside.js';\nimport { install as installDataZoomSlider } from './installDataZoomSlider.js';\nexport function install(registers) {\n  use(installDataZoomInside);\n  use(installDataZoomSlider);\n  // Do not install './dataZoomSelect',\n  // since it only work for toolbox dataZoom.\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * @file Visual mapping.\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport tokens from './tokens.js';\nvar visualDefault = {\n  /**\n   * @public\n   */\n  get: function (visualType, key, isCategory) {\n    var value = zrUtil.clone((defaultOption[visualType] || {})[key]);\n    return isCategory ? zrUtil.isArray(value) ? value[value.length - 1] : value : value;\n  }\n};\nvar defaultOption = {\n  color: {\n    active: ['#006edd', '#e0ffff'],\n    inactive: [tokens.color.transparent]\n  },\n  colorHue: {\n    active: [0, 360],\n    inactive: [0, 0]\n  },\n  colorSaturation: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  colorLightness: {\n    active: [0.9, 0.5],\n    inactive: [0, 0]\n  },\n  colorAlpha: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  opacity: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  symbol: {\n    active: ['circle', 'roundRect', 'diamond'],\n    inactive: ['none']\n  },\n  symbolSize: {\n    active: [10, 50],\n    inactive: [0, 0]\n  }\n};\nexport default visualDefault;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport visualDefault from '../../visual/visualDefault.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport * as modelUtil from '../../util/model.js';\nimport * as numberUtil from '../../util/number.js';\nimport ComponentModel from '../../model/Component.js';\nimport tokens from '../../visual/tokens.js';\nvar mapVisual = VisualMapping.mapVisual;\nvar eachVisual = VisualMapping.eachVisual;\nvar isArray = zrUtil.isArray;\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\nvar linearMap = numberUtil.linearMap;\nvar VisualMapModel = /** @class */function (_super) {\n  __extends(VisualMapModel, _super);\n  function VisualMapModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = VisualMapModel.type;\n    _this.stateList = ['inRange', 'outOfRange'];\n    _this.replacableOptionKeys = ['inRange', 'outOfRange', 'target', 'controller', 'color'];\n    _this.layoutMode = {\n      type: 'box',\n      ignoreSize: true\n    };\n    /**\n     * [lowerBound, upperBound]\n     */\n    _this.dataBound = [-Infinity, Infinity];\n    _this.targetVisuals = {};\n    _this.controllerVisuals = {};\n    return _this;\n  }\n  VisualMapModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  };\n  /**\n   * @protected\n   */\n  VisualMapModel.prototype.optionUpdated = function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, this.replacableOptionKeys);\n    this.textStyleModel = this.getModel('textStyle');\n    this.resetItemSize();\n    this.completeVisualOption();\n  };\n  /**\n   * @protected\n   */\n  VisualMapModel.prototype.resetVisual = function (supplementVisualOption) {\n    var stateList = this.stateList;\n    supplementVisualOption = zrUtil.bind(supplementVisualOption, this);\n    this.controllerVisuals = visualSolution.createVisualMappings(this.option.controller, stateList, supplementVisualOption);\n    this.targetVisuals = visualSolution.createVisualMappings(this.option.target, stateList, supplementVisualOption);\n  };\n  /**\n   * @public\n   */\n  VisualMapModel.prototype.getItemSymbol = function () {\n    return null;\n  };\n  /**\n   * @return An array of series indices.\n   */\n  VisualMapModel.prototype.getTargetSeriesIndices = function () {\n    var optionSeriesId = this.option.seriesId;\n    var optionSeriesIndex = this.option.seriesIndex;\n    if (optionSeriesIndex == null && optionSeriesId == null) {\n      optionSeriesIndex = 'all';\n    }\n    var seriesModels = modelUtil.queryReferringComponents(this.ecModel, 'series', {\n      index: optionSeriesIndex,\n      id: optionSeriesId\n    }, {\n      useDefault: false,\n      enableAll: true,\n      enableNone: false\n    }).models;\n    return zrUtil.map(seriesModels, function (seriesModel) {\n      return seriesModel.componentIndex;\n    });\n  };\n  /**\n   * @public\n   */\n  VisualMapModel.prototype.eachTargetSeries = function (callback, context) {\n    zrUtil.each(this.getTargetSeriesIndices(), function (seriesIndex) {\n      var seriesModel = this.ecModel.getSeriesByIndex(seriesIndex);\n      if (seriesModel) {\n        callback.call(context, seriesModel);\n      }\n    }, this);\n  };\n  /**\n   * @pubilc\n   */\n  VisualMapModel.prototype.isTargetSeries = function (seriesModel) {\n    var is = false;\n    this.eachTargetSeries(function (model) {\n      model === seriesModel && (is = true);\n    });\n    return is;\n  };\n  /**\n   * @example\n   * this.formatValueText(someVal); // format single numeric value to text.\n   * this.formatValueText(someVal, true); // format single category value to text.\n   * this.formatValueText([min, max]); // format numeric min-max to text.\n   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\n   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\n   *\n   * @param value Real value, or this.dataBound[0 or 1].\n   * @param isCategory Only available when value is number.\n   * @param edgeSymbols Open-close symbol when value is interval.\n   * @protected\n   */\n  VisualMapModel.prototype.formatValueText = function (value, isCategory, edgeSymbols) {\n    var option = this.option;\n    var precision = option.precision;\n    var dataBound = this.dataBound;\n    var formatter = option.formatter;\n    var isMinMax;\n    edgeSymbols = edgeSymbols || ['<', '>'];\n    if (zrUtil.isArray(value)) {\n      value = value.slice();\n      isMinMax = true;\n    }\n    var textValue = isCategory ? value // Value is string when isCategory\n    : isMinMax ? [toFixed(value[0]), toFixed(value[1])] : toFixed(value);\n    if (zrUtil.isString(formatter)) {\n      return formatter.replace('{value}', isMinMax ? textValue[0] : textValue).replace('{value2}', isMinMax ? textValue[1] : textValue);\n    } else if (zrUtil.isFunction(formatter)) {\n      return isMinMax ? formatter(value[0], value[1]) : formatter(value);\n    }\n    if (isMinMax) {\n      if (value[0] === dataBound[0]) {\n        return edgeSymbols[0] + ' ' + textValue[1];\n      } else if (value[1] === dataBound[1]) {\n        return edgeSymbols[1] + ' ' + textValue[0];\n      } else {\n        return textValue[0] + ' - ' + textValue[1];\n      }\n    } else {\n      // Format single value (includes category case).\n      return textValue;\n    }\n    function toFixed(val) {\n      return val === dataBound[0] ? 'min' : val === dataBound[1] ? 'max' : (+val).toFixed(Math.min(precision, 20));\n    }\n  };\n  /**\n   * @protected\n   */\n  VisualMapModel.prototype.resetExtent = function () {\n    var thisOption = this.option;\n    // Can not calculate data extent by data here.\n    // Because series and data may be modified in processing stage.\n    // So we do not support the feature \"auto min/max\".\n    var extent = asc([thisOption.min, thisOption.max]);\n    this._dataExtent = extent;\n  };\n  /**\n   * PENDING:\n   * delete this method if no outer usage.\n   *\n   * Return  Concrete dimension. If null/undefined is returned, no dimension is used.\n   */\n  // getDataDimension(data: SeriesData) {\n  //     const optDim = this.option.dimension;\n  //     if (optDim != null) {\n  //         return data.getDimension(optDim);\n  //     }\n  //     const dimNames = data.dimensions;\n  //     for (let i = dimNames.length - 1; i >= 0; i--) {\n  //         const dimName = dimNames[i];\n  //         const dimInfo = data.getDimensionInfo(dimName);\n  //         if (!dimInfo.isCalculationCoord) {\n  //             return dimName;\n  //         }\n  //     }\n  // }\n  VisualMapModel.prototype.getDataDimensionIndex = function (data) {\n    var optDim = this.option.dimension;\n    if (optDim != null) {\n      return data.getDimensionIndex(optDim);\n    }\n    var dimNames = data.dimensions;\n    for (var i = dimNames.length - 1; i >= 0; i--) {\n      var dimName = dimNames[i];\n      var dimInfo = data.getDimensionInfo(dimName);\n      if (!dimInfo.isCalculationCoord) {\n        return dimInfo.storeDimIndex;\n      }\n    }\n  };\n  VisualMapModel.prototype.getExtent = function () {\n    return this._dataExtent.slice();\n  };\n  VisualMapModel.prototype.completeVisualOption = function () {\n    var ecModel = this.ecModel;\n    var thisOption = this.option;\n    var base = {\n      inRange: thisOption.inRange,\n      outOfRange: thisOption.outOfRange\n    };\n    var target = thisOption.target || (thisOption.target = {});\n    var controller = thisOption.controller || (thisOption.controller = {});\n    zrUtil.merge(target, base); // Do not override\n    zrUtil.merge(controller, base); // Do not override\n    var isCategory = this.isCategory();\n    completeSingle.call(this, target);\n    completeSingle.call(this, controller);\n    completeInactive.call(this, target, 'inRange', 'outOfRange');\n    // completeInactive.call(this, target, 'outOfRange', 'inRange');\n    completeController.call(this, controller);\n    function completeSingle(base) {\n      // Compatible with ec2 dataRange.color.\n      // The mapping order of dataRange.color is: [high value, ..., low value]\n      // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n      // Notice: ec2 has no inverse.\n      if (isArray(thisOption.color)\n      // If there has been inRange: {symbol: ...}, adding color is a mistake.\n      // So adding color only when no inRange defined.\n      && !base.inRange) {\n        base.inRange = {\n          color: thisOption.color.slice().reverse()\n        };\n      }\n      // Compatible with previous logic, always give a default color, otherwise\n      // simple config with no inRange and outOfRange will not work.\n      // Originally we use visualMap.color as the default color, but setOption at\n      // the second time the default color will be erased. So we change to use\n      // constant DEFAULT_COLOR.\n      // If user do not want the default color, set inRange: {color: null}.\n      base.inRange = base.inRange || {\n        color: ecModel.get('gradientColor')\n      };\n    }\n    function completeInactive(base, stateExist, stateAbsent) {\n      var optExist = base[stateExist];\n      var optAbsent = base[stateAbsent];\n      if (optExist && !optAbsent) {\n        optAbsent = base[stateAbsent] = {};\n        each(optExist, function (visualData, visualType) {\n          if (!VisualMapping.isValidType(visualType)) {\n            return;\n          }\n          var defa = visualDefault.get(visualType, 'inactive', isCategory);\n          if (defa != null) {\n            optAbsent[visualType] = defa;\n            // Compatibable with ec2:\n            // Only inactive color to rgba(0,0,0,0) can not\n            // make label transparent, so use opacity also.\n            if (visualType === 'color' && !optAbsent.hasOwnProperty('opacity') && !optAbsent.hasOwnProperty('colorAlpha')) {\n              optAbsent.opacity = [0, 0];\n            }\n          }\n        });\n      }\n    }\n    function completeController(controller) {\n      var symbolExists = (controller.inRange || {}).symbol || (controller.outOfRange || {}).symbol;\n      var symbolSizeExists = (controller.inRange || {}).symbolSize || (controller.outOfRange || {}).symbolSize;\n      var inactiveColor = this.get('inactiveColor');\n      var itemSymbol = this.getItemSymbol();\n      var defaultSymbol = itemSymbol || 'roundRect';\n      each(this.stateList, function (state) {\n        var itemSize = this.itemSize;\n        var visuals = controller[state];\n        // Set inactive color for controller if no other color\n        // attr (like colorAlpha) specified.\n        if (!visuals) {\n          visuals = controller[state] = {\n            color: isCategory ? inactiveColor : [inactiveColor]\n          };\n        }\n        // Consistent symbol and symbolSize if not specified.\n        if (visuals.symbol == null) {\n          visuals.symbol = symbolExists && zrUtil.clone(symbolExists) || (isCategory ? defaultSymbol : [defaultSymbol]);\n        }\n        if (visuals.symbolSize == null) {\n          visuals.symbolSize = symbolSizeExists && zrUtil.clone(symbolSizeExists) || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n        }\n        // Filter none\n        visuals.symbol = mapVisual(visuals.symbol, function (symbol) {\n          return symbol === 'none' ? defaultSymbol : symbol;\n        });\n        // Normalize symbolSize\n        var symbolSize = visuals.symbolSize;\n        if (symbolSize != null) {\n          var max_1 = -Infinity;\n          // symbolSize can be object when categories defined.\n          eachVisual(symbolSize, function (value) {\n            value > max_1 && (max_1 = value);\n          });\n          visuals.symbolSize = mapVisual(symbolSize, function (value) {\n            return linearMap(value, [0, max_1], [0, itemSize[0]], true);\n          });\n        }\n      }, this);\n    }\n  };\n  VisualMapModel.prototype.resetItemSize = function () {\n    this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))];\n  };\n  VisualMapModel.prototype.isCategory = function () {\n    return !!this.option.categories;\n  };\n  /**\n   * @public\n   * @abstract\n   */\n  VisualMapModel.prototype.setSelected = function (selected) {};\n  VisualMapModel.prototype.getSelected = function () {\n    return null;\n  };\n  /**\n   * @public\n   * @abstract\n   */\n  VisualMapModel.prototype.getValueState = function (value) {\n    return null;\n  };\n  /**\n   * FIXME\n   * Do not publish to thirt-part-dev temporarily\n   * util the interface is stable. (Should it return\n   * a function but not visual meta?)\n   *\n   * @pubilc\n   * @abstract\n   * @param getColorVisual\n   *        params: value, valueState\n   *        return: color\n   * @return {Object} visualMeta\n   *        should includes {stops, outerColors}\n   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\n   */\n  VisualMapModel.prototype.getVisualMeta = function (getColorVisual) {\n    return null;\n  };\n  VisualMapModel.type = 'visualMap';\n  VisualMapModel.dependencies = ['series'];\n  VisualMapModel.defaultOption = {\n    show: true,\n    // zlevel: 0,\n    z: 4,\n    // seriesIndex: 'all',\n    min: 0,\n    max: 200,\n    left: 0,\n    right: null,\n    top: null,\n    bottom: 0,\n    itemWidth: null,\n    itemHeight: null,\n    inverse: false,\n    orient: 'vertical',\n    backgroundColor: tokens.color.transparent,\n    borderColor: tokens.color.borderTint,\n    contentColor: tokens.color.theme[0],\n    inactiveColor: tokens.color.disabled,\n    borderWidth: 0,\n    padding: tokens.size.m,\n    // css\n    textGap: 10,\n    precision: 0,\n    textStyle: {\n      color: tokens.color.secondary // \n    }\n  };\n  return VisualMapModel;\n}(ComponentModel);\nexport default VisualMapModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapModel from './VisualMapModel.js';\nimport * as numberUtil from '../../util/number.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nimport tokens from '../../visual/tokens.js';\n// Constant\nvar DEFAULT_BAR_BOUND = [20, 140];\nvar ContinuousModel = /** @class */function (_super) {\n  __extends(ContinuousModel, _super);\n  function ContinuousModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ContinuousModel.type;\n    return _this;\n  }\n  /**\n   * @override\n   */\n  ContinuousModel.prototype.optionUpdated = function (newOption, isInit) {\n    _super.prototype.optionUpdated.apply(this, arguments);\n    this.resetExtent();\n    this.resetVisual(function (mappingOption) {\n      mappingOption.mappingMethod = 'linear';\n      mappingOption.dataExtent = this.getExtent();\n    });\n    this._resetRange();\n  };\n  /**\n   * @protected\n   * @override\n   */\n  ContinuousModel.prototype.resetItemSize = function () {\n    _super.prototype.resetItemSize.apply(this, arguments);\n    var itemSize = this.itemSize;\n    (itemSize[0] == null || isNaN(itemSize[0])) && (itemSize[0] = DEFAULT_BAR_BOUND[0]);\n    (itemSize[1] == null || isNaN(itemSize[1])) && (itemSize[1] = DEFAULT_BAR_BOUND[1]);\n  };\n  /**\n   * @private\n   */\n  ContinuousModel.prototype._resetRange = function () {\n    var dataExtent = this.getExtent();\n    var range = this.option.range;\n    if (!range || range.auto) {\n      // `range` should always be array (so we don't use other\n      // value like 'auto') for user-friend. (consider getOption).\n      dataExtent.auto = 1;\n      this.option.range = dataExtent;\n    } else if (zrUtil.isArray(range)) {\n      if (range[0] > range[1]) {\n        range.reverse();\n      }\n      range[0] = Math.max(range[0], dataExtent[0]);\n      range[1] = Math.min(range[1], dataExtent[1]);\n    }\n  };\n  /**\n   * @protected\n   * @override\n   */\n  ContinuousModel.prototype.completeVisualOption = function () {\n    _super.prototype.completeVisualOption.apply(this, arguments);\n    zrUtil.each(this.stateList, function (state) {\n      var symbolSize = this.option.controller[state].symbolSize;\n      if (symbolSize && symbolSize[0] !== symbolSize[1]) {\n        symbolSize[0] = symbolSize[1] / 3; // For good looking.\n      }\n    }, this);\n  };\n  /**\n   * @override\n   */\n  ContinuousModel.prototype.setSelected = function (selected) {\n    this.option.range = selected.slice();\n    this._resetRange();\n  };\n  /**\n   * @public\n   */\n  ContinuousModel.prototype.getSelected = function () {\n    var dataExtent = this.getExtent();\n    var dataInterval = numberUtil.asc((this.get('range') || []).slice());\n    // Clamp\n    dataInterval[0] > dataExtent[1] && (dataInterval[0] = dataExtent[1]);\n    dataInterval[1] > dataExtent[1] && (dataInterval[1] = dataExtent[1]);\n    dataInterval[0] < dataExtent[0] && (dataInterval[0] = dataExtent[0]);\n    dataInterval[1] < dataExtent[0] && (dataInterval[1] = dataExtent[0]);\n    return dataInterval;\n  };\n  /**\n   * @override\n   */\n  ContinuousModel.prototype.getValueState = function (value) {\n    var range = this.option.range;\n    var dataExtent = this.getExtent();\n    var unboundedRange = zrUtil.retrieve2(this.option.unboundedRange, true);\n    return (unboundedRange && range[0] <= dataExtent[0] || range[0] <= value) && (unboundedRange && range[1] >= dataExtent[1] || value <= range[1]) ? 'inRange' : 'outOfRange';\n  };\n  ContinuousModel.prototype.findTargetDataIndices = function (range) {\n    var result = [];\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimensionIndex(data), function (value, dataIndex) {\n        range[0] <= value && value <= range[1] && dataIndices.push(dataIndex);\n      }, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  };\n  /**\n   * @implement\n   */\n  ContinuousModel.prototype.getVisualMeta = function (getColorVisual) {\n    var oVals = getColorStopValues(this, 'outOfRange', this.getExtent());\n    var iVals = getColorStopValues(this, 'inRange', this.option.range.slice());\n    var stops = [];\n    function setStop(value, valueState) {\n      stops.push({\n        value: value,\n        color: getColorVisual(value, valueState)\n      });\n    }\n    // Format to: outOfRange -- inRange -- outOfRange.\n    var iIdx = 0;\n    var oIdx = 0;\n    var iLen = iVals.length;\n    var oLen = oVals.length;\n    for (; oIdx < oLen && (!iVals.length || oVals[oIdx] <= iVals[0]); oIdx++) {\n      // If oVal[oIdx] === iVals[iIdx], oVal[oIdx] should be ignored.\n      if (oVals[oIdx] < iVals[iIdx]) {\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n    for (var first = 1; iIdx < iLen; iIdx++, first = 0) {\n      // If range is full, value beyond min, max will be clamped.\n      // make a singularity\n      first && stops.length && setStop(iVals[iIdx], 'outOfRange');\n      setStop(iVals[iIdx], 'inRange');\n    }\n    for (var first = 1; oIdx < oLen; oIdx++) {\n      if (!iVals.length || iVals[iVals.length - 1] < oVals[oIdx]) {\n        // make a singularity\n        if (first) {\n          stops.length && setStop(stops[stops.length - 1].value, 'outOfRange');\n          first = 0;\n        }\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n    var stopsLen = stops.length;\n    return {\n      stops: stops,\n      outerColors: [stopsLen ? stops[0].color : 'transparent', stopsLen ? stops[stopsLen - 1].color : 'transparent']\n    };\n  };\n  ContinuousModel.type = 'visualMap.continuous';\n  ContinuousModel.defaultOption = inheritDefaultOption(VisualMapModel.defaultOption, {\n    align: 'auto',\n    calculable: false,\n    hoverLink: true,\n    realtime: true,\n    handleIcon: 'path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z',\n    handleSize: '120%',\n    handleStyle: {\n      borderColor: tokens.color.neutral00,\n      borderWidth: 1\n    },\n    indicatorIcon: 'circle',\n    indicatorSize: '50%',\n    indicatorStyle: {\n      borderColor: tokens.color.neutral00,\n      borderWidth: 2,\n      shadowBlur: 2,\n      shadowOffsetX: 1,\n      shadowOffsetY: 1,\n      shadowColor: tokens.color.shadow\n    }\n    // emphasis: {\n    //     handleStyle: {\n    //         shadowBlur: 3,\n    //         shadowOffsetX: 1,\n    //         shadowOffsetY: 1,\n    //         shadowColor: tokens.color.shadow\n    //     }\n    // }\n  });\n  return ContinuousModel;\n}(VisualMapModel);\nfunction getColorStopValues(visualMapModel, valueState, dataExtent) {\n  if (dataExtent[0] === dataExtent[1]) {\n    return dataExtent.slice();\n  }\n  // When using colorHue mapping, it is not linear color any more.\n  // Moreover, canvas gradient seems not to be accurate linear.\n  // FIXME\n  // Should be arbitrary value 100? or based on pixel size?\n  var count = 200;\n  var step = (dataExtent[1] - dataExtent[0]) / count;\n  var value = dataExtent[0];\n  var stopValues = [];\n  for (var i = 0; i <= count && value < dataExtent[1]; i++) {\n    stopValues.push(value);\n    value += step;\n  }\n  stopValues.push(dataExtent[1]);\n  return stopValues;\n}\nexport default ContinuousModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { Rect } from '../../util/graphic.js';\nimport * as formatUtil from '../../util/format.js';\nimport * as layout from '../../util/layout.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport ComponentView from '../../view/Component.js';\nvar VisualMapView = /** @class */function (_super) {\n  __extends(VisualMapView, _super);\n  function VisualMapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = VisualMapView.type;\n    _this.autoPositionValues = {\n      left: 1,\n      right: 1,\n      top: 1,\n      bottom: 1\n    };\n    return _this;\n  }\n  VisualMapView.prototype.init = function (ecModel, api) {\n    this.ecModel = ecModel;\n    this.api = api;\n  };\n  /**\n   * @protected\n   */\n  VisualMapView.prototype.render = function (visualMapModel, ecModel, api, payload // TODO: TYPE\n  ) {\n    this.visualMapModel = visualMapModel;\n    if (visualMapModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n    this.doRender(visualMapModel, ecModel, api, payload);\n  };\n  /**\n   * @protected\n   */\n  VisualMapView.prototype.renderBackground = function (group) {\n    var visualMapModel = this.visualMapModel;\n    var padding = formatUtil.normalizeCssArray(visualMapModel.get('padding') || 0);\n    var rect = group.getBoundingRect();\n    group.add(new Rect({\n      z2: -1,\n      silent: true,\n      shape: {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[3] + padding[1],\n        height: rect.height + padding[0] + padding[2]\n      },\n      style: {\n        fill: visualMapModel.get('backgroundColor'),\n        stroke: visualMapModel.get('borderColor'),\n        lineWidth: visualMapModel.get('borderWidth')\n      }\n    }));\n  };\n  /**\n   * @protected\n   * @param targetValue can be Infinity or -Infinity\n   * @param visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'\n   * @param opts\n   * @param opts.forceState Specify state, instead of using getValueState method.\n   * @param opts.convertOpacityToAlpha For color gradient in controller widget.\n   * @return {*} Visual value.\n   */\n  VisualMapView.prototype.getControllerVisual = function (targetValue, visualCluster, opts) {\n    opts = opts || {};\n    var forceState = opts.forceState;\n    var visualMapModel = this.visualMapModel;\n    var visualObj = {};\n    // Default values.\n    if (visualCluster === 'color') {\n      var defaultColor = visualMapModel.get('contentColor');\n      visualObj.color = defaultColor;\n    }\n    function getter(key) {\n      return visualObj[key];\n    }\n    function setter(key, value) {\n      visualObj[key] = value;\n    }\n    var mappings = visualMapModel.controllerVisuals[forceState || visualMapModel.getValueState(targetValue)];\n    var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n    zrUtil.each(visualTypes, function (type) {\n      var visualMapping = mappings[type];\n      if (opts.convertOpacityToAlpha && type === 'opacity') {\n        type = 'colorAlpha';\n        visualMapping = mappings.__alphaForOpacity;\n      }\n      if (VisualMapping.dependsOn(type, visualCluster)) {\n        visualMapping && visualMapping.applyVisual(targetValue, getter, setter);\n      }\n    });\n    return visualObj[visualCluster];\n  };\n  VisualMapView.prototype.positionGroup = function (group) {\n    var model = this.visualMapModel;\n    var api = this.api;\n    var refContainer = layout.createBoxLayoutReference(model, api).refContainer;\n    layout.positionElement(group, model.getBoxLayoutParams(), refContainer);\n  };\n  VisualMapView.prototype.doRender = function (visualMapModel, ecModel, api, payload) {};\n  VisualMapView.type = 'visualMap';\n  return VisualMapView;\n}(ComponentView);\nexport default VisualMapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getLayoutRect } from '../../util/layout.js';\nvar paramsSet = [['left', 'right', 'width'], ['top', 'bottom', 'height']];\n/**\n * @param visualMapModel\n * @param api\n * @param itemSize always [short, long]\n * @return {string} 'left' or 'right' or 'top' or 'bottom'\n */\nexport function getItemAlign(visualMapModel, api, itemSize) {\n  var modelOption = visualMapModel.option;\n  var itemAlign = modelOption.align;\n  if (itemAlign != null && itemAlign !== 'auto') {\n    return itemAlign;\n  }\n  // Auto decision align.\n  var ecSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var realIndex = modelOption.orient === 'horizontal' ? 1 : 0;\n  var reals = paramsSet[realIndex];\n  var fakeValue = [0, null, 10];\n  var layoutInput = {};\n  for (var i = 0; i < 3; i++) {\n    layoutInput[paramsSet[1 - realIndex][i]] = fakeValue[i];\n    layoutInput[reals[i]] = i === 2 ? itemSize[0] : modelOption[reals[i]];\n  }\n  var rParam = [['x', 'width', 3], ['y', 'height', 0]][realIndex];\n  var rect = getLayoutRect(layoutInput, ecSize, modelOption.padding);\n  return reals[(rect.margin[rParam[2]] || 0) + rect[rParam[0]] + rect[rParam[1]] * 0.5 < ecSize[rParam[1]] * 0.5 ? 0 : 1];\n}\n/**\n * Prepare dataIndex for outside usage, where dataIndex means rawIndex, and\n * dataIndexInside means filtered index.\n */\n// TODO: TYPE more specified payload types.\nexport function makeHighDownBatch(batch, visualMapModel) {\n  zrUtil.each(batch || [], function (batchItem) {\n    if (batchItem.dataIndex != null) {\n      batchItem.dataIndexInside = batchItem.dataIndex;\n      batchItem.dataIndex = null;\n    }\n    batchItem.highlightKey = 'visualMap' + (visualMapModel ? visualMapModel.componentIndex : '');\n  });\n  return batch;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport LinearGradient from 'zrender/lib/graphic/LinearGradient.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport VisualMapView from './VisualMapView.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as numberUtil from '../../util/number.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport * as helper from './helper.js';\nimport * as modelUtil from '../../util/model.js';\nimport { parsePercent } from 'zrender/lib/contain/text.js';\nimport { setAsHighDownDispatcher } from '../../util/states.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { findEventDispatcher } from '../../util/event.js';\nvar linearMap = numberUtil.linearMap;\nvar each = zrUtil.each;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n// Arbitrary value\nvar HOVER_LINK_SIZE = 12;\nvar HOVER_LINK_OUT = 6;\n// Notice:\n// Any \"interval\" should be by the order of [low, high].\n// \"handle0\" (handleIndex === 0) maps to\n// low data value: this._dataInterval[0] and has low coord.\n// \"handle1\" (handleIndex === 1) maps to\n// high data value: this._dataInterval[1] and has high coord.\n// The logic of transform is implemented in this._createBarGroup.\nvar ContinuousView = /** @class */function (_super) {\n  __extends(ContinuousView, _super);\n  function ContinuousView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ContinuousView.type;\n    _this._shapes = {};\n    _this._dataInterval = [];\n    _this._handleEnds = [];\n    _this._hoverLinkDataIndices = [];\n    return _this;\n  }\n  ContinuousView.prototype.init = function (ecModel, api) {\n    _super.prototype.init.call(this, ecModel, api);\n    this._hoverLinkFromSeriesMouseOver = zrUtil.bind(this._hoverLinkFromSeriesMouseOver, this);\n    this._hideIndicator = zrUtil.bind(this._hideIndicator, this);\n  };\n  ContinuousView.prototype.doRender = function (visualMapModel, ecModel, api, payload) {\n    if (!payload || payload.type !== 'selectDataRange' || payload.from !== this.uid) {\n      this._buildView();\n    }\n  };\n  ContinuousView.prototype._buildView = function () {\n    this.group.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var thisGroup = this.group;\n    this._orient = visualMapModel.get('orient');\n    this._useHandle = visualMapModel.get('calculable');\n    this._resetInterval();\n    this._renderBar(thisGroup);\n    var dataRangeText = visualMapModel.get('text');\n    this._renderEndsText(thisGroup, dataRangeText, 0);\n    this._renderEndsText(thisGroup, dataRangeText, 1);\n    // Do this for background size calculation.\n    this._updateView(true);\n    // After updating view, inner shapes is built completely,\n    // and then background can be rendered.\n    this.renderBackground(thisGroup);\n    // Real update view\n    this._updateView();\n    this._enableHoverLinkToSeries();\n    this._enableHoverLinkFromSeries();\n    this.positionGroup(thisGroup);\n  };\n  ContinuousView.prototype._renderEndsText = function (group, dataRangeText, endsIndex) {\n    if (!dataRangeText) {\n      return;\n    }\n    // Compatible with ec2, text[0] map to high value, text[1] map low value.\n    var text = dataRangeText[1 - endsIndex];\n    text = text != null ? text + '' : '';\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var itemSize = visualMapModel.itemSize;\n    var barGroup = this._shapes.mainGroup;\n    var position = this._applyTransform([itemSize[0] / 2, endsIndex === 0 ? -textGap : itemSize[1] + textGap], barGroup);\n    var align = this._applyTransform(endsIndex === 0 ? 'bottom' : 'top', barGroup);\n    var orient = this._orient;\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    this.group.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        x: position[0],\n        y: position[1],\n        verticalAlign: textStyleModel.get('verticalAlign') || (orient === 'horizontal' ? 'middle' : align),\n        align: textStyleModel.get('align') || (orient === 'horizontal' ? align : 'center'),\n        text: text\n      })\n    }));\n  };\n  ContinuousView.prototype._renderBar = function (targetGroup) {\n    var visualMapModel = this.visualMapModel;\n    var shapes = this._shapes;\n    var itemSize = visualMapModel.itemSize;\n    var orient = this._orient;\n    var useHandle = this._useHandle;\n    var itemAlign = helper.getItemAlign(visualMapModel, this.api, itemSize);\n    var mainGroup = shapes.mainGroup = this._createBarGroup(itemAlign);\n    var gradientBarGroup = new graphic.Group();\n    mainGroup.add(gradientBarGroup);\n    // Bar\n    gradientBarGroup.add(shapes.outOfRange = createPolygon());\n    gradientBarGroup.add(shapes.inRange = createPolygon(null, useHandle ? getCursor(this._orient) : null, zrUtil.bind(this._dragHandle, this, 'all', false), zrUtil.bind(this._dragHandle, this, 'all', true)));\n    // A border radius clip.\n    gradientBarGroup.setClipPath(new graphic.Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: itemSize[0],\n        height: itemSize[1],\n        r: 3\n      }\n    }));\n    var textRect = visualMapModel.textStyleModel.getTextRect('');\n    var textSize = mathMax(textRect.width, textRect.height);\n    // Handle\n    if (useHandle) {\n      shapes.handleThumbs = [];\n      shapes.handleLabels = [];\n      shapes.handleLabelPoints = [];\n      this._createHandle(visualMapModel, mainGroup, 0, itemSize, textSize, orient);\n      this._createHandle(visualMapModel, mainGroup, 1, itemSize, textSize, orient);\n    }\n    this._createIndicator(visualMapModel, mainGroup, itemSize, textSize, orient);\n    targetGroup.add(mainGroup);\n  };\n  ContinuousView.prototype._createHandle = function (visualMapModel, mainGroup, handleIndex, itemSize, textSize, orient) {\n    var onDrift = zrUtil.bind(this._dragHandle, this, handleIndex, false);\n    var onDragEnd = zrUtil.bind(this._dragHandle, this, handleIndex, true);\n    var handleSize = parsePercent(visualMapModel.get('handleSize'), itemSize[0]);\n    var handleThumb = createSymbol(visualMapModel.get('handleIcon'), -handleSize / 2, -handleSize / 2, handleSize, handleSize, null, true);\n    var cursor = getCursor(this._orient);\n    handleThumb.attr({\n      cursor: cursor,\n      draggable: true,\n      drift: onDrift,\n      ondragend: onDragEnd,\n      onmousemove: function (e) {\n        eventTool.stop(e.event);\n      }\n    });\n    handleThumb.x = itemSize[0] / 2;\n    handleThumb.useStyle(visualMapModel.getModel('handleStyle').getItemStyle());\n    handleThumb.setStyle({\n      strokeNoScale: true,\n      strokeFirst: true\n    });\n    handleThumb.style.lineWidth *= 2;\n    handleThumb.ensureState('emphasis').style = visualMapModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n    setAsHighDownDispatcher(handleThumb, true);\n    mainGroup.add(handleThumb);\n    // Text is always horizontal layout but should not be effected by\n    // transform (orient/inverse). So label is built separately but not\n    // use zrender/graphic/helper/RectText, and is located based on view\n    // group (according to handleLabelPoint) but not barGroup.\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var handleLabel = new graphic.Text({\n      cursor: cursor,\n      draggable: true,\n      drift: onDrift,\n      onmousemove: function (e) {\n        // For mobile device, prevent screen slider on the button.\n        eventTool.stop(e.event);\n      },\n      ondragend: onDragEnd,\n      style: createTextStyle(textStyleModel, {\n        x: 0,\n        y: 0,\n        text: ''\n      })\n    });\n    handleLabel.ensureState('blur').style = {\n      opacity: 0.1\n    };\n    handleLabel.stateTransition = {\n      duration: 200\n    };\n    this.group.add(handleLabel);\n    var handleLabelPoint = [handleSize, 0];\n    var shapes = this._shapes;\n    shapes.handleThumbs[handleIndex] = handleThumb;\n    shapes.handleLabelPoints[handleIndex] = handleLabelPoint;\n    shapes.handleLabels[handleIndex] = handleLabel;\n  };\n  ContinuousView.prototype._createIndicator = function (visualMapModel, mainGroup, itemSize, textSize, orient) {\n    var scale = parsePercent(visualMapModel.get('indicatorSize'), itemSize[0]);\n    var indicator = createSymbol(visualMapModel.get('indicatorIcon'), -scale / 2, -scale / 2, scale, scale, null, true);\n    indicator.attr({\n      cursor: 'move',\n      invisible: true,\n      silent: true,\n      x: itemSize[0] / 2\n    });\n    var indicatorStyle = visualMapModel.getModel('indicatorStyle').getItemStyle();\n    if (indicator instanceof ZRImage) {\n      var pathStyle = indicator.style;\n      indicator.useStyle(zrUtil.extend({\n        // TODO other properties like x, y ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, indicatorStyle));\n    } else {\n      indicator.useStyle(indicatorStyle);\n    }\n    mainGroup.add(indicator);\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var indicatorLabel = new graphic.Text({\n      silent: true,\n      invisible: true,\n      style: createTextStyle(textStyleModel, {\n        x: 0,\n        y: 0,\n        text: ''\n      })\n    });\n    this.group.add(indicatorLabel);\n    var indicatorLabelPoint = [(orient === 'horizontal' ? textSize / 2 : HOVER_LINK_OUT) + itemSize[0] / 2, 0];\n    var shapes = this._shapes;\n    shapes.indicator = indicator;\n    shapes.indicatorLabel = indicatorLabel;\n    shapes.indicatorLabelPoint = indicatorLabelPoint;\n    this._firstShowIndicator = true;\n  };\n  ContinuousView.prototype._dragHandle = function (handleIndex, isEnd,\n  // dx is event from ondragend if isEnd is true. It's not used\n  dx, dy) {\n    if (!this._useHandle) {\n      return;\n    }\n    this._dragging = !isEnd;\n    if (!isEnd) {\n      // Transform dx, dy to bar coordination.\n      var vertex = this._applyTransform([dx, dy], this._shapes.mainGroup, true);\n      this._updateInterval(handleIndex, vertex[1]);\n      this._hideIndicator();\n      // Considering realtime, update view should be executed\n      // before dispatch action.\n      this._updateView();\n    }\n    // dragEnd do not dispatch action when realtime.\n    if (isEnd === !this.visualMapModel.get('realtime')) {\n      // jshint ignore:line\n      this.api.dispatchAction({\n        type: 'selectDataRange',\n        from: this.uid,\n        visualMapId: this.visualMapModel.id,\n        selected: this._dataInterval.slice()\n      });\n    }\n    if (isEnd) {\n      !this._hovering && this._clearHoverLinkToSeries();\n    } else if (useHoverLinkOnHandle(this.visualMapModel)) {\n      this._doHoverLinkToSeries(this._handleEnds[handleIndex], false);\n    }\n  };\n  ContinuousView.prototype._resetInterval = function () {\n    var visualMapModel = this.visualMapModel;\n    var dataInterval = this._dataInterval = visualMapModel.getSelected();\n    var dataExtent = visualMapModel.getExtent();\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    this._handleEnds = [linearMap(dataInterval[0], dataExtent, sizeExtent, true), linearMap(dataInterval[1], dataExtent, sizeExtent, true)];\n  };\n  /**\n   * @private\n   * @param {(number|string)} handleIndex 0 or 1 or 'all'\n   * @param {number} dx\n   * @param {number} dy\n   */\n  ContinuousView.prototype._updateInterval = function (handleIndex, delta) {\n    delta = delta || 0;\n    var visualMapModel = this.visualMapModel;\n    var handleEnds = this._handleEnds;\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    sliderMove(delta, handleEnds, sizeExtent, handleIndex,\n    // cross is forbidden\n    0);\n    var dataExtent = visualMapModel.getExtent();\n    // Update data interval.\n    this._dataInterval = [linearMap(handleEnds[0], sizeExtent, dataExtent, true), linearMap(handleEnds[1], sizeExtent, dataExtent, true)];\n  };\n  ContinuousView.prototype._updateView = function (forSketch) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var shapes = this._shapes;\n    var outOfRangeHandleEnds = [0, visualMapModel.itemSize[1]];\n    var inRangeHandleEnds = forSketch ? outOfRangeHandleEnds : this._handleEnds;\n    var visualInRange = this._createBarVisual(this._dataInterval, dataExtent, inRangeHandleEnds, 'inRange');\n    var visualOutOfRange = this._createBarVisual(dataExtent, dataExtent, outOfRangeHandleEnds, 'outOfRange');\n    shapes.inRange.setStyle({\n      fill: visualInRange.barColor\n      // opacity: visualInRange.opacity\n    }).setShape('points', visualInRange.barPoints);\n    shapes.outOfRange.setStyle({\n      fill: visualOutOfRange.barColor\n      // opacity: visualOutOfRange.opacity\n    }).setShape('points', visualOutOfRange.barPoints);\n    this._updateHandle(inRangeHandleEnds, visualInRange);\n  };\n  ContinuousView.prototype._createBarVisual = function (dataInterval, dataExtent, handleEnds, forceState) {\n    var opts = {\n      forceState: forceState,\n      convertOpacityToAlpha: true\n    };\n    var colorStops = this._makeColorGradient(dataInterval, opts);\n    var symbolSizes = [this.getControllerVisual(dataInterval[0], 'symbolSize', opts), this.getControllerVisual(dataInterval[1], 'symbolSize', opts)];\n    var barPoints = this._createBarPoints(handleEnds, symbolSizes);\n    return {\n      barColor: new LinearGradient(0, 0, 0, 1, colorStops),\n      barPoints: barPoints,\n      handlesColor: [colorStops[0].color, colorStops[colorStops.length - 1].color]\n    };\n  };\n  ContinuousView.prototype._makeColorGradient = function (dataInterval, opts) {\n    // Considering colorHue, which is not linear, so we have to sample\n    // to calculate gradient color stops, but not only calculate head\n    // and tail.\n    var sampleNumber = 100; // Arbitrary value.\n    var colorStops = [];\n    var step = (dataInterval[1] - dataInterval[0]) / sampleNumber;\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[0], 'color', opts),\n      offset: 0\n    });\n    for (var i = 1; i < sampleNumber; i++) {\n      var currValue = dataInterval[0] + step * i;\n      if (currValue > dataInterval[1]) {\n        break;\n      }\n      colorStops.push({\n        color: this.getControllerVisual(currValue, 'color', opts),\n        offset: i / sampleNumber\n      });\n    }\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[1], 'color', opts),\n      offset: 1\n    });\n    return colorStops;\n  };\n  ContinuousView.prototype._createBarPoints = function (handleEnds, symbolSizes) {\n    var itemSize = this.visualMapModel.itemSize;\n    return [[itemSize[0] - symbolSizes[0], handleEnds[0]], [itemSize[0], handleEnds[0]], [itemSize[0], handleEnds[1]], [itemSize[0] - symbolSizes[1], handleEnds[1]]];\n  };\n  ContinuousView.prototype._createBarGroup = function (itemAlign) {\n    var orient = this._orient;\n    var inverse = this.visualMapModel.get('inverse');\n    return new graphic.Group(orient === 'horizontal' && !inverse ? {\n      scaleX: itemAlign === 'bottom' ? 1 : -1,\n      rotation: Math.PI / 2\n    } : orient === 'horizontal' && inverse ? {\n      scaleX: itemAlign === 'bottom' ? -1 : 1,\n      rotation: -Math.PI / 2\n    } : orient === 'vertical' && !inverse ? {\n      scaleX: itemAlign === 'left' ? 1 : -1,\n      scaleY: -1\n    } : {\n      scaleX: itemAlign === 'left' ? 1 : -1\n    });\n  };\n  ContinuousView.prototype._updateHandle = function (handleEnds, visualInRange) {\n    if (!this._useHandle) {\n      return;\n    }\n    var shapes = this._shapes;\n    var visualMapModel = this.visualMapModel;\n    var handleThumbs = shapes.handleThumbs;\n    var handleLabels = shapes.handleLabels;\n    var itemSize = visualMapModel.itemSize;\n    var dataExtent = visualMapModel.getExtent();\n    var align = this._applyTransform('left', shapes.mainGroup);\n    each([0, 1], function (handleIndex) {\n      var handleThumb = handleThumbs[handleIndex];\n      handleThumb.setStyle('fill', visualInRange.handlesColor[handleIndex]);\n      handleThumb.y = handleEnds[handleIndex];\n      var val = linearMap(handleEnds[handleIndex], [0, itemSize[1]], dataExtent, true);\n      var symbolSize = this.getControllerVisual(val, 'symbolSize');\n      handleThumb.scaleX = handleThumb.scaleY = symbolSize / itemSize[0];\n      handleThumb.x = itemSize[0] - symbolSize / 2;\n      // Update handle label position.\n      var textPoint = graphic.applyTransform(shapes.handleLabelPoints[handleIndex], graphic.getTransform(handleThumb, this.group));\n      if (this._orient === 'horizontal') {\n        // If visualMap controls symbol size, an additional offset needs to be added to labels to avoid collision at minimum size.\n        // Offset reaches value of 0 at \"maximum\" position, so maximum position is not altered at all.\n        var minimumOffset = align === 'left' || align === 'top' ? (itemSize[0] - symbolSize) / 2 : (itemSize[0] - symbolSize) / -2;\n        textPoint[1] += minimumOffset;\n      }\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        text: visualMapModel.formatValueText(this._dataInterval[handleIndex]),\n        verticalAlign: 'middle',\n        align: this._orient === 'vertical' ? this._applyTransform('left', shapes.mainGroup) : 'center'\n      });\n    }, this);\n  };\n  ContinuousView.prototype._showIndicator = function (cursorValue, textValue, rangeSymbol, halfHoverLinkSize) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var itemSize = visualMapModel.itemSize;\n    var sizeExtent = [0, itemSize[1]];\n    var shapes = this._shapes;\n    var indicator = shapes.indicator;\n    if (!indicator) {\n      return;\n    }\n    indicator.attr('invisible', false);\n    var opts = {\n      convertOpacityToAlpha: true\n    };\n    var color = this.getControllerVisual(cursorValue, 'color', opts);\n    var symbolSize = this.getControllerVisual(cursorValue, 'symbolSize');\n    var y = linearMap(cursorValue, dataExtent, sizeExtent, true);\n    var x = itemSize[0] - symbolSize / 2;\n    var oldIndicatorPos = {\n      x: indicator.x,\n      y: indicator.y\n    };\n    // Update handle label position.\n    indicator.y = y;\n    indicator.x = x;\n    var textPoint = graphic.applyTransform(shapes.indicatorLabelPoint, graphic.getTransform(indicator, this.group));\n    var indicatorLabel = shapes.indicatorLabel;\n    indicatorLabel.attr('invisible', false);\n    var align = this._applyTransform('left', shapes.mainGroup);\n    var orient = this._orient;\n    var isHorizontal = orient === 'horizontal';\n    indicatorLabel.setStyle({\n      text: (rangeSymbol ? rangeSymbol : '') + visualMapModel.formatValueText(textValue),\n      verticalAlign: isHorizontal ? align : 'middle',\n      align: isHorizontal ? 'center' : align\n    });\n    var indicatorNewProps = {\n      x: x,\n      y: y,\n      style: {\n        fill: color\n      }\n    };\n    var labelNewProps = {\n      style: {\n        x: textPoint[0],\n        y: textPoint[1]\n      }\n    };\n    if (visualMapModel.ecModel.isAnimationEnabled() && !this._firstShowIndicator) {\n      var animationCfg = {\n        duration: 100,\n        easing: 'cubicInOut',\n        additive: true\n      };\n      indicator.x = oldIndicatorPos.x;\n      indicator.y = oldIndicatorPos.y;\n      indicator.animateTo(indicatorNewProps, animationCfg);\n      indicatorLabel.animateTo(labelNewProps, animationCfg);\n    } else {\n      indicator.attr(indicatorNewProps);\n      indicatorLabel.attr(labelNewProps);\n    }\n    this._firstShowIndicator = false;\n    var handleLabels = this._shapes.handleLabels;\n    if (handleLabels) {\n      for (var i = 0; i < handleLabels.length; i++) {\n        // Fade out handle labels.\n        // NOTE: Must use api enter/leave on emphasis/blur/select state. Or the global states manager will change it.\n        this.api.enterBlur(handleLabels[i]);\n      }\n    }\n  };\n  ContinuousView.prototype._enableHoverLinkToSeries = function () {\n    var self = this;\n    this._shapes.mainGroup.on('mousemove', function (e) {\n      self._hovering = true;\n      if (!self._dragging) {\n        var itemSize = self.visualMapModel.itemSize;\n        var pos = self._applyTransform([e.offsetX, e.offsetY], self._shapes.mainGroup, true, true);\n        // For hover link show when hover handle, which might be\n        // below or upper than sizeExtent.\n        pos[1] = mathMin(mathMax(0, pos[1]), itemSize[1]);\n        self._doHoverLinkToSeries(pos[1], 0 <= pos[0] && pos[0] <= itemSize[0]);\n      }\n    }).on('mouseout', function () {\n      // When mouse is out of handle, hoverLink still need\n      // to be displayed when realtime is set as false.\n      self._hovering = false;\n      !self._dragging && self._clearHoverLinkToSeries();\n    });\n  };\n  ContinuousView.prototype._enableHoverLinkFromSeries = function () {\n    var zr = this.api.getZr();\n    if (this.visualMapModel.option.hoverLink) {\n      zr.on('mouseover', this._hoverLinkFromSeriesMouseOver, this);\n      zr.on('mouseout', this._hideIndicator, this);\n    } else {\n      this._clearHoverLinkFromSeries();\n    }\n  };\n  ContinuousView.prototype._doHoverLinkToSeries = function (cursorPos, hoverOnBar) {\n    var visualMapModel = this.visualMapModel;\n    var itemSize = visualMapModel.itemSize;\n    if (!visualMapModel.option.hoverLink) {\n      return;\n    }\n    var sizeExtent = [0, itemSize[1]];\n    var dataExtent = visualMapModel.getExtent();\n    // For hover link show when hover handle, which might be below or upper than sizeExtent.\n    cursorPos = mathMin(mathMax(sizeExtent[0], cursorPos), sizeExtent[1]);\n    var halfHoverLinkSize = getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent);\n    var hoverRange = [cursorPos - halfHoverLinkSize, cursorPos + halfHoverLinkSize];\n    var cursorValue = linearMap(cursorPos, sizeExtent, dataExtent, true);\n    var valueRange = [linearMap(hoverRange[0], sizeExtent, dataExtent, true), linearMap(hoverRange[1], sizeExtent, dataExtent, true)];\n    // Consider data range is out of visualMap range, see test/visualMap-continuous.html,\n    // where china and india has very large population.\n    hoverRange[0] < sizeExtent[0] && (valueRange[0] = -Infinity);\n    hoverRange[1] > sizeExtent[1] && (valueRange[1] = Infinity);\n    // Do not show indicator when mouse is over handle,\n    // otherwise labels overlap, especially when dragging.\n    if (hoverOnBar) {\n      if (valueRange[0] === -Infinity) {\n        this._showIndicator(cursorValue, valueRange[1], '< ', halfHoverLinkSize);\n      } else if (valueRange[1] === Infinity) {\n        this._showIndicator(cursorValue, valueRange[0], '> ', halfHoverLinkSize);\n      } else {\n        this._showIndicator(cursorValue, cursorValue, ' ', halfHoverLinkSize);\n      }\n    }\n    // When realtime is set as false, handles, which are in barGroup,\n    // also trigger hoverLink, which help user to realize where they\n    // focus on when dragging. (see test/heatmap-large.html)\n    // When realtime is set as true, highlight will not show when hover\n    // handle, because the label on handle, which displays a exact value\n    // but not range, might mislead users.\n    var oldBatch = this._hoverLinkDataIndices;\n    var newBatch = [];\n    if (hoverOnBar || useHoverLinkOnHandle(visualMapModel)) {\n      newBatch = this._hoverLinkDataIndices = visualMapModel.findTargetDataIndices(valueRange);\n    }\n    var resultBatches = modelUtil.compressBatches(oldBatch, newBatch);\n    this._dispatchHighDown('downplay', helper.makeHighDownBatch(resultBatches[0], visualMapModel));\n    this._dispatchHighDown('highlight', helper.makeHighDownBatch(resultBatches[1], visualMapModel));\n  };\n  ContinuousView.prototype._hoverLinkFromSeriesMouseOver = function (e) {\n    var ecData;\n    findEventDispatcher(e.target, function (target) {\n      var currECData = getECData(target);\n      if (currECData.dataIndex != null) {\n        ecData = currECData;\n        return true;\n      }\n    }, true);\n    if (!ecData) {\n      return;\n    }\n    var dataModel = this.ecModel.getSeriesByIndex(ecData.seriesIndex);\n    var visualMapModel = this.visualMapModel;\n    if (!visualMapModel.isTargetSeries(dataModel)) {\n      return;\n    }\n    var data = dataModel.getData(ecData.dataType);\n    var value = data.getStore().get(visualMapModel.getDataDimensionIndex(data), ecData.dataIndex);\n    if (!isNaN(value)) {\n      this._showIndicator(value, value);\n    }\n  };\n  ContinuousView.prototype._hideIndicator = function () {\n    var shapes = this._shapes;\n    shapes.indicator && shapes.indicator.attr('invisible', true);\n    shapes.indicatorLabel && shapes.indicatorLabel.attr('invisible', true);\n    var handleLabels = this._shapes.handleLabels;\n    if (handleLabels) {\n      for (var i = 0; i < handleLabels.length; i++) {\n        // Fade out handle labels.\n        // NOTE: Must use api enter/leave on emphasis/blur/select state. Or the global states manager will change it.\n        this.api.leaveBlur(handleLabels[i]);\n      }\n    }\n  };\n  ContinuousView.prototype._clearHoverLinkToSeries = function () {\n    this._hideIndicator();\n    var indices = this._hoverLinkDataIndices;\n    this._dispatchHighDown('downplay', helper.makeHighDownBatch(indices, this.visualMapModel));\n    indices.length = 0;\n  };\n  ContinuousView.prototype._clearHoverLinkFromSeries = function () {\n    this._hideIndicator();\n    var zr = this.api.getZr();\n    zr.off('mouseover', this._hoverLinkFromSeriesMouseOver);\n    zr.off('mouseout', this._hideIndicator);\n  };\n  ContinuousView.prototype._applyTransform = function (vertex, element, inverse, global) {\n    var transform = graphic.getTransform(element, global ? null : this.group);\n    return zrUtil.isArray(vertex) ? graphic.applyTransform(vertex, transform, inverse) : graphic.transformDirection(vertex, transform, inverse);\n  };\n  // TODO: TYPE more specified payload types.\n  ContinuousView.prototype._dispatchHighDown = function (type, batch) {\n    batch && batch.length && this.api.dispatchAction({\n      type: type,\n      batch: batch\n    });\n  };\n  /**\n   * @override\n   */\n  ContinuousView.prototype.dispose = function () {\n    this._clearHoverLinkFromSeries();\n    this._clearHoverLinkToSeries();\n  };\n  ContinuousView.type = 'visualMap.continuous';\n  return ContinuousView;\n}(VisualMapView);\nfunction createPolygon(points, cursor, onDrift, onDragEnd) {\n  return new graphic.Polygon({\n    shape: {\n      points: points\n    },\n    draggable: !!onDrift,\n    cursor: cursor,\n    drift: onDrift,\n    onmousemove: function (e) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n    },\n    ondragend: onDragEnd\n  });\n}\nfunction getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent) {\n  var halfHoverLinkSize = HOVER_LINK_SIZE / 2;\n  var hoverLinkDataSize = visualMapModel.get('hoverLinkDataSize');\n  if (hoverLinkDataSize) {\n    halfHoverLinkSize = linearMap(hoverLinkDataSize, dataExtent, sizeExtent, true) / 2;\n  }\n  return halfHoverLinkSize;\n}\nfunction useHoverLinkOnHandle(visualMapModel) {\n  var hoverLinkOnHandle = visualMapModel.get('hoverLinkOnHandle');\n  return !!(hoverLinkOnHandle == null ? visualMapModel.get('realtime') : hoverLinkOnHandle);\n}\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\nexport default ContinuousView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport var visualMapActionInfo = {\n  type: 'selectDataRange',\n  event: 'dataRangeSelected',\n  // FIXME use updateView appears wrong\n  update: 'update'\n};\nexport var visualMapActionHander = function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'visualMap',\n    query: payload\n  }, function (model) {\n    model.setSelected(payload.selected);\n  });\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nexport var visualMapEncodingHandlers = [{\n  createOnAllSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var resetDefines = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      var pipelineContext = seriesModel.pipelineContext;\n      if (!visualMapModel.isTargetSeries(seriesModel) || pipelineContext && pipelineContext.large) {\n        return;\n      }\n      resetDefines.push(visualSolution.incrementalApplyVisual(visualMapModel.stateList, visualMapModel.targetVisuals, zrUtil.bind(visualMapModel.getValueState, visualMapModel), visualMapModel.getDataDimensionIndex(seriesModel.getData())));\n    });\n    return resetDefines;\n  }\n},\n// Only support color.\n{\n  createOnAllSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var visualMetaList = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      if (visualMapModel.isTargetSeries(seriesModel)) {\n        var visualMeta = visualMapModel.getVisualMeta(zrUtil.bind(getColorVisual, null, seriesModel, visualMapModel)) || {\n          stops: [],\n          outerColors: []\n        };\n        var dimIdx = visualMapModel.getDataDimensionIndex(data);\n        if (dimIdx >= 0) {\n          // visualMeta.dimension should be dimension index, but not concrete dimension.\n          visualMeta.dimension = dimIdx;\n          visualMetaList.push(visualMeta);\n        }\n      }\n    });\n    // console.log(JSON.stringify(visualMetaList.map(a => a.stops)));\n    seriesModel.getData().setVisual('visualMeta', visualMetaList);\n  }\n}];\n// FIXME\n// performance and export for heatmap?\n// value can be Infinity or -Infinity\nfunction getColorVisual(seriesModel, visualMapModel, value, valueState) {\n  var mappings = visualMapModel.targetVisuals[valueState];\n  var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n  var resultVisual = {\n    color: getVisualFromData(seriesModel.getData(), 'color') // default color.\n  };\n  for (var i = 0, len = visualTypes.length; i < len; i++) {\n    var type = visualTypes[i];\n    var mapping = mappings[type === 'opacity' ? '__alphaForOpacity' : type];\n    mapping && mapping.applyVisual(value, getVisual, setVisual);\n  }\n  return resultVisual.color;\n  function getVisual(key) {\n    return resultVisual[key];\n  }\n  function setVisual(key, value) {\n    resultVisual[key] = value;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar each = zrUtil.each;\nexport default function visualMapPreprocessor(option) {\n  var visualMap = option && option.visualMap;\n  if (!zrUtil.isArray(visualMap)) {\n    visualMap = visualMap ? [visualMap] : [];\n  }\n  each(visualMap, function (opt) {\n    if (!opt) {\n      return;\n    }\n    // rename splitList to pieces\n    if (has(opt, 'splitList') && !has(opt, 'pieces')) {\n      opt.pieces = opt.splitList;\n      delete opt.splitList;\n    }\n    var pieces = opt.pieces;\n    if (pieces && zrUtil.isArray(pieces)) {\n      each(pieces, function (piece) {\n        if (zrUtil.isObject(piece)) {\n          if (has(piece, 'start') && !has(piece, 'min')) {\n            piece.min = piece.start;\n          }\n          if (has(piece, 'end') && !has(piece, 'max')) {\n            piece.max = piece.end;\n          }\n        }\n      });\n    }\n  });\n}\nfunction has(obj, name) {\n  return obj && obj.hasOwnProperty && obj.hasOwnProperty(name);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { visualMapActionInfo, visualMapActionHander } from './visualMapAction.js';\nimport { visualMapEncodingHandlers } from './visualEncoding.js';\nimport { each } from 'zrender/lib/core/util.js';\nimport preprocessor from './preprocessor.js';\nvar installed = false;\nexport default function installCommon(registers) {\n  if (installed) {\n    return;\n  }\n  installed = true;\n  registers.registerSubTypeDefaulter('visualMap', function (option) {\n    // Compatible with ec2, when splitNumber === 0, continuous visualMap will be used.\n    return !option.categories && (!(option.pieces ? option.pieces.length > 0 : option.splitNumber > 0) || option.calculable) ? 'continuous' : 'piecewise';\n  });\n  registers.registerAction(visualMapActionInfo, visualMapActionHander);\n  each(visualMapEncodingHandlers, function (handler) {\n    registers.registerVisual(registers.PRIORITY.VISUAL.COMPONENT, handler);\n  });\n  registers.registerPreprocessor(preprocessor);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport ContinuousModel from './ContinuousModel.js';\nimport ContinuousView from './ContinuousView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(ContinuousModel);\n  registers.registerComponentView(ContinuousView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapModel from './VisualMapModel.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport visualDefault from '../../visual/visualDefault.js';\nimport { reformIntervals } from '../../util/number.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar PiecewiseModel = /** @class */function (_super) {\n  __extends(PiecewiseModel, _super);\n  function PiecewiseModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PiecewiseModel.type;\n    /**\n     * The order is always [low, ..., high].\n     * [{text: string, interval: Array.<number>}, ...]\n     */\n    _this._pieceList = [];\n    return _this;\n  }\n  PiecewiseModel.prototype.optionUpdated = function (newOption, isInit) {\n    _super.prototype.optionUpdated.apply(this, arguments);\n    this.resetExtent();\n    var mode = this._mode = this._determineMode();\n    this._pieceList = [];\n    resetMethods[this._mode].call(this, this._pieceList);\n    this._resetSelected(newOption, isInit);\n    var categories = this.option.categories;\n    this.resetVisual(function (mappingOption, state) {\n      if (mode === 'categories') {\n        mappingOption.mappingMethod = 'category';\n        mappingOption.categories = zrUtil.clone(categories);\n      } else {\n        mappingOption.dataExtent = this.getExtent();\n        mappingOption.mappingMethod = 'piecewise';\n        mappingOption.pieceList = zrUtil.map(this._pieceList, function (piece) {\n          piece = zrUtil.clone(piece);\n          if (state !== 'inRange') {\n            // FIXME\n            // outOfRange do not support special visual in pieces.\n            piece.visual = null;\n          }\n          return piece;\n        });\n      }\n    });\n  };\n  /**\n   * @protected\n   * @override\n   */\n  PiecewiseModel.prototype.completeVisualOption = function () {\n    // Consider this case:\n    // visualMap: {\n    //      pieces: [{symbol: 'circle', lt: 0}, {symbol: 'rect', gte: 0}]\n    // }\n    // where no inRange/outOfRange set but only pieces. So we should make\n    // default inRange/outOfRange for this case, otherwise visuals that only\n    // appear in `pieces` will not be taken into account in visual encoding.\n    var option = this.option;\n    var visualTypesInPieces = {};\n    var visualTypes = VisualMapping.listVisualTypes();\n    var isCategory = this.isCategory();\n    zrUtil.each(option.pieces, function (piece) {\n      zrUtil.each(visualTypes, function (visualType) {\n        if (piece.hasOwnProperty(visualType)) {\n          visualTypesInPieces[visualType] = 1;\n        }\n      });\n    });\n    zrUtil.each(visualTypesInPieces, function (v, visualType) {\n      var exists = false;\n      zrUtil.each(this.stateList, function (state) {\n        exists = exists || has(option, state, visualType) || has(option.target, state, visualType);\n      }, this);\n      !exists && zrUtil.each(this.stateList, function (state) {\n        (option[state] || (option[state] = {}))[visualType] = visualDefault.get(visualType, state === 'inRange' ? 'active' : 'inactive', isCategory);\n      });\n    }, this);\n    function has(obj, state, visualType) {\n      return obj && obj[state] && obj[state].hasOwnProperty(visualType);\n    }\n    _super.prototype.completeVisualOption.apply(this, arguments);\n  };\n  PiecewiseModel.prototype._resetSelected = function (newOption, isInit) {\n    var thisOption = this.option;\n    var pieceList = this._pieceList;\n    // Selected do not merge but all override.\n    var selected = (isInit ? thisOption : newOption).selected || {};\n    thisOption.selected = selected;\n    // Consider 'not specified' means true.\n    zrUtil.each(pieceList, function (piece, index) {\n      var key = this.getSelectedMapKey(piece);\n      if (!selected.hasOwnProperty(key)) {\n        selected[key] = true;\n      }\n    }, this);\n    if (thisOption.selectedMode === 'single') {\n      // Ensure there is only one selected.\n      var hasSel_1 = false;\n      zrUtil.each(pieceList, function (piece, index) {\n        var key = this.getSelectedMapKey(piece);\n        if (selected[key]) {\n          hasSel_1 ? selected[key] = false : hasSel_1 = true;\n        }\n      }, this);\n    }\n    // thisOption.selectedMode === 'multiple', default: all selected.\n  };\n  /**\n   * @public\n   */\n  PiecewiseModel.prototype.getItemSymbol = function () {\n    return this.get('itemSymbol');\n  };\n  /**\n   * @public\n   */\n  PiecewiseModel.prototype.getSelectedMapKey = function (piece) {\n    return this._mode === 'categories' ? piece.value + '' : piece.index + '';\n  };\n  /**\n   * @public\n   */\n  PiecewiseModel.prototype.getPieceList = function () {\n    return this._pieceList;\n  };\n  /**\n   * @return {string}\n   */\n  PiecewiseModel.prototype._determineMode = function () {\n    var option = this.option;\n    return option.pieces && option.pieces.length > 0 ? 'pieces' : this.option.categories ? 'categories' : 'splitNumber';\n  };\n  /**\n   * @override\n   */\n  PiecewiseModel.prototype.setSelected = function (selected) {\n    this.option.selected = zrUtil.clone(selected);\n  };\n  /**\n   * @override\n   */\n  PiecewiseModel.prototype.getValueState = function (value) {\n    var index = VisualMapping.findPieceIndex(value, this._pieceList);\n    return index != null ? this.option.selected[this.getSelectedMapKey(this._pieceList[index])] ? 'inRange' : 'outOfRange' : 'outOfRange';\n  };\n  /**\n   * @public\n   * @param pieceIndex piece index in visualMapModel.getPieceList()\n   */\n  PiecewiseModel.prototype.findTargetDataIndices = function (pieceIndex) {\n    var result = [];\n    var pieceList = this._pieceList;\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimensionIndex(data), function (value, dataIndex) {\n        // Should always base on model pieceList, because it is order sensitive.\n        var pIdx = VisualMapping.findPieceIndex(value, pieceList);\n        pIdx === pieceIndex && dataIndices.push(dataIndex);\n      }, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  };\n  /**\n   * @private\n   * @param piece piece.value or piece.interval is required.\n   * @return  Can be Infinity or -Infinity\n   */\n  PiecewiseModel.prototype.getRepresentValue = function (piece) {\n    var representValue;\n    if (this.isCategory()) {\n      representValue = piece.value;\n    } else {\n      if (piece.value != null) {\n        representValue = piece.value;\n      } else {\n        var pieceInterval = piece.interval || [];\n        representValue = pieceInterval[0] === -Infinity && pieceInterval[1] === Infinity ? 0 : (pieceInterval[0] + pieceInterval[1]) / 2;\n      }\n    }\n    return representValue;\n  };\n  PiecewiseModel.prototype.getVisualMeta = function (getColorVisual) {\n    // Do not support category. (category axis is ordinal, numerical)\n    if (this.isCategory()) {\n      return;\n    }\n    var stops = [];\n    var outerColors = ['', ''];\n    var visualMapModel = this;\n    function setStop(interval, valueState) {\n      var representValue = visualMapModel.getRepresentValue({\n        interval: interval\n      }); // Not category\n      if (!valueState) {\n        valueState = visualMapModel.getValueState(representValue);\n      }\n      var color = getColorVisual(representValue, valueState);\n      if (interval[0] === -Infinity) {\n        outerColors[0] = color;\n      } else if (interval[1] === Infinity) {\n        outerColors[1] = color;\n      } else {\n        stops.push({\n          value: interval[0],\n          color: color\n        }, {\n          value: interval[1],\n          color: color\n        });\n      }\n    }\n    // Suplement\n    var pieceList = this._pieceList.slice();\n    if (!pieceList.length) {\n      pieceList.push({\n        interval: [-Infinity, Infinity]\n      });\n    } else {\n      var edge = pieceList[0].interval[0];\n      edge !== -Infinity && pieceList.unshift({\n        interval: [-Infinity, edge]\n      });\n      edge = pieceList[pieceList.length - 1].interval[1];\n      edge !== Infinity && pieceList.push({\n        interval: [edge, Infinity]\n      });\n    }\n    var curr = -Infinity;\n    zrUtil.each(pieceList, function (piece) {\n      var interval = piece.interval;\n      if (interval) {\n        // Fulfill gap.\n        interval[0] > curr && setStop([curr, interval[0]], 'outOfRange');\n        setStop(interval.slice());\n        curr = interval[1];\n      }\n    }, this);\n    return {\n      stops: stops,\n      outerColors: outerColors\n    };\n  };\n  PiecewiseModel.type = 'visualMap.piecewise';\n  PiecewiseModel.defaultOption = inheritDefaultOption(VisualMapModel.defaultOption, {\n    selected: null,\n    minOpen: false,\n    maxOpen: false,\n    align: 'auto',\n    itemWidth: 20,\n    itemHeight: 14,\n    itemSymbol: 'roundRect',\n    pieces: null,\n    categories: null,\n    splitNumber: 5,\n    selectedMode: 'multiple',\n    itemGap: 10,\n    hoverLink: true // Enable hover highlight.\n  });\n  return PiecewiseModel;\n}(VisualMapModel);\n;\n/**\n * Key is this._mode\n * @type {Object}\n * @this {module:echarts/component/viusalMap/PiecewiseMode}\n */\nvar resetMethods = {\n  splitNumber: function (outPieceList) {\n    var thisOption = this.option;\n    var precision = Math.min(thisOption.precision, 20);\n    var dataExtent = this.getExtent();\n    var splitNumber = thisOption.splitNumber;\n    splitNumber = Math.max(parseInt(splitNumber, 10), 1);\n    thisOption.splitNumber = splitNumber;\n    var splitStep = (dataExtent[1] - dataExtent[0]) / splitNumber;\n    // Precision auto-adaption\n    while (+splitStep.toFixed(precision) !== splitStep && precision < 5) {\n      precision++;\n    }\n    thisOption.precision = precision;\n    splitStep = +splitStep.toFixed(precision);\n    if (thisOption.minOpen) {\n      outPieceList.push({\n        interval: [-Infinity, dataExtent[0]],\n        close: [0, 0]\n      });\n    }\n    for (var index = 0, curr = dataExtent[0]; index < splitNumber; curr += splitStep, index++) {\n      var max = index === splitNumber - 1 ? dataExtent[1] : curr + splitStep;\n      outPieceList.push({\n        interval: [curr, max],\n        close: [1, 1]\n      });\n    }\n    if (thisOption.maxOpen) {\n      outPieceList.push({\n        interval: [dataExtent[1], Infinity],\n        close: [0, 0]\n      });\n    }\n    reformIntervals(outPieceList);\n    zrUtil.each(outPieceList, function (piece, index) {\n      piece.index = index;\n      piece.text = this.formatValueText(piece.interval);\n    }, this);\n  },\n  categories: function (outPieceList) {\n    var thisOption = this.option;\n    zrUtil.each(thisOption.categories, function (cate) {\n      // FIXME categorypieceListvisualMappingpieceList\n      // \n      outPieceList.push({\n        text: this.formatValueText(cate, true),\n        value: cate\n      });\n    }, this);\n    // See \"Order Rule\".\n    normalizeReverse(thisOption, outPieceList);\n  },\n  pieces: function (outPieceList) {\n    var thisOption = this.option;\n    zrUtil.each(thisOption.pieces, function (pieceListItem, index) {\n      if (!zrUtil.isObject(pieceListItem)) {\n        pieceListItem = {\n          value: pieceListItem\n        };\n      }\n      var item = {\n        text: '',\n        index: index\n      };\n      if (pieceListItem.label != null) {\n        item.text = pieceListItem.label;\n      }\n      if (pieceListItem.hasOwnProperty('value')) {\n        var value = item.value = pieceListItem.value;\n        item.interval = [value, value];\n        item.close = [1, 1];\n      } else {\n        // `min` `max` is legacy option.\n        // `lt` `gt` `lte` `gte` is recommended.\n        var interval = item.interval = [];\n        var close_1 = item.close = [0, 0];\n        var closeList = [1, 0, 1];\n        var infinityList = [-Infinity, Infinity];\n        var useMinMax = [];\n        for (var lg = 0; lg < 2; lg++) {\n          var names = [['gte', 'gt', 'min'], ['lte', 'lt', 'max']][lg];\n          for (var i = 0; i < 3 && interval[lg] == null; i++) {\n            interval[lg] = pieceListItem[names[i]];\n            close_1[lg] = closeList[i];\n            useMinMax[lg] = i === 2;\n          }\n          interval[lg] == null && (interval[lg] = infinityList[lg]);\n        }\n        useMinMax[0] && interval[1] === Infinity && (close_1[0] = 0);\n        useMinMax[1] && interval[0] === -Infinity && (close_1[1] = 0);\n        if (process.env.NODE_ENV !== 'production') {\n          if (interval[0] > interval[1]) {\n            console.warn('Piece ' + index + 'is illegal: ' + interval + ' lower bound should not greater then uppper bound.');\n          }\n        }\n        if (interval[0] === interval[1] && close_1[0] && close_1[1]) {\n          // Consider: [{min: 5, max: 5, visual: {...}}, {min: 0, max: 5}],\n          // we use value to lift the priority when min === max\n          item.value = interval[0];\n        }\n      }\n      item.visual = VisualMapping.retrieveVisuals(pieceListItem);\n      outPieceList.push(item);\n    }, this);\n    // See \"Order Rule\".\n    normalizeReverse(thisOption, outPieceList);\n    // Only pieces\n    reformIntervals(outPieceList);\n    zrUtil.each(outPieceList, function (piece) {\n      var close = piece.close;\n      var edgeSymbols = [['<', ''][close[1]], ['>', ''][close[0]]];\n      piece.text = piece.text || this.formatValueText(piece.value != null ? piece.value : piece.interval, false, edgeSymbols);\n    }, this);\n  }\n};\nfunction normalizeReverse(thisOption, pieceList) {\n  var inverse = thisOption.inverse;\n  if (thisOption.orient === 'vertical' ? !inverse : inverse) {\n    pieceList.reverse();\n  }\n}\nexport default PiecewiseModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapView from './VisualMapView.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport * as layout from '../../util/layout.js';\nimport * as helper from './helper.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nvar PiecewiseVisualMapView = /** @class */function (_super) {\n  __extends(PiecewiseVisualMapView, _super);\n  function PiecewiseVisualMapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PiecewiseVisualMapView.type;\n    return _this;\n  }\n  PiecewiseVisualMapView.prototype.doRender = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var textStyleModel = visualMapModel.textStyleModel;\n    var itemAlign = this._getItemAlign();\n    var itemSize = visualMapModel.itemSize;\n    var viewData = this._getViewData();\n    var endsText = viewData.endsText;\n    var showLabel = zrUtil.retrieve(visualMapModel.get('showLabel', true), !endsText);\n    var silent = !visualMapModel.get('selectedMode');\n    endsText && this._renderEndsText(thisGroup, endsText[0], itemSize, showLabel, itemAlign);\n    zrUtil.each(viewData.viewPieceList, function (item) {\n      var piece = item.piece;\n      var itemGroup = new graphic.Group();\n      itemGroup.onclick = zrUtil.bind(this._onItemClick, this, piece);\n      this._enableHoverLink(itemGroup, item.indexInModelPieceList);\n      // TODO Category\n      var representValue = visualMapModel.getRepresentValue(piece);\n      this._createItemSymbol(itemGroup, representValue, [0, 0, itemSize[0], itemSize[1]], silent);\n      if (showLabel) {\n        var visualState = this.visualMapModel.getValueState(representValue);\n        var align = textStyleModel.get('align') || itemAlign;\n        itemGroup.add(new graphic.Text({\n          style: createTextStyle(textStyleModel, {\n            x: align === 'right' ? -textGap : itemSize[0] + textGap,\n            y: itemSize[1] / 2,\n            text: piece.text,\n            verticalAlign: textStyleModel.get('verticalAlign') || 'middle',\n            align: align,\n            opacity: zrUtil.retrieve2(textStyleModel.get('opacity'), visualState === 'outOfRange' ? 0.5 : 1)\n          }),\n          silent: silent\n        }));\n      }\n      thisGroup.add(itemGroup);\n    }, this);\n    endsText && this._renderEndsText(thisGroup, endsText[1], itemSize, showLabel, itemAlign);\n    layout.box(visualMapModel.get('orient'), thisGroup, visualMapModel.get('itemGap'));\n    this.renderBackground(thisGroup);\n    this.positionGroup(thisGroup);\n  };\n  PiecewiseVisualMapView.prototype._enableHoverLink = function (itemGroup, pieceIndex) {\n    var _this = this;\n    itemGroup.on('mouseover', function () {\n      return onHoverLink('highlight');\n    }).on('mouseout', function () {\n      return onHoverLink('downplay');\n    });\n    var onHoverLink = function (method) {\n      var visualMapModel = _this.visualMapModel;\n      // TODO: TYPE More detailed action types\n      visualMapModel.option.hoverLink && _this.api.dispatchAction({\n        type: method,\n        batch: helper.makeHighDownBatch(visualMapModel.findTargetDataIndices(pieceIndex), visualMapModel)\n      });\n    };\n  };\n  PiecewiseVisualMapView.prototype._getItemAlign = function () {\n    var visualMapModel = this.visualMapModel;\n    var modelOption = visualMapModel.option;\n    if (modelOption.orient === 'vertical') {\n      return helper.getItemAlign(visualMapModel, this.api, visualMapModel.itemSize);\n    } else {\n      // horizontal, most case left unless specifying right.\n      var align = modelOption.align;\n      if (!align || align === 'auto') {\n        align = 'left';\n      }\n      return align;\n    }\n  };\n  PiecewiseVisualMapView.prototype._renderEndsText = function (group, text, itemSize, showLabel, itemAlign) {\n    if (!text) {\n      return;\n    }\n    var itemGroup = new graphic.Group();\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        x: showLabel ? itemAlign === 'right' ? itemSize[0] : 0 : itemSize[0] / 2,\n        y: itemSize[1] / 2,\n        verticalAlign: 'middle',\n        align: showLabel ? itemAlign : 'center',\n        text: text\n      })\n    }));\n    group.add(itemGroup);\n  };\n  /**\n   * @private\n   * @return {Object} {peiceList, endsText} The order is the same as screen pixel order.\n   */\n  PiecewiseVisualMapView.prototype._getViewData = function () {\n    var visualMapModel = this.visualMapModel;\n    var viewPieceList = zrUtil.map(visualMapModel.getPieceList(), function (piece, index) {\n      return {\n        piece: piece,\n        indexInModelPieceList: index\n      };\n    });\n    var endsText = visualMapModel.get('text');\n    // Consider orient and inverse.\n    var orient = visualMapModel.get('orient');\n    var inverse = visualMapModel.get('inverse');\n    // Order of model pieceList is always [low, ..., high]\n    if (orient === 'horizontal' ? inverse : !inverse) {\n      viewPieceList.reverse();\n    }\n    // Origin order of endsText is [high, low]\n    else if (endsText) {\n      endsText = endsText.slice().reverse();\n    }\n    return {\n      viewPieceList: viewPieceList,\n      endsText: endsText\n    };\n  };\n  PiecewiseVisualMapView.prototype._createItemSymbol = function (group, representValue, shapeParam, silent) {\n    var itemSymbol = createSymbol(\n    // symbol will be string\n    this.getControllerVisual(representValue, 'symbol'), shapeParam[0], shapeParam[1], shapeParam[2], shapeParam[3],\n    // color will be string\n    this.getControllerVisual(representValue, 'color'));\n    itemSymbol.silent = silent;\n    group.add(itemSymbol);\n  };\n  PiecewiseVisualMapView.prototype._onItemClick = function (piece) {\n    var visualMapModel = this.visualMapModel;\n    var option = visualMapModel.option;\n    var selectedMode = option.selectedMode;\n    if (!selectedMode) {\n      return;\n    }\n    var selected = zrUtil.clone(option.selected);\n    var newKey = visualMapModel.getSelectedMapKey(piece);\n    if (selectedMode === 'single' || selectedMode === true) {\n      selected[newKey] = true;\n      zrUtil.each(selected, function (o, key) {\n        selected[key] = key === newKey;\n      });\n    } else {\n      selected[newKey] = !selected[newKey];\n    }\n    this.api.dispatchAction({\n      type: 'selectDataRange',\n      from: this.uid,\n      visualMapId: this.visualMapModel.id,\n      selected: selected\n    });\n  };\n  PiecewiseVisualMapView.type = 'visualMap.piecewise';\n  return PiecewiseVisualMapView;\n}(VisualMapView);\nexport default PiecewiseVisualMapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport PiecewiseModel from './PiecewiseModel.js';\nimport PiecewiseView from './PiecewiseView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(PiecewiseModel);\n  registers.registerComponentView(PiecewiseView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installVisualMapContinuous } from './installVisualMapContinuous.js';\nimport { install as installVisualMapPiecewise } from './installVisualMapPiecewise.js';\nexport function install(registers) {\n  use(installVisualMapContinuous);\n  use(installVisualMapPiecewise);\n  // Do not install './dataZoomSelect',\n  // since it only work for toolbox dataZoom.\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { calcZ2Range } from '../../util/graphic.js';\n/**\n * [CAVEAT]: the call order of `ThumbnailView['render']` and other\n *  `ChartView['render']/ComponentView['render']` is not guaranteed.\n */\nvar ThumbnailBridgeImpl = /** @class */function () {\n  function ThumbnailBridgeImpl(thumbnailModel) {\n    this._thumbnailModel = thumbnailModel;\n  }\n  ThumbnailBridgeImpl.prototype.reset = function (api) {\n    this._renderVersion = api.getMainProcessVersion();\n  };\n  ThumbnailBridgeImpl.prototype.renderContent = function (opt) {\n    var thumbnailView = opt.api.getViewOfComponentModel(this._thumbnailModel);\n    if (!thumbnailView) {\n      return;\n    }\n    opt.group.silent = true;\n    thumbnailView.renderContent({\n      group: opt.group,\n      targetTrans: opt.targetTrans,\n      z2Range: calcZ2Range(opt.group),\n      roamType: opt.roamType,\n      viewportRect: opt.viewportRect,\n      renderVersion: this._renderVersion\n    });\n  };\n  ThumbnailBridgeImpl.prototype.updateWindow = function (targetTrans, api) {\n    var thumbnailView = api.getViewOfComponentModel(this._thumbnailModel);\n    if (!thumbnailView) {\n      return;\n    }\n    thumbnailView.updateWindow({\n      targetTrans: targetTrans,\n      renderVersion: this._renderVersion\n    });\n  };\n  return ThumbnailBridgeImpl;\n}();\nexport { ThumbnailBridgeImpl };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nimport { error } from '../../util/log.js';\nimport tokens from '../../visual/tokens.js';\nimport { injectThumbnailBridge } from '../helper/thumbnailBridge.js';\nimport { ThumbnailBridgeImpl } from './ThumbnailBridgeImpl.js';\nvar ThumbnailModel = /** @class */function (_super) {\n  __extends(ThumbnailModel, _super);\n  function ThumbnailModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ThumbnailModel.type;\n    _this.preventAutoZ = true;\n    return _this;\n  }\n  ThumbnailModel.prototype.optionUpdated = function (newCptOption, isInit) {\n    this._updateBridge();\n  };\n  ThumbnailModel.prototype._updateBridge = function () {\n    var bridge = this._birdge = this._birdge || new ThumbnailBridgeImpl(this);\n    // Clear all, in case of option changed.\n    this._target = null;\n    this.ecModel.eachSeries(function (series) {\n      injectThumbnailBridge(series, null);\n    });\n    if (this.shouldShow()) {\n      var target = this.getTarget();\n      // If a component is targeted by more than one thumbnails, simply only the last one works.\n      injectThumbnailBridge(target.baseMapProvider, bridge);\n    }\n  };\n  ThumbnailModel.prototype.shouldShow = function () {\n    return this.getShallow('show', true);\n  };\n  ThumbnailModel.prototype.getBridge = function () {\n    return this._birdge;\n  };\n  ThumbnailModel.prototype.getTarget = function () {\n    if (this._target) {\n      return this._target;\n    }\n    // Find by `seriesId`/`seriesIndex`.\n    var series = this.getReferringComponents('series', {\n      useDefault: false,\n      enableAll: false,\n      enableNone: false\n    }).models[0];\n    if (series) {\n      if (series.subType !== 'graph') {\n        series = null;\n        if (process.env.NODE_ENV !== 'production') {\n          error(\"series.\" + series.subType + \" is not supported in thumbnail.\", true);\n        }\n      }\n    } else {\n      // If no xxxId and xxxIndex specified, find the first series.graph. If other components,\n      // such as geo, is supported in future, the default stretagy may be extended.\n      series = this.ecModel.queryComponents({\n        mainType: 'series',\n        subType: 'graph'\n      })[0];\n    }\n    this._target = {\n      baseMapProvider: series\n    };\n    return this._target;\n  };\n  ThumbnailModel.type = 'thumbnail';\n  ThumbnailModel.layoutMode = 'box';\n  // All the supported components should be added here.\n  ThumbnailModel.dependencies = ['series', 'geo'];\n  ThumbnailModel.defaultOption = {\n    show: true,\n    right: 1,\n    bottom: 1,\n    height: '25%',\n    width: '25%',\n    itemStyle: {\n      // Use echarts option.backgorundColor by default.\n      borderColor: tokens.color.border,\n      borderWidth: 2\n    },\n    windowStyle: {\n      borderWidth: 1,\n      color: tokens.color.neutral30,\n      borderColor: tokens.color.neutral40,\n      opacity: 0.3\n    },\n    z: 10\n  };\n  return ThumbnailModel;\n}(ComponentModel);\nexport { ThumbnailModel };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport RoamController from '../helper/RoamController.js';\nimport tokens from '../../visual/tokens.js';\nimport { createBoxLayoutReference, getBoxLayoutParams, getLayoutRect } from '../../util/layout.js';\nimport { expandOrShrinkRect, Rect, Group, traverseUpdateZ, retrieveZInfo } from '../../util/graphic.js';\nimport { applyTransform } from 'zrender/lib/core/vector.js';\nimport View from '../../coord/View.js';\nimport { bind, defaults, extend } from 'zrender/lib/core/util.js';\nvar ThumbnailView = /** @class */function (_super) {\n  __extends(ThumbnailView, _super);\n  function ThumbnailView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ThumbnailView.type;\n    return _this;\n  }\n  ThumbnailView.prototype.render = function (thumbnailModel, ecModel, api) {\n    this._api = api;\n    this._model = thumbnailModel;\n    if (!this._coordSys) {\n      this._coordSys = new View();\n    }\n    if (!this._isEnabled()) {\n      this._clear();\n      return;\n    }\n    this._renderVersion = api.getMainProcessVersion();\n    var group = this.group;\n    group.removeAll();\n    var itemStyleModel = thumbnailModel.getModel('itemStyle');\n    var itemStyle = itemStyleModel.getItemStyle();\n    if (itemStyle.fill == null) {\n      itemStyle.fill = ecModel.get('backgroundColor') || tokens.color.neutral00;\n    }\n    var refContainer = createBoxLayoutReference(thumbnailModel, api).refContainer;\n    var boxRect = getLayoutRect(getBoxLayoutParams(thumbnailModel, true), refContainer);\n    var boxBorderWidth = itemStyle.lineWidth || 0;\n    var contentRect = this._contentRect = expandOrShrinkRect(boxRect.clone(), boxBorderWidth / 2, true, true);\n    var contentGroup = new Group();\n    group.add(contentGroup);\n    contentGroup.setClipPath(new Rect({\n      shape: contentRect.plain()\n    }));\n    var targetGroup = this._targetGroup = new Group();\n    contentGroup.add(targetGroup);\n    // Draw border and background and shadow of thumbnail box.\n    var borderShape = boxRect.plain();\n    borderShape.r = itemStyleModel.getShallow('borderRadius', true);\n    group.add(this._bgRect = new Rect({\n      style: itemStyle,\n      shape: borderShape,\n      silent: false,\n      cursor: 'grab'\n    }));\n    var windowStyleModel = thumbnailModel.getModel('windowStyle');\n    var windowR = windowStyleModel.getShallow('borderRadius', true);\n    contentGroup.add(this._windowRect = new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n        r: windowR\n      },\n      style: windowStyleModel.getItemStyle(),\n      silent: false,\n      cursor: 'grab'\n    }));\n    this._dealRenderContent();\n    this._dealUpdateWindow();\n    updateZ(thumbnailModel, this);\n  };\n  /**\n   * Can be called asynchronously directly.\n   * This method should be idempotent.\n   */\n  ThumbnailView.prototype.renderContent = function (bridgeRendered) {\n    this._bridgeRendered = bridgeRendered;\n    if (this._isEnabled()) {\n      this._dealRenderContent();\n      this._dealUpdateWindow();\n      updateZ(this._model, this);\n    }\n  };\n  ThumbnailView.prototype._dealRenderContent = function () {\n    var bridgeRendered = this._bridgeRendered;\n    if (!bridgeRendered || bridgeRendered.renderVersion !== this._renderVersion) {\n      return;\n    }\n    var targetGroup = this._targetGroup;\n    var coordSys = this._coordSys;\n    var contentRect = this._contentRect;\n    targetGroup.removeAll();\n    if (!bridgeRendered) {\n      return;\n    }\n    var bridgeGroup = bridgeRendered.group;\n    var bridgeRect = bridgeGroup.getBoundingRect();\n    targetGroup.add(bridgeGroup);\n    this._bgRect.z2 = bridgeRendered.z2Range.min - 10;\n    coordSys.setBoundingRect(bridgeRect.x, bridgeRect.y, bridgeRect.width, bridgeRect.height);\n    // Use `getLayoutRect` is just to find an approperiate rect in thumbnail.\n    var viewRect = getLayoutRect({\n      left: 'center',\n      top: 'center',\n      aspect: bridgeRect.width / bridgeRect.height\n    }, contentRect);\n    coordSys.setViewRect(viewRect.x, viewRect.y, viewRect.width, viewRect.height);\n    bridgeGroup.attr(coordSys.getTransformInfo().raw);\n    this._windowRect.z2 = bridgeRendered.z2Range.max + 10;\n    this._resetRoamController(bridgeRendered.roamType);\n  };\n  /**\n   * Can be called from action handler directly.\n   * This method should be idempotent.\n   */\n  ThumbnailView.prototype.updateWindow = function (param) {\n    var bridgeRendered = this._bridgeRendered;\n    if (bridgeRendered && bridgeRendered.renderVersion === param.renderVersion) {\n      bridgeRendered.targetTrans = param.targetTrans;\n    }\n    if (this._isEnabled()) {\n      this._dealUpdateWindow();\n    }\n  };\n  ThumbnailView.prototype._dealUpdateWindow = function () {\n    var bridgeRendered = this._bridgeRendered;\n    if (!bridgeRendered || bridgeRendered.renderVersion !== this._renderVersion) {\n      return;\n    }\n    var invTargetTrans = matrix.invert([], bridgeRendered.targetTrans);\n    var transTargetToThis = matrix.mul([], this._coordSys.transform, invTargetTrans);\n    this._transThisToTarget = matrix.invert([], transTargetToThis);\n    var viewportRect = bridgeRendered.viewportRect;\n    if (!viewportRect) {\n      viewportRect = new BoundingRect(0, 0, this._api.getWidth(), this._api.getHeight());\n    } else {\n      viewportRect = viewportRect.clone();\n    }\n    viewportRect.applyTransform(transTargetToThis);\n    var windowRect = this._windowRect;\n    var r = windowRect.shape.r;\n    windowRect.setShape(defaults({\n      r: r\n    }, viewportRect));\n  };\n  ThumbnailView.prototype._resetRoamController = function (roamType) {\n    var _this = this;\n    var api = this._api;\n    var roamController = this._roamController;\n    if (!roamController) {\n      roamController = this._roamController = new RoamController(api.getZr());\n    }\n    if (!roamType || !this._isEnabled()) {\n      roamController.disable();\n      return;\n    }\n    roamController.enable(roamType, {\n      api: api,\n      zInfo: {\n        component: this._model\n      },\n      triggerInfo: {\n        roamTrigger: null,\n        isInSelf: function (e, x, y) {\n          return _this._contentRect.contain(x, y);\n        }\n      }\n    });\n    roamController.off('pan').off('zoom').on('pan', bind(this._onPan, this)).on('zoom', bind(this._onZoom, this));\n  };\n  ThumbnailView.prototype._onPan = function (event) {\n    var trans = this._transThisToTarget;\n    if (!this._isEnabled() || !trans) {\n      return;\n    }\n    var oldOffset = applyTransform([], [event.oldX, event.oldY], trans);\n    var newOffset = applyTransform([], [event.oldX - event.dx, event.oldY - event.dy], trans);\n    this._api.dispatchAction(makeRoamPayload(this._model.getTarget().baseMapProvider, {\n      dx: newOffset[0] - oldOffset[0],\n      dy: newOffset[1] - oldOffset[1]\n    }));\n  };\n  ThumbnailView.prototype._onZoom = function (event) {\n    var trans = this._transThisToTarget;\n    if (!this._isEnabled() || !trans) {\n      return;\n    }\n    var offset = applyTransform([], [event.originX, event.originY], trans);\n    this._api.dispatchAction(makeRoamPayload(this._model.getTarget().baseMapProvider, {\n      zoom: 1 / event.scale,\n      originX: offset[0],\n      originY: offset[1]\n    }));\n  };\n  /**\n   * This method is also responsible for check enable in asynchronous situation,\n   * e.g., in event listeners that is supposed to be outdated but not be removed.\n   */\n  ThumbnailView.prototype._isEnabled = function () {\n    var thumbnailModel = this._model;\n    if (!thumbnailModel || !thumbnailModel.shouldShow()) {\n      return false;\n    }\n    var baseMapProvider = thumbnailModel.getTarget().baseMapProvider;\n    if (!baseMapProvider) {\n      return false;\n    }\n    return true;\n  };\n  ThumbnailView.prototype._clear = function () {\n    this.group.removeAll();\n    this._bridgeRendered = null;\n    if (this._roamController) {\n      this._roamController.disable();\n    }\n  };\n  ThumbnailView.prototype.remove = function () {\n    this._clear();\n  };\n  ThumbnailView.prototype.dispose = function () {\n    this._clear();\n  };\n  ThumbnailView.type = 'thumbnail';\n  return ThumbnailView;\n}(ComponentView);\nexport { ThumbnailView };\nfunction makeRoamPayload(baseMapProvider, params) {\n  var type = baseMapProvider.mainType === 'series' ? baseMapProvider.subType + \"Roam\" // e.g. 'graphRoam'\n  : baseMapProvider.mainType + \"Roam\"; // e.g., 'geoRoam'\n  var payload = {\n    type: type\n  };\n  payload[baseMapProvider.mainType + \"Id\"] = baseMapProvider.id;\n  extend(payload, params);\n  return payload;\n}\nfunction updateZ(thumbnailModel, thumbnailView) {\n  var zInfo = retrieveZInfo(thumbnailModel);\n  traverseUpdateZ(thumbnailView.group, zInfo.z, zInfo.zlevel);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { ThumbnailModel } from './ThumbnailModel.js';\nimport { ThumbnailView } from './ThumbnailView.js';\nexport function install(registers) {\n  registers.registerComponentModel(ThumbnailModel);\n  registers.registerComponentView(ThumbnailView);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { makeInner } from '../util/model.js';\nimport { getDecalFromPalette } from '../model/mixin/palette.js';\nvar DEFAULT_OPTION = {\n  label: {\n    enabled: true\n  },\n  decal: {\n    show: false\n  }\n};\nvar inner = makeInner();\nvar decalPaletteScope = {};\nexport default function ariaVisual(ecModel, api) {\n  var ariaModel = ecModel.getModel('aria');\n  // See \"area enabled\" detection code in `GlobalModel.ts`.\n  if (!ariaModel.get('enabled')) {\n    return;\n  }\n  var defaultOption = zrUtil.clone(DEFAULT_OPTION);\n  zrUtil.merge(defaultOption.label, ecModel.getLocaleModel().get('aria'), false);\n  zrUtil.merge(ariaModel.option, defaultOption, false);\n  setDecal();\n  setLabel();\n  function setDecal() {\n    var decalModel = ariaModel.getModel('decal');\n    var useDecal = decalModel.get('show');\n    if (useDecal) {\n      // Each type of series use one scope.\n      // Pie and funnel are using different scopes.\n      var paletteScopeGroupByType_1 = zrUtil.createHashMap();\n      ecModel.eachSeries(function (seriesModel) {\n        if (seriesModel.isColorBySeries()) {\n          return;\n        }\n        var decalScope = paletteScopeGroupByType_1.get(seriesModel.type);\n        if (!decalScope) {\n          decalScope = {};\n          paletteScopeGroupByType_1.set(seriesModel.type, decalScope);\n        }\n        inner(seriesModel).scope = decalScope;\n      });\n      ecModel.eachRawSeries(function (seriesModel) {\n        if (ecModel.isSeriesFiltered(seriesModel)) {\n          return;\n        }\n        if (zrUtil.isFunction(seriesModel.enableAriaDecal)) {\n          // Let series define how to use decal palette on data\n          seriesModel.enableAriaDecal();\n          return;\n        }\n        var data = seriesModel.getData();\n        if (!seriesModel.isColorBySeries()) {\n          var dataAll_1 = seriesModel.getRawData();\n          var idxMap_1 = {};\n          var decalScope_1 = inner(seriesModel).scope;\n          data.each(function (idx) {\n            var rawIdx = data.getRawIndex(idx);\n            idxMap_1[rawIdx] = idx;\n          });\n          var dataCount_1 = dataAll_1.count();\n          dataAll_1.each(function (rawIdx) {\n            var idx = idxMap_1[rawIdx];\n            var name = dataAll_1.getName(rawIdx) || rawIdx + '';\n            var paletteDecal = getDecalFromPalette(seriesModel.ecModel, name, decalScope_1, dataCount_1);\n            var specifiedDecal = data.getItemVisual(idx, 'decal');\n            data.setItemVisual(idx, 'decal', mergeDecal(specifiedDecal, paletteDecal));\n          });\n        } else {\n          var paletteDecal = getDecalFromPalette(seriesModel.ecModel, seriesModel.name, decalPaletteScope, ecModel.getSeriesCount());\n          var specifiedDecal = data.getVisual('decal');\n          data.setVisual('decal', mergeDecal(specifiedDecal, paletteDecal));\n        }\n        function mergeDecal(specifiedDecal, paletteDecal) {\n          // Merge decal from palette to decal from itemStyle.\n          // User do not need to specify all of the decal props.\n          var resultDecal = specifiedDecal ? zrUtil.extend(zrUtil.extend({}, paletteDecal), specifiedDecal) : paletteDecal;\n          resultDecal.dirty = true;\n          return resultDecal;\n        }\n      });\n    }\n  }\n  function setLabel() {\n    var dom = api.getZr().dom;\n    // TODO: support for SSR\n    if (!dom) {\n      return;\n    }\n    var labelLocale = ecModel.getLocaleModel().get('aria');\n    var labelModel = ariaModel.getModel('label');\n    labelModel.option = zrUtil.defaults(labelModel.option, labelLocale);\n    if (!labelModel.get('enabled')) {\n      return;\n    }\n    dom.setAttribute('role', 'img');\n    if (labelModel.get('description')) {\n      dom.setAttribute('aria-label', labelModel.get('description'));\n      return;\n    }\n    var seriesCnt = ecModel.getSeriesCount();\n    var maxDataCnt = labelModel.get(['data', 'maxCount']) || 10;\n    var maxSeriesCnt = labelModel.get(['series', 'maxCount']) || 10;\n    var displaySeriesCnt = Math.min(seriesCnt, maxSeriesCnt);\n    var ariaLabel;\n    if (seriesCnt < 1) {\n      // No series, no aria label\n      return;\n    } else {\n      var title = getTitle();\n      if (title) {\n        var withTitle = labelModel.get(['general', 'withTitle']);\n        ariaLabel = replace(withTitle, {\n          title: title\n        });\n      } else {\n        ariaLabel = labelModel.get(['general', 'withoutTitle']);\n      }\n      var seriesLabels_1 = [];\n      var prefix = seriesCnt > 1 ? labelModel.get(['series', 'multiple', 'prefix']) : labelModel.get(['series', 'single', 'prefix']);\n      ariaLabel += replace(prefix, {\n        seriesCount: seriesCnt\n      });\n      ecModel.eachSeries(function (seriesModel, idx) {\n        if (idx < displaySeriesCnt) {\n          var seriesLabel = void 0;\n          var seriesName = seriesModel.get('name');\n          var withName = seriesName ? 'withName' : 'withoutName';\n          seriesLabel = seriesCnt > 1 ? labelModel.get(['series', 'multiple', withName]) : labelModel.get(['series', 'single', withName]);\n          seriesLabel = replace(seriesLabel, {\n            seriesId: seriesModel.seriesIndex,\n            seriesName: seriesModel.get('name'),\n            seriesType: getSeriesTypeName(seriesModel.subType)\n          });\n          var data = seriesModel.getData();\n          if (data.count() > maxDataCnt) {\n            // Show part of data\n            var partialLabel = labelModel.get(['data', 'partialData']);\n            seriesLabel += replace(partialLabel, {\n              displayCnt: maxDataCnt\n            });\n          } else {\n            seriesLabel += labelModel.get(['data', 'allData']);\n          }\n          var middleSeparator_1 = labelModel.get(['data', 'separator', 'middle']);\n          var endSeparator_1 = labelModel.get(['data', 'separator', 'end']);\n          var excludeDimensionId_1 = labelModel.get(['data', 'excludeDimensionId']);\n          var dataLabels = [];\n          for (var i = 0; i < data.count(); i++) {\n            if (i < maxDataCnt) {\n              var name_1 = data.getName(i);\n              var value = !excludeDimensionId_1 ? data.getValues(i) : zrUtil.filter(data.getValues(i), function (v, j) {\n                return zrUtil.indexOf(excludeDimensionId_1, j) === -1;\n              });\n              var dataLabel = labelModel.get(['data', name_1 ? 'withName' : 'withoutName']);\n              dataLabels.push(replace(dataLabel, {\n                name: name_1,\n                value: value.join(middleSeparator_1)\n              }));\n            }\n          }\n          seriesLabel += dataLabels.join(middleSeparator_1) + endSeparator_1;\n          seriesLabels_1.push(seriesLabel);\n        }\n      });\n      var separatorModel = labelModel.getModel(['series', 'multiple', 'separator']);\n      var middleSeparator = separatorModel.get('middle');\n      var endSeparator = separatorModel.get('end');\n      ariaLabel += seriesLabels_1.join(middleSeparator) + endSeparator;\n      dom.setAttribute('aria-label', ariaLabel);\n    }\n  }\n  function replace(str, keyValues) {\n    if (!zrUtil.isString(str)) {\n      return str;\n    }\n    var result = str;\n    zrUtil.each(keyValues, function (value, key) {\n      result = result.replace(new RegExp('\\\\{\\\\s*' + key + '\\\\s*\\\\}', 'g'), value);\n    });\n    return result;\n  }\n  function getTitle() {\n    var title = ecModel.get('title');\n    if (title && title.length) {\n      title = title[0];\n    }\n    return title && title.text;\n  }\n  function getSeriesTypeName(type) {\n    var typeNames = ecModel.getLocaleModel().get(['series', 'typeNames']);\n    return typeNames[type] || typeNames.chart;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function ariaPreprocessor(option) {\n  if (!option || !option.aria) {\n    return;\n  }\n  var aria = option.aria;\n  // aria.show is deprecated and should use aria.enabled instead\n  if (aria.show != null) {\n    aria.enabled = aria.show;\n  }\n  aria.label = aria.label || {};\n  // move description, general, series, data to be under aria.label\n  zrUtil.each(['description', 'general', 'series', 'data'], function (name) {\n    if (aria[name] != null) {\n      aria.label[name] = aria[name];\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport ariaVisual from '../../visual/aria.js';\nimport ariaPreprocessor from './preprocessor.js';\nexport function install(registers) {\n  registers.registerPreprocessor(ariaPreprocessor);\n  registers.registerVisual(registers.PRIORITY.VISUAL.ARIA, ariaVisual);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { keys, isArray, map, isObject, isString, isRegExp, isArrayLike, hasOwn, isNumber } from 'zrender/lib/core/util.js';\nimport { throwError, makePrintable } from './log.js';\nimport { getRawValueParser, createFilterComparator } from '../data/helper/dataValueHelper.js';\n;\nvar RELATIONAL_EXPRESSION_OP_ALIAS_MAP = {\n  value: 'eq',\n  // PENDING: not good for literal semantic?\n  '<': 'lt',\n  '<=': 'lte',\n  '>': 'gt',\n  '>=': 'gte',\n  '=': 'eq',\n  '!=': 'ne',\n  '<>': 'ne'\n  // Might be misleading for sake of the difference between '==' and '===',\n  // so don't support them.\n  // '==': 'eq',\n  // '===': 'seq',\n  // '!==': 'sne'\n  // PENDING: Whether support some common alias \"ge\", \"le\", \"neq\"?\n  // ge: 'gte',\n  // le: 'lte',\n  // neq: 'ne',\n};\n// type RelationalExpressionOpEvaluate = (tarVal: unknown, condVal: unknown) => boolean;\nvar RegExpEvaluator = /** @class */function () {\n  function RegExpEvaluator(rVal) {\n    // Support condVal: RegExp | string\n    var condValue = this._condVal = isString(rVal) ? new RegExp(rVal) : isRegExp(rVal) ? rVal : null;\n    if (condValue == null) {\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('Illegal regexp', rVal, 'in');\n      }\n      throwError(errMsg);\n    }\n  }\n  RegExpEvaluator.prototype.evaluate = function (lVal) {\n    var type = typeof lVal;\n    return isString(type) ? this._condVal.test(lVal) : isNumber(type) ? this._condVal.test(lVal + '') : false;\n  };\n  return RegExpEvaluator;\n}();\nvar ConstConditionInternal = /** @class */function () {\n  function ConstConditionInternal() {}\n  ConstConditionInternal.prototype.evaluate = function () {\n    return this.value;\n  };\n  return ConstConditionInternal;\n}();\nvar AndConditionInternal = /** @class */function () {\n  function AndConditionInternal() {}\n  AndConditionInternal.prototype.evaluate = function () {\n    var children = this.children;\n    for (var i = 0; i < children.length; i++) {\n      if (!children[i].evaluate()) {\n        return false;\n      }\n    }\n    return true;\n  };\n  return AndConditionInternal;\n}();\nvar OrConditionInternal = /** @class */function () {\n  function OrConditionInternal() {}\n  OrConditionInternal.prototype.evaluate = function () {\n    var children = this.children;\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].evaluate()) {\n        return true;\n      }\n    }\n    return false;\n  };\n  return OrConditionInternal;\n}();\nvar NotConditionInternal = /** @class */function () {\n  function NotConditionInternal() {}\n  NotConditionInternal.prototype.evaluate = function () {\n    return !this.child.evaluate();\n  };\n  return NotConditionInternal;\n}();\nvar RelationalConditionInternal = /** @class */function () {\n  function RelationalConditionInternal() {}\n  RelationalConditionInternal.prototype.evaluate = function () {\n    var needParse = !!this.valueParser;\n    // Call getValue with no `this`.\n    var getValue = this.getValue;\n    var tarValRaw = getValue(this.valueGetterParam);\n    var tarValParsed = needParse ? this.valueParser(tarValRaw) : null;\n    // Relational cond follow \"and\" logic internally.\n    for (var i = 0; i < this.subCondList.length; i++) {\n      if (!this.subCondList[i].evaluate(needParse ? tarValParsed : tarValRaw)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  return RelationalConditionInternal;\n}();\nfunction parseOption(exprOption, getters) {\n  if (exprOption === true || exprOption === false) {\n    var cond = new ConstConditionInternal();\n    cond.value = exprOption;\n    return cond;\n  }\n  var errMsg = '';\n  if (!isObjectNotArray(exprOption)) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = makePrintable('Illegal config. Expect a plain object but actually', exprOption);\n    }\n    throwError(errMsg);\n  }\n  if (exprOption.and) {\n    return parseAndOrOption('and', exprOption, getters);\n  } else if (exprOption.or) {\n    return parseAndOrOption('or', exprOption, getters);\n  } else if (exprOption.not) {\n    return parseNotOption(exprOption, getters);\n  }\n  return parseRelationalOption(exprOption, getters);\n}\nfunction parseAndOrOption(op, exprOption, getters) {\n  var subOptionArr = exprOption[op];\n  var errMsg = '';\n  if (process.env.NODE_ENV !== 'production') {\n    errMsg = makePrintable('\"and\"/\"or\" condition should only be `' + op + ': [...]` and must not be empty array.', 'Illegal condition:', exprOption);\n  }\n  if (!isArray(subOptionArr)) {\n    throwError(errMsg);\n  }\n  if (!subOptionArr.length) {\n    throwError(errMsg);\n  }\n  var cond = op === 'and' ? new AndConditionInternal() : new OrConditionInternal();\n  cond.children = map(subOptionArr, function (subOption) {\n    return parseOption(subOption, getters);\n  });\n  if (!cond.children.length) {\n    throwError(errMsg);\n  }\n  return cond;\n}\nfunction parseNotOption(exprOption, getters) {\n  var subOption = exprOption.not;\n  var errMsg = '';\n  if (process.env.NODE_ENV !== 'production') {\n    errMsg = makePrintable('\"not\" condition should only be `not: {}`.', 'Illegal condition:', exprOption);\n  }\n  if (!isObjectNotArray(subOption)) {\n    throwError(errMsg);\n  }\n  var cond = new NotConditionInternal();\n  cond.child = parseOption(subOption, getters);\n  if (!cond.child) {\n    throwError(errMsg);\n  }\n  return cond;\n}\nfunction parseRelationalOption(exprOption, getters) {\n  var errMsg = '';\n  var valueGetterParam = getters.prepareGetValue(exprOption);\n  var subCondList = [];\n  var exprKeys = keys(exprOption);\n  var parserName = exprOption.parser;\n  var valueParser = parserName ? getRawValueParser(parserName) : null;\n  for (var i = 0; i < exprKeys.length; i++) {\n    var keyRaw = exprKeys[i];\n    if (keyRaw === 'parser' || getters.valueGetterAttrMap.get(keyRaw)) {\n      continue;\n    }\n    var op = hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP, keyRaw) ? RELATIONAL_EXPRESSION_OP_ALIAS_MAP[keyRaw] : keyRaw;\n    var condValueRaw = exprOption[keyRaw];\n    var condValueParsed = valueParser ? valueParser(condValueRaw) : condValueRaw;\n    var evaluator = createFilterComparator(op, condValueParsed) || op === 'reg' && new RegExpEvaluator(condValueParsed);\n    if (!evaluator) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('Illegal relational operation: \"' + keyRaw + '\" in condition:', exprOption);\n      }\n      throwError(errMsg);\n    }\n    subCondList.push(evaluator);\n  }\n  if (!subCondList.length) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = makePrintable('Relational condition must have at least one operator.', 'Illegal condition:', exprOption);\n    }\n    // No relational operator always disabled in case of dangers result.\n    throwError(errMsg);\n  }\n  var cond = new RelationalConditionInternal();\n  cond.valueGetterParam = valueGetterParam;\n  cond.valueParser = valueParser;\n  cond.getValue = getters.getValue;\n  cond.subCondList = subCondList;\n  return cond;\n}\nfunction isObjectNotArray(val) {\n  return isObject(val) && !isArrayLike(val);\n}\nvar ConditionalExpressionParsed = /** @class */function () {\n  function ConditionalExpressionParsed(exprOption, getters) {\n    this._cond = parseOption(exprOption, getters);\n  }\n  ConditionalExpressionParsed.prototype.evaluate = function () {\n    return this._cond.evaluate();\n  };\n  return ConditionalExpressionParsed;\n}();\n;\nexport function parseConditionalExpression(exprOption, getters) {\n  return new ConditionalExpressionParsed(exprOption, getters);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parseConditionalExpression } from '../../util/conditionalExpression.js';\nimport { hasOwn, createHashMap } from 'zrender/lib/core/util.js';\nimport { makePrintable, throwError } from '../../util/log.js';\nexport var filterTransform = {\n  type: 'echarts:filter',\n  // PENDING: enhance to filter by index rather than create new data\n  transform: function (params) {\n    // [Caveat] Fail-Fast:\n    // Do not return the whole dataset unless user config indicates it explicitly.\n    // For example, if no condition is specified by mistake, returning an empty result\n    // is better than returning the entire raw source for the user to find the mistake.\n    var upstream = params.upstream;\n    var rawItem;\n    var condition = parseConditionalExpression(params.config, {\n      valueGetterAttrMap: createHashMap({\n        dimension: true\n      }),\n      prepareGetValue: function (exprOption) {\n        var errMsg = '';\n        var dimLoose = exprOption.dimension;\n        if (!hasOwn(exprOption, 'dimension')) {\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = makePrintable('Relation condition must has prop \"dimension\" specified.', 'Illegal condition:', exprOption);\n          }\n          throwError(errMsg);\n        }\n        var dimInfo = upstream.getDimensionInfo(dimLoose);\n        if (!dimInfo) {\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = makePrintable('Can not find dimension info via: ' + dimLoose + '.\\n', 'Existing dimensions: ', upstream.cloneAllDimensionInfo(), '.\\n', 'Illegal condition:', exprOption, '.\\n');\n          }\n          throwError(errMsg);\n        }\n        return {\n          dimIdx: dimInfo.index\n        };\n      },\n      getValue: function (param) {\n        return upstream.retrieveValueFromItem(rawItem, param.dimIdx);\n      }\n    });\n    var resultData = [];\n    for (var i = 0, len = upstream.count(); i < len; i++) {\n      rawItem = upstream.getRawDataItem(i);\n      if (condition.evaluate()) {\n        resultData.push(rawItem);\n      }\n    }\n    return {\n      data: resultData\n    };\n  }\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { SOURCE_FORMAT_ARRAY_ROWS, SOURCE_FORMAT_OBJECT_ROWS } from '../../util/types.js';\nimport { makePrintable, throwError } from '../../util/log.js';\nimport { each } from 'zrender/lib/core/util.js';\nimport { normalizeToArray } from '../../util/model.js';\nimport { getRawValueParser, SortOrderComparator } from '../../data/helper/dataValueHelper.js';\nvar sampleLog = '';\nif (process.env.NODE_ENV !== 'production') {\n  sampleLog = ['Valid config is like:', '{ dimension: \"age\", order: \"asc\" }', 'or [{ dimension: \"age\", order: \"asc\"], { dimension: \"date\", order: \"desc\" }]'].join(' ');\n}\nexport var sortTransform = {\n  type: 'echarts:sort',\n  transform: function (params) {\n    var upstream = params.upstream;\n    var config = params.config;\n    var errMsg = '';\n    // Normalize\n    // const orderExprList: OrderExpression[] = isArray(config[0])\n    //     ? config as OrderExpression[]\n    //     : [config as OrderExpression];\n    var orderExprList = normalizeToArray(config);\n    if (!orderExprList.length) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'Empty `config` in sort transform.';\n      }\n      throwError(errMsg);\n    }\n    var orderDefList = [];\n    each(orderExprList, function (orderExpr) {\n      var dimLoose = orderExpr.dimension;\n      var order = orderExpr.order;\n      var parserName = orderExpr.parser;\n      var incomparable = orderExpr.incomparable;\n      if (dimLoose == null) {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = 'Sort transform config must has \"dimension\" specified.' + sampleLog;\n        }\n        throwError(errMsg);\n      }\n      if (order !== 'asc' && order !== 'desc') {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = 'Sort transform config must has \"order\" specified.' + sampleLog;\n        }\n        throwError(errMsg);\n      }\n      if (incomparable && incomparable !== 'min' && incomparable !== 'max') {\n        var errMsg_1 = '';\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg_1 = 'incomparable must be \"min\" or \"max\" rather than \"' + incomparable + '\".';\n        }\n        throwError(errMsg_1);\n      }\n      if (order !== 'asc' && order !== 'desc') {\n        var errMsg_2 = '';\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg_2 = 'order must be \"asc\" or \"desc\" rather than \"' + order + '\".';\n        }\n        throwError(errMsg_2);\n      }\n      var dimInfo = upstream.getDimensionInfo(dimLoose);\n      if (!dimInfo) {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = makePrintable('Can not find dimension info via: ' + dimLoose + '.\\n', 'Existing dimensions: ', upstream.cloneAllDimensionInfo(), '.\\n', 'Illegal config:', orderExpr, '.\\n');\n        }\n        throwError(errMsg);\n      }\n      var parser = parserName ? getRawValueParser(parserName) : null;\n      if (parserName && !parser) {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = makePrintable('Invalid parser name ' + parserName + '.\\n', 'Illegal config:', orderExpr, '.\\n');\n        }\n        throwError(errMsg);\n      }\n      orderDefList.push({\n        dimIdx: dimInfo.index,\n        parser: parser,\n        comparator: new SortOrderComparator(order, incomparable)\n      });\n    });\n    // TODO: support it?\n    var sourceFormat = upstream.sourceFormat;\n    if (sourceFormat !== SOURCE_FORMAT_ARRAY_ROWS && sourceFormat !== SOURCE_FORMAT_OBJECT_ROWS) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'sourceFormat \"' + sourceFormat + '\" is not supported yet';\n      }\n      throwError(errMsg);\n    }\n    // Other upstream format are all array.\n    var resultData = [];\n    for (var i = 0, len = upstream.count(); i < len; i++) {\n      resultData.push(upstream.getRawDataItem(i));\n    }\n    resultData.sort(function (item0, item1) {\n      for (var i = 0; i < orderDefList.length; i++) {\n        var orderDef = orderDefList[i];\n        var val0 = upstream.retrieveValueFromItem(item0, orderDef.dimIdx);\n        var val1 = upstream.retrieveValueFromItem(item1, orderDef.dimIdx);\n        if (orderDef.parser) {\n          val0 = orderDef.parser(val0);\n          val1 = orderDef.parser(val1);\n        }\n        var result = orderDef.comparator.evaluate(val0, val1);\n        if (result !== 0) {\n          return result;\n        }\n      }\n      return 0;\n    });\n    return {\n      data: resultData\n    };\n  }\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { filterTransform } from './filterTransform.js';\nimport { sortTransform } from './sortTransform.js';\nexport function install(registers) {\n  registers.registerTransform(filterTransform);\n  registers.registerTransform(sortTransform);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * This module is imported by echarts directly.\n *\n * Notice:\n * Always keep this file exists for backward compatibility.\n * Because before 4.1.0, dataset is an optional component,\n * some users may import this module manually.\n */\nimport ComponentModel from '../../model/Component.js';\nimport ComponentView from '../../view/Component.js';\nimport { SERIES_LAYOUT_BY_COLUMN } from '../../util/types.js';\nimport { disableTransformOptionMerge, SourceManager } from '../../data/helper/sourceManager.js';\nvar DatasetModel = /** @class */function (_super) {\n  __extends(DatasetModel, _super);\n  function DatasetModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'dataset';\n    return _this;\n  }\n  DatasetModel.prototype.init = function (option, parentModel, ecModel) {\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n    this._sourceManager = new SourceManager(this);\n    disableTransformOptionMerge(this);\n  };\n  DatasetModel.prototype.mergeOption = function (newOption, ecModel) {\n    _super.prototype.mergeOption.call(this, newOption, ecModel);\n    disableTransformOptionMerge(this);\n  };\n  DatasetModel.prototype.optionUpdated = function () {\n    this._sourceManager.dirty();\n  };\n  DatasetModel.prototype.getSourceManager = function () {\n    return this._sourceManager;\n  };\n  DatasetModel.type = 'dataset';\n  DatasetModel.defaultOption = {\n    seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN\n  };\n  return DatasetModel;\n}(ComponentModel);\nexport { DatasetModel };\nvar DatasetView = /** @class */function (_super) {\n  __extends(DatasetView, _super);\n  function DatasetView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'dataset';\n    return _this;\n  }\n  DatasetView.type = 'dataset';\n  return DatasetView;\n}(ComponentView);\nexport function install(registers) {\n  registers.registerComponentModel(DatasetModel);\n  registers.registerComponentView(DatasetView);\n}"],"mappings":"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"}