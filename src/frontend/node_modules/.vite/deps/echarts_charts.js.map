{"version":3,"file":"echarts_charts.js","names":["PI2","PathProxy","Point","vector.dist","vector.lerp","Polyline","LineSeriesModel","createSeriesData","Group","tokens","SeriesModel","len","mathMin","mathMax","isPointNull","dir","ECPolylineShape","ECPolyline","tokens","len","CMD","PathProxy","Path","ECPolygonShape","ECPolygon","graphic.Rect","graphic.Sector","zrUtil.isNumber","len","zrUtil.map","graphic.LinearGradient","SymbolClz","LineView","graphic.Group","SymbolDraw","zrUtil.bind","zrUtil.defaults","modelUtil.queryDataIndex","zrUtil.isFunction","graphic.Text","dataIndex","modelUtil.interpolateRawValues","inner","i","el","ChartView","data","sum","install","LineView","LineSeries","layoutPoints","BaseBarSeriesModel","createSeriesData","SeriesModel","BarSeriesModel","createSeriesData","BaseBarSeriesModel","tokens","SausageShape","SausagePath","PI2","Path","opts","parsePercent","mathMax","mathMin","BarView","layout","Group","scale","len","ChartView","Rect","Sausage","Sector","isRadial","position","LagePathShape","LargePath","Path","createLarge","BarView","BarSeries","zrUtil.curry","RADIAN","sum","dir","endAngle","layout","RADIAN","i","dir","dx","len","layout","dist","label","labelLine","linePoints","PI","BoundingRect","Point","selectState","PiePiece","graphic.Text","layout","graphic.Polyline","graphic.Sector","PieView","ChartView","SeriesData","LegendVisualProvider","modelUtil.makeInner","PieSeriesModel","LegendVisualProvider","zrUtil.bind","zrUtil.curry","SeriesModel","install","PieView","PieSeriesModel","ScatterSeriesModel","createSeriesData","tokens","SeriesModel","LargeSymbolPathShape","LargeSymbolPath","graphic.BoundingRect","graphic.Path","LargeSymbolDraw","graphic.Group","len","ScatterView","LargeSymbolDraw","SymbolDraw","ChartView","install","installGridSimple","ScatterSeriesModel","ScatterView","layoutPoints","zrUtil.find","zrUtil.isArray","RadarView","createSymbol","data","symbolUtil.normalizeSymbolSize","symbolUtil.createSymbol","zrUtil.map","graphic.Polygon","graphic.Polyline","graphic.Group","zrUtil.defaults","zrUtil.clone","ZRImage","zrUtil.extend","ChartView","RadarSeriesModel","LegendVisualProvider","zrUtil.bind","zrUtil.map","len","SeriesModel","install","installRadarComponent","RadarView","RadarSeriesModel","backwardCompat","MapView","MapDraw","layout","graphic.Circle","ChartView","MapSeries","zrUtil.curry","zrUtil.createHashMap","len","geoSourceManager","zrUtil.merge","center","tokens","SeriesModel","sum","len","zrUtil.map","data","layout","install","installGeo","MapView","MapSeries","separation","TreeEdgeShape","TreePath","tokens","Path","TreeView","graphic.Group","RoamController","layout","View","ChartView","SymbolClz","center","zrUtil.concatArray","graphic.BezierCurve","zrUtil.defaults","inner","TreeNode","zrUtil.isFunction","zrUtil.isString","len","layout","merge","Tree","zrUtil.isArray","SeriesData","zrUtil.indexOf","zrUtil.isString","TreeSeriesModel","Model","Tree","center","tokens","SeriesModel","separation","layout","separation","sep","install","TreeView","TreeSeriesModel","helper.retrieveTargetInfo","helper.aboveViewRoot","TreemapSeriesModel","Model","zrUtil.map","Tree","zrUtil.createHashMap","tokens","SeriesModel","completeTreeValue","sum","zrUtil.isArray","Breadcrumb","graphic.Group","layout.createBoxLayoutReference","layout.getLayoutRect","graphic.Polygon","graphic.Text","AnimationWrap","len","graphic.Group","graphic.Rect","inner","TreemapView","helper.retrieveTargetInfo","DataDiffer","getKey","willDeleteEls","animationUtil.createWrap","RoamController","BoundingRect","matrix.create","Breadcrumb","ChartView","bg","content","thisLayout","Displayable","depth","VisualMapping","zrUtil.retrieve","each","zrUtil.each","layout.createBoxLayoutReference","layout.getLayoutRect","helper.retrieveTargetInfo","helper.getPathToRoot","zrUtil.extend","BoundingRect","initChildren","len","zrUtil.filter","sum","sort","scale","layout","install","TreemapSeriesModel","TreemapView","treemapVisual","treemapLayout","normalize","symbolType","symbolSize","zrUtil.isNumber","zrUtil.isArray","len","keys","zrUtil.retrieve3","vec2.clone","layout","zrUtil.retrieve3","vec2.clone","sum","vec2.scaleAndAdd","center","vec2.create","vec2.clone","i","vec2.len","n","zrUtil.isArray","zrUtil.retrieve3","createViewCoordSys","View","curveTool.quadraticAt","vec2.distSquare","center","quadraticSubdivide","curveTool.quadraticSubdivide","vec2.clone","scale","GraphView","SymbolDraw","LineDraw","graphic.Group","RoamController","forceLayout","layout","sub","ECLinePath","ChartView","Graph","zrUtil.isNumber","len","GraphNode","zrUtil.createHashMap","GraphEdge","layout","merge","zrUtil.mixin","Graph","zrUtil.retrieve","createSeriesData","CoordinateSystem","zrUtil.indexOf","SeriesData","GraphSeriesModel","LegendVisualProvider","Model","zrUtil.map","zrUtil.extend","SeriesData","center","tokens","SeriesModel","install","GraphView","GraphSeriesModel","edgeVisual","simpleLayout","circularLayout","forceLayout","View","createView","ChordPiece","graphic.Text","layout","graphic.Sector","ChordPathShape","ChordEdge","layout","graphic.Path","graphic.LinearGradient","RADIAN","ChordView","ChordPiece","graphic.removeElementWithFadeOut","center","ChartView","ChordSeriesModel","LegendVisualProvider","zrUtil.bind","Model","SeriesModel","RADIAN","dir","install","ChordView","ChordSeriesModel","chordLayout","PointerShape","PointerPath","Path","center","GaugeView","Sausage","graphic.Sector","sector","getColor","percent","i","graphic.Line","graphic.Text","PointerPath","endAngle","ZRImage","graphic.Group","value","ChartView","GaugeSeriesModel","tokens","SeriesModel","install","GaugeView","GaugeSeriesModel","opacityAccessPath","FunnelPiece","graphic.Polyline","graphic.Text","layout","labelLayout","graphic.Point","graphic.Polygon","FunnelView","ChartView","FunnelSeriesModel","LegendVisualProvider","zrUtil.bind","zrUtil.curry","sum","tokens","SeriesModel","sort","len","layout","layout.createBoxLayoutReference","layout.getLayoutRect","idx","install","FunnelView","FunnelSeriesModel","ParallelView","graphic.Group","createGridClipShape","ChartView","graphic.Rect","graphic.Polyline","ParallelSeriesModel","createSeriesData","SeriesModel","install","installParallelComponent","ParallelView","ParallelSeriesModel","parallelVisual","SankeyPathShape","SankeyPath","graphic.Path","SankeyView","graphic.Group","RoamController","layout","graphic.Rect","createGridClipShape","View","ChartView","graphic.LinearGradient","SankeySeriesModel","Model","layout","center","tokens","SeriesModel","zrUtil.filter","node","sum","len","VisualMapping","install","SankeyView","SankeySeriesModel","WhiskerBoxCommonMixin","zrUtil.isArray","zrUtil.extend","zrUtil.curry","BoxplotSeriesModel","tokens","SeriesModel","BoxplotView","createNormalBox","ChartView","BoxPathShape","BoxPath","Path","transInit","graphic","zrUtil.map","each","zrUtil.each","zrUtil.indexOf","zrUtil.isArray","dataIndex","axisDimVal","ends","install","BoxplotSeriesModel","BoxplotView","CandlestickView","ChartView","NormalBoxPathShape","NormalBoxPath","Path","zrUtil.map","LargeBoxPathShape","LargeBoxPath","CandlestickSeriesModel","SeriesModel","zrUtil.isArray","zrUtil.isObject","data","axisDimVal","ends","lowestVal","highestVal","install","CandlestickView","CandlestickSeriesModel","preprocessor","candlestickVisual","candlestickLayout","EffectSymbol","SymbolClz","Group","EffectScatterView","SymbolDraw","EffectSymbol","matrix.clone","ChartView","EffectScatterSeriesModel","createSeriesData","SeriesModel","install","EffectScatterView","EffectScatterSeriesModel","layoutPoints","EffectLine","Line","zrUtil.isArray","zrUtil.retrieve","idx","zrUtil.isFunction","vec2.dist","quadraticAt","curveUtil.quadraticAt","quadraticDerivativeAt","curveUtil.quadraticDerivativeAt","graphic.Group","Polyline","graphic.Polyline","graphic.Group","EffectPolyline","Polyline","len","vec2.dist","EffectLine","LargeLinesPathShape","LargeLinesPath","tokens","lineContain.containStroke","quadraticContain.containStroke","graphic.BoundingRect","graphic.Path","LargeLineDraw","graphic.Group","len","LinesView","linesLayout","LargeLineDraw","LineDraw","EffectPolyline","Polyline","EffectLine","Line","ChartView","LinesSeriesModel","len","CoordinateSystem","SeriesData","SeriesModel","data","symbolType","symbolSize","install","LinesView","LinesSeriesModel","linesLayout","linesVisual","HeatmapLayer","len","normalize","tokens","zrUtil.map","len","HeatmapView","graphic.Rect","zrUtil.eqNaN","layout","HeatmapLayer","graphic.Image","ChartView","HeatmapSeriesModel","createSeriesData","CoordinateSystem","tokens","SeriesModel","install","HeatmapView","HeatmapSeriesModel","graphic.Circle","PictorialBarView","ChartView","layout","isAnimationEnabled","zrUtil.isArray","zrUtil.retrieve","zrUtil.extend","path","position","index","graphic.Rect","graphic.Group","graphic","ZRImage","PictorialBarSeriesModel","BaseBarSeriesModel","tokens","install","PictorialBarView","PictorialBarSeriesModel","ThemeRiverView","DataDiffer","layout","graphic.Group","ChartView","graphic.Rect","ThemeRiverSeriesModel","LegendVisualProvider","zrUtil.bind","zrUtil.filter","zrUtil.createHashMap","SeriesData","zrUtil.isArray","dist","SeriesModel","numberUtil.parsePercent","zrUtil.map","sum","install","ThemeRiverView","ThemeRiverSeriesModel","SunburstPiece","graphic.Text","layout","zrUtil.extend","cornerRadius","zrUtil.concatArray","zrUtil.isNumber","graphic.Sector","SunburstView","newChildren","DataDiffer","getKey","zrUtil.curry","SunburstPiece","removeNode","virtualRoot","ChartView","SunburstSeriesModel","zrUtil.map","Model","Tree","SeriesModel","sum","zrUtil.isArray","center","zrUtil.isArray","sort","sum","dir","renderNode","startAngle","angle","rStart","rEnd","node","zrUtil.isFunction","zrUtil.map","tokens","install","SunburstView","SunburstSeriesModel","CustomSeriesModel","createSeriesData","SeriesModel","dataToCoordSize","zrUtil.map","zrUtil.bind","dataToCoordSize","zrUtil.map","zrUtil.bind","dataToCoordSize","zrUtil.map","radius","zrUtil.bind","prepareCartesian2d","prepareGeo","prepareSingleAxis","preparePolar","prepareCalendar","prepareMatrix","graphicUtil.Path","Displayable","CustomChartView","el","ChartView","graphicUtil.makePath","graphicUtil.Image","graphicUtil.Text","graphicUtil.Group","Clz","graphicUtil.getShapeClass","errMsg","graphicUtil.CompoundPath","getItemModel","style","tokens","labelStyleHelper.createTextStyle","labelStyleHelper.createTextConfig","labelStyleHelper.getFont","mergeChildren","DataDiffer","install","CustomChartView","CustomSeriesModel"],"sources":["../../echarts/lib/label/labelGuideHelper.js","../../echarts/lib/chart/line/LineSeries.js","../../echarts/lib/chart/line/helper.js","../../echarts/lib/chart/line/lineAnimationDiff.js","../../echarts/lib/chart/line/poly.js","../../echarts/lib/chart/helper/createClipPathFromCoordSys.js","../../echarts/lib/chart/line/LineView.js","../../echarts/lib/layout/points.js","../../echarts/lib/processor/dataSample.js","../../echarts/lib/chart/line/install.js","../../echarts/lib/chart/bar/BaseBarSeries.js","../../echarts/lib/chart/bar/BarSeries.js","../../echarts/lib/util/shape/sausage.js","../../echarts/lib/label/sectorLabel.js","../../echarts/lib/chart/helper/sectorHelper.js","../../echarts/lib/chart/bar/BarView.js","../../echarts/lib/chart/bar/install.js","../../echarts/lib/chart/pie/pieLayout.js","../../echarts/lib/processor/dataFilter.js","../../echarts/lib/chart/pie/labelLayout.js","../../echarts/lib/chart/pie/PieView.js","../../echarts/lib/chart/helper/createSeriesDataSimply.js","../../echarts/lib/visual/LegendVisualProvider.js","../../echarts/lib/chart/pie/PieSeries.js","../../echarts/lib/processor/negativeDataFilter.js","../../echarts/lib/chart/pie/install.js","../../echarts/lib/chart/scatter/ScatterSeries.js","../../echarts/lib/chart/helper/LargeSymbolDraw.js","../../echarts/lib/chart/scatter/ScatterView.js","../../echarts/lib/chart/scatter/install.js","../../echarts/lib/chart/radar/radarLayout.js","../../echarts/lib/chart/radar/backwardCompat.js","../../echarts/lib/chart/radar/RadarView.js","../../echarts/lib/chart/radar/RadarSeries.js","../../echarts/lib/chart/radar/install.js","../../echarts/lib/chart/map/MapView.js","../../echarts/lib/chart/map/MapSeries.js","../../echarts/lib/chart/map/mapDataStatistic.js","../../echarts/lib/chart/map/mapSymbolLayout.js","../../echarts/lib/chart/map/install.js","../../echarts/lib/chart/tree/layoutHelper.js","../../echarts/lib/chart/tree/TreeView.js","../../echarts/lib/data/helper/linkSeriesData.js","../../echarts/lib/data/Tree.js","../../echarts/lib/chart/helper/treeHelper.js","../../echarts/lib/chart/tree/TreeSeries.js","../../echarts/lib/chart/tree/traversalHelper.js","../../echarts/lib/chart/tree/treeLayout.js","../../echarts/lib/chart/tree/treeVisual.js","../../echarts/lib/chart/tree/treeAction.js","../../echarts/lib/chart/tree/install.js","../../echarts/lib/chart/treemap/treemapAction.js","../../echarts/lib/chart/helper/enableAriaDecalForTree.js","../../echarts/lib/chart/treemap/TreemapSeries.js","../../echarts/lib/chart/treemap/Breadcrumb.js","../../echarts/lib/util/animation.js","../../echarts/lib/chart/treemap/TreemapView.js","../../echarts/lib/chart/treemap/treemapVisual.js","../../echarts/lib/chart/treemap/treemapLayout.js","../../echarts/lib/chart/treemap/install.js","../../echarts/lib/chart/graph/categoryFilter.js","../../echarts/lib/chart/graph/categoryVisual.js","../../echarts/lib/chart/graph/edgeVisual.js","../../echarts/lib/chart/helper/multipleGraphEdgeHelper.js","../../echarts/lib/chart/graph/simpleLayoutHelper.js","../../echarts/lib/chart/graph/simpleLayout.js","../../echarts/lib/chart/graph/graphHelper.js","../../echarts/lib/chart/graph/circularLayoutHelper.js","../../echarts/lib/chart/graph/circularLayout.js","../../echarts/lib/chart/graph/forceHelper.js","../../echarts/lib/chart/graph/forceLayout.js","../../echarts/lib/chart/graph/createView.js","../../echarts/lib/chart/graph/adjustEdge.js","../../echarts/lib/chart/graph/GraphView.js","../../echarts/lib/data/Graph.js","../../echarts/lib/chart/helper/createGraphFromNodeEdge.js","../../echarts/lib/chart/graph/GraphSeries.js","../../echarts/lib/chart/graph/install.js","../../echarts/lib/chart/chord/ChordPiece.js","../../echarts/lib/chart/chord/ChordEdge.js","../../echarts/lib/chart/chord/ChordView.js","../../echarts/lib/chart/chord/ChordSeries.js","../../echarts/lib/chart/chord/chordLayout.js","../../echarts/lib/chart/chord/install.js","../../echarts/lib/chart/gauge/PointerPath.js","../../echarts/lib/chart/gauge/GaugeView.js","../../echarts/lib/chart/gauge/GaugeSeries.js","../../echarts/lib/chart/gauge/install.js","../../echarts/lib/chart/funnel/FunnelView.js","../../echarts/lib/chart/funnel/FunnelSeries.js","../../echarts/lib/chart/funnel/funnelLayout.js","../../echarts/lib/chart/funnel/install.js","../../echarts/lib/chart/parallel/ParallelView.js","../../echarts/lib/chart/parallel/ParallelSeries.js","../../echarts/lib/chart/parallel/parallelVisual.js","../../echarts/lib/chart/parallel/install.js","../../echarts/lib/chart/sankey/SankeyView.js","../../echarts/lib/chart/sankey/SankeySeries.js","../../echarts/lib/chart/sankey/sankeyLayout.js","../../echarts/lib/chart/sankey/sankeyVisual.js","../../echarts/lib/chart/sankey/install.js","../../echarts/lib/chart/helper/whiskerBoxCommon.js","../../echarts/lib/chart/boxplot/BoxplotSeries.js","../../echarts/lib/chart/boxplot/BoxplotView.js","../../echarts/lib/chart/boxplot/boxplotLayout.js","../../echarts/lib/chart/boxplot/prepareBoxplotData.js","../../echarts/lib/chart/boxplot/boxplotTransform.js","../../echarts/lib/chart/boxplot/install.js","../../echarts/lib/chart/candlestick/candlestickVisual.js","../../echarts/lib/chart/candlestick/CandlestickView.js","../../echarts/lib/chart/candlestick/CandlestickSeries.js","../../echarts/lib/chart/candlestick/preprocessor.js","../../echarts/lib/chart/candlestick/candlestickLayout.js","../../echarts/lib/chart/candlestick/install.js","../../echarts/lib/chart/helper/EffectSymbol.js","../../echarts/lib/chart/effectScatter/EffectScatterView.js","../../echarts/lib/chart/effectScatter/EffectScatterSeries.js","../../echarts/lib/chart/effectScatter/install.js","../../echarts/lib/chart/helper/EffectLine.js","../../echarts/lib/chart/helper/Polyline.js","../../echarts/lib/chart/helper/EffectPolyline.js","../../echarts/lib/chart/helper/LargeLineDraw.js","../../echarts/lib/chart/lines/linesLayout.js","../../echarts/lib/chart/lines/LinesView.js","../../echarts/lib/chart/lines/LinesSeries.js","../../echarts/lib/chart/lines/linesVisual.js","../../echarts/lib/chart/lines/install.js","../../echarts/lib/chart/heatmap/HeatmapLayer.js","../../echarts/lib/chart/heatmap/HeatmapView.js","../../echarts/lib/chart/heatmap/HeatmapSeries.js","../../echarts/lib/chart/heatmap/install.js","../../echarts/lib/chart/bar/PictorialBarView.js","../../echarts/lib/chart/bar/PictorialBarSeries.js","../../echarts/lib/chart/bar/installPictorialBar.js","../../echarts/lib/chart/themeRiver/ThemeRiverView.js","../../echarts/lib/chart/themeRiver/ThemeRiverSeries.js","../../echarts/lib/chart/themeRiver/themeRiverLayout.js","../../echarts/lib/chart/themeRiver/install.js","../../echarts/lib/chart/sunburst/SunburstPiece.js","../../echarts/lib/chart/sunburst/sunburstAction.js","../../echarts/lib/chart/sunburst/SunburstView.js","../../echarts/lib/chart/sunburst/SunburstSeries.js","../../echarts/lib/chart/sunburst/sunburstLayout.js","../../echarts/lib/chart/sunburst/sunburstVisual.js","../../echarts/lib/chart/sunburst/install.js","../../echarts/lib/chart/custom/CustomSeries.js","../../echarts/lib/coord/cartesian/prepareCustom.js","../../echarts/lib/coord/geo/prepareCustom.js","../../echarts/lib/coord/single/prepareCustom.js","../../echarts/lib/coord/polar/prepareCustom.js","../../echarts/lib/coord/calendar/prepareCustom.js","../../echarts/lib/coord/matrix/prepareCustom.js","../../echarts/lib/chart/custom/CustomView.js","../../echarts/lib/chart/custom/install.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { Point, Path, Polyline } from '../util/graphic.js';\nimport PathProxy from 'zrender/lib/core/PathProxy.js';\nimport { normalizeRadian } from 'zrender/lib/contain/util.js';\nimport { cubicProjectPoint, quadraticProjectPoint } from 'zrender/lib/core/curve.js';\nimport { defaults, retrieve2 } from 'zrender/lib/core/util.js';\nimport { invert } from 'zrender/lib/core/matrix.js';\nimport * as vector from 'zrender/lib/core/vector.js';\nimport { DISPLAY_STATES, SPECIAL_STATES } from '../util/states.js';\nvar PI2 = Math.PI * 2;\nvar CMD = PathProxy.CMD;\nvar DEFAULT_SEARCH_SPACE = ['top', 'right', 'bottom', 'left'];\nfunction getCandidateAnchor(pos, distance, rect, outPt, outDir) {\n  var width = rect.width;\n  var height = rect.height;\n  switch (pos) {\n    case 'top':\n      outPt.set(rect.x + width / 2, rect.y - distance);\n      outDir.set(0, -1);\n      break;\n    case 'bottom':\n      outPt.set(rect.x + width / 2, rect.y + height + distance);\n      outDir.set(0, 1);\n      break;\n    case 'left':\n      outPt.set(rect.x - distance, rect.y + height / 2);\n      outDir.set(-1, 0);\n      break;\n    case 'right':\n      outPt.set(rect.x + width + distance, rect.y + height / 2);\n      outDir.set(1, 0);\n      break;\n  }\n}\nfunction projectPointToArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y, out) {\n  x -= cx;\n  y -= cy;\n  var d = Math.sqrt(x * x + y * y);\n  x /= d;\n  y /= d;\n  // Intersect point.\n  var ox = x * r + cx;\n  var oy = y * r + cy;\n  if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n    // Is a circle\n    out[0] = ox;\n    out[1] = oy;\n    return d - r;\n  }\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n  var angle = Math.atan2(y, x);\n  if (angle < 0) {\n    angle += PI2;\n  }\n  if (angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle) {\n    // Project point is on the arc.\n    out[0] = ox;\n    out[1] = oy;\n    return d - r;\n  }\n  var x1 = r * Math.cos(startAngle) + cx;\n  var y1 = r * Math.sin(startAngle) + cy;\n  var x2 = r * Math.cos(endAngle) + cx;\n  var y2 = r * Math.sin(endAngle) + cy;\n  var d1 = (x1 - x) * (x1 - x) + (y1 - y) * (y1 - y);\n  var d2 = (x2 - x) * (x2 - x) + (y2 - y) * (y2 - y);\n  if (d1 < d2) {\n    out[0] = x1;\n    out[1] = y1;\n    return Math.sqrt(d1);\n  } else {\n    out[0] = x2;\n    out[1] = y2;\n    return Math.sqrt(d2);\n  }\n}\nfunction projectPointToLine(x1, y1, x2, y2, x, y, out, limitToEnds) {\n  var dx = x - x1;\n  var dy = y - y1;\n  var dx1 = x2 - x1;\n  var dy1 = y2 - y1;\n  var lineLen = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n  dx1 /= lineLen;\n  dy1 /= lineLen;\n  // dot product\n  var projectedLen = dx * dx1 + dy * dy1;\n  var t = projectedLen / lineLen;\n  if (limitToEnds) {\n    t = Math.min(Math.max(t, 0), 1);\n  }\n  t *= lineLen;\n  var ox = out[0] = x1 + t * dx1;\n  var oy = out[1] = y1 + t * dy1;\n  return Math.sqrt((ox - x) * (ox - x) + (oy - y) * (oy - y));\n}\nfunction projectPointToRect(x1, y1, width, height, x, y, out) {\n  if (width < 0) {\n    x1 = x1 + width;\n    width = -width;\n  }\n  if (height < 0) {\n    y1 = y1 + height;\n    height = -height;\n  }\n  var x2 = x1 + width;\n  var y2 = y1 + height;\n  var ox = out[0] = Math.min(Math.max(x, x1), x2);\n  var oy = out[1] = Math.min(Math.max(y, y1), y2);\n  return Math.sqrt((ox - x) * (ox - x) + (oy - y) * (oy - y));\n}\nvar tmpPt = [];\nfunction nearestPointOnRect(pt, rect, out) {\n  var dist = projectPointToRect(rect.x, rect.y, rect.width, rect.height, pt.x, pt.y, tmpPt);\n  out.set(tmpPt[0], tmpPt[1]);\n  return dist;\n}\n/**\n * Calculate min distance corresponding point.\n * This method won't evaluate if point is in the path.\n */\nfunction nearestPointOnPath(pt, path, out) {\n  var xi = 0;\n  var yi = 0;\n  var x0 = 0;\n  var y0 = 0;\n  var x1;\n  var y1;\n  var minDist = Infinity;\n  var data = path.data;\n  var x = pt.x;\n  var y = pt.y;\n  for (var i = 0; i < data.length;) {\n    var cmd = data[i++];\n    if (i === 1) {\n      xi = data[i];\n      yi = data[i + 1];\n      x0 = xi;\n      y0 = yi;\n    }\n    var d = minDist;\n    switch (cmd) {\n      case CMD.M:\n        // moveTo 命令重新创建一个新的 subpath, 并且更新新的起点\n        // 在 closePath 的时候使用\n        x0 = data[i++];\n        y0 = data[i++];\n        xi = x0;\n        yi = y0;\n        break;\n      case CMD.L:\n        d = projectPointToLine(xi, yi, data[i], data[i + 1], x, y, tmpPt, true);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n      case CMD.C:\n        d = cubicProjectPoint(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y, tmpPt);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n      case CMD.Q:\n        d = quadraticProjectPoint(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y, tmpPt);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n      case CMD.A:\n        // TODO Arc 判断的开销比较大\n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++];\n        // TODO Arc 旋转\n        i += 1;\n        var anticlockwise = !!(1 - data[i++]);\n        x1 = Math.cos(theta) * rx + cx;\n        y1 = Math.sin(theta) * ry + cy;\n        // 不是直接使用 arc 命令\n        if (i <= 1) {\n          // 第一个命令起点还未定义\n          x0 = x1;\n          y0 = y1;\n        }\n        // zr 使用scale来模拟椭圆, 这里也对x做一定的缩放\n        var _x = (x - cx) * ry / rx + cx;\n        d = projectPointToArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y, tmpPt);\n        xi = Math.cos(theta + dTheta) * rx + cx;\n        yi = Math.sin(theta + dTheta) * ry + cy;\n        break;\n      case CMD.R:\n        x0 = xi = data[i++];\n        y0 = yi = data[i++];\n        var width = data[i++];\n        var height = data[i++];\n        d = projectPointToRect(x0, y0, width, height, x, y, tmpPt);\n        break;\n      case CMD.Z:\n        d = projectPointToLine(xi, yi, x0, y0, x, y, tmpPt, true);\n        xi = x0;\n        yi = y0;\n        break;\n    }\n    if (d < minDist) {\n      minDist = d;\n      out.set(tmpPt[0], tmpPt[1]);\n    }\n  }\n  return minDist;\n}\n// Temporal variable for intermediate usage.\nvar pt0 = new Point();\nvar pt1 = new Point();\nvar pt2 = new Point();\nvar dir = new Point();\nvar dir2 = new Point();\n/**\n * Calculate a proper guide line based on the label position and graphic element definition\n * @param label\n * @param labelRect\n * @param target\n * @param targetRect\n */\nexport function updateLabelLinePoints(target, labelLineModel) {\n  if (!target) {\n    return;\n  }\n  var labelLine = target.getTextGuideLine();\n  var label = target.getTextContent();\n  // Needs to create text guide in each charts.\n  if (!(label && labelLine)) {\n    return;\n  }\n  var labelGuideConfig = target.textGuideLineConfig || {};\n  var points = [[0, 0], [0, 0], [0, 0]];\n  var searchSpace = labelGuideConfig.candidates || DEFAULT_SEARCH_SPACE;\n  var labelRect = label.getBoundingRect().clone();\n  labelRect.applyTransform(label.getComputedTransform());\n  var minDist = Infinity;\n  var anchorPoint = labelGuideConfig.anchor;\n  var targetTransform = target.getComputedTransform();\n  var targetInversedTransform = targetTransform && invert([], targetTransform);\n  var len = labelLineModel.get('length2') || 0;\n  if (anchorPoint) {\n    pt2.copy(anchorPoint);\n  }\n  for (var i = 0; i < searchSpace.length; i++) {\n    var candidate = searchSpace[i];\n    getCandidateAnchor(candidate, 0, labelRect, pt0, dir);\n    Point.scaleAndAdd(pt1, pt0, dir, len);\n    // Transform to target coord space.\n    pt1.transform(targetInversedTransform);\n    // Note: getBoundingRect will ensure the `path` being created.\n    var boundingRect = target.getBoundingRect();\n    var dist = anchorPoint ? anchorPoint.distance(pt1) : target instanceof Path ? nearestPointOnPath(pt1, target.path, pt2) : nearestPointOnRect(pt1, boundingRect, pt2);\n    // TODO pt2 is in the path\n    if (dist < minDist) {\n      minDist = dist;\n      // Transform back to global space.\n      pt1.transform(targetTransform);\n      pt2.transform(targetTransform);\n      pt2.toArray(points[0]);\n      pt1.toArray(points[1]);\n      pt0.toArray(points[2]);\n    }\n  }\n  limitTurnAngle(points, labelLineModel.get('minTurnAngle'));\n  labelLine.setShape({\n    points: points\n  });\n}\n// Temporal variable for the limitTurnAngle function\nvar tmpArr = [];\nvar tmpProjPoint = new Point();\n/**\n * Reduce the line segment attached to the label to limit the turn angle between two segments.\n * @param linePoints\n * @param minTurnAngle Radian of minimum turn angle. 0 - 180\n */\nexport function limitTurnAngle(linePoints, minTurnAngle) {\n  if (!(minTurnAngle <= 180 && minTurnAngle > 0)) {\n    return;\n  }\n  minTurnAngle = minTurnAngle / 180 * Math.PI;\n  // The line points can be\n  //      /pt1----pt2 (label)\n  //     /\n  // pt0/\n  pt0.fromArray(linePoints[0]);\n  pt1.fromArray(linePoints[1]);\n  pt2.fromArray(linePoints[2]);\n  Point.sub(dir, pt0, pt1);\n  Point.sub(dir2, pt2, pt1);\n  var len1 = dir.len();\n  var len2 = dir2.len();\n  if (len1 < 1e-3 || len2 < 1e-3) {\n    return;\n  }\n  dir.scale(1 / len1);\n  dir2.scale(1 / len2);\n  var angleCos = dir.dot(dir2);\n  var minTurnAngleCos = Math.cos(minTurnAngle);\n  if (minTurnAngleCos < angleCos) {\n    // Smaller than minTurnAngle\n    // Calculate project point of pt0 on pt1-pt2\n    var d = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, false);\n    tmpProjPoint.fromArray(tmpArr);\n    // Calculate new projected length with limited minTurnAngle and get the new connect point\n    tmpProjPoint.scaleAndAdd(dir2, d / Math.tan(Math.PI - minTurnAngle));\n    // Limit the new calculated connect point between pt1 and pt2.\n    var t = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);\n    if (isNaN(t)) {\n      return;\n    }\n    if (t < 0) {\n      Point.copy(tmpProjPoint, pt1);\n    } else if (t > 1) {\n      Point.copy(tmpProjPoint, pt2);\n    }\n    tmpProjPoint.toArray(linePoints[1]);\n  }\n}\n/**\n * Limit the angle of line and the surface\n * @param maxSurfaceAngle Radian of minimum turn angle. 0 - 180. 0 is same direction to normal. 180 is opposite\n */\nexport function limitSurfaceAngle(linePoints, surfaceNormal, maxSurfaceAngle) {\n  if (!(maxSurfaceAngle <= 180 && maxSurfaceAngle > 0)) {\n    return;\n  }\n  maxSurfaceAngle = maxSurfaceAngle / 180 * Math.PI;\n  pt0.fromArray(linePoints[0]);\n  pt1.fromArray(linePoints[1]);\n  pt2.fromArray(linePoints[2]);\n  Point.sub(dir, pt1, pt0);\n  Point.sub(dir2, pt2, pt1);\n  var len1 = dir.len();\n  var len2 = dir2.len();\n  if (len1 < 1e-3 || len2 < 1e-3) {\n    return;\n  }\n  dir.scale(1 / len1);\n  dir2.scale(1 / len2);\n  var angleCos = dir.dot(surfaceNormal);\n  var maxSurfaceAngleCos = Math.cos(maxSurfaceAngle);\n  if (angleCos < maxSurfaceAngleCos) {\n    // Calculate project point of pt0 on pt1-pt2\n    var d = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, false);\n    tmpProjPoint.fromArray(tmpArr);\n    var HALF_PI = Math.PI / 2;\n    var angle2 = Math.acos(dir2.dot(surfaceNormal));\n    var newAngle = HALF_PI + angle2 - maxSurfaceAngle;\n    if (newAngle >= HALF_PI) {\n      // parallel\n      Point.copy(tmpProjPoint, pt2);\n    } else {\n      // Calculate new projected length with limited minTurnAngle and get the new connect point\n      tmpProjPoint.scaleAndAdd(dir2, d / Math.tan(Math.PI / 2 - newAngle));\n      // Limit the new calculated connect point between pt1 and pt2.\n      var t = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);\n      if (isNaN(t)) {\n        return;\n      }\n      if (t < 0) {\n        Point.copy(tmpProjPoint, pt1);\n      } else if (t > 1) {\n        Point.copy(tmpProjPoint, pt2);\n      }\n    }\n    tmpProjPoint.toArray(linePoints[1]);\n  }\n}\nfunction setLabelLineState(labelLine, ignore, stateName, stateModel) {\n  var isNormal = stateName === 'normal';\n  var stateObj = isNormal ? labelLine : labelLine.ensureState(stateName);\n  // Make sure display.\n  stateObj.ignore = ignore;\n  // Set smooth\n  var smooth = stateModel.get('smooth');\n  if (smooth && smooth === true) {\n    smooth = 0.3;\n  }\n  stateObj.shape = stateObj.shape || {};\n  if (smooth > 0) {\n    stateObj.shape.smooth = smooth;\n  }\n  var styleObj = stateModel.getModel('lineStyle').getLineStyle();\n  isNormal ? labelLine.useStyle(styleObj) : stateObj.style = styleObj;\n}\nfunction buildLabelLinePath(path, shape) {\n  var smooth = shape.smooth;\n  var points = shape.points;\n  if (!points) {\n    return;\n  }\n  path.moveTo(points[0][0], points[0][1]);\n  if (smooth > 0 && points.length >= 3) {\n    var len1 = vector.dist(points[0], points[1]);\n    var len2 = vector.dist(points[1], points[2]);\n    if (!len1 || !len2) {\n      path.lineTo(points[1][0], points[1][1]);\n      path.lineTo(points[2][0], points[2][1]);\n      return;\n    }\n    var moveLen = Math.min(len1, len2) * smooth;\n    var midPoint0 = vector.lerp([], points[1], points[0], moveLen / len1);\n    var midPoint2 = vector.lerp([], points[1], points[2], moveLen / len2);\n    var midPoint1 = vector.lerp([], midPoint0, midPoint2, 0.5);\n    path.bezierCurveTo(midPoint0[0], midPoint0[1], midPoint0[0], midPoint0[1], midPoint1[0], midPoint1[1]);\n    path.bezierCurveTo(midPoint2[0], midPoint2[1], midPoint2[0], midPoint2[1], points[2][0], points[2][1]);\n  } else {\n    for (var i = 1; i < points.length; i++) {\n      path.lineTo(points[i][0], points[i][1]);\n    }\n  }\n}\n/**\n * Create a label line if necessary and set it's style.\n */\nexport function setLabelLineStyle(targetEl, statesModels, defaultStyle) {\n  var labelLine = targetEl.getTextGuideLine();\n  var label = targetEl.getTextContent();\n  if (!label) {\n    // Not show label line if there is no label.\n    if (labelLine) {\n      targetEl.removeTextGuideLine();\n    }\n    return;\n  }\n  var normalModel = statesModels.normal;\n  var showNormal = normalModel.get('show');\n  var labelIgnoreNormal = label.ignore;\n  for (var i = 0; i < DISPLAY_STATES.length; i++) {\n    var stateName = DISPLAY_STATES[i];\n    var stateModel = statesModels[stateName];\n    var isNormal = stateName === 'normal';\n    if (stateModel) {\n      var stateShow = stateModel.get('show');\n      var isLabelIgnored = isNormal ? labelIgnoreNormal : retrieve2(label.states[stateName] && label.states[stateName].ignore, labelIgnoreNormal);\n      if (isLabelIgnored // Not show when label is not shown in this state.\n      || !retrieve2(stateShow, showNormal) // Use normal state by default if not set.\n      ) {\n        var stateObj = isNormal ? labelLine : labelLine && labelLine.states[stateName];\n        if (stateObj) {\n          stateObj.ignore = true;\n        }\n        if (!!labelLine) {\n          setLabelLineState(labelLine, true, stateName, stateModel);\n        }\n        continue;\n      }\n      // Create labelLine if not exists\n      if (!labelLine) {\n        labelLine = new Polyline();\n        targetEl.setTextGuideLine(labelLine);\n        // Reset state of normal because it's new created.\n        // NOTE: NORMAL should always been the first!\n        if (!isNormal && (labelIgnoreNormal || !showNormal)) {\n          setLabelLineState(labelLine, true, 'normal', statesModels.normal);\n        }\n        // Use same state proxy.\n        if (targetEl.stateProxy) {\n          labelLine.stateProxy = targetEl.stateProxy;\n        }\n      }\n      setLabelLineState(labelLine, false, stateName, stateModel);\n    }\n  }\n  if (labelLine) {\n    defaults(labelLine.style, defaultStyle);\n    // Not fill.\n    labelLine.style.fill = null;\n    var showAbove = normalModel.get('showAbove');\n    var labelLineConfig = targetEl.textGuideLineConfig = targetEl.textGuideLineConfig || {};\n    labelLineConfig.showAbove = showAbove || false;\n    // Custom the buildPath.\n    labelLine.buildPath = buildLabelLinePath;\n  }\n}\nexport function getLabelLineStatesModels(itemModel, labelLineName) {\n  labelLineName = labelLineName || 'labelLine';\n  var statesModels = {\n    normal: itemModel.getModel(labelLineName)\n  };\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    statesModels[stateName] = itemModel.getModel([stateName, labelLineName]);\n  }\n  return statesModels;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesData from '../helper/createSeriesData.js';\nimport SeriesModel from '../../model/Series.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport { Group } from '../../util/graphic.js';\nimport tokens from '../../visual/tokens.js';\nvar LineSeriesModel = /** @class */function (_super) {\n  __extends(LineSeriesModel, _super);\n  function LineSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = LineSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n  LineSeriesModel.prototype.getInitialData = function (option) {\n    if (process.env.NODE_ENV !== 'production') {\n      var coordSys = option.coordinateSystem;\n      if (coordSys !== 'polar' && coordSys !== 'cartesian2d') {\n        throw new Error('Line not support coordinateSystem besides cartesian and polar');\n      }\n    }\n    return createSeriesData(null, this, {\n      useEncodeDefaulter: true\n    });\n  };\n  LineSeriesModel.prototype.getLegendIcon = function (opt) {\n    var group = new Group();\n    var line = createSymbol('line', 0, opt.itemHeight / 2, opt.itemWidth, 0, opt.lineStyle.stroke, false);\n    group.add(line);\n    line.setStyle(opt.lineStyle);\n    var visualType = this.getData().getVisual('symbol');\n    var visualRotate = this.getData().getVisual('symbolRotate');\n    var symbolType = visualType === 'none' ? 'circle' : visualType;\n    // Symbol size is 80% when there is a line\n    var size = opt.itemHeight * 0.8;\n    var symbol = createSymbol(symbolType, (opt.itemWidth - size) / 2, (opt.itemHeight - size) / 2, size, size, opt.itemStyle.fill);\n    group.add(symbol);\n    symbol.setStyle(opt.itemStyle);\n    var symbolRotate = opt.iconRotate === 'inherit' ? visualRotate : opt.iconRotate || 0;\n    symbol.rotation = symbolRotate * Math.PI / 180;\n    symbol.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n    if (symbolType.indexOf('empty') > -1) {\n      symbol.style.stroke = symbol.style.fill;\n      symbol.style.fill = tokens.color.neutral00;\n      symbol.style.lineWidth = 2;\n    }\n    return group;\n  };\n  LineSeriesModel.type = 'series.line';\n  LineSeriesModel.dependencies = ['grid', 'polar'];\n  LineSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 3,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    clip: true,\n    label: {\n      position: 'top'\n    },\n    // itemStyle: {\n    // },\n    endLabel: {\n      show: false,\n      valueAnimation: true,\n      distance: 8\n    },\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    },\n    emphasis: {\n      scale: true\n    },\n    // areaStyle: {\n    // origin of areaStyle. Valid values:\n    // `'auto'/null/undefined`: from axisLine to data\n    // `'start'`: from min to data\n    // `'end'`: from data to max\n    // origin: 'auto'\n    // },\n    // false, 'start', 'end', 'middle'\n    step: false,\n    // Disabled if step is true\n    smooth: false,\n    smoothMonotone: null,\n    symbol: 'emptyCircle',\n    symbolSize: 6,\n    symbolRotate: null,\n    showSymbol: true,\n    // `false`: follow the label interval strategy.\n    // `true`: show all symbols.\n    // `'auto'`: If possible, show all symbols, otherwise\n    //           follow the label interval strategy.\n    showAllSymbol: 'auto',\n    // Whether to connect break point.\n    connectNulls: false,\n    // Sampling for large data. Can be: 'average', 'max', 'min', 'sum', 'lttb'.\n    sampling: 'none',\n    animationEasing: 'linear',\n    // Disable progressive\n    progressive: 0,\n    hoverLayerThreshold: Infinity,\n    universalTransition: {\n      divideShape: 'clone'\n    },\n    triggerLineEvent: false\n  };\n  return LineSeriesModel;\n}(SeriesModel);\nexport default LineSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isDimensionStacked } from '../../data/helper/dataStackHelper.js';\nimport { isNumber, map } from 'zrender/lib/core/util.js';\nexport function prepareDataCoordInfo(coordSys, data, valueOrigin) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = getValueStart(valueAxis, valueOrigin);\n  var baseAxisDim = baseAxis.dim;\n  var valueAxisDim = valueAxis.dim;\n  var valueDim = data.mapDimension(valueAxisDim);\n  var baseDim = data.mapDimension(baseAxisDim);\n  var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n  var dims = map(coordSys.dimensions, function (coordDim) {\n    return data.mapDimension(coordDim);\n  });\n  var stacked = false;\n  var stackResultDim = data.getCalculationInfo('stackResultDimension');\n  if (isDimensionStacked(data, dims[0] /* , dims[1] */)) {\n    // jshint ignore:line\n    stacked = true;\n    dims[0] = stackResultDim;\n  }\n  if (isDimensionStacked(data, dims[1] /* , dims[0] */)) {\n    // jshint ignore:line\n    stacked = true;\n    dims[1] = stackResultDim;\n  }\n  return {\n    dataDimsForPoint: dims,\n    valueStart: valueStart,\n    valueAxisDim: valueAxisDim,\n    baseAxisDim: baseAxisDim,\n    stacked: !!stacked,\n    valueDim: valueDim,\n    baseDim: baseDim,\n    baseDataOffset: baseDataOffset,\n    stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n  };\n}\nfunction getValueStart(valueAxis, valueOrigin) {\n  var valueStart = 0;\n  var extent = valueAxis.scale.getExtent();\n  if (valueOrigin === 'start') {\n    valueStart = extent[0];\n  } else if (valueOrigin === 'end') {\n    valueStart = extent[1];\n  }\n  // If origin is specified as a number, use it as\n  // valueStart directly\n  else if (isNumber(valueOrigin) && !isNaN(valueOrigin)) {\n    valueStart = valueOrigin;\n  }\n  // auto\n  else {\n    // Both positive\n    if (extent[0] > 0) {\n      valueStart = extent[0];\n    }\n    // Both negative\n    else if (extent[1] < 0) {\n      valueStart = extent[1];\n    }\n    // If is one positive, and one negative, onZero shall be true\n  }\n  return valueStart;\n}\nexport function getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n  var value = NaN;\n  if (dataCoordInfo.stacked) {\n    value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n  }\n  if (isNaN(value)) {\n    value = dataCoordInfo.valueStart;\n  }\n  var baseDataOffset = dataCoordInfo.baseDataOffset;\n  var stackedData = [];\n  stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n  stackedData[1 - baseDataOffset] = value;\n  return coordSys.dataToPoint(stackedData);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { prepareDataCoordInfo, getStackedOnPoint } from './helper.js';\nimport { createFloat32Array } from '../../util/vendor.js';\nfunction diffData(oldData, newData) {\n  var diffResult = [];\n  newData.diff(oldData).add(function (idx) {\n    diffResult.push({\n      cmd: '+',\n      idx: idx\n    });\n  }).update(function (newIdx, oldIdx) {\n    diffResult.push({\n      cmd: '=',\n      idx: oldIdx,\n      idx1: newIdx\n    });\n  }).remove(function (idx) {\n    diffResult.push({\n      cmd: '-',\n      idx: idx\n    });\n  }).execute();\n  return diffResult;\n}\nexport default function lineAnimationDiff(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n  var diff = diffData(oldData, newData);\n  // let newIdList = newData.mapArray(newData.getId);\n  // let oldIdList = oldData.mapArray(oldData.getId);\n  // convertToIntId(newIdList, oldIdList);\n  // // FIXME One data ?\n  // diff = arrayDiff(oldIdList, newIdList);\n  var currPoints = [];\n  var nextPoints = [];\n  // Points for stacking base line\n  var currStackedPoints = [];\n  var nextStackedPoints = [];\n  var status = [];\n  var sortedIndices = [];\n  var rawIndices = [];\n  var newDataOldCoordInfo = prepareDataCoordInfo(oldCoordSys, newData, oldValueOrigin);\n  // const oldDataNewCoordInfo = prepareDataCoordInfo(newCoordSys, oldData, newValueOrigin);\n  var oldPoints = oldData.getLayout('points') || [];\n  var newPoints = newData.getLayout('points') || [];\n  for (var i = 0; i < diff.length; i++) {\n    var diffItem = diff[i];\n    var pointAdded = true;\n    var oldIdx2 = void 0;\n    var newIdx2 = void 0;\n    // FIXME, animation is not so perfect when dataZoom window moves fast\n    // Which is in case remvoing or add more than one data in the tail or head\n    switch (diffItem.cmd) {\n      case '=':\n        oldIdx2 = diffItem.idx * 2;\n        newIdx2 = diffItem.idx1 * 2;\n        var currentX = oldPoints[oldIdx2];\n        var currentY = oldPoints[oldIdx2 + 1];\n        var nextX = newPoints[newIdx2];\n        var nextY = newPoints[newIdx2 + 1];\n        // If previous data is NaN, use next point directly\n        if (isNaN(currentX) || isNaN(currentY)) {\n          currentX = nextX;\n          currentY = nextY;\n        }\n        currPoints.push(currentX, currentY);\n        nextPoints.push(nextX, nextY);\n        currStackedPoints.push(oldStackedOnPoints[oldIdx2], oldStackedOnPoints[oldIdx2 + 1]);\n        nextStackedPoints.push(newStackedOnPoints[newIdx2], newStackedOnPoints[newIdx2 + 1]);\n        rawIndices.push(newData.getRawIndex(diffItem.idx1));\n        break;\n      case '+':\n        var newIdx = diffItem.idx;\n        var newDataDimsForPoint = newDataOldCoordInfo.dataDimsForPoint;\n        var oldPt = oldCoordSys.dataToPoint([newData.get(newDataDimsForPoint[0], newIdx), newData.get(newDataDimsForPoint[1], newIdx)]);\n        newIdx2 = newIdx * 2;\n        currPoints.push(oldPt[0], oldPt[1]);\n        nextPoints.push(newPoints[newIdx2], newPoints[newIdx2 + 1]);\n        var stackedOnPoint = getStackedOnPoint(newDataOldCoordInfo, oldCoordSys, newData, newIdx);\n        currStackedPoints.push(stackedOnPoint[0], stackedOnPoint[1]);\n        nextStackedPoints.push(newStackedOnPoints[newIdx2], newStackedOnPoints[newIdx2 + 1]);\n        rawIndices.push(newData.getRawIndex(newIdx));\n        break;\n      case '-':\n        pointAdded = false;\n    }\n    // Original indices\n    if (pointAdded) {\n      status.push(diffItem);\n      sortedIndices.push(sortedIndices.length);\n    }\n  }\n  // Diff result may be crossed if all items are changed\n  // Sort by data index\n  sortedIndices.sort(function (a, b) {\n    return rawIndices[a] - rawIndices[b];\n  });\n  var len = currPoints.length;\n  var sortedCurrPoints = createFloat32Array(len);\n  var sortedNextPoints = createFloat32Array(len);\n  var sortedCurrStackedPoints = createFloat32Array(len);\n  var sortedNextStackedPoints = createFloat32Array(len);\n  var sortedStatus = [];\n  for (var i = 0; i < sortedIndices.length; i++) {\n    var idx = sortedIndices[i];\n    var i2 = i * 2;\n    var idx2 = idx * 2;\n    sortedCurrPoints[i2] = currPoints[idx2];\n    sortedCurrPoints[i2 + 1] = currPoints[idx2 + 1];\n    sortedNextPoints[i2] = nextPoints[idx2];\n    sortedNextPoints[i2 + 1] = nextPoints[idx2 + 1];\n    sortedCurrStackedPoints[i2] = currStackedPoints[idx2];\n    sortedCurrStackedPoints[i2 + 1] = currStackedPoints[idx2 + 1];\n    sortedNextStackedPoints[i2] = nextStackedPoints[idx2];\n    sortedNextStackedPoints[i2 + 1] = nextStackedPoints[idx2 + 1];\n    sortedStatus[i] = status[idx];\n  }\n  return {\n    current: sortedCurrPoints,\n    next: sortedNextPoints,\n    stackedOnCurrent: sortedCurrStackedPoints,\n    stackedOnNext: sortedNextStackedPoints,\n    status: sortedStatus\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n// Poly path support NaN point\nimport Path from 'zrender/lib/graphic/Path.js';\nimport PathProxy from 'zrender/lib/core/PathProxy.js';\nimport { cubicRootAt, cubicAt } from 'zrender/lib/core/curve.js';\nimport tokens from '../../visual/tokens.js';\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nfunction isPointNull(x, y) {\n  return isNaN(x) || isNaN(y);\n}\n/**\n * Draw smoothed line in non-monotone, in may cause undesired curve in extreme\n * situations. This should be used when points are non-monotone neither in x or\n * y dimension.\n */\nfunction drawSegment(ctx, points, start, segLen, allLen, dir, smooth, smoothMonotone, connectNulls) {\n  var prevX;\n  var prevY;\n  var cpx0;\n  var cpy0;\n  var cpx1;\n  var cpy1;\n  var idx = start;\n  var k = 0;\n  for (; k < segLen; k++) {\n    var x = points[idx * 2];\n    var y = points[idx * 2 + 1];\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n    if (isPointNull(x, y)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n      break;\n    }\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](x, y);\n      cpx0 = x;\n      cpy0 = y;\n    } else {\n      var dx = x - prevX;\n      var dy = y - prevY;\n      // Ignore tiny segment.\n      if (dx * dx + dy * dy < 0.5) {\n        idx += dir;\n        continue;\n      }\n      if (smooth > 0) {\n        var nextIdx = idx + dir;\n        var nextX = points[nextIdx * 2];\n        var nextY = points[nextIdx * 2 + 1];\n        // Ignore duplicate point\n        while (nextX === x && nextY === y && k < segLen) {\n          k++;\n          nextIdx += dir;\n          idx += dir;\n          nextX = points[nextIdx * 2];\n          nextY = points[nextIdx * 2 + 1];\n          x = points[idx * 2];\n          y = points[idx * 2 + 1];\n          dx = x - prevX;\n          dy = y - prevY;\n        }\n        var tmpK = k + 1;\n        if (connectNulls) {\n          // Find next point not null\n          while (isPointNull(nextX, nextY) && tmpK < segLen) {\n            tmpK++;\n            nextIdx += dir;\n            nextX = points[nextIdx * 2];\n            nextY = points[nextIdx * 2 + 1];\n          }\n        }\n        var ratioNextSeg = 0.5;\n        var vx = 0;\n        var vy = 0;\n        var nextCpx0 = void 0;\n        var nextCpy0 = void 0;\n        // Is last point\n        if (tmpK >= segLen || isPointNull(nextX, nextY)) {\n          cpx1 = x;\n          cpy1 = y;\n        } else {\n          vx = nextX - prevX;\n          vy = nextY - prevY;\n          var dx0 = x - prevX;\n          var dx1 = nextX - x;\n          var dy0 = y - prevY;\n          var dy1 = nextY - y;\n          var lenPrevSeg = void 0;\n          var lenNextSeg = void 0;\n          if (smoothMonotone === 'x') {\n            lenPrevSeg = Math.abs(dx0);\n            lenNextSeg = Math.abs(dx1);\n            var dir_1 = vx > 0 ? 1 : -1;\n            cpx1 = x - dir_1 * lenPrevSeg * smooth;\n            cpy1 = y;\n            nextCpx0 = x + dir_1 * lenNextSeg * smooth;\n            nextCpy0 = y;\n          } else if (smoothMonotone === 'y') {\n            lenPrevSeg = Math.abs(dy0);\n            lenNextSeg = Math.abs(dy1);\n            var dir_2 = vy > 0 ? 1 : -1;\n            cpx1 = x;\n            cpy1 = y - dir_2 * lenPrevSeg * smooth;\n            nextCpx0 = x;\n            nextCpy0 = y + dir_2 * lenNextSeg * smooth;\n          } else {\n            lenPrevSeg = Math.sqrt(dx0 * dx0 + dy0 * dy0);\n            lenNextSeg = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n            // Use ratio of seg length\n            ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n            cpx1 = x - vx * smooth * (1 - ratioNextSeg);\n            cpy1 = y - vy * smooth * (1 - ratioNextSeg);\n            // cp0 of next segment\n            nextCpx0 = x + vx * smooth * ratioNextSeg;\n            nextCpy0 = y + vy * smooth * ratioNextSeg;\n            // Smooth constraint between point and next point.\n            // Avoid exceeding extreme after smoothing.\n            nextCpx0 = mathMin(nextCpx0, mathMax(nextX, x));\n            nextCpy0 = mathMin(nextCpy0, mathMax(nextY, y));\n            nextCpx0 = mathMax(nextCpx0, mathMin(nextX, x));\n            nextCpy0 = mathMax(nextCpy0, mathMin(nextY, y));\n            // Reclaculate cp1 based on the adjusted cp0 of next seg.\n            vx = nextCpx0 - x;\n            vy = nextCpy0 - y;\n            cpx1 = x - vx * lenPrevSeg / lenNextSeg;\n            cpy1 = y - vy * lenPrevSeg / lenNextSeg;\n            // Smooth constraint between point and prev point.\n            // Avoid exceeding extreme after smoothing.\n            cpx1 = mathMin(cpx1, mathMax(prevX, x));\n            cpy1 = mathMin(cpy1, mathMax(prevY, y));\n            cpx1 = mathMax(cpx1, mathMin(prevX, x));\n            cpy1 = mathMax(cpy1, mathMin(prevY, y));\n            // Adjust next cp0 again.\n            vx = x - cpx1;\n            vy = y - cpy1;\n            nextCpx0 = x + vx * lenNextSeg / lenPrevSeg;\n            nextCpy0 = y + vy * lenNextSeg / lenPrevSeg;\n          }\n        }\n        ctx.bezierCurveTo(cpx0, cpy0, cpx1, cpy1, x, y);\n        cpx0 = nextCpx0;\n        cpy0 = nextCpy0;\n      } else {\n        ctx.lineTo(x, y);\n      }\n    }\n    prevX = x;\n    prevY = y;\n    idx += dir;\n  }\n  return k;\n}\nvar ECPolylineShape = /** @class */function () {\n  function ECPolylineShape() {\n    this.smooth = 0;\n    this.smoothConstraint = true;\n  }\n  return ECPolylineShape;\n}();\nvar ECPolyline = /** @class */function (_super) {\n  __extends(ECPolyline, _super);\n  function ECPolyline(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'ec-polyline';\n    return _this;\n  }\n  ECPolyline.prototype.getDefaultStyle = function () {\n    return {\n      stroke: tokens.color.neutral99,\n      fill: null\n    };\n  };\n  ECPolyline.prototype.getDefaultShape = function () {\n    return new ECPolylineShape();\n  };\n  ECPolyline.prototype.buildPath = function (ctx, shape) {\n    var points = shape.points;\n    var i = 0;\n    var len = points.length / 2;\n    // const result = getBoundingBox(points, shape.smoothConstraint);\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len * 2 - 2], points[len * 2 - 1])) {\n          break;\n        }\n      }\n      for (; i < len; i++) {\n        if (!isPointNull(points[i * 2], points[i * 2 + 1])) {\n          break;\n        }\n      }\n    }\n    while (i < len) {\n      i += drawSegment(ctx, points, i, len, len, 1, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n    }\n  };\n  ECPolyline.prototype.getPointOn = function (xOrY, dim) {\n    if (!this.path) {\n      this.createPathProxy();\n      this.buildPath(this.path, this.shape);\n    }\n    var path = this.path;\n    var data = path.data;\n    var CMD = PathProxy.CMD;\n    var x0;\n    var y0;\n    var isDimX = dim === 'x';\n    var roots = [];\n    for (var i = 0; i < data.length;) {\n      var cmd = data[i++];\n      var x = void 0;\n      var y = void 0;\n      var x2 = void 0;\n      var y2 = void 0;\n      var x3 = void 0;\n      var y3 = void 0;\n      var t = void 0;\n      switch (cmd) {\n        case CMD.M:\n          x0 = data[i++];\n          y0 = data[i++];\n          break;\n        case CMD.L:\n          x = data[i++];\n          y = data[i++];\n          t = isDimX ? (xOrY - x0) / (x - x0) : (xOrY - y0) / (y - y0);\n          if (t <= 1 && t >= 0) {\n            var val = isDimX ? (y - y0) * t + y0 : (x - x0) * t + x0;\n            return isDimX ? [xOrY, val] : [val, xOrY];\n          }\n          x0 = x;\n          y0 = y;\n          break;\n        case CMD.C:\n          x = data[i++];\n          y = data[i++];\n          x2 = data[i++];\n          y2 = data[i++];\n          x3 = data[i++];\n          y3 = data[i++];\n          var nRoot = isDimX ? cubicRootAt(x0, x, x2, x3, xOrY, roots) : cubicRootAt(y0, y, y2, y3, xOrY, roots);\n          if (nRoot > 0) {\n            for (var i_1 = 0; i_1 < nRoot; i_1++) {\n              var t_1 = roots[i_1];\n              if (t_1 <= 1 && t_1 >= 0) {\n                var val = isDimX ? cubicAt(y0, y, y2, y3, t_1) : cubicAt(x0, x, x2, x3, t_1);\n                return isDimX ? [xOrY, val] : [val, xOrY];\n              }\n            }\n          }\n          x0 = x3;\n          y0 = y3;\n          break;\n      }\n    }\n  };\n  return ECPolyline;\n}(Path);\nexport { ECPolyline };\nvar ECPolygonShape = /** @class */function (_super) {\n  __extends(ECPolygonShape, _super);\n  function ECPolygonShape() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  return ECPolygonShape;\n}(ECPolylineShape);\nvar ECPolygon = /** @class */function (_super) {\n  __extends(ECPolygon, _super);\n  function ECPolygon(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'ec-polygon';\n    return _this;\n  }\n  ECPolygon.prototype.getDefaultShape = function () {\n    return new ECPolygonShape();\n  };\n  ECPolygon.prototype.buildPath = function (ctx, shape) {\n    var points = shape.points;\n    var stackedOnPoints = shape.stackedOnPoints;\n    var i = 0;\n    var len = points.length / 2;\n    var smoothMonotone = shape.smoothMonotone;\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len * 2 - 2], points[len * 2 - 1])) {\n          break;\n        }\n      }\n      for (; i < len; i++) {\n        if (!isPointNull(points[i * 2], points[i * 2 + 1])) {\n          break;\n        }\n      }\n    }\n    while (i < len) {\n      var k = drawSegment(ctx, points, i, len, len, 1, shape.smooth, smoothMonotone, shape.connectNulls);\n      drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n      i += k + 1;\n      ctx.closePath();\n    }\n  };\n  return ECPolygon;\n}(Path);\nexport { ECPolygon };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic.js';\nimport { round } from '../../util/number.js';\nimport { isFunction } from 'zrender/lib/core/util.js';\nfunction createGridClipPath(cartesian, hasAnimation, seriesModel, done, during) {\n  var rect = cartesian.getArea();\n  var x = rect.x;\n  var y = rect.y;\n  var width = rect.width;\n  var height = rect.height;\n  var lineWidth = seriesModel.get(['lineStyle', 'width']) || 0;\n  // Expand the clip path a bit to avoid the border is clipped and looks thinner\n  x -= lineWidth / 2;\n  y -= lineWidth / 2;\n  width += lineWidth;\n  height += lineWidth;\n  // fix: https://github.com/apache/incubator-echarts/issues/11369\n  width = Math.ceil(width);\n  if (x !== Math.floor(x)) {\n    x = Math.floor(x);\n    // if no extra 1px on `width`, it will still be clipped since `x` is floored\n    width++;\n  }\n  var clipPath = new graphic.Rect({\n    shape: {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    }\n  });\n  if (hasAnimation) {\n    var baseAxis = cartesian.getBaseAxis();\n    var isHorizontal = baseAxis.isHorizontal();\n    var isAxisInversed = baseAxis.inverse;\n    if (isHorizontal) {\n      if (isAxisInversed) {\n        clipPath.shape.x += width;\n      }\n      clipPath.shape.width = 0;\n    } else {\n      if (!isAxisInversed) {\n        clipPath.shape.y += height;\n      }\n      clipPath.shape.height = 0;\n    }\n    var duringCb = isFunction(during) ? function (percent) {\n      during(percent, clipPath);\n    } : null;\n    graphic.initProps(clipPath, {\n      shape: {\n        width: width,\n        height: height,\n        x: x,\n        y: y\n      }\n    }, seriesModel, null, done, duringCb);\n  }\n  return clipPath;\n}\nfunction createPolarClipPath(polar, hasAnimation, seriesModel) {\n  var sectorArea = polar.getArea();\n  // Avoid float number rounding error for symbol on the edge of axis extent.\n  var r0 = round(sectorArea.r0, 1);\n  var r = round(sectorArea.r, 1);\n  var clipPath = new graphic.Sector({\n    shape: {\n      cx: round(polar.cx, 1),\n      cy: round(polar.cy, 1),\n      r0: r0,\n      r: r,\n      startAngle: sectorArea.startAngle,\n      endAngle: sectorArea.endAngle,\n      clockwise: sectorArea.clockwise\n    }\n  });\n  if (hasAnimation) {\n    var isRadial = polar.getBaseAxis().dim === 'angle';\n    if (isRadial) {\n      clipPath.shape.endAngle = sectorArea.startAngle;\n    } else {\n      clipPath.shape.r = r0;\n    }\n    graphic.initProps(clipPath, {\n      shape: {\n        endAngle: sectorArea.endAngle,\n        r: r\n      }\n    }, seriesModel);\n  }\n  return clipPath;\n}\nfunction createClipPath(coordSys, hasAnimation, seriesModel, done, during) {\n  if (!coordSys) {\n    return null;\n  } else if (coordSys.type === 'polar') {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  } else if (coordSys.type === 'cartesian2d') {\n    return createGridClipPath(coordSys, hasAnimation, seriesModel, done, during);\n  }\n  return null;\n}\nexport { createGridClipPath, createPolarClipPath, createClipPath };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n// FIXME step not support polar\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport SymbolDraw from '../helper/SymbolDraw.js';\nimport SymbolClz from '../helper/Symbol.js';\nimport lineAnimationDiff from './lineAnimationDiff.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as modelUtil from '../../util/model.js';\nimport { ECPolyline, ECPolygon } from './poly.js';\nimport ChartView from '../../view/Chart.js';\nimport { prepareDataCoordInfo, getStackedOnPoint } from './helper.js';\nimport { createGridClipPath, createPolarClipPath } from '../helper/createClipPathFromCoordSys.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport { setStatesStylesFromModel, setStatesFlag, toggleHoverEmphasis, SPECIAL_STATES } from '../../util/states.js';\nimport { setLabelStyle, getLabelStatesModels, labelInner } from '../../label/labelStyle.js';\nimport { getDefaultLabel, getDefaultInterpolatedLabel } from '../helper/labelHelper.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createFloat32Array } from '../../util/vendor.js';\nimport { convertToColorString } from '../../util/format.js';\nimport { lerp } from 'zrender/lib/tool/color.js';\nfunction isPointsSame(points1, points2) {\n  if (points1.length !== points2.length) {\n    return;\n  }\n  for (var i = 0; i < points1.length; i++) {\n    if (points1[i] !== points2[i]) {\n      return;\n    }\n  }\n  return true;\n}\nfunction bboxFromPoints(points) {\n  var minX = Infinity;\n  var minY = Infinity;\n  var maxX = -Infinity;\n  var maxY = -Infinity;\n  for (var i = 0; i < points.length;) {\n    var x = points[i++];\n    var y = points[i++];\n    if (!isNaN(x)) {\n      minX = Math.min(x, minX);\n      maxX = Math.max(x, maxX);\n    }\n    if (!isNaN(y)) {\n      minY = Math.min(y, minY);\n      maxY = Math.max(y, maxY);\n    }\n  }\n  return [[minX, minY], [maxX, maxY]];\n}\nfunction getBoundingDiff(points1, points2) {\n  var _a = bboxFromPoints(points1),\n    min1 = _a[0],\n    max1 = _a[1];\n  var _b = bboxFromPoints(points2),\n    min2 = _b[0],\n    max2 = _b[1];\n  // Get a max value from each corner of two boundings.\n  return Math.max(Math.abs(min1[0] - min2[0]), Math.abs(min1[1] - min2[1]), Math.abs(max1[0] - max2[0]), Math.abs(max1[1] - max2[1]));\n}\nfunction getSmooth(smooth) {\n  return zrUtil.isNumber(smooth) ? smooth : smooth ? 0.5 : 0;\n}\nfunction getStackedOnPoints(coordSys, data, dataCoordInfo) {\n  if (!dataCoordInfo.valueDim) {\n    return [];\n  }\n  var len = data.count();\n  var points = createFloat32Array(len * 2);\n  for (var idx = 0; idx < len; idx++) {\n    var pt = getStackedOnPoint(dataCoordInfo, coordSys, data, idx);\n    points[idx * 2] = pt[0];\n    points[idx * 2 + 1] = pt[1];\n  }\n  return points;\n}\n/**\n * Filter the null data and extend data for step considering `stepTurnAt`\n *\n * @param points data to convert, that may containing null\n * @param basePoints base data to reference, used only for areaStyle points\n * @param coordSys coordinate system\n * @param stepTurnAt 'start' | 'end' | 'middle' | true\n * @param connectNulls whether to connect nulls\n * @returns converted point positions\n */\nfunction turnPointsIntoStep(points, basePoints, coordSys, stepTurnAt, connectNulls) {\n  var baseAxis = coordSys.getBaseAxis();\n  var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n  var stepPoints = [];\n  var i = 0;\n  var stepPt = [];\n  var pt = [];\n  var nextPt = [];\n  var filteredPoints = [];\n  if (connectNulls) {\n    for (i = 0; i < points.length; i += 2) {\n      /**\n       * For areaStyle of stepped lines, `stackedOnPoints` should be\n       * filtered the same as `points` so that the base axis values\n       * should stay the same as the lines above. See #20021\n       */\n      var reference = basePoints || points;\n      if (!isNaN(reference[i]) && !isNaN(reference[i + 1])) {\n        filteredPoints.push(points[i], points[i + 1]);\n      }\n    }\n    points = filteredPoints;\n  }\n  for (i = 0; i < points.length - 2; i += 2) {\n    nextPt[0] = points[i + 2];\n    nextPt[1] = points[i + 3];\n    pt[0] = points[i];\n    pt[1] = points[i + 1];\n    stepPoints.push(pt[0], pt[1]);\n    switch (stepTurnAt) {\n      case 'end':\n        stepPt[baseIndex] = nextPt[baseIndex];\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPoints.push(stepPt[0], stepPt[1]);\n        break;\n      case 'middle':\n        var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n        var stepPt2 = [];\n        stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt[0], stepPt[1]);\n        stepPoints.push(stepPt2[0], stepPt2[1]);\n        break;\n      default:\n        // default is start\n        stepPt[baseIndex] = pt[baseIndex];\n        stepPt[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt[0], stepPt[1]);\n    }\n  }\n  // Last points\n  stepPoints.push(points[i++], points[i++]);\n  return stepPoints;\n}\n/**\n * Clip color stops to edge. Avoid creating too large gradients.\n * Which may lead to blurry when GPU acceleration is enabled. See #15680\n *\n * The stops has been sorted from small to large.\n */\nfunction clipColorStops(colorStops, maxSize) {\n  var newColorStops = [];\n  var len = colorStops.length;\n  // coord will always < 0 in prevOutOfRangeColorStop.\n  var prevOutOfRangeColorStop;\n  var prevInRangeColorStop;\n  function lerpStop(stop0, stop1, clippedCoord) {\n    var coord0 = stop0.coord;\n    var p = (clippedCoord - coord0) / (stop1.coord - coord0);\n    var color = lerp(p, [stop0.color, stop1.color]);\n    return {\n      coord: clippedCoord,\n      color: color\n    };\n  }\n  for (var i = 0; i < len; i++) {\n    var stop_1 = colorStops[i];\n    var coord = stop_1.coord;\n    if (coord < 0) {\n      prevOutOfRangeColorStop = stop_1;\n    } else if (coord > maxSize) {\n      if (prevInRangeColorStop) {\n        newColorStops.push(lerpStop(prevInRangeColorStop, stop_1, maxSize));\n      } else if (prevOutOfRangeColorStop) {\n        // If there are two stops and coord range is between these two stops\n        newColorStops.push(lerpStop(prevOutOfRangeColorStop, stop_1, 0), lerpStop(prevOutOfRangeColorStop, stop_1, maxSize));\n      }\n      // All following stop will be out of range. So just ignore them.\n      break;\n    } else {\n      if (prevOutOfRangeColorStop) {\n        newColorStops.push(lerpStop(prevOutOfRangeColorStop, stop_1, 0));\n        // Reset\n        prevOutOfRangeColorStop = null;\n      }\n      newColorStops.push(stop_1);\n      prevInRangeColorStop = stop_1;\n    }\n  }\n  return newColorStops;\n}\nfunction getVisualGradient(data, coordSys, api) {\n  var visualMetaList = data.getVisual('visualMeta');\n  if (!visualMetaList || !visualMetaList.length || !data.count()) {\n    // When data.count() is 0, gradient range can not be calculated.\n    return;\n  }\n  if (coordSys.type !== 'cartesian2d') {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('Visual map on line style is only supported on cartesian2d.');\n    }\n    return;\n  }\n  var coordDim;\n  var visualMeta;\n  for (var i = visualMetaList.length - 1; i >= 0; i--) {\n    var dimInfo = data.getDimensionInfo(visualMetaList[i].dimension);\n    coordDim = dimInfo && dimInfo.coordDim;\n    // Can only be x or y\n    if (coordDim === 'x' || coordDim === 'y') {\n      visualMeta = visualMetaList[i];\n      break;\n    }\n  }\n  if (!visualMeta) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('Visual map on line style only support x or y dimension.');\n    }\n    return;\n  }\n  // If the area to be rendered is bigger than area defined by LinearGradient,\n  // the canvas spec prescribes that the color of the first stop and the last\n  // stop should be used. But if two stops are added at offset 0, in effect\n  // browsers use the color of the second stop to render area outside\n  // LinearGradient. So we can only infinitesimally extend area defined in\n  // LinearGradient to render `outerColors`.\n  var axis = coordSys.getAxis(coordDim);\n  // dataToCoord mapping may not be linear, but must be monotonic.\n  var colorStops = zrUtil.map(visualMeta.stops, function (stop) {\n    // offset will be calculated later.\n    return {\n      coord: axis.toGlobalCoord(axis.dataToCoord(stop.value)),\n      color: stop.color\n    };\n  });\n  var stopLen = colorStops.length;\n  var outerColors = visualMeta.outerColors.slice();\n  if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n    colorStops.reverse();\n    outerColors.reverse();\n  }\n  var colorStopsInRange = clipColorStops(colorStops, coordDim === 'x' ? api.getWidth() : api.getHeight());\n  var inRangeStopLen = colorStopsInRange.length;\n  if (!inRangeStopLen && stopLen) {\n    // All stops are out of range. All will be the same color.\n    return colorStops[0].coord < 0 ? outerColors[1] ? outerColors[1] : colorStops[stopLen - 1].color : outerColors[0] ? outerColors[0] : colorStops[0].color;\n  }\n  var tinyExtent = 10; // Arbitrary value: 10px\n  var minCoord = colorStopsInRange[0].coord - tinyExtent;\n  var maxCoord = colorStopsInRange[inRangeStopLen - 1].coord + tinyExtent;\n  var coordSpan = maxCoord - minCoord;\n  if (coordSpan < 1e-3) {\n    return 'transparent';\n  }\n  zrUtil.each(colorStopsInRange, function (stop) {\n    stop.offset = (stop.coord - minCoord) / coordSpan;\n  });\n  colorStopsInRange.push({\n    // NOTE: inRangeStopLen may still be 0 if stoplen is zero.\n    offset: inRangeStopLen ? colorStopsInRange[inRangeStopLen - 1].offset : 0.5,\n    color: outerColors[1] || 'transparent'\n  });\n  colorStopsInRange.unshift({\n    offset: inRangeStopLen ? colorStopsInRange[0].offset : 0.5,\n    color: outerColors[0] || 'transparent'\n  });\n  var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStopsInRange, true);\n  gradient[coordDim] = minCoord;\n  gradient[coordDim + '2'] = maxCoord;\n  return gradient;\n}\nfunction getIsIgnoreFunc(seriesModel, data, coordSys) {\n  var showAllSymbol = seriesModel.get('showAllSymbol');\n  var isAuto = showAllSymbol === 'auto';\n  if (showAllSymbol && !isAuto) {\n    return;\n  }\n  var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n  if (!categoryAxis) {\n    return;\n  }\n  // Note that category label interval strategy might bring some weird effect\n  // in some scenario: users may wonder why some of the symbols are not\n  // displayed. So we show all symbols as possible as we can.\n  if (isAuto\n  // Simplify the logic, do not determine label overlap here.\n  && canShowAllSymbolForCategory(categoryAxis, data)) {\n    return;\n  }\n  // Otherwise follow the label interval strategy on category axis.\n  var categoryDataDim = data.mapDimension(categoryAxis.dim);\n  var labelMap = {};\n  zrUtil.each(categoryAxis.getViewLabels(), function (labelItem) {\n    var ordinalNumber = categoryAxis.scale.getRawOrdinalNumber(labelItem.tickValue);\n    labelMap[ordinalNumber] = 1;\n  });\n  return function (dataIndex) {\n    return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));\n  };\n}\nfunction canShowAllSymbolForCategory(categoryAxis, data) {\n  // In most cases, line is monotonous on category axis, and the label size\n  // is close with each other. So we check the symbol size and some of the\n  // label size alone with the category axis to estimate whether all symbol\n  // can be shown without overlap.\n  var axisExtent = categoryAxis.getExtent();\n  var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis.scale.count();\n  isNaN(availSize) && (availSize = 0); // 0/0 is NaN.\n  // Sampling some points, max 5.\n  var dataLen = data.count();\n  var step = Math.max(1, Math.round(dataLen / 5));\n  for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {\n    if (SymbolClz.getSymbolSize(data, dataIndex\n    // Only for cartesian, where `isHorizontal` exists.\n    )[categoryAxis.isHorizontal() ? 1 : 0]\n    // Empirical number\n    * 1.5 > availSize) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isPointNull(x, y) {\n  return isNaN(x) || isNaN(y);\n}\nfunction getLastIndexNotNull(points) {\n  var len = points.length / 2;\n  for (; len > 0; len--) {\n    if (!isPointNull(points[len * 2 - 2], points[len * 2 - 1])) {\n      break;\n    }\n  }\n  return len - 1;\n}\nfunction getPointAtIndex(points, idx) {\n  return [points[idx * 2], points[idx * 2 + 1]];\n}\nfunction getIndexRange(points, xOrY, dim) {\n  var len = points.length / 2;\n  var dimIdx = dim === 'x' ? 0 : 1;\n  var a;\n  var b;\n  var prevIndex = 0;\n  var nextIndex = -1;\n  for (var i = 0; i < len; i++) {\n    b = points[i * 2 + dimIdx];\n    if (isNaN(b) || isNaN(points[i * 2 + 1 - dimIdx])) {\n      continue;\n    }\n    if (i === 0) {\n      a = b;\n      continue;\n    }\n    if (a <= xOrY && b >= xOrY || a >= xOrY && b <= xOrY) {\n      nextIndex = i;\n      break;\n    }\n    prevIndex = i;\n    a = b;\n  }\n  return {\n    range: [prevIndex, nextIndex],\n    t: (xOrY - a) / (b - a)\n  };\n}\nfunction anyStateShowEndLabel(seriesModel) {\n  if (seriesModel.get(['endLabel', 'show'])) {\n    return true;\n  }\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    if (seriesModel.get([SPECIAL_STATES[i], 'endLabel', 'show'])) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction createLineClipPath(lineView, coordSys, hasAnimation, seriesModel) {\n  if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n    var endLabelModel_1 = seriesModel.getModel('endLabel');\n    var valueAnimation_1 = endLabelModel_1.get('valueAnimation');\n    var data_1 = seriesModel.getData();\n    var labelAnimationRecord_1 = {\n      lastFrameIndex: 0\n    };\n    var during = anyStateShowEndLabel(seriesModel) ? function (percent, clipRect) {\n      lineView._endLabelOnDuring(percent, clipRect, data_1, labelAnimationRecord_1, valueAnimation_1, endLabelModel_1, coordSys);\n    } : null;\n    var isHorizontal = coordSys.getBaseAxis().isHorizontal();\n    var clipPath = createGridClipPath(coordSys, hasAnimation, seriesModel, function () {\n      var endLabel = lineView._endLabel;\n      if (endLabel && hasAnimation) {\n        if (labelAnimationRecord_1.originalX != null) {\n          endLabel.attr({\n            x: labelAnimationRecord_1.originalX,\n            y: labelAnimationRecord_1.originalY\n          });\n        }\n      }\n    }, during);\n    // Expand clip shape to avoid clipping when line value exceeds axis\n    if (!seriesModel.get('clip', true)) {\n      var rectShape = clipPath.shape;\n      var expandSize = Math.max(rectShape.width, rectShape.height);\n      if (isHorizontal) {\n        rectShape.y -= expandSize;\n        rectShape.height += expandSize * 2;\n      } else {\n        rectShape.x -= expandSize;\n        rectShape.width += expandSize * 2;\n      }\n    }\n    // Set to the final frame. To make sure label layout is right.\n    if (during) {\n      during(1, clipPath);\n    }\n    return clipPath;\n  } else {\n    if (process.env.NODE_ENV !== 'production') {\n      if (seriesModel.get(['endLabel', 'show'])) {\n        console.warn('endLabel is not supported for lines in polar systems.');\n      }\n    }\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  }\n}\nfunction getEndLabelStateSpecified(endLabelModel, coordSys) {\n  var baseAxis = coordSys.getBaseAxis();\n  var isHorizontal = baseAxis.isHorizontal();\n  var isBaseInversed = baseAxis.inverse;\n  var align = isHorizontal ? isBaseInversed ? 'right' : 'left' : 'center';\n  var verticalAlign = isHorizontal ? 'middle' : isBaseInversed ? 'top' : 'bottom';\n  return {\n    normal: {\n      align: endLabelModel.get('align') || align,\n      verticalAlign: endLabelModel.get('verticalAlign') || verticalAlign\n    }\n  };\n}\nvar LineView = /** @class */function (_super) {\n  __extends(LineView, _super);\n  function LineView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  LineView.prototype.init = function () {\n    var lineGroup = new graphic.Group();\n    var symbolDraw = new SymbolDraw();\n    this.group.add(symbolDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineGroup = lineGroup;\n    this._changePolyState = zrUtil.bind(this._changePolyState, this);\n  };\n  LineView.prototype.render = function (seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var lineStyleModel = seriesModel.getModel('lineStyle');\n    var areaStyleModel = seriesModel.getModel('areaStyle');\n    var points = data.getLayout('points') || [];\n    var isCoordSysPolar = coordSys.type === 'polar';\n    var prevCoordSys = this._coordSys;\n    var symbolDraw = this._symbolDraw;\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var lineGroup = this._lineGroup;\n    var hasAnimation = !ecModel.ssr && seriesModel.get('animation');\n    var isAreaChart = !areaStyleModel.isEmpty();\n    var valueOrigin = areaStyleModel.get('origin');\n    var dataCoordInfo = prepareDataCoordInfo(coordSys, data, valueOrigin);\n    var stackedOnPoints = isAreaChart && getStackedOnPoints(coordSys, data, dataCoordInfo);\n    var showSymbol = seriesModel.get('showSymbol');\n    var connectNulls = seriesModel.get('connectNulls');\n    var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys);\n    // Remove temporary symbols\n    var oldData = this._data;\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    });\n    // Remove previous created symbols if showSymbol changed to false\n    if (!showSymbol) {\n      symbolDraw.remove();\n    }\n    group.add(lineGroup);\n    // FIXME step not support polar\n    var step = !isCoordSysPolar ? seriesModel.get('step') : false;\n    var clipShapeForSymbol;\n    if (coordSys && coordSys.getArea && seriesModel.get('clip', true)) {\n      clipShapeForSymbol = coordSys.getArea();\n      // Avoid float number rounding error for symbol on the edge of axis extent.\n      // See #7913 and `test/dataZoom-clip.html`.\n      if (clipShapeForSymbol.width != null) {\n        clipShapeForSymbol.x -= 0.1;\n        clipShapeForSymbol.y -= 0.1;\n        clipShapeForSymbol.width += 0.2;\n        clipShapeForSymbol.height += 0.2;\n      } else if (clipShapeForSymbol.r0) {\n        clipShapeForSymbol.r0 -= 0.5;\n        clipShapeForSymbol.r += 0.5;\n      }\n    }\n    this._clipShapeForSymbol = clipShapeForSymbol;\n    var visualColor = getVisualGradient(data, coordSys, api) || data.getVisual('style')[data.getVisual('drawType')];\n    // Initialization animation or coordinate system changed\n    if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol,\n        disableAnimation: true,\n        getSymbolPoint: function (idx) {\n          return [points[idx * 2], points[idx * 2 + 1]];\n        }\n      });\n      hasAnimation && this._initSymbolLabelAnimation(data, coordSys, clipShapeForSymbol);\n      if (step) {\n        if (stackedOnPoints) {\n          stackedOnPoints = turnPointsIntoStep(stackedOnPoints, points, coordSys, step, connectNulls);\n        }\n        // TODO If stacked series is not step\n        points = turnPointsIntoStep(points, null, coordSys, step, connectNulls);\n      }\n      polyline = this._newPolyline(points);\n      if (isAreaChart) {\n        polygon = this._newPolygon(points, stackedOnPoints);\n      } // If areaStyle is removed\n      else if (polygon) {\n        lineGroup.remove(polygon);\n        polygon = this._polygon = null;\n      }\n      // NOTE: Must update _endLabel before setClipPath.\n      if (!isCoordSysPolar) {\n        this._initOrUpdateEndLabel(seriesModel, coordSys, convertToColorString(visualColor));\n      }\n      lineGroup.setClipPath(createLineClipPath(this, coordSys, true, seriesModel));\n    } else {\n      if (isAreaChart && !polygon) {\n        // If areaStyle is added\n        polygon = this._newPolygon(points, stackedOnPoints);\n      } else if (polygon && !isAreaChart) {\n        // If areaStyle is removed\n        lineGroup.remove(polygon);\n        polygon = this._polygon = null;\n      }\n      // NOTE: Must update _endLabel before setClipPath.\n      if (!isCoordSysPolar) {\n        this._initOrUpdateEndLabel(seriesModel, coordSys, convertToColorString(visualColor));\n      }\n      // Update clipPath\n      var oldClipPath = lineGroup.getClipPath();\n      if (oldClipPath) {\n        var newClipPath = createLineClipPath(this, coordSys, false, seriesModel);\n        graphic.initProps(oldClipPath, {\n          shape: newClipPath.shape\n        }, seriesModel);\n      } else {\n        lineGroup.setClipPath(createLineClipPath(this, coordSys, true, seriesModel));\n      }\n      // Always update, or it is wrong in the case turning on legend\n      // because points are not changed.\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol,\n        disableAnimation: true,\n        getSymbolPoint: function (idx) {\n          return [points[idx * 2], points[idx * 2 + 1]];\n        }\n      });\n      // In the case data zoom triggered refreshing frequently\n      // Data may not change if line has a category axis. So it should animate nothing.\n      if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n        if (hasAnimation) {\n          this._doUpdateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin, connectNulls);\n        } else {\n          // Not do it in update with animation\n          if (step) {\n            if (stackedOnPoints) {\n              stackedOnPoints = turnPointsIntoStep(stackedOnPoints, points, coordSys, step, connectNulls);\n            }\n            // TODO If stacked series is not step\n            points = turnPointsIntoStep(points, null, coordSys, step, connectNulls);\n          }\n          polyline.setShape({\n            points: points\n          });\n          polygon && polygon.setShape({\n            points: points,\n            stackedOnPoints: stackedOnPoints\n          });\n        }\n      }\n    }\n    var emphasisModel = seriesModel.getModel('emphasis');\n    var focus = emphasisModel.get('focus');\n    var blurScope = emphasisModel.get('blurScope');\n    var emphasisDisabled = emphasisModel.get('disabled');\n    polyline.useStyle(zrUtil.defaults(\n    // Use color in lineStyle first\n    lineStyleModel.getLineStyle(), {\n      fill: 'none',\n      stroke: visualColor,\n      lineJoin: 'bevel'\n    }));\n    setStatesStylesFromModel(polyline, seriesModel, 'lineStyle');\n    if (polyline.style.lineWidth > 0 && seriesModel.get(['emphasis', 'lineStyle', 'width']) === 'bolder') {\n      var emphasisLineStyle = polyline.getState('emphasis').style;\n      emphasisLineStyle.lineWidth = +polyline.style.lineWidth + 1;\n    }\n    // Needs seriesIndex for focus\n    getECData(polyline).seriesIndex = seriesModel.seriesIndex;\n    toggleHoverEmphasis(polyline, focus, blurScope, emphasisDisabled);\n    var smooth = getSmooth(seriesModel.get('smooth'));\n    var smoothMonotone = seriesModel.get('smoothMonotone');\n    polyline.setShape({\n      smooth: smooth,\n      smoothMonotone: smoothMonotone,\n      connectNulls: connectNulls\n    });\n    if (polygon) {\n      var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n      var stackedOnSmooth = 0;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: visualColor,\n        opacity: 0.7,\n        lineJoin: 'bevel',\n        decal: data.getVisual('style').decal\n      }));\n      if (stackedOnSeries) {\n        stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n      }\n      polygon.setShape({\n        smooth: smooth,\n        stackedOnSmooth: stackedOnSmooth,\n        smoothMonotone: smoothMonotone,\n        connectNulls: connectNulls\n      });\n      setStatesStylesFromModel(polygon, seriesModel, 'areaStyle');\n      // Needs seriesIndex for focus\n      getECData(polygon).seriesIndex = seriesModel.seriesIndex;\n      toggleHoverEmphasis(polygon, focus, blurScope, emphasisDisabled);\n    }\n    var changePolyState = this._changePolyState;\n    data.eachItemGraphicEl(function (el) {\n      // Switch polyline / polygon state if element changed its state.\n      el && (el.onHoverStateChange = changePolyState);\n    });\n    this._polyline.onHoverStateChange = changePolyState;\n    this._data = data;\n    // Save the coordinate system for transition animation when data changed\n    this._coordSys = coordSys;\n    this._stackedOnPoints = stackedOnPoints;\n    this._points = points;\n    this._step = step;\n    this._valueOrigin = valueOrigin;\n    if (seriesModel.get('triggerLineEvent')) {\n      this.packEventData(seriesModel, polyline);\n      polygon && this.packEventData(seriesModel, polygon);\n    }\n  };\n  LineView.prototype.packEventData = function (seriesModel, el) {\n    getECData(el).eventData = {\n      componentType: 'series',\n      componentSubType: 'line',\n      componentIndex: seriesModel.componentIndex,\n      seriesIndex: seriesModel.seriesIndex,\n      seriesName: seriesModel.name,\n      seriesType: 'line'\n    };\n  };\n  LineView.prototype.highlight = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n    this._changePolyState('emphasis');\n    if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n      var points = data.getLayout('points');\n      var symbol = data.getItemGraphicEl(dataIndex);\n      if (!symbol) {\n        // Create a temporary symbol if it is not exists\n        var x = points[dataIndex * 2];\n        var y = points[dataIndex * 2 + 1];\n        if (isNaN(x) || isNaN(y)) {\n          // Null data\n          return;\n        }\n        // fix #11360: shouldn't draw symbol outside clipShapeForSymbol\n        if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(x, y)) {\n          return;\n        }\n        var zlevel = seriesModel.get('zlevel') || 0;\n        var z = seriesModel.get('z') || 0;\n        symbol = new SymbolClz(data, dataIndex);\n        symbol.x = x;\n        symbol.y = y;\n        symbol.setZ(zlevel, z);\n        // ensure label text of the temporary symbol is in front of line and area polygon\n        var symbolLabel = symbol.getSymbolPath().getTextContent();\n        if (symbolLabel) {\n          symbolLabel.zlevel = zlevel;\n          symbolLabel.z = z;\n          symbolLabel.z2 = this._polyline.z2 + 1;\n        }\n        symbol.__temp = true;\n        data.setItemGraphicEl(dataIndex, symbol);\n        // Stop scale animation\n        symbol.stopSymbolAnimation(true);\n        this.group.add(symbol);\n      }\n      symbol.highlight();\n    } else {\n      // Highlight whole series\n      ChartView.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n    }\n  };\n  LineView.prototype.downplay = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n    this._changePolyState('normal');\n    if (dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n      if (symbol) {\n        if (symbol.__temp) {\n          data.setItemGraphicEl(dataIndex, null);\n          this.group.remove(symbol);\n        } else {\n          symbol.downplay();\n        }\n      }\n    } else {\n      // FIXME\n      // can not downplay completely.\n      // Downplay whole series\n      ChartView.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n    }\n  };\n  LineView.prototype._changePolyState = function (toState) {\n    var polygon = this._polygon;\n    setStatesFlag(this._polyline, toState);\n    polygon && setStatesFlag(polygon, toState);\n  };\n  LineView.prototype._newPolyline = function (points) {\n    var polyline = this._polyline;\n    // Remove previous created polyline\n    if (polyline) {\n      this._lineGroup.remove(polyline);\n    }\n    polyline = new ECPolyline({\n      shape: {\n        points: points\n      },\n      segmentIgnoreThreshold: 2,\n      z2: 10\n    });\n    this._lineGroup.add(polyline);\n    this._polyline = polyline;\n    return polyline;\n  };\n  LineView.prototype._newPolygon = function (points, stackedOnPoints) {\n    var polygon = this._polygon;\n    // Remove previous created polygon\n    if (polygon) {\n      this._lineGroup.remove(polygon);\n    }\n    polygon = new ECPolygon({\n      shape: {\n        points: points,\n        stackedOnPoints: stackedOnPoints\n      },\n      segmentIgnoreThreshold: 2\n    });\n    this._lineGroup.add(polygon);\n    this._polygon = polygon;\n    return polygon;\n  };\n  LineView.prototype._initSymbolLabelAnimation = function (data, coordSys, clipShape) {\n    var isHorizontalOrRadial;\n    var isCoordSysPolar;\n    var baseAxis = coordSys.getBaseAxis();\n    var isAxisInverse = baseAxis.inverse;\n    if (coordSys.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n      isCoordSysPolar = false;\n    } else if (coordSys.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n      isCoordSysPolar = true;\n    }\n    var seriesModel = data.hostModel;\n    var seriesDuration = seriesModel.get('animationDuration');\n    if (zrUtil.isFunction(seriesDuration)) {\n      seriesDuration = seriesDuration(null);\n    }\n    var seriesDelay = seriesModel.get('animationDelay') || 0;\n    var seriesDelayValue = zrUtil.isFunction(seriesDelay) ? seriesDelay(null) : seriesDelay;\n    data.eachItemGraphicEl(function (symbol, idx) {\n      var el = symbol;\n      if (el) {\n        var point = [symbol.x, symbol.y];\n        var start = void 0;\n        var end = void 0;\n        var current = void 0;\n        if (clipShape) {\n          if (isCoordSysPolar) {\n            var polarClip = clipShape;\n            var coord = coordSys.pointToCoord(point);\n            if (isHorizontalOrRadial) {\n              start = polarClip.startAngle;\n              end = polarClip.endAngle;\n              current = -coord[1] / 180 * Math.PI;\n            } else {\n              start = polarClip.r0;\n              end = polarClip.r;\n              current = coord[0];\n            }\n          } else {\n            var gridClip = clipShape;\n            if (isHorizontalOrRadial) {\n              start = gridClip.x;\n              end = gridClip.x + gridClip.width;\n              current = symbol.x;\n            } else {\n              start = gridClip.y + gridClip.height;\n              end = gridClip.y;\n              current = symbol.y;\n            }\n          }\n        }\n        var ratio = end === start ? 0 : (current - start) / (end - start);\n        if (isAxisInverse) {\n          ratio = 1 - ratio;\n        }\n        var delay = zrUtil.isFunction(seriesDelay) ? seriesDelay(idx) : seriesDuration * ratio + seriesDelayValue;\n        var symbolPath = el.getSymbolPath();\n        var text = symbolPath.getTextContent();\n        el.attr({\n          scaleX: 0,\n          scaleY: 0\n        });\n        el.animateTo({\n          scaleX: 1,\n          scaleY: 1\n        }, {\n          duration: 200,\n          setToFinal: true,\n          delay: delay\n        });\n        if (text) {\n          text.animateFrom({\n            style: {\n              opacity: 0\n            }\n          }, {\n            duration: 300,\n            delay: delay\n          });\n        }\n        symbolPath.disableLabelAnimation = true;\n      }\n    });\n  };\n  LineView.prototype._initOrUpdateEndLabel = function (seriesModel, coordSys, inheritColor) {\n    var endLabelModel = seriesModel.getModel('endLabel');\n    if (anyStateShowEndLabel(seriesModel)) {\n      var data_2 = seriesModel.getData();\n      var polyline = this._polyline;\n      // series may be filtered.\n      var points = data_2.getLayout('points');\n      if (!points) {\n        polyline.removeTextContent();\n        this._endLabel = null;\n        return;\n      }\n      var endLabel = this._endLabel;\n      if (!endLabel) {\n        endLabel = this._endLabel = new graphic.Text({\n          z2: 200 // should be higher than item symbol\n        });\n        endLabel.ignoreClip = true;\n        polyline.setTextContent(this._endLabel);\n        polyline.disableLabelAnimation = true;\n      }\n      // Find last non-NaN data to display data\n      var dataIndex = getLastIndexNotNull(points);\n      if (dataIndex >= 0) {\n        setLabelStyle(polyline, getLabelStatesModels(seriesModel, 'endLabel'), {\n          inheritColor: inheritColor,\n          labelFetcher: seriesModel,\n          labelDataIndex: dataIndex,\n          defaultText: function (dataIndex, opt, interpolatedValue) {\n            return interpolatedValue != null ? getDefaultInterpolatedLabel(data_2, interpolatedValue) : getDefaultLabel(data_2, dataIndex);\n          },\n          enableTextSetter: true\n        }, getEndLabelStateSpecified(endLabelModel, coordSys));\n        polyline.textConfig.position = null;\n      }\n    } else if (this._endLabel) {\n      this._polyline.removeTextContent();\n      this._endLabel = null;\n    }\n  };\n  LineView.prototype._endLabelOnDuring = function (percent, clipRect, data, animationRecord, valueAnimation, endLabelModel, coordSys) {\n    var endLabel = this._endLabel;\n    var polyline = this._polyline;\n    if (endLabel) {\n      // NOTE: Don't remove percent < 1. percent === 1 means the first frame during render.\n      // The label is not prepared at this time.\n      if (percent < 1 && animationRecord.originalX == null) {\n        animationRecord.originalX = endLabel.x;\n        animationRecord.originalY = endLabel.y;\n      }\n      var points = data.getLayout('points');\n      var seriesModel = data.hostModel;\n      var connectNulls = seriesModel.get('connectNulls');\n      var precision = endLabelModel.get('precision');\n      var distance = endLabelModel.get('distance') || 0;\n      var baseAxis = coordSys.getBaseAxis();\n      var isHorizontal = baseAxis.isHorizontal();\n      var isBaseInversed = baseAxis.inverse;\n      var clipShape = clipRect.shape;\n      var xOrY = isBaseInversed ? isHorizontal ? clipShape.x : clipShape.y + clipShape.height : isHorizontal ? clipShape.x + clipShape.width : clipShape.y;\n      var distanceX = (isHorizontal ? distance : 0) * (isBaseInversed ? -1 : 1);\n      var distanceY = (isHorizontal ? 0 : -distance) * (isBaseInversed ? -1 : 1);\n      var dim = isHorizontal ? 'x' : 'y';\n      var dataIndexRange = getIndexRange(points, xOrY, dim);\n      var indices = dataIndexRange.range;\n      var diff = indices[1] - indices[0];\n      var value = void 0;\n      if (diff >= 1) {\n        // diff > 1 && connectNulls, which is on the null data.\n        if (diff > 1 && !connectNulls) {\n          var pt = getPointAtIndex(points, indices[0]);\n          endLabel.attr({\n            x: pt[0] + distanceX,\n            y: pt[1] + distanceY\n          });\n          valueAnimation && (value = seriesModel.getRawValue(indices[0]));\n        } else {\n          var pt = polyline.getPointOn(xOrY, dim);\n          pt && endLabel.attr({\n            x: pt[0] + distanceX,\n            y: pt[1] + distanceY\n          });\n          var startValue = seriesModel.getRawValue(indices[0]);\n          var endValue = seriesModel.getRawValue(indices[1]);\n          valueAnimation && (value = modelUtil.interpolateRawValues(data, precision, startValue, endValue, dataIndexRange.t));\n        }\n        animationRecord.lastFrameIndex = indices[0];\n      } else {\n        // If diff <= 0, which is the range is not found(Include NaN)\n        // Choose the first point or last point.\n        var idx = percent === 1 || animationRecord.lastFrameIndex > 0 ? indices[0] : 0;\n        var pt = getPointAtIndex(points, idx);\n        valueAnimation && (value = seriesModel.getRawValue(idx));\n        endLabel.attr({\n          x: pt[0] + distanceX,\n          y: pt[1] + distanceY\n        });\n      }\n      if (valueAnimation) {\n        var inner = labelInner(endLabel);\n        if (typeof inner.setLabelText === 'function') {\n          inner.setLabelText(value);\n        }\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  // FIXME Two value axis\n  LineView.prototype._doUpdateAnimation = function (data, stackedOnPoints, coordSys, api, step, valueOrigin, connectNulls) {\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var seriesModel = data.hostModel;\n    var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin, valueOrigin);\n    var current = diff.current;\n    var stackedOnCurrent = diff.stackedOnCurrent;\n    var next = diff.next;\n    var stackedOnNext = diff.stackedOnNext;\n    if (step) {\n      // TODO If stacked series is not step\n      stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, diff.current, coordSys, step, connectNulls);\n      current = turnPointsIntoStep(diff.current, null, coordSys, step, connectNulls);\n      stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, diff.next, coordSys, step, connectNulls);\n      next = turnPointsIntoStep(diff.next, null, coordSys, step, connectNulls);\n    }\n    // Don't apply animation if diff is large.\n    // For better result and avoid memory explosion problems like\n    // https://github.com/apache/incubator-echarts/issues/12229\n    if (getBoundingDiff(current, next) > 3000 || polygon && getBoundingDiff(stackedOnCurrent, stackedOnNext) > 3000) {\n      polyline.stopAnimation();\n      polyline.setShape({\n        points: next\n      });\n      if (polygon) {\n        polygon.stopAnimation();\n        polygon.setShape({\n          points: next,\n          stackedOnPoints: stackedOnNext\n        });\n      }\n      return;\n    }\n    polyline.shape.__points = diff.current;\n    polyline.shape.points = current;\n    var target = {\n      shape: {\n        points: next\n      }\n    };\n    // Also animate the original points.\n    // If points reference is changed when turning into step line.\n    if (diff.current !== current) {\n      target.shape.__points = diff.next;\n    }\n    // Stop previous animation.\n    polyline.stopAnimation();\n    graphic.updateProps(polyline, target, seriesModel);\n    if (polygon) {\n      polygon.setShape({\n        // Reuse the points with polyline.\n        points: current,\n        stackedOnPoints: stackedOnCurrent\n      });\n      polygon.stopAnimation();\n      graphic.updateProps(polygon, {\n        shape: {\n          stackedOnPoints: stackedOnNext\n        }\n      }, seriesModel);\n      // If use attr directly in updateProps.\n      if (polyline.shape.points !== polygon.shape.points) {\n        polygon.shape.points = polyline.shape.points;\n      }\n    }\n    var updatedDataInfo = [];\n    var diffStatus = diff.status;\n    for (var i = 0; i < diffStatus.length; i++) {\n      var cmd = diffStatus[i].cmd;\n      if (cmd === '=') {\n        var el = data.getItemGraphicEl(diffStatus[i].idx1);\n        if (el) {\n          updatedDataInfo.push({\n            el: el,\n            ptIdx: i // Index of points\n          });\n        }\n      }\n    }\n    if (polyline.animators && polyline.animators.length) {\n      polyline.animators[0].during(function () {\n        polygon && polygon.dirtyShape();\n        var points = polyline.shape.__points;\n        for (var i = 0; i < updatedDataInfo.length; i++) {\n          var el = updatedDataInfo[i].el;\n          var offset = updatedDataInfo[i].ptIdx * 2;\n          el.x = points[offset];\n          el.y = points[offset + 1];\n          el.markRedraw();\n        }\n      });\n    }\n  };\n  LineView.prototype.remove = function (ecModel) {\n    var group = this.group;\n    var oldData = this._data;\n    this._lineGroup.removeAll();\n    this._symbolDraw.remove(true);\n    // Remove temporary created elements when highlighting\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    });\n    this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._endLabel = this._data = null;\n  };\n  LineView.type = 'line';\n  return LineView;\n}(ChartView);\nexport default LineView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { map } from 'zrender/lib/core/util.js';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner.js';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper.js';\nimport { createFloat32Array } from '../util/vendor.js';\nexport default function pointsLayout(seriesType, forceStoreInTypedArray) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var useTypedArray = forceStoreInTypedArray || pipelineContext.large;\n      if (!coordSys) {\n        return;\n      }\n      var dims = map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n      if (isDimensionStacked(data, dims[0])) {\n        dims[0] = stackResultDim;\n      }\n      if (isDimensionStacked(data, dims[1])) {\n        dims[1] = stackResultDim;\n      }\n      var store = data.getStore();\n      var dimIdx0 = data.getDimensionIndex(dims[0]);\n      var dimIdx1 = data.getDimensionIndex(dims[1]);\n      return dimLen && {\n        progress: function (params, data) {\n          var segCount = params.end - params.start;\n          var points = useTypedArray && createFloat32Array(segCount * dimLen);\n          var tmpIn = [];\n          var tmpOut = [];\n          for (var i = params.start, offset = 0; i < params.end; i++) {\n            var point = void 0;\n            if (dimLen === 1) {\n              var x = store.get(dimIdx0, i);\n              // NOTE: Make sure the second parameter is null to use default strategy.\n              point = coordSys.dataToPoint(x, null, tmpOut);\n            } else {\n              tmpIn[0] = store.get(dimIdx0, i);\n              tmpIn[1] = store.get(dimIdx1, i);\n              // Let coordinate system to handle the NaN data.\n              point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n            }\n            if (useTypedArray) {\n              points[offset++] = point[0];\n              points[offset++] = point[1];\n            } else {\n              data.setItemLayout(i, point.slice());\n            }\n          }\n          useTypedArray && data.setLayout('points', points);\n        }\n      };\n    }\n  };\n}\n;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isFunction, isString } from 'zrender/lib/core/util.js';\nvar samplers = {\n  average: function (frame) {\n    var sum = 0;\n    var count = 0;\n    for (var i = 0; i < frame.length; i++) {\n      if (!isNaN(frame[i])) {\n        sum += frame[i];\n        count++;\n      }\n    }\n    // Return NaN if count is 0\n    return count === 0 ? NaN : sum / count;\n  },\n  sum: function (frame) {\n    var sum = 0;\n    for (var i = 0; i < frame.length; i++) {\n      // Ignore NaN\n      sum += frame[i] || 0;\n    }\n    return sum;\n  },\n  max: function (frame) {\n    var max = -Infinity;\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] > max && (max = frame[i]);\n    }\n    // NaN will cause illegal axis extent.\n    return isFinite(max) ? max : NaN;\n  },\n  min: function (frame) {\n    var min = Infinity;\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] < min && (min = frame[i]);\n    }\n    // NaN will cause illegal axis extent.\n    return isFinite(min) ? min : NaN;\n  },\n  // TODO\n  // Median\n  nearest: function (frame) {\n    return frame[0];\n  }\n};\nvar indexSampler = function (frame) {\n  return Math.round(frame.length / 2);\n};\nexport default function dataSample(seriesType) {\n  return {\n    seriesType: seriesType,\n    // FIXME:TS never used, so comment it\n    // modifyOutputEnd: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var sampling = seriesModel.get('sampling');\n      var coordSys = seriesModel.coordinateSystem;\n      var count = data.count();\n      // Only cartesian2d support down sampling. Disable it when there is few data.\n      if (count > 10 && coordSys.type === 'cartesian2d' && sampling) {\n        var baseAxis = coordSys.getBaseAxis();\n        var valueAxis = coordSys.getOtherAxis(baseAxis);\n        var extent = baseAxis.getExtent();\n        var dpr = api.getDevicePixelRatio();\n        // Coordinste system has been resized\n        var size = Math.abs(extent[1] - extent[0]) * (dpr || 1);\n        var rate = Math.round(count / size);\n        if (isFinite(rate) && rate > 1) {\n          if (sampling === 'lttb') {\n            seriesModel.setData(data.lttbDownSample(data.mapDimension(valueAxis.dim), 1 / rate));\n          } else if (sampling === 'minmax') {\n            seriesModel.setData(data.minmaxDownSample(data.mapDimension(valueAxis.dim), 1 / rate));\n          }\n          var sampler = void 0;\n          if (isString(sampling)) {\n            sampler = samplers[sampling];\n          } else if (isFunction(sampling)) {\n            sampler = sampling;\n          }\n          if (sampler) {\n            // Only support sample the first dim mapped from value axis.\n            seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n          }\n        }\n      }\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LineSeries from './LineSeries.js';\nimport LineView from './LineView.js';\n// In case developer forget to include grid component\nimport layoutPoints from '../../layout/points.js';\nimport dataSample from '../../processor/dataSample.js';\nexport function install(registers) {\n  registers.registerChartView(LineView);\n  registers.registerSeriesModel(LineSeries);\n  registers.registerLayout(layoutPoints('line', true));\n  registers.registerVisual({\n    seriesType: 'line',\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      // Visual coding for legend\n      var lineStyle = seriesModel.getModel('lineStyle').getLineStyle();\n      if (lineStyle && !lineStyle.stroke) {\n        // Fill in visual should be palette color if\n        // has color callback\n        lineStyle.stroke = data.getVisual('style').fill;\n      }\n      data.setVisual('legendLineStyle', lineStyle);\n    }\n  });\n  // Down sample after filter\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, dataSample('line'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport createSeriesData from '../helper/createSeriesData.js';\nimport { each } from 'zrender/lib/core/util.js';\nvar BaseBarSeriesModel = /** @class */function (_super) {\n  __extends(BaseBarSeriesModel, _super);\n  function BaseBarSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BaseBarSeriesModel.type;\n    return _this;\n  }\n  BaseBarSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this, {\n      useEncodeDefaulter: true\n    });\n  };\n  BaseBarSeriesModel.prototype.getMarkerPosition = function (value, dims, startingAtTick) {\n    var coordSys = this.coordinateSystem;\n    if (coordSys && coordSys.clampData) {\n      // PENDING if clamp ?\n      var clampData_1 = coordSys.clampData(value);\n      var pt_1 = coordSys.dataToPoint(clampData_1);\n      if (startingAtTick) {\n        each(coordSys.getAxes(), function (axis, idx) {\n          // If axis type is category, use tick coords instead\n          if (axis.type === 'category' && dims != null) {\n            var tickCoords = axis.getTicksCoords();\n            var alignTicksWithLabel = axis.getTickModel().get('alignWithLabel');\n            var targetTickId = clampData_1[idx];\n            // The index of rightmost tick of markArea is 1 larger than x1/y1 index\n            var isEnd = dims[idx] === 'x1' || dims[idx] === 'y1';\n            if (isEnd && !alignTicksWithLabel) {\n              targetTickId += 1;\n            }\n            // The only contains one tick, tickCoords is\n            // like [{coord: 0, tickValue: 0}, {coord: 0}]\n            // to the length should always be larger than 1\n            if (tickCoords.length < 2) {\n              return;\n            } else if (tickCoords.length === 2) {\n              // The left value and right value of the axis are\n              // the same. coord is 0 in both items. Use the max\n              // value of the axis as the coord\n              pt_1[idx] = axis.toGlobalCoord(axis.getExtent()[isEnd ? 1 : 0]);\n              return;\n            }\n            var leftCoord = void 0;\n            var coord = void 0;\n            var stepTickValue = 1;\n            for (var i = 0; i < tickCoords.length; i++) {\n              var tickCoord = tickCoords[i].coord;\n              // The last item of tickCoords doesn't contain\n              // tickValue\n              var tickValue = i === tickCoords.length - 1 ? tickCoords[i - 1].tickValue + stepTickValue : tickCoords[i].tickValue;\n              if (tickValue === targetTickId) {\n                coord = tickCoord;\n                break;\n              } else if (tickValue < targetTickId) {\n                leftCoord = tickCoord;\n              } else if (leftCoord != null && tickValue > targetTickId) {\n                coord = (tickCoord + leftCoord) / 2;\n                break;\n              }\n              if (i === 1) {\n                // Here we assume the step of category axes is\n                // the same\n                stepTickValue = tickValue - tickCoords[0].tickValue;\n              }\n            }\n            if (coord == null) {\n              if (!leftCoord) {\n                // targetTickId is smaller than all tick ids in the\n                // visible area, use the leftmost tick coord\n                coord = tickCoords[0].coord;\n              } else if (leftCoord) {\n                // targetTickId is larger than all tick ids in the\n                // visible area, use the rightmost tick coord\n                coord = tickCoords[tickCoords.length - 1].coord;\n              }\n            }\n            pt_1[idx] = axis.toGlobalCoord(coord);\n          }\n        });\n      } else {\n        var data = this.getData();\n        var offset = data.getLayout('offset');\n        var size = data.getLayout('size');\n        var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n        pt_1[offsetIndex] += offset + size / 2;\n      }\n      return pt_1;\n    }\n    return [NaN, NaN];\n  };\n  BaseBarSeriesModel.type = 'series.__base_bar__';\n  BaseBarSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // stack: null\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    barMinHeight: 0,\n    barMinAngle: 0,\n    // cursor: null,\n    large: false,\n    largeThreshold: 400,\n    progressive: 3e3,\n    progressiveChunkMode: 'mod',\n    defaultBarGap: '10%'\n  };\n  return BaseBarSeriesModel;\n}(SeriesModel);\nSeriesModel.registerClass(BaseBarSeriesModel);\nexport default BaseBarSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseBarSeriesModel from './BaseBarSeries.js';\nimport createSeriesData from '../helper/createSeriesData.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nimport tokens from '../../visual/tokens.js';\nvar BarSeriesModel = /** @class */function (_super) {\n  __extends(BarSeriesModel, _super);\n  function BarSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BarSeriesModel.type;\n    return _this;\n  }\n  BarSeriesModel.prototype.getInitialData = function () {\n    return createSeriesData(null, this, {\n      useEncodeDefaulter: true,\n      createInvertedIndices: !!this.get('realtimeSort', true) || null\n    });\n  };\n  /**\n   * @override\n   */\n  BarSeriesModel.prototype.getProgressive = function () {\n    // Do not support progressive in normal mode.\n    return this.get('large') ? this.get('progressive') : false;\n  };\n  /**\n   * @override\n   */\n  BarSeriesModel.prototype.getProgressiveThreshold = function () {\n    // Do not support progressive in normal mode.\n    var progressiveThreshold = this.get('progressiveThreshold');\n    var largeThreshold = this.get('largeThreshold');\n    if (largeThreshold > progressiveThreshold) {\n      progressiveThreshold = largeThreshold;\n    }\n    return progressiveThreshold;\n  };\n  BarSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    return selectors.rect(data.getItemLayout(dataIndex));\n  };\n  BarSeriesModel.type = 'series.bar';\n  BarSeriesModel.dependencies = ['grid', 'polar'];\n  BarSeriesModel.defaultOption = inheritDefaultOption(BaseBarSeriesModel.defaultOption, {\n    // If clipped\n    // Only available on cartesian2d\n    clip: true,\n    roundCap: false,\n    showBackground: false,\n    backgroundStyle: {\n      color: 'rgba(180, 180, 180, 0.2)',\n      borderColor: null,\n      borderWidth: 0,\n      borderType: 'solid',\n      borderRadius: 0,\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      opacity: 1\n    },\n    select: {\n      itemStyle: {\n        borderColor: tokens.color.primary,\n        borderWidth: 2\n      }\n    },\n    realtimeSort: false\n  });\n  return BarSeriesModel;\n}(BaseBarSeriesModel);\nexport default BarSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { Path } from '../graphic.js';\n/**\n * Sausage: similar to sector, but have half circle on both sides\n */\nvar SausageShape = /** @class */function () {\n  function SausageShape() {\n    this.cx = 0;\n    this.cy = 0;\n    this.r0 = 0;\n    this.r = 0;\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.clockwise = true;\n  }\n  return SausageShape;\n}();\nvar SausagePath = /** @class */function (_super) {\n  __extends(SausagePath, _super);\n  function SausagePath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'sausage';\n    return _this;\n  }\n  SausagePath.prototype.getDefaultShape = function () {\n    return new SausageShape();\n  };\n  SausagePath.prototype.buildPath = function (ctx, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var r0 = Math.max(shape.r0 || 0, 0);\n    var r = Math.max(shape.r, 0);\n    var dr = (r - r0) * 0.5;\n    var rCenter = r0 + dr;\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var PI2 = Math.PI * 2;\n    var lessThanCircle = clockwise ? endAngle - startAngle < PI2 : startAngle - endAngle < PI2;\n    if (!lessThanCircle) {\n      // Normalize angles\n      startAngle = endAngle - (clockwise ? PI2 : -PI2);\n    }\n    var unitStartX = Math.cos(startAngle);\n    var unitStartY = Math.sin(startAngle);\n    var unitEndX = Math.cos(endAngle);\n    var unitEndY = Math.sin(endAngle);\n    if (lessThanCircle) {\n      ctx.moveTo(unitStartX * r0 + cx, unitStartY * r0 + cy);\n      ctx.arc(unitStartX * rCenter + cx, unitStartY * rCenter + cy, dr, -Math.PI + startAngle, startAngle, !clockwise);\n    } else {\n      ctx.moveTo(unitStartX * r + cx, unitStartY * r + cy);\n    }\n    ctx.arc(cx, cy, r, startAngle, endAngle, !clockwise);\n    ctx.arc(unitEndX * rCenter + cx, unitEndY * rCenter + cy, dr, endAngle - Math.PI * 2, endAngle - Math.PI, !clockwise);\n    if (r0 !== 0) {\n      ctx.arc(cx, cy, r0, endAngle, startAngle, clockwise);\n    }\n    // ctx.closePath();\n  };\n  return SausagePath;\n}(Path);\nexport default SausagePath;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { calculateTextPosition } from 'zrender/lib/contain/text.js';\nimport { isArray, isNumber } from 'zrender/lib/core/util.js';\nexport function createSectorCalculateTextPosition(positionMapping, opts) {\n  opts = opts || {};\n  var isRoundCap = opts.isRoundCap;\n  return function (out, opts, boundingRect) {\n    var textPosition = opts.position;\n    if (!textPosition || textPosition instanceof Array) {\n      return calculateTextPosition(out, opts, boundingRect);\n    }\n    var mappedSectorPosition = positionMapping(textPosition);\n    var distance = opts.distance != null ? opts.distance : 5;\n    var sector = this.shape;\n    var cx = sector.cx;\n    var cy = sector.cy;\n    var r = sector.r;\n    var r0 = sector.r0;\n    var middleR = (r + r0) / 2;\n    var startAngle = sector.startAngle;\n    var endAngle = sector.endAngle;\n    var middleAngle = (startAngle + endAngle) / 2;\n    var extraDist = isRoundCap ? Math.abs(r - r0) / 2 : 0;\n    var mathCos = Math.cos;\n    var mathSin = Math.sin;\n    // base position: top-left\n    var x = cx + r * mathCos(startAngle);\n    var y = cy + r * mathSin(startAngle);\n    var textAlign = 'left';\n    var textVerticalAlign = 'top';\n    switch (mappedSectorPosition) {\n      case 'startArc':\n        x = cx + (r0 - distance) * mathCos(middleAngle);\n        y = cy + (r0 - distance) * mathSin(middleAngle);\n        textAlign = 'center';\n        textVerticalAlign = 'top';\n        break;\n      case 'insideStartArc':\n        x = cx + (r0 + distance) * mathCos(middleAngle);\n        y = cy + (r0 + distance) * mathSin(middleAngle);\n        textAlign = 'center';\n        textVerticalAlign = 'bottom';\n        break;\n      case 'startAngle':\n        x = cx + middleR * mathCos(startAngle) + adjustAngleDistanceX(startAngle, distance + extraDist, false);\n        y = cy + middleR * mathSin(startAngle) + adjustAngleDistanceY(startAngle, distance + extraDist, false);\n        textAlign = 'right';\n        textVerticalAlign = 'middle';\n        break;\n      case 'insideStartAngle':\n        x = cx + middleR * mathCos(startAngle) + adjustAngleDistanceX(startAngle, -distance + extraDist, false);\n        y = cy + middleR * mathSin(startAngle) + adjustAngleDistanceY(startAngle, -distance + extraDist, false);\n        textAlign = 'left';\n        textVerticalAlign = 'middle';\n        break;\n      case 'middle':\n        x = cx + middleR * mathCos(middleAngle);\n        y = cy + middleR * mathSin(middleAngle);\n        textAlign = 'center';\n        textVerticalAlign = 'middle';\n        break;\n      case 'endArc':\n        x = cx + (r + distance) * mathCos(middleAngle);\n        y = cy + (r + distance) * mathSin(middleAngle);\n        textAlign = 'center';\n        textVerticalAlign = 'bottom';\n        break;\n      case 'insideEndArc':\n        x = cx + (r - distance) * mathCos(middleAngle);\n        y = cy + (r - distance) * mathSin(middleAngle);\n        textAlign = 'center';\n        textVerticalAlign = 'top';\n        break;\n      case 'endAngle':\n        x = cx + middleR * mathCos(endAngle) + adjustAngleDistanceX(endAngle, distance + extraDist, true);\n        y = cy + middleR * mathSin(endAngle) + adjustAngleDistanceY(endAngle, distance + extraDist, true);\n        textAlign = 'left';\n        textVerticalAlign = 'middle';\n        break;\n      case 'insideEndAngle':\n        x = cx + middleR * mathCos(endAngle) + adjustAngleDistanceX(endAngle, -distance + extraDist, true);\n        y = cy + middleR * mathSin(endAngle) + adjustAngleDistanceY(endAngle, -distance + extraDist, true);\n        textAlign = 'right';\n        textVerticalAlign = 'middle';\n        break;\n      default:\n        return calculateTextPosition(out, opts, boundingRect);\n    }\n    out = out || {};\n    out.x = x;\n    out.y = y;\n    out.align = textAlign;\n    out.verticalAlign = textVerticalAlign;\n    return out;\n  };\n}\nexport function setSectorTextRotation(sector, textPosition, positionMapping, rotateType) {\n  if (isNumber(rotateType)) {\n    // user-set rotation\n    sector.setTextConfig({\n      rotation: rotateType\n    });\n    return;\n  } else if (isArray(textPosition)) {\n    // user-set position, use 0 as auto rotation\n    sector.setTextConfig({\n      rotation: 0\n    });\n    return;\n  }\n  var shape = sector.shape;\n  var startAngle = shape.clockwise ? shape.startAngle : shape.endAngle;\n  var endAngle = shape.clockwise ? shape.endAngle : shape.startAngle;\n  var middleAngle = (startAngle + endAngle) / 2;\n  var anchorAngle;\n  var mappedSectorPosition = positionMapping(textPosition);\n  switch (mappedSectorPosition) {\n    case 'startArc':\n    case 'insideStartArc':\n    case 'middle':\n    case 'insideEndArc':\n    case 'endArc':\n      anchorAngle = middleAngle;\n      break;\n    case 'startAngle':\n    case 'insideStartAngle':\n      anchorAngle = startAngle;\n      break;\n    case 'endAngle':\n    case 'insideEndAngle':\n      anchorAngle = endAngle;\n      break;\n    default:\n      sector.setTextConfig({\n        rotation: 0\n      });\n      return;\n  }\n  var rotate = Math.PI * 1.5 - anchorAngle;\n  /**\n   * TODO: labels with rotate > Math.PI / 2 should be rotate another\n   * half round flipped to increase readability. However, only middle\n   * position supports this for now, because in other positions, the\n   * anchor point is not at the center of the text, so the positions\n   * after rotating is not as expected.\n   */\n  if (mappedSectorPosition === 'middle' && rotate > Math.PI / 2 && rotate < Math.PI * 1.5) {\n    rotate -= Math.PI;\n  }\n  sector.setTextConfig({\n    rotation: rotate\n  });\n}\nfunction adjustAngleDistanceX(angle, distance, isEnd) {\n  return distance * Math.sin(angle) * (isEnd ? -1 : 1);\n}\nfunction adjustAngleDistanceY(angle, distance, isEnd) {\n  return distance * Math.cos(angle) * (isEnd ? 1 : -1);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray, map } from 'zrender/lib/core/util.js';\nimport { parsePercent } from 'zrender/lib/contain/text.js';\nexport function getSectorCornerRadius(model, shape, zeroIfNull) {\n  var cornerRadius = model.get('borderRadius');\n  if (cornerRadius == null) {\n    return zeroIfNull ? {\n      cornerRadius: 0\n    } : null;\n  }\n  if (!isArray(cornerRadius)) {\n    cornerRadius = [cornerRadius, cornerRadius, cornerRadius, cornerRadius];\n  }\n  var dr = Math.abs(shape.r || 0 - shape.r0 || 0);\n  return {\n    cornerRadius: map(cornerRadius, function (cr) {\n      return parsePercent(cr, dr);\n    })\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Path from 'zrender/lib/graphic/Path.js';\nimport Group from 'zrender/lib/graphic/Group.js';\nimport { extend, each, map } from 'zrender/lib/core/util.js';\nimport { Rect, Sector, updateProps, initProps, removeElementWithFadeOut, traverseElements } from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport { setLabelStyle, getLabelStatesModels, setLabelValueAnimation, labelInner } from '../../label/labelStyle.js';\nimport { throttle } from '../../util/throttle.js';\nimport { createClipPath } from '../helper/createClipPathFromCoordSys.js';\nimport Sausage from '../../util/shape/sausage.js';\nimport ChartView from '../../view/Chart.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport { getDefaultLabel, getDefaultInterpolatedLabel } from '../helper/labelHelper.js';\nimport { warn } from '../../util/log.js';\nimport { createSectorCalculateTextPosition, setSectorTextRotation } from '../../label/sectorLabel.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nimport { getSectorCornerRadius } from '../helper/sectorHelper.js';\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nfunction getClipArea(coord, data) {\n  var coordSysClipArea = coord.getArea && coord.getArea();\n  if (isCoordinateSystemType(coord, 'cartesian2d')) {\n    var baseAxis = coord.getBaseAxis();\n    // When boundaryGap is false or using time axis. bar may exceed the grid.\n    // We should not clip this part.\n    // See test/bar2.html\n    if (baseAxis.type !== 'category' || !baseAxis.onBand) {\n      var expandWidth = data.getLayout('bandWidth');\n      if (baseAxis.isHorizontal()) {\n        coordSysClipArea.x -= expandWidth;\n        coordSysClipArea.width += expandWidth * 2;\n      } else {\n        coordSysClipArea.y -= expandWidth;\n        coordSysClipArea.height += expandWidth * 2;\n      }\n    }\n  }\n  return coordSysClipArea;\n}\nvar BarView = /** @class */function (_super) {\n  __extends(BarView, _super);\n  function BarView() {\n    var _this = _super.call(this) || this;\n    _this.type = BarView.type;\n    _this._isFirstFrame = true;\n    return _this;\n  }\n  BarView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    this._model = seriesModel;\n    this._removeOnRenderedListener(api);\n    this._updateDrawMode(seriesModel);\n    var coordinateSystemType = seriesModel.get('coordinateSystem');\n    if (coordinateSystemType === 'cartesian2d' || coordinateSystemType === 'polar') {\n      // Clear previously rendered progressive elements.\n      this._progressiveEls = null;\n      this._isLargeDraw ? this._renderLarge(seriesModel, ecModel, api) : this._renderNormal(seriesModel, ecModel, api, payload);\n    } else if (process.env.NODE_ENV !== 'production') {\n      warn('Only cartesian2d and polar supported for bar.');\n    }\n  };\n  BarView.prototype.incrementalPrepareRender = function (seriesModel) {\n    this._clear();\n    this._updateDrawMode(seriesModel);\n    // incremental also need to clip, otherwise might be overlow.\n    // But must not set clip in each frame, otherwise all of the children will be marked redraw.\n    this._updateLargeClip(seriesModel);\n  };\n  BarView.prototype.incrementalRender = function (params, seriesModel) {\n    // Reset\n    this._progressiveEls = [];\n    // Do not support progressive in normal mode.\n    this._incrementalRenderLarge(params, seriesModel);\n  };\n  BarView.prototype.eachRendered = function (cb) {\n    traverseElements(this._progressiveEls || this.group, cb);\n  };\n  BarView.prototype._updateDrawMode = function (seriesModel) {\n    var isLargeDraw = seriesModel.pipelineContext.large;\n    if (this._isLargeDraw == null || isLargeDraw !== this._isLargeDraw) {\n      this._isLargeDraw = isLargeDraw;\n      this._clear();\n    }\n  };\n  BarView.prototype._renderNormal = function (seriesModel, ecModel, api, payload) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coord = seriesModel.coordinateSystem;\n    var baseAxis = coord.getBaseAxis();\n    var isHorizontalOrRadial;\n    if (coord.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n    } else if (coord.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n    }\n    var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n    var realtimeSortCfg = shouldRealtimeSort(seriesModel, coord);\n    if (realtimeSortCfg) {\n      this._enableRealtimeSort(realtimeSortCfg, data, api);\n    }\n    var needsClip = seriesModel.get('clip', true) || realtimeSortCfg;\n    var coordSysClipArea = getClipArea(coord, data);\n    // If there is clipPath created in large mode. Remove it.\n    group.removeClipPath();\n    // We don't use clipPath in normal mode because we needs a perfect animation\n    // And don't want the label are clipped.\n    var roundCap = seriesModel.get('roundCap', true);\n    var drawBackground = seriesModel.get('showBackground', true);\n    var backgroundModel = seriesModel.getModel('backgroundStyle');\n    var barBorderRadius = backgroundModel.get('borderRadius') || 0;\n    var bgEls = [];\n    var oldBgEls = this._backgroundEls;\n    var isInitSort = payload && payload.isInitSort;\n    var isChangeOrder = payload && payload.type === 'changeAxisOrder';\n    function createBackground(dataIndex) {\n      var bgLayout = getLayout[coord.type](data, dataIndex);\n      if (!bgLayout) {\n        return null;\n      }\n      var bgEl = createBackgroundEl(coord, isHorizontalOrRadial, bgLayout);\n      bgEl.useStyle(backgroundModel.getItemStyle());\n      // Only cartesian2d support borderRadius.\n      if (coord.type === 'cartesian2d') {\n        bgEl.setShape('r', barBorderRadius);\n      } else {\n        bgEl.setShape('cornerRadius', barBorderRadius);\n      }\n      bgEls[dataIndex] = bgEl;\n      return bgEl;\n    }\n    ;\n    data.diff(oldData).add(function (dataIndex) {\n      var itemModel = data.getItemModel(dataIndex);\n      var layout = getLayout[coord.type](data, dataIndex, itemModel);\n      if (!layout) {\n        return;\n      }\n      if (drawBackground) {\n        createBackground(dataIndex);\n      }\n      // If dataZoom in filteMode: 'empty', the baseValue can be set as NaN in \"axisProxy\".\n      if (!data.hasValue(dataIndex) || !isValidLayout[coord.type](layout)) {\n        return;\n      }\n      var isClipped = false;\n      if (needsClip) {\n        // Clip will modify the layout params.\n        // And return a boolean to determine if the shape are fully clipped.\n        isClipped = clip[coord.type](coordSysClipArea, layout);\n      }\n      var el = elementCreator[coord.type](seriesModel, data, dataIndex, layout, isHorizontalOrRadial, animationModel, baseAxis.model, false, roundCap);\n      if (realtimeSortCfg) {\n        /**\n         * Force label animation because even if the element is\n         * ignored because it's clipped, it may not be clipped after\n         * changing order. Then, if not using forceLabelAnimation,\n         * the label animation was never started, in which case,\n         * the label will be the final value and doesn't have label\n         * animation.\n         */\n        el.forceLabelAnimation = true;\n      }\n      updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n      if (isInitSort) {\n        el.attr({\n          shape: layout\n        });\n      } else if (realtimeSortCfg) {\n        updateRealtimeAnimation(realtimeSortCfg, animationModel, el, layout, dataIndex, isHorizontalOrRadial, false, false);\n      } else {\n        initProps(el, {\n          shape: layout\n        }, seriesModel, dataIndex);\n      }\n      data.setItemGraphicEl(dataIndex, el);\n      group.add(el);\n      el.ignore = isClipped;\n    }).update(function (newIndex, oldIndex) {\n      var itemModel = data.getItemModel(newIndex);\n      var layout = getLayout[coord.type](data, newIndex, itemModel);\n      if (!layout) {\n        return;\n      }\n      if (drawBackground) {\n        var bgEl = void 0;\n        if (oldBgEls.length === 0) {\n          bgEl = createBackground(oldIndex);\n        } else {\n          bgEl = oldBgEls[oldIndex];\n          bgEl.useStyle(backgroundModel.getItemStyle());\n          // Only cartesian2d support borderRadius.\n          if (coord.type === 'cartesian2d') {\n            bgEl.setShape('r', barBorderRadius);\n          } else {\n            bgEl.setShape('cornerRadius', barBorderRadius);\n          }\n          bgEls[newIndex] = bgEl;\n        }\n        var bgLayout = getLayout[coord.type](data, newIndex);\n        var shape = createBackgroundShape(isHorizontalOrRadial, bgLayout, coord);\n        updateProps(bgEl, {\n          shape: shape\n        }, animationModel, newIndex);\n      }\n      var el = oldData.getItemGraphicEl(oldIndex);\n      if (!data.hasValue(newIndex) || !isValidLayout[coord.type](layout)) {\n        group.remove(el);\n        return;\n      }\n      var isClipped = false;\n      if (needsClip) {\n        isClipped = clip[coord.type](coordSysClipArea, layout);\n        if (isClipped) {\n          group.remove(el);\n        }\n      }\n      var roundCapChanged = el && (el.type === 'sector' && roundCap || el.type === 'sausage' && !roundCap);\n      if (roundCapChanged) {\n        // roundCap changed, there is no way to use animation from a `sector` to a `sausage` shape,\n        // so remove the old one and create a new shape\n        el && removeElementWithFadeOut(el, seriesModel, oldIndex);\n        el = null;\n      }\n      if (!el) {\n        el = elementCreator[coord.type](seriesModel, data, newIndex, layout, isHorizontalOrRadial, animationModel, baseAxis.model, true, roundCap);\n      } else {\n        saveOldStyle(el);\n      }\n      if (realtimeSortCfg) {\n        el.forceLabelAnimation = true;\n      }\n      if (isChangeOrder) {\n        var textEl = el.getTextContent();\n        if (textEl) {\n          var labelInnerStore = labelInner(textEl);\n          if (labelInnerStore.prevValue != null) {\n            /**\n             * Set preValue to be value so that no new label\n             * should be started, otherwise, it will take a full\n             * `animationDurationUpdate` time to finish the\n             * animation, which is not expected.\n             */\n            labelInnerStore.prevValue = labelInnerStore.value;\n          }\n        }\n      }\n      // Not change anything if only order changed.\n      // Especially not change label.\n      else {\n        updateStyle(el, data, newIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n      }\n      if (isInitSort) {\n        el.attr({\n          shape: layout\n        });\n      } else if (realtimeSortCfg) {\n        updateRealtimeAnimation(realtimeSortCfg, animationModel, el, layout, newIndex, isHorizontalOrRadial, true, isChangeOrder);\n      } else {\n        updateProps(el, {\n          shape: layout\n        }, seriesModel, newIndex, null);\n      }\n      data.setItemGraphicEl(newIndex, el);\n      el.ignore = isClipped;\n      group.add(el);\n    }).remove(function (dataIndex) {\n      var el = oldData.getItemGraphicEl(dataIndex);\n      el && removeElementWithFadeOut(el, seriesModel, dataIndex);\n    }).execute();\n    var bgGroup = this._backgroundGroup || (this._backgroundGroup = new Group());\n    bgGroup.removeAll();\n    for (var i = 0; i < bgEls.length; ++i) {\n      bgGroup.add(bgEls[i]);\n    }\n    group.add(bgGroup);\n    this._backgroundEls = bgEls;\n    this._data = data;\n  };\n  BarView.prototype._renderLarge = function (seriesModel, ecModel, api) {\n    this._clear();\n    createLarge(seriesModel, this.group);\n    this._updateLargeClip(seriesModel);\n  };\n  BarView.prototype._incrementalRenderLarge = function (params, seriesModel) {\n    this._removeBackground();\n    createLarge(seriesModel, this.group, this._progressiveEls, true);\n  };\n  BarView.prototype._updateLargeClip = function (seriesModel) {\n    // Use clipPath in large mode.\n    var clipPath = seriesModel.get('clip', true) && createClipPath(seriesModel.coordinateSystem, false, seriesModel);\n    var group = this.group;\n    if (clipPath) {\n      group.setClipPath(clipPath);\n    } else {\n      group.removeClipPath();\n    }\n  };\n  BarView.prototype._enableRealtimeSort = function (realtimeSortCfg, data, api) {\n    var _this = this;\n    // If no data in the first frame, wait for data to initSort\n    if (!data.count()) {\n      return;\n    }\n    var baseAxis = realtimeSortCfg.baseAxis;\n    if (this._isFirstFrame) {\n      this._dispatchInitSort(data, realtimeSortCfg, api);\n      this._isFirstFrame = false;\n    } else {\n      var orderMapping_1 = function (idx) {\n        var el = data.getItemGraphicEl(idx);\n        var shape = el && el.shape;\n        return shape &&\n        // The result should be consistent with the initial sort by data value.\n        // Do not support the case that both positive and negative exist.\n        Math.abs(baseAxis.isHorizontal() ? shape.height : shape.width)\n        // If data is NaN, shape.xxx may be NaN, so use || 0 here in case\n        || 0;\n      };\n      this._onRendered = function () {\n        _this._updateSortWithinSameData(data, orderMapping_1, baseAxis, api);\n      };\n      api.getZr().on('rendered', this._onRendered);\n    }\n  };\n  BarView.prototype._dataSort = function (data, baseAxis, orderMapping) {\n    var info = [];\n    data.each(data.mapDimension(baseAxis.dim), function (ordinalNumber, dataIdx) {\n      var mappedValue = orderMapping(dataIdx);\n      mappedValue = mappedValue == null ? NaN : mappedValue;\n      info.push({\n        dataIndex: dataIdx,\n        mappedValue: mappedValue,\n        ordinalNumber: ordinalNumber\n      });\n    });\n    info.sort(function (a, b) {\n      // If NaN, it will be treated as min val.\n      return b.mappedValue - a.mappedValue;\n    });\n    return {\n      ordinalNumbers: map(info, function (item) {\n        return item.ordinalNumber;\n      })\n    };\n  };\n  BarView.prototype._isOrderChangedWithinSameData = function (data, orderMapping, baseAxis) {\n    var scale = baseAxis.scale;\n    var ordinalDataDim = data.mapDimension(baseAxis.dim);\n    var lastValue = Number.MAX_VALUE;\n    for (var tickNum = 0, len = scale.getOrdinalMeta().categories.length; tickNum < len; ++tickNum) {\n      var rawIdx = data.rawIndexOf(ordinalDataDim, scale.getRawOrdinalNumber(tickNum));\n      var value = rawIdx < 0\n      // If some tick have no bar, the tick will be treated as min.\n      ? Number.MIN_VALUE\n      // PENDING: if dataZoom on baseAxis exits, is it a performance issue?\n      : orderMapping(data.indexOfRawIndex(rawIdx));\n      if (value > lastValue) {\n        return true;\n      }\n      lastValue = value;\n    }\n    return false;\n  };\n  /*\n   * Consider the case when A and B changed order, whose representing\n   * bars are both out of sight, we don't wish to trigger reorder action\n   * as long as the order in the view doesn't change.\n   */\n  BarView.prototype._isOrderDifferentInView = function (orderInfo, baseAxis) {\n    var scale = baseAxis.scale;\n    var extent = scale.getExtent();\n    var tickNum = Math.max(0, extent[0]);\n    var tickMax = Math.min(extent[1], scale.getOrdinalMeta().categories.length - 1);\n    for (; tickNum <= tickMax; ++tickNum) {\n      if (orderInfo.ordinalNumbers[tickNum] !== scale.getRawOrdinalNumber(tickNum)) {\n        return true;\n      }\n    }\n  };\n  BarView.prototype._updateSortWithinSameData = function (data, orderMapping, baseAxis, api) {\n    if (!this._isOrderChangedWithinSameData(data, orderMapping, baseAxis)) {\n      return;\n    }\n    var sortInfo = this._dataSort(data, baseAxis, orderMapping);\n    if (this._isOrderDifferentInView(sortInfo, baseAxis)) {\n      this._removeOnRenderedListener(api);\n      api.dispatchAction({\n        type: 'changeAxisOrder',\n        componentType: baseAxis.dim + 'Axis',\n        axisId: baseAxis.index,\n        sortInfo: sortInfo\n      });\n    }\n  };\n  BarView.prototype._dispatchInitSort = function (data, realtimeSortCfg, api) {\n    var baseAxis = realtimeSortCfg.baseAxis;\n    var sortResult = this._dataSort(data, baseAxis, function (dataIdx) {\n      return data.get(data.mapDimension(realtimeSortCfg.otherAxis.dim), dataIdx);\n    });\n    api.dispatchAction({\n      type: 'changeAxisOrder',\n      componentType: baseAxis.dim + 'Axis',\n      isInitSort: true,\n      axisId: baseAxis.index,\n      sortInfo: sortResult\n    });\n  };\n  BarView.prototype.remove = function (ecModel, api) {\n    this._clear(this._model);\n    this._removeOnRenderedListener(api);\n  };\n  BarView.prototype.dispose = function (ecModel, api) {\n    this._removeOnRenderedListener(api);\n  };\n  BarView.prototype._removeOnRenderedListener = function (api) {\n    if (this._onRendered) {\n      api.getZr().off('rendered', this._onRendered);\n      this._onRendered = null;\n    }\n  };\n  BarView.prototype._clear = function (model) {\n    var group = this.group;\n    var data = this._data;\n    if (model && model.isAnimationEnabled() && data && !this._isLargeDraw) {\n      this._removeBackground();\n      this._backgroundEls = [];\n      data.eachItemGraphicEl(function (el) {\n        removeElementWithFadeOut(el, model, getECData(el).dataIndex);\n      });\n    } else {\n      group.removeAll();\n    }\n    this._data = null;\n    this._isFirstFrame = true;\n  };\n  BarView.prototype._removeBackground = function () {\n    this.group.remove(this._backgroundGroup);\n    this._backgroundGroup = null;\n  };\n  BarView.type = 'bar';\n  return BarView;\n}(ChartView);\nvar clip = {\n  cartesian2d: function (coordSysBoundingRect, layout) {\n    var signWidth = layout.width < 0 ? -1 : 1;\n    var signHeight = layout.height < 0 ? -1 : 1;\n    // Needs positive width and height\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n    var coordSysX2 = coordSysBoundingRect.x + coordSysBoundingRect.width;\n    var coordSysY2 = coordSysBoundingRect.y + coordSysBoundingRect.height;\n    var x = mathMax(layout.x, coordSysBoundingRect.x);\n    var x2 = mathMin(layout.x + layout.width, coordSysX2);\n    var y = mathMax(layout.y, coordSysBoundingRect.y);\n    var y2 = mathMin(layout.y + layout.height, coordSysY2);\n    var xClipped = x2 < x;\n    var yClipped = y2 < y;\n    // When xClipped or yClipped, the element will be marked as `ignore`.\n    // But we should also place the element at the edge of the coord sys bounding rect.\n    // Because if data changed and the bar shows again, its transition animation\n    // will begin at this place.\n    layout.x = xClipped && x > coordSysX2 ? x2 : x;\n    layout.y = yClipped && y > coordSysY2 ? y2 : y;\n    layout.width = xClipped ? 0 : x2 - x;\n    layout.height = yClipped ? 0 : y2 - y;\n    // Reverse back\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n    return xClipped || yClipped;\n  },\n  polar: function (coordSysClipArea, layout) {\n    var signR = layout.r0 <= layout.r ? 1 : -1;\n    // Make sure r is larger than r0\n    if (signR < 0) {\n      var tmp = layout.r;\n      layout.r = layout.r0;\n      layout.r0 = tmp;\n    }\n    var r = mathMin(layout.r, coordSysClipArea.r);\n    var r0 = mathMax(layout.r0, coordSysClipArea.r0);\n    layout.r = r;\n    layout.r0 = r0;\n    var clipped = r - r0 < 0;\n    // Reverse back\n    if (signR < 0) {\n      var tmp = layout.r;\n      layout.r = layout.r0;\n      layout.r0 = tmp;\n    }\n    return clipped;\n  }\n};\nvar elementCreator = {\n  cartesian2d: function (seriesModel, data, newIndex, layout, isHorizontal, animationModel, axisModel, isUpdate, roundCap) {\n    var rect = new Rect({\n      shape: extend({}, layout),\n      z2: 1\n    });\n    rect.__dataIndex = newIndex;\n    rect.name = 'item';\n    if (animationModel) {\n      var rectShape = rect.shape;\n      var animateProperty = isHorizontal ? 'height' : 'width';\n      rectShape[animateProperty] = 0;\n    }\n    return rect;\n  },\n  polar: function (seriesModel, data, newIndex, layout, isRadial, animationModel, axisModel, isUpdate, roundCap) {\n    var ShapeClass = !isRadial && roundCap ? Sausage : Sector;\n    var sector = new ShapeClass({\n      shape: layout,\n      z2: 1\n    });\n    sector.name = 'item';\n    var positionMap = createPolarPositionMapping(isRadial);\n    sector.calculateTextPosition = createSectorCalculateTextPosition(positionMap, {\n      isRoundCap: ShapeClass === Sausage\n    });\n    // Animation\n    if (animationModel) {\n      var sectorShape = sector.shape;\n      var animateProperty = isRadial ? 'r' : 'endAngle';\n      var animateTarget = {};\n      sectorShape[animateProperty] = isRadial ? layout.r0 : layout.startAngle;\n      animateTarget[animateProperty] = layout[animateProperty];\n      (isUpdate ? updateProps : initProps)(sector, {\n        shape: animateTarget\n        // __value: typeof dataValue === 'string' ? parseInt(dataValue, 10) : dataValue\n      }, animationModel);\n    }\n    return sector;\n  }\n};\nfunction shouldRealtimeSort(seriesModel, coordSys) {\n  var realtimeSortOption = seriesModel.get('realtimeSort', true);\n  var baseAxis = coordSys.getBaseAxis();\n  if (process.env.NODE_ENV !== 'production') {\n    if (realtimeSortOption) {\n      if (baseAxis.type !== 'category') {\n        warn('`realtimeSort` will not work because this bar series is not based on a category axis.');\n      }\n      if (coordSys.type !== 'cartesian2d') {\n        warn('`realtimeSort` will not work because this bar series is not on cartesian2d.');\n      }\n    }\n  }\n  if (realtimeSortOption && baseAxis.type === 'category' && coordSys.type === 'cartesian2d') {\n    return {\n      baseAxis: baseAxis,\n      otherAxis: coordSys.getOtherAxis(baseAxis)\n    };\n  }\n}\nfunction updateRealtimeAnimation(realtimeSortCfg, seriesAnimationModel, el, layout, newIndex, isHorizontal, isUpdate, isChangeOrder) {\n  var seriesTarget;\n  var axisTarget;\n  if (isHorizontal) {\n    axisTarget = {\n      x: layout.x,\n      width: layout.width\n    };\n    seriesTarget = {\n      y: layout.y,\n      height: layout.height\n    };\n  } else {\n    axisTarget = {\n      y: layout.y,\n      height: layout.height\n    };\n    seriesTarget = {\n      x: layout.x,\n      width: layout.width\n    };\n  }\n  if (!isChangeOrder) {\n    // Keep the original growth animation if only axis order changed.\n    // Not start a new animation.\n    (isUpdate ? updateProps : initProps)(el, {\n      shape: seriesTarget\n    }, seriesAnimationModel, newIndex, null);\n  }\n  var axisAnimationModel = seriesAnimationModel ? realtimeSortCfg.baseAxis.model : null;\n  (isUpdate ? updateProps : initProps)(el, {\n    shape: axisTarget\n  }, axisAnimationModel, newIndex);\n}\nfunction checkPropertiesNotValid(obj, props) {\n  for (var i = 0; i < props.length; i++) {\n    if (!isFinite(obj[props[i]])) {\n      return true;\n    }\n  }\n  return false;\n}\nvar rectPropties = ['x', 'y', 'width', 'height'];\nvar polarPropties = ['cx', 'cy', 'r', 'startAngle', 'endAngle'];\nvar isValidLayout = {\n  cartesian2d: function (layout) {\n    return !checkPropertiesNotValid(layout, rectPropties);\n  },\n  polar: function (layout) {\n    return !checkPropertiesNotValid(layout, polarPropties);\n  }\n};\nvar getLayout = {\n  // itemModel is only used to get borderWidth, which is not needed\n  // when calculating bar background layout.\n  cartesian2d: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    if (!layout) {\n      return null;\n    }\n    var fixedLineWidth = itemModel ? getLineWidth(itemModel, layout) : 0;\n    // fix layout with lineWidth\n    var signX = layout.width > 0 ? 1 : -1;\n    var signY = layout.height > 0 ? 1 : -1;\n    return {\n      x: layout.x + signX * fixedLineWidth / 2,\n      y: layout.y + signY * fixedLineWidth / 2,\n      width: layout.width - signX * fixedLineWidth,\n      height: layout.height - signY * fixedLineWidth\n    };\n  },\n  polar: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    return {\n      cx: layout.cx,\n      cy: layout.cy,\n      r0: layout.r0,\n      r: layout.r,\n      startAngle: layout.startAngle,\n      endAngle: layout.endAngle,\n      clockwise: layout.clockwise\n    };\n  }\n};\nfunction isZeroOnPolar(layout) {\n  return layout.startAngle != null && layout.endAngle != null && layout.startAngle === layout.endAngle;\n}\nfunction createPolarPositionMapping(isRadial) {\n  return function (isRadial) {\n    var arcOrAngle = isRadial ? 'Arc' : 'Angle';\n    return function (position) {\n      switch (position) {\n        case 'start':\n        case 'insideStart':\n        case 'end':\n        case 'insideEnd':\n          return position + arcOrAngle;\n        default:\n          return position;\n      }\n    };\n  }(isRadial);\n}\nfunction updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, isPolar) {\n  var style = data.getItemVisual(dataIndex, 'style');\n  if (!isPolar) {\n    var borderRadius = itemModel.get(['itemStyle', 'borderRadius']) || 0;\n    el.setShape('r', borderRadius);\n  } else if (!seriesModel.get('roundCap')) {\n    var sectorShape = el.shape;\n    var cornerRadius = getSectorCornerRadius(itemModel.getModel('itemStyle'), sectorShape, true);\n    extend(sectorShape, cornerRadius);\n    el.setShape(sectorShape);\n  }\n  el.useStyle(style);\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && el.attr('cursor', cursorStyle);\n  var labelPositionOutside = isPolar ? isHorizontalOrRadial ? layout.r >= layout.r0 ? 'endArc' : 'startArc' : layout.endAngle >= layout.startAngle ? 'endAngle' : 'startAngle' : isHorizontalOrRadial ? layout.height >= 0 ? 'bottom' : 'top' : layout.width >= 0 ? 'right' : 'left';\n  var labelStatesModels = getLabelStatesModels(itemModel);\n  setLabelStyle(el, labelStatesModels, {\n    labelFetcher: seriesModel,\n    labelDataIndex: dataIndex,\n    defaultText: getDefaultLabel(seriesModel.getData(), dataIndex),\n    inheritColor: style.fill,\n    defaultOpacity: style.opacity,\n    defaultOutsidePosition: labelPositionOutside\n  });\n  var label = el.getTextContent();\n  if (isPolar && label) {\n    var position = itemModel.get(['label', 'position']);\n    el.textConfig.inside = position === 'middle' ? true : null;\n    setSectorTextRotation(el, position === 'outside' ? labelPositionOutside : position, createPolarPositionMapping(isHorizontalOrRadial), itemModel.get(['label', 'rotate']));\n  }\n  setLabelValueAnimation(label, labelStatesModels, seriesModel.getRawValue(dataIndex), function (value) {\n    return getDefaultInterpolatedLabel(data, value);\n  });\n  var emphasisModel = itemModel.getModel(['emphasis']);\n  toggleHoverEmphasis(el, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n  setStatesStylesFromModel(el, itemModel);\n  if (isZeroOnPolar(layout)) {\n    el.style.fill = 'none';\n    el.style.stroke = 'none';\n    each(el.states, function (state) {\n      if (state.style) {\n        state.style.fill = state.style.stroke = 'none';\n      }\n    });\n  }\n}\n// In case width or height are too small.\nfunction getLineWidth(itemModel, rawLayout) {\n  // Has no border.\n  var borderColor = itemModel.get(['itemStyle', 'borderColor']);\n  if (!borderColor || borderColor === 'none') {\n    return 0;\n  }\n  var lineWidth = itemModel.get(['itemStyle', 'borderWidth']) || 0;\n  // width or height may be NaN for empty data\n  var width = isNaN(rawLayout.width) ? Number.MAX_VALUE : Math.abs(rawLayout.width);\n  var height = isNaN(rawLayout.height) ? Number.MAX_VALUE : Math.abs(rawLayout.height);\n  return Math.min(lineWidth, width, height);\n}\nvar LagePathShape = /** @class */function () {\n  function LagePathShape() {}\n  return LagePathShape;\n}();\nvar LargePath = /** @class */function (_super) {\n  __extends(LargePath, _super);\n  function LargePath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'largeBar';\n    return _this;\n  }\n  LargePath.prototype.getDefaultShape = function () {\n    return new LagePathShape();\n  };\n  LargePath.prototype.buildPath = function (ctx, shape) {\n    // Drawing lines is more efficient than drawing\n    // a whole line or drawing rects.\n    var points = shape.points;\n    var baseDimIdx = this.baseDimIdx;\n    var valueDimIdx = 1 - this.baseDimIdx;\n    var startPoint = [];\n    var size = [];\n    var barWidth = this.barWidth;\n    for (var i = 0; i < points.length; i += 3) {\n      size[baseDimIdx] = barWidth;\n      size[valueDimIdx] = points[i + 2];\n      startPoint[baseDimIdx] = points[i + baseDimIdx];\n      startPoint[valueDimIdx] = points[i + valueDimIdx];\n      ctx.rect(startPoint[0], startPoint[1], size[0], size[1]);\n    }\n  };\n  return LargePath;\n}(Path);\nfunction createLarge(seriesModel, group, progressiveEls, incremental) {\n  // TODO support polar\n  var data = seriesModel.getData();\n  var baseDimIdx = data.getLayout('valueAxisHorizontal') ? 1 : 0;\n  var largeDataIndices = data.getLayout('largeDataIndices');\n  var barWidth = data.getLayout('size');\n  var backgroundModel = seriesModel.getModel('backgroundStyle');\n  var bgPoints = data.getLayout('largeBackgroundPoints');\n  if (bgPoints) {\n    var bgEl = new LargePath({\n      shape: {\n        points: bgPoints\n      },\n      incremental: !!incremental,\n      silent: true,\n      z2: 0\n    });\n    bgEl.baseDimIdx = baseDimIdx;\n    bgEl.largeDataIndices = largeDataIndices;\n    bgEl.barWidth = barWidth;\n    bgEl.useStyle(backgroundModel.getItemStyle());\n    group.add(bgEl);\n    progressiveEls && progressiveEls.push(bgEl);\n  }\n  var el = new LargePath({\n    shape: {\n      points: data.getLayout('largePoints')\n    },\n    incremental: !!incremental,\n    ignoreCoarsePointer: true,\n    z2: 1\n  });\n  el.baseDimIdx = baseDimIdx;\n  el.largeDataIndices = largeDataIndices;\n  el.barWidth = barWidth;\n  group.add(el);\n  el.useStyle(data.getVisual('style'));\n  // Stroke is rendered first to avoid overlapping with fill\n  el.style.stroke = null;\n  // Enable tooltip and user mouse/touch event handlers.\n  getECData(el).seriesIndex = seriesModel.seriesIndex;\n  if (!seriesModel.get('silent')) {\n    el.on('mousedown', largePathUpdateDataIndex);\n    el.on('mousemove', largePathUpdateDataIndex);\n  }\n  progressiveEls && progressiveEls.push(el);\n}\n// Use throttle to avoid frequently traverse to find dataIndex.\nvar largePathUpdateDataIndex = throttle(function (event) {\n  var largePath = this;\n  var dataIndex = largePathFindDataIndex(largePath, event.offsetX, event.offsetY);\n  getECData(largePath).dataIndex = dataIndex >= 0 ? dataIndex : null;\n}, 30, false);\nfunction largePathFindDataIndex(largePath, x, y) {\n  var baseDimIdx = largePath.baseDimIdx;\n  var valueDimIdx = 1 - baseDimIdx;\n  var points = largePath.shape.points;\n  var largeDataIndices = largePath.largeDataIndices;\n  var startPoint = [];\n  var size = [];\n  var barWidth = largePath.barWidth;\n  for (var i = 0, len = points.length / 3; i < len; i++) {\n    var ii = i * 3;\n    size[baseDimIdx] = barWidth;\n    size[valueDimIdx] = points[ii + 2];\n    startPoint[baseDimIdx] = points[ii + baseDimIdx];\n    startPoint[valueDimIdx] = points[ii + valueDimIdx];\n    if (size[valueDimIdx] < 0) {\n      startPoint[valueDimIdx] += size[valueDimIdx];\n      size[valueDimIdx] = -size[valueDimIdx];\n    }\n    if (x >= startPoint[0] && x <= startPoint[0] + size[0] && y >= startPoint[1] && y <= startPoint[1] + size[1]) {\n      return largeDataIndices[i];\n    }\n  }\n  return -1;\n}\nfunction createBackgroundShape(isHorizontalOrRadial, layout, coord) {\n  if (isCoordinateSystemType(coord, 'cartesian2d')) {\n    var rectShape = layout;\n    var coordLayout = coord.getArea();\n    return {\n      x: isHorizontalOrRadial ? rectShape.x : coordLayout.x,\n      y: isHorizontalOrRadial ? coordLayout.y : rectShape.y,\n      width: isHorizontalOrRadial ? rectShape.width : coordLayout.width,\n      height: isHorizontalOrRadial ? coordLayout.height : rectShape.height\n    };\n  } else {\n    var coordLayout = coord.getArea();\n    var sectorShape = layout;\n    return {\n      cx: coordLayout.cx,\n      cy: coordLayout.cy,\n      r0: isHorizontalOrRadial ? coordLayout.r0 : sectorShape.r0,\n      r: isHorizontalOrRadial ? coordLayout.r : sectorShape.r,\n      startAngle: isHorizontalOrRadial ? sectorShape.startAngle : 0,\n      endAngle: isHorizontalOrRadial ? sectorShape.endAngle : Math.PI * 2\n    };\n  }\n}\nfunction createBackgroundEl(coord, isHorizontalOrRadial, layout) {\n  var ElementClz = coord.type === 'polar' ? Sector : Rect;\n  return new ElementClz({\n    shape: createBackgroundShape(isHorizontalOrRadial, layout, coord),\n    silent: true,\n    z2: 0\n  });\n}\nexport default BarView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { layout, createProgressiveLayout } from '../../layout/barGrid.js';\nimport dataSample from '../../processor/dataSample.js';\nimport BarSeries from './BarSeries.js';\nimport BarView from './BarView.js';\nexport function install(registers) {\n  registers.registerChartView(BarView);\n  registers.registerSeriesModel(BarSeries);\n  registers.registerLayout(registers.PRIORITY.VISUAL.LAYOUT, zrUtil.curry(layout, 'bar'));\n  // Do layout after other overall layout, which can prepare some information.\n  registers.registerLayout(registers.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, createProgressiveLayout('bar'));\n  // Down sample after filter\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, dataSample('bar'));\n  /**\n   * @payload\n   * @property {string} [componentType=series]\n   * @property {number} [dx]\n   * @property {number} [dy]\n   * @property {number} [zoom]\n   * @property {number} [originX]\n   * @property {number} [originY]\n   */\n  registers.registerAction({\n    type: 'changeAxisOrder',\n    event: 'changeAxisOrder',\n    update: 'update'\n  }, function (payload, ecModel) {\n    var componentType = payload.componentType || 'series';\n    ecModel.eachComponent({\n      mainType: componentType,\n      query: payload\n    }, function (componentModel) {\n      if (payload.sortInfo) {\n        componentModel.axis.setCategorySortInfo(payload.sortInfo);\n      }\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { linearMap } from '../../util/number.js';\nimport { normalizeArcAngles } from 'zrender/lib/core/PathProxy.js';\nimport { makeInner } from '../../util/model.js';\nimport { getCircleLayout } from '../../util/layout.js';\nvar PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\nexport default function pieLayout(seriesType, ecModel, api) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var _a = getCircleLayout(seriesModel, api),\n      cx = _a.cx,\n      cy = _a.cy,\n      r = _a.r,\n      r0 = _a.r0,\n      viewRect = _a.viewRect;\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var endAngle = seriesModel.get('endAngle');\n    var padAngle = seriesModel.get('padAngle') * RADIAN;\n    endAngle = endAngle === 'auto' ? startAngle - PI2 : -endAngle * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var minAndPadAngle = minAngle + padAngle;\n    var validDataCount = 0;\n    data.each(valueDim, function (value) {\n      !isNaN(value) && validDataCount++;\n    });\n    var sum = data.getSum(valueDim);\n    // Sum may be 0\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var clockwise = seriesModel.get('clockwise');\n    var roseType = seriesModel.get('roseType');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum');\n    // [0...max]\n    var extent = data.getDataExtent(valueDim);\n    extent[0] = 0;\n    var dir = clockwise ? 1 : -1;\n    var angles = [startAngle, endAngle];\n    var halfPadAngle = dir * padAngle / 2;\n    normalizeArcAngles(angles, !clockwise);\n    startAngle = angles[0], endAngle = angles[1];\n    var layoutData = getSeriesLayoutData(seriesModel);\n    layoutData.startAngle = startAngle;\n    layoutData.endAngle = endAngle;\n    layoutData.clockwise = clockwise;\n    layoutData.cx = cx;\n    layoutData.cy = cy;\n    layoutData.r = r;\n    layoutData.r0 = r0;\n    var angleRange = Math.abs(endAngle - startAngle);\n    // In the case some sector angle is smaller than minAngle\n    var restAngle = angleRange;\n    var valueSumLargerThanMinAngle = 0;\n    var currentAngle = startAngle;\n    // Requird by `pieLabelLayout`.\n    data.setLayout({\n      viewRect: viewRect,\n      r: r\n    });\n    data.each(valueDim, function (value, idx) {\n      var angle;\n      if (isNaN(value)) {\n        data.setItemLayout(idx, {\n          angle: NaN,\n          startAngle: NaN,\n          endAngle: NaN,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? NaN : r\n        });\n        return;\n      }\n      // FIXME 兼容 2.0 但是 roseType 是 area 的时候才是这样？\n      if (roseType !== 'area') {\n        angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n      } else {\n        angle = angleRange / validDataCount;\n      }\n      if (angle < minAndPadAngle) {\n        angle = minAndPadAngle;\n        restAngle -= minAndPadAngle;\n      } else {\n        valueSumLargerThanMinAngle += value;\n      }\n      var endAngle = currentAngle + dir * angle;\n      // calculate display angle\n      var actualStartAngle = 0;\n      var actualEndAngle = 0;\n      if (padAngle > angle) {\n        actualStartAngle = currentAngle + dir * angle / 2;\n        actualEndAngle = actualStartAngle;\n      } else {\n        actualStartAngle = currentAngle + halfPadAngle;\n        actualEndAngle = endAngle - halfPadAngle;\n      }\n      data.setItemLayout(idx, {\n        angle: angle,\n        startAngle: actualStartAngle,\n        endAngle: actualEndAngle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: roseType ? linearMap(value, extent, [r0, r]) : r\n      });\n      currentAngle = endAngle;\n    });\n    // Some sector is constrained by minAngle and padAngle\n    // Rest sectors needs recalculate angle\n    if (restAngle < PI2 && validDataCount) {\n      // Average the angle if rest angle is not enough after all angles is\n      // Constrained by minAngle and padAngle\n      if (restAngle <= 1e-3) {\n        var angle_1 = angleRange / validDataCount;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            layout.angle = angle_1;\n            var actualStartAngle = 0;\n            var actualEndAngle = 0;\n            if (angle_1 < padAngle) {\n              actualStartAngle = startAngle + dir * (idx + 1 / 2) * angle_1;\n              actualEndAngle = actualStartAngle;\n            } else {\n              actualStartAngle = startAngle + dir * idx * angle_1 + halfPadAngle;\n              actualEndAngle = startAngle + dir * (idx + 1) * angle_1 - halfPadAngle;\n            }\n            layout.startAngle = actualStartAngle;\n            layout.endAngle = actualEndAngle;\n          }\n        });\n      } else {\n        unitRadian = restAngle / valueSumLargerThanMinAngle;\n        currentAngle = startAngle;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            var angle = layout.angle === minAndPadAngle ? minAndPadAngle : value * unitRadian;\n            var actualStartAngle = 0;\n            var actualEndAngle = 0;\n            if (angle < padAngle) {\n              actualStartAngle = currentAngle + dir * angle / 2;\n              actualEndAngle = actualStartAngle;\n            } else {\n              actualStartAngle = currentAngle + halfPadAngle;\n              actualEndAngle = currentAngle + dir * angle - halfPadAngle;\n            }\n            layout.startAngle = actualStartAngle;\n            layout.endAngle = actualEndAngle;\n            currentAngle += dir * angle;\n          }\n        });\n      }\n    }\n  });\n}\nexport var getSeriesLayoutData = makeInner();","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function dataFilter(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n      });\n      if (!legendModels || !legendModels.length) {\n        return;\n      }\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        var name = data.getName(idx);\n        // If in any legend component the status is not selected.\n        for (var i = 0; i < legendModels.length; i++) {\n          // @ts-ignore FIXME: LegendModel\n          if (!legendModels[i].isSelected(name)) {\n            return false;\n          }\n        }\n        return true;\n      });\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\nimport { parsePercent } from '../../util/number.js';\nimport { Point } from '../../util/graphic.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { each, isNumber } from 'zrender/lib/core/util.js';\nimport { limitTurnAngle, limitSurfaceAngle } from '../../label/labelGuideHelper.js';\nimport { computeLabelGeometry, shiftLayoutOnXY } from '../../label/labelLayoutHelper.js';\nvar RADIAN = Math.PI / 180;\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight, viewLeft, viewTop, farthestX) {\n  if (list.length < 2) {\n    return;\n  }\n  ;\n  function recalculateXOnSemiToAlignOnEllipseCurve(semi) {\n    var rB = semi.rB;\n    var rB2 = rB * rB;\n    for (var i = 0; i < semi.list.length; i++) {\n      var item = semi.list[i];\n      var dy = Math.abs(item.label.y - cy);\n      // horizontal r is always same with original r because x is not changed.\n      var rA = r + item.len;\n      var rA2 = rA * rA;\n      // Use ellipse implicit function to calculate x\n      var dx = Math.sqrt(Math.abs((1 - dy * dy / rB2) * rA2));\n      var newX = cx + (dx + item.len2) * dir;\n      var deltaX = newX - item.label.x;\n      var newTargetWidth = item.targetTextWidth - deltaX * dir;\n      // text x is changed, so need to recalculate width.\n      constrainTextWidth(item, newTargetWidth, true);\n      item.label.x = newX;\n    }\n  }\n  // Adjust X based on the shifted y. Make tight labels aligned on an ellipse curve.\n  function recalculateX(items) {\n    // Extremes of\n    var topSemi = {\n      list: [],\n      maxY: 0\n    };\n    var bottomSemi = {\n      list: [],\n      maxY: 0\n    };\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].labelAlignTo !== 'none') {\n        continue;\n      }\n      var item = items[i];\n      var semi = item.label.y > cy ? bottomSemi : topSemi;\n      var dy = Math.abs(item.label.y - cy);\n      if (dy >= semi.maxY) {\n        var dx = item.label.x - cx - item.len2 * dir;\n        // horizontal r is always same with original r because x is not changed.\n        var rA = r + item.len;\n        // Canculate rB based on the topest / bottemest label.\n        var rB = Math.abs(dx) < rA ? Math.sqrt(dy * dy / (1 - dx * dx / rA / rA)) : rA;\n        semi.rB = rB;\n        semi.maxY = dy;\n      }\n      semi.list.push(item);\n    }\n    recalculateXOnSemiToAlignOnEllipseCurve(topSemi);\n    recalculateXOnSemiToAlignOnEllipseCurve(bottomSemi);\n  }\n  var len = list.length;\n  for (var i = 0; i < len; i++) {\n    if (list[i].position === 'outer' && list[i].labelAlignTo === 'labelLine') {\n      var dx = list[i].label.x - farthestX;\n      list[i].linePoints[1][0] += dx;\n      list[i].label.x = farthestX;\n    }\n  }\n  if (shiftLayoutOnXY(list, 1, viewTop, viewTop + viewHeight)) {\n    recalculateX(list);\n  }\n}\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop) {\n  var leftList = [];\n  var rightList = [];\n  var leftmostX = Number.MAX_VALUE;\n  var rightmostX = -Number.MAX_VALUE;\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var label = labelLayoutList[i].label;\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n    if (label.x < cx) {\n      leftmostX = Math.min(leftmostX, label.x);\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightmostX = Math.max(rightmostX, label.x);\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n    if (!isPositionCenter(layout) && layout.linePoints) {\n      if (layout.labelStyleWidth != null) {\n        continue;\n      }\n      var label = layout.label;\n      var linePoints = layout.linePoints;\n      var targetTextWidth = void 0;\n      if (layout.labelAlignTo === 'edge') {\n        if (label.x < cx) {\n          targetTextWidth = linePoints[2][0] - layout.labelDistance - viewLeft - layout.edgeDistance;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - layout.edgeDistance - linePoints[2][0] - layout.labelDistance;\n        }\n      } else if (layout.labelAlignTo === 'labelLine') {\n        if (label.x < cx) {\n          targetTextWidth = leftmostX - viewLeft - layout.bleedMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - rightmostX - layout.bleedMargin;\n        }\n      } else {\n        if (label.x < cx) {\n          targetTextWidth = label.x - viewLeft - layout.bleedMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - label.x - layout.bleedMargin;\n        }\n      }\n      layout.targetTextWidth = targetTextWidth;\n      constrainTextWidth(layout, targetTextWidth, false);\n    }\n  }\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight, viewLeft, viewTop, rightmostX);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight, viewLeft, viewTop, leftmostX);\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n    if (!isPositionCenter(layout) && layout.linePoints) {\n      var label = layout.label;\n      var linePoints = layout.linePoints;\n      var isAlignToEdge = layout.labelAlignTo === 'edge';\n      var padding = label.style.padding;\n      var paddingH = padding ? padding[1] + padding[3] : 0;\n      // textRect.width already contains paddingH if bgColor is set\n      var extraPaddingH = label.style.backgroundColor ? 0 : paddingH;\n      var realTextWidth = layout.rect.width + extraPaddingH;\n      var dist = linePoints[1][0] - linePoints[2][0];\n      if (isAlignToEdge) {\n        if (label.x < cx) {\n          linePoints[2][0] = viewLeft + layout.edgeDistance + realTextWidth + layout.labelDistance;\n        } else {\n          linePoints[2][0] = viewLeft + viewWidth - layout.edgeDistance - realTextWidth - layout.labelDistance;\n        }\n      } else {\n        if (label.x < cx) {\n          linePoints[2][0] = label.x + layout.labelDistance;\n        } else {\n          linePoints[2][0] = label.x - layout.labelDistance;\n        }\n        linePoints[1][0] = linePoints[2][0] + dist;\n      }\n      linePoints[1][1] = linePoints[2][1] = label.y;\n    }\n  }\n}\n/**\n * Set max width of each label, and then wrap each label to the max width.\n *\n * @param layout label layout\n * @param availableWidth max width for the label to display\n * @param forceRecalculate recaculate the text layout even if the current width\n * is smaller than `availableWidth`. This is useful when the text was previously\n * wrapped by calling `constrainTextWidth` but now `availableWidth` changed, in\n * which case, previous wrapping should be redo.\n */\nfunction constrainTextWidth(layout, availableWidth, forceRecalculate) {\n  if (layout.labelStyleWidth != null) {\n    // User-defined style.width has the highest priority.\n    return;\n  }\n  var label = layout.label;\n  var style = label.style;\n  var textRect = layout.rect;\n  var bgColor = style.backgroundColor;\n  var padding = style.padding;\n  var paddingH = padding ? padding[1] + padding[3] : 0;\n  var overflow = style.overflow;\n  // textRect.width already contains paddingH if bgColor is set\n  var oldOuterWidth = textRect.width + (bgColor ? 0 : paddingH);\n  if (availableWidth < oldOuterWidth || forceRecalculate) {\n    if (overflow && overflow.match('break')) {\n      // Temporarily set background to be null to calculate\n      // the bounding box without background.\n      label.setStyle('backgroundColor', null);\n      // Set constraining width\n      label.setStyle('width', availableWidth - paddingH);\n      // This is the real bounding box of the text without padding.\n      var innerRect = label.getBoundingRect();\n      label.setStyle('width', Math.ceil(innerRect.width));\n      label.setStyle('backgroundColor', bgColor);\n    } else {\n      var availableInnerWidth = availableWidth - paddingH;\n      var newWidth = availableWidth < oldOuterWidth\n      // Current text is too wide, use `availableWidth` as max width.\n      ? availableInnerWidth :\n      // Current available width is enough, but the text may have\n      // already been wrapped with a smaller available width.\n      forceRecalculate ? availableInnerWidth > layout.unconstrainedWidth\n      // Current available is larger than text width,\n      // so don't constrain width (otherwise it may have\n      // empty space in the background).\n      ? null\n      // Current available is smaller than text width, so\n      // use the current available width as constraining\n      // width.\n      : availableInnerWidth\n      // Current available width is enough, so no need to\n      // constrain.\n      : null;\n      label.setStyle('width', newWidth);\n    }\n    computeLabelGlobalRect(textRect, label);\n  }\n}\nfunction computeLabelGlobalRect(out, label) {\n  _tmpLabelGeometry.rect = out;\n  computeLabelGeometry(_tmpLabelGeometry, label, _computeLabelGeometryOpt);\n}\nvar _computeLabelGeometryOpt = {\n  minMarginForce: [null, 0, null, 0],\n  marginDefault: [1, 0, 1, 0]\n};\nvar _tmpLabelGeometry = {};\nfunction isPositionCenter(sectorShape) {\n  // Not change x for center label\n  return sectorShape.position === 'center';\n}\nexport default function pieLabelLayout(seriesModel) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n  var viewRect = data.getLayout('viewRect');\n  var r = data.getLayout('r');\n  var viewWidth = viewRect.width;\n  var viewLeft = viewRect.x;\n  var viewTop = viewRect.y;\n  var viewHeight = viewRect.height;\n  function setNotShow(el) {\n    el.ignore = true;\n  }\n  function isLabelShown(label) {\n    if (!label.ignore) {\n      return true;\n    }\n    for (var key in label.states) {\n      if (label.states[key].ignore === false) {\n        return true;\n      }\n    }\n    return false;\n  }\n  data.each(function (idx) {\n    var sector = data.getItemGraphicEl(idx);\n    var sectorShape = sector.shape;\n    var label = sector.getTextContent();\n    var labelLine = sector.getTextGuideLine();\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label');\n    // Use position in normal or emphasis\n    var labelPosition = labelModel.get('position') || itemModel.get(['emphasis', 'label', 'position']);\n    var labelDistance = labelModel.get('distanceToLabelLine');\n    var labelAlignTo = labelModel.get('alignTo');\n    var edgeDistance = parsePercent(labelModel.get('edgeDistance'), viewWidth);\n    var bleedMargin = labelModel.get('bleedMargin');\n    if (bleedMargin == null) {\n      // An arbitrary strategy for small viewRect - especial pie is layout in calendar or matrix coord sys.\n      bleedMargin = Math.min(viewWidth, viewHeight) > 200 ? 10 : 2;\n    }\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    labelLineLen = parsePercent(labelLineLen, viewWidth);\n    var labelLineLen2 = labelLineModel.get('length2');\n    labelLineLen2 = parsePercent(labelLineLen2, viewWidth);\n    if (Math.abs(sectorShape.endAngle - sectorShape.startAngle) < minShowLabelRadian) {\n      each(label.states, setNotShow);\n      label.ignore = true;\n      if (labelLine) {\n        each(labelLine.states, setNotShow);\n        labelLine.ignore = true;\n      }\n      return;\n    }\n    if (!isLabelShown(label)) {\n      return;\n    }\n    var midAngle = (sectorShape.startAngle + sectorShape.endAngle) / 2;\n    var nx = Math.cos(midAngle);\n    var ny = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = sectorShape.cx;\n    cy = sectorShape.cy;\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n    if (labelPosition === 'center') {\n      textX = sectorShape.cx;\n      textY = sectorShape.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (sectorShape.r + sectorShape.r0) / 2 * nx : sectorShape.r * nx) + cx;\n      var y1 = (isLabelInside ? (sectorShape.r + sectorShape.r0) / 2 * ny : sectorShape.r * ny) + cy;\n      textX = x1 + nx * 3;\n      textY = y1 + ny * 3;\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + nx * (labelLineLen + r - sectorShape.r);\n        var y2 = y1 + ny * (labelLineLen + r - sectorShape.r);\n        var x3 = x2 + (nx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n        if (labelAlignTo === 'edge') {\n          // Adjust textX because text align of edge is opposite\n          textX = nx < 0 ? viewLeft + edgeDistance : viewLeft + viewWidth - edgeDistance;\n        } else {\n          textX = x3 + (nx < 0 ? -labelDistance : labelDistance);\n        }\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n      textAlign = isLabelInside ? 'center' : labelAlignTo === 'edge' ? nx > 0 ? 'right' : 'left' : nx > 0 ? 'left' : 'right';\n    }\n    var PI = Math.PI;\n    var labelRotate = 0;\n    var rotate = labelModel.get('rotate');\n    if (isNumber(rotate)) {\n      labelRotate = rotate * (PI / 180);\n    } else if (labelPosition === 'center') {\n      labelRotate = 0;\n    } else if (rotate === 'radial' || rotate === true) {\n      var radialAngle = nx < 0 ? -midAngle + PI : -midAngle;\n      labelRotate = radialAngle;\n    } else if (rotate === 'tangential' && labelPosition !== 'outside' && labelPosition !== 'outer') {\n      var rad = Math.atan2(nx, ny);\n      if (rad < 0) {\n        rad = PI * 2 + rad;\n      }\n      var isDown = ny > 0;\n      if (isDown) {\n        rad = PI + rad;\n      }\n      labelRotate = rad - PI;\n    }\n    hasLabelRotate = !!labelRotate;\n    label.x = textX;\n    label.y = textY;\n    label.rotation = labelRotate;\n    label.setStyle({\n      verticalAlign: 'middle'\n    });\n    // Not sectorShape the inside label\n    if (!isLabelInside) {\n      var textRect = new BoundingRect(0, 0, 0, 0);\n      computeLabelGlobalRect(textRect, label);\n      labelLayoutList.push({\n        label: label,\n        labelLine: labelLine,\n        position: labelPosition,\n        len: labelLineLen,\n        len2: labelLineLen2,\n        minTurnAngle: labelLineModel.get('minTurnAngle'),\n        maxSurfaceAngle: labelLineModel.get('maxSurfaceAngle'),\n        surfaceNormal: new Point(nx, ny),\n        linePoints: linePoints,\n        textAlign: textAlign,\n        labelDistance: labelDistance,\n        labelAlignTo: labelAlignTo,\n        edgeDistance: edgeDistance,\n        bleedMargin: bleedMargin,\n        rect: textRect,\n        unconstrainedWidth: textRect.width,\n        labelStyleWidth: label.style.width\n      });\n    } else {\n      label.setStyle({\n        align: textAlign\n      });\n      var selectState = label.states.select;\n      if (selectState) {\n        selectState.x += label.x;\n        selectState.y += label.y;\n      }\n    }\n    sector.setTextConfig({\n      inside: isLabelInside\n    });\n  });\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop);\n  }\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n    var label = layout.label;\n    var labelLine = layout.labelLine;\n    var notShowLabel = isNaN(label.x) || isNaN(label.y);\n    if (label) {\n      label.setStyle({\n        align: layout.textAlign\n      });\n      if (notShowLabel) {\n        each(label.states, setNotShow);\n        label.ignore = true;\n      }\n      var selectState = label.states.select;\n      if (selectState) {\n        selectState.x += label.x;\n        selectState.y += label.y;\n      }\n    }\n    if (labelLine) {\n      var linePoints = layout.linePoints;\n      if (notShowLabel || !linePoints) {\n        each(labelLine.states, setNotShow);\n        labelLine.ignore = true;\n      } else {\n        limitTurnAngle(linePoints, layout.minTurnAngle);\n        limitSurfaceAngle(linePoints, layout.surfaceNormal, layout.maxSurfaceAngle);\n        labelLine.setShape({\n          points: linePoints\n        });\n        // Set the anchor to the midpoint of sector\n        label.__hostTarget.textGuideLineConfig = {\n          anchor: new Point(linePoints[0][0], linePoints[0][1])\n        };\n      }\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { clone, extend, retrieve3 } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport ChartView from '../../view/Chart.js';\nimport labelLayout from './labelLayout.js';\nimport { setLabelLineStyle, getLabelLineStatesModels } from '../../label/labelGuideHelper.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport { getSectorCornerRadius } from '../helper/sectorHelper.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nimport { getSeriesLayoutData } from './pieLayout.js';\n/**\n * Piece of pie including Sector, Label, LabelLine\n */\nvar PiePiece = /** @class */function (_super) {\n  __extends(PiePiece, _super);\n  function PiePiece(data, idx, startAngle) {\n    var _this = _super.call(this) || this;\n    _this.z2 = 2;\n    var text = new graphic.Text();\n    _this.setTextContent(text);\n    _this.updateData(data, idx, startAngle, true);\n    return _this;\n  }\n  PiePiece.prototype.updateData = function (data, idx, startAngle, firstCreate) {\n    var sector = this;\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var emphasisModel = itemModel.getModel('emphasis');\n    var layout = data.getItemLayout(idx);\n    // cornerRadius & innerCornerRadius doesn't exist in the item layout. Use `0` if null value is specified.\n    // see `setItemLayout` in `pieLayout.ts`.\n    var sectorShape = extend(getSectorCornerRadius(itemModel.getModel('itemStyle'), layout, true), layout);\n    // Ignore NaN data.\n    if (isNaN(sectorShape.startAngle)) {\n      // Use NaN shape to avoid drawing shape.\n      sector.setShape(sectorShape);\n      return;\n    }\n    if (firstCreate) {\n      sector.setShape(sectorShape);\n      var animationType = seriesModel.getShallow('animationType');\n      if (seriesModel.ecModel.ssr) {\n        // Use scale animation in SSR mode(opacity?)\n        // Because CSS SVG animation doesn't support very customized shape animation.\n        graphic.initProps(sector, {\n          scaleX: 0,\n          scaleY: 0\n        }, seriesModel, {\n          dataIndex: idx,\n          isFrom: true\n        });\n        sector.originX = sectorShape.cx;\n        sector.originY = sectorShape.cy;\n      } else if (animationType === 'scale') {\n        sector.shape.r = layout.r0;\n        graphic.initProps(sector, {\n          shape: {\n            r: layout.r\n          }\n        }, seriesModel, idx);\n      }\n      // Expansion\n      else {\n        if (startAngle != null) {\n          sector.setShape({\n            startAngle: startAngle,\n            endAngle: startAngle\n          });\n          graphic.initProps(sector, {\n            shape: {\n              startAngle: layout.startAngle,\n              endAngle: layout.endAngle\n            }\n          }, seriesModel, idx);\n        } else {\n          sector.shape.endAngle = layout.startAngle;\n          graphic.updateProps(sector, {\n            shape: {\n              endAngle: layout.endAngle\n            }\n          }, seriesModel, idx);\n        }\n      }\n    } else {\n      saveOldStyle(sector);\n      // Transition animation from the old shape\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel, idx);\n    }\n    sector.useStyle(data.getItemVisual(idx, 'style'));\n    setStatesStylesFromModel(sector, itemModel);\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var offset = seriesModel.get('selectedOffset');\n    var dx = Math.cos(midAngle) * offset;\n    var dy = Math.sin(midAngle) * offset;\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle);\n    this._updateLabel(seriesModel, data, idx);\n    sector.ensureState('emphasis').shape = extend({\n      r: layout.r + (emphasisModel.get('scale') ? emphasisModel.get('scaleSize') || 0 : 0)\n    }, getSectorCornerRadius(emphasisModel.getModel('itemStyle'), layout));\n    extend(sector.ensureState('select'), {\n      x: dx,\n      y: dy,\n      shape: getSectorCornerRadius(itemModel.getModel(['select', 'itemStyle']), layout)\n    });\n    extend(sector.ensureState('blur'), {\n      shape: getSectorCornerRadius(itemModel.getModel(['blur', 'itemStyle']), layout)\n    });\n    var labelLine = sector.getTextGuideLine();\n    var labelText = sector.getTextContent();\n    labelLine && extend(labelLine.ensureState('select'), {\n      x: dx,\n      y: dy\n    });\n    // TODO: needs dx, dy in zrender?\n    extend(labelText.ensureState('select'), {\n      x: dx,\n      y: dy\n    });\n    toggleHoverEmphasis(this, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n  };\n  PiePiece.prototype._updateLabel = function (seriesModel, data, idx) {\n    var sector = this;\n    var itemModel = data.getItemModel(idx);\n    var labelLineModel = itemModel.getModel('labelLine');\n    var style = data.getItemVisual(idx, 'style');\n    var visualColor = style && style.fill;\n    var visualOpacity = style && style.opacity;\n    setLabelStyle(sector, getLabelStatesModels(itemModel), {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      inheritColor: visualColor,\n      defaultOpacity: visualOpacity,\n      defaultText: seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx)\n    });\n    var labelText = sector.getTextContent();\n    // Set textConfig on sector.\n    sector.setTextConfig({\n      // reset position, rotation\n      position: null,\n      rotation: null\n    });\n    // Make sure update style on labelText after setLabelStyle.\n    // Because setLabelStyle will replace a new style on it.\n    labelText.attr({\n      z2: 10\n    });\n    var labelPosition = itemModel.get(['label', 'position']);\n    if (labelPosition !== 'outside' && labelPosition !== 'outer') {\n      sector.removeTextGuideLine();\n    } else {\n      var polyline = this.getTextGuideLine();\n      if (!polyline) {\n        polyline = new graphic.Polyline();\n        this.setTextGuideLine(polyline);\n      }\n      // Default use item visual color\n      setLabelLineStyle(this, getLabelLineStatesModels(itemModel), {\n        stroke: visualColor,\n        opacity: retrieve3(labelLineModel.get(['lineStyle', 'opacity']), visualOpacity, 1)\n      });\n    }\n  };\n  return PiePiece;\n}(graphic.Sector);\n// Pie view\nvar PieView = /** @class */function (_super) {\n  __extends(PieView, _super);\n  function PieView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.ignoreLabelLineUpdate = true;\n    return _this;\n  }\n  PieView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var startAngle;\n    // First render\n    if (!oldData && data.count() > 0) {\n      var shape = data.getItemLayout(0);\n      for (var s = 1; isNaN(shape && shape.startAngle) && s < data.count(); ++s) {\n        shape = data.getItemLayout(s);\n      }\n      if (shape) {\n        startAngle = shape.startAngle;\n      }\n    }\n    // remove empty-circle if it exists\n    if (this._emptyCircleSector) {\n      group.remove(this._emptyCircleSector);\n    }\n    // when all data are filtered, show lightgray empty circle\n    if (data.count() === 0 && seriesModel.get('showEmptyCircle')) {\n      var layoutData = getSeriesLayoutData(seriesModel);\n      var sector = new graphic.Sector({\n        shape: clone(layoutData)\n      });\n      sector.useStyle(seriesModel.getModel('emptyCircleStyle').getItemStyle());\n      this._emptyCircleSector = sector;\n      group.add(sector);\n    }\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx, startAngle);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n      piePiece.updateData(data, newIdx, startAngle);\n      piePiece.off('click');\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      graphic.removeElementWithFadeOut(piePiece, seriesModel, idx);\n    }).execute();\n    labelLayout(seriesModel);\n    // Always use initial animation.\n    if (seriesModel.get('animationTypeUpdate') !== 'expansion') {\n      this._data = data;\n    }\n  };\n  PieView.prototype.dispose = function () {};\n  PieView.prototype.containPoint = function (point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  };\n  PieView.type = 'pie';\n  return PieView;\n}(ChartView);\nexport default PieView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport prepareSeriesDataSchema from '../../data/helper/createDimensions.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport { extend, isArray } from 'zrender/lib/core/util.js';\n/**\n * [Usage]:\n * (1)\n * createListSimply(seriesModel, ['value']);\n * (2)\n * createListSimply(seriesModel, {\n *     coordDimensions: ['value'],\n *     dimensionsCount: 5\n * });\n */\nexport default function createSeriesDataSimply(seriesModel, opt, nameList) {\n  opt = isArray(opt) && {\n    coordDimensions: opt\n  } || extend({\n    encodeDefine: seriesModel.getEncode()\n  }, opt);\n  var source = seriesModel.getSource();\n  var dimensions = prepareSeriesDataSchema(source, opt).dimensions;\n  var list = new SeriesData(dimensions, seriesModel);\n  list.initData(source, nameList);\n  return list;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * LegendVisualProvider is an bridge that pick encoded color from data and\n * provide to the legend component.\n */\nvar LegendVisualProvider = /** @class */function () {\n  function LegendVisualProvider(\n  // Function to get data after filtered. It stores all the encoding info\n  getDataWithEncodedVisual,\n  // Function to get raw data before filtered.\n  getRawData) {\n    this._getDataWithEncodedVisual = getDataWithEncodedVisual;\n    this._getRawData = getRawData;\n  }\n  LegendVisualProvider.prototype.getAllNames = function () {\n    var rawData = this._getRawData();\n    // We find the name from the raw data. In case it's filtered by the legend component.\n    // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n    return rawData.mapArray(rawData.getName);\n  };\n  LegendVisualProvider.prototype.containName = function (name) {\n    var rawData = this._getRawData();\n    return rawData.indexOfName(name) >= 0;\n  };\n  LegendVisualProvider.prototype.indexOfName = function (name) {\n    // Only get data when necessary.\n    // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n    // Invoking Series#getData immediately will throw an error.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n    return dataWithEncodedVisual.indexOfName(name);\n  };\n  LegendVisualProvider.prototype.getItemVisual = function (dataIndex, key) {\n    // Get encoded visual properties from final filtered data.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n    return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n  };\n  return LegendVisualProvider;\n}();\nexport default LegendVisualProvider;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesDataSimply from '../helper/createSeriesDataSimply.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nimport { getPercentSeats } from '../../util/number.js';\nimport { makeSeriesEncodeForNameBased } from '../../data/helper/sourceHelper.js';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider.js';\nimport SeriesModel from '../../model/Series.js';\nimport { registerLayOutOnCoordSysUsage } from '../../core/CoordinateSystem.js';\nvar innerData = modelUtil.makeInner();\nvar PieSeriesModel = /** @class */function (_super) {\n  __extends(PieSeriesModel, _super);\n  function PieSeriesModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @overwrite\n   */\n  PieSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments);\n    // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n    this._defaultLabelLine(option);\n  };\n  /**\n   * @overwrite\n   */\n  PieSeriesModel.prototype.mergeOption = function () {\n    _super.prototype.mergeOption.apply(this, arguments);\n  };\n  /**\n   * @overwrite\n   */\n  PieSeriesModel.prototype.getInitialData = function () {\n    return createSeriesDataSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n  };\n  /**\n   * @overwrite\n   */\n  PieSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var data = this.getData();\n    // update seats when data is changed\n    var dataInner = innerData(data);\n    var seats = dataInner.seats;\n    if (!seats) {\n      var valueList_1 = [];\n      data.each(data.mapDimension('value'), function (value) {\n        valueList_1.push(value);\n      });\n      seats = dataInner.seats = getPercentSeats(valueList_1, data.hostModel.get('percentPrecision'));\n    }\n    var params = _super.prototype.getDataParams.call(this, dataIndex);\n    // seats may be empty when sum is 0\n    params.percent = seats[dataIndex] || 0;\n    params.$vars.push('percent');\n    return params;\n  };\n  PieSeriesModel.prototype._defaultLabelLine = function (option) {\n    // Extend labelLine emphasis\n    modelUtil.defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine;\n    // Not show label line if `label.normal.show = false`\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  };\n  PieSeriesModel.type = 'series.pie';\n  PieSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    colorBy: 'data',\n    // 默认全局居中\n    center: ['50%', '50%'],\n    radius: [0, '50%'],\n    // 默认顺时针\n    clockwise: true,\n    startAngle: 90,\n    endAngle: 'auto',\n    padAngle: 0,\n    // 最小角度改为0\n    minAngle: 0,\n    // If the angle of a sector less than `minShowLabelAngle`,\n    // the label will not be displayed.\n    minShowLabelAngle: 0,\n    // 选中时扇区偏移量\n    selectedOffset: 10,\n    // 选择模式，默认关闭，可选single，multiple\n    // selectedMode: false,\n    // 南丁格尔玫瑰图模式，'radius'（半径） | 'area'（面积）\n    // roseType: null,\n    percentPrecision: 2,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // cursor: null,\n    coordinateSystemUsage: 'box',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: null,\n    height: null,\n    label: {\n      // color: 'inherit',\n      // If rotate around circle\n      rotate: 0,\n      show: true,\n      overflow: 'truncate',\n      // 'outer', 'inside', 'center'\n      position: 'outer',\n      // 'none', 'labelLine', 'edge'. Works only when position is 'outer'\n      alignTo: 'none',\n      // Closest distance between label and chart edge.\n      // Works only position is 'outer' and alignTo is 'edge'.\n      edgeDistance: '25%',\n      // Works only position is 'outer' and alignTo is not 'edge'.\n      // The default `bleedMargin` is auto determined according to view rect size.\n      // bleedMargin: 10,\n      // Distance between text and label line.\n      distanceToLabelLine: 5\n      // formatter: 标签文本格式器，同 tooltip.formatter，不支持异步回调\n      // 默认使用全局文本样式，详见 textStyle\n      // distance: 当position为inner时有效，为label位置到圆心的距离与圆半径(环状图为内外半径和)的比例系数\n    },\n    // Enabled when label.normal.position is 'outer'\n    labelLine: {\n      show: true,\n      // 引导线两段中的第一段长度\n      length: 15,\n      // 引导线两段中的第二段长度\n      length2: 30,\n      smooth: false,\n      minTurnAngle: 90,\n      maxSurfaceAngle: 90,\n      lineStyle: {\n        // color: 各异,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    itemStyle: {\n      borderWidth: 1,\n      borderJoin: 'round'\n    },\n    showEmptyCircle: true,\n    emptyCircleStyle: {\n      color: 'lightgray',\n      opacity: 1\n    },\n    labelLayout: {\n      // Hide the overlapped label.\n      hideOverlap: true\n    },\n    emphasis: {\n      scale: true,\n      scaleSize: 5\n    },\n    // If use strategy to avoid label overlapping\n    avoidLabelOverlap: true,\n    // Animation type. Valid values: expansion, scale\n    animationType: 'expansion',\n    animationDuration: 1000,\n    // Animation type when update. Valid values: transition, expansion\n    animationTypeUpdate: 'transition',\n    animationEasingUpdate: 'cubicInOut',\n    animationDurationUpdate: 500,\n    animationEasing: 'cubicInOut'\n  };\n  return PieSeriesModel;\n}(SeriesModel);\nregisterLayOutOnCoordSysUsage({\n  fullType: PieSeriesModel.type,\n  getCoord2: function (model) {\n    // Not able to validate `center` type here.\n    // But percentage center, such as '12%', is not allowed in this case.\n    return model.getShallow('center');\n  }\n});\nexport default PieSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isNumber } from 'zrender/lib/core/util.js';\nexport default function negativeDataFilter(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        // handle negative value condition\n        var valueDim = data.mapDimension('value');\n        var curValue = data.get(valueDim, idx);\n        if (isNumber(curValue) && !isNaN(curValue) && curValue < 0) {\n          return false;\n        }\n        return true;\n      });\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createLegacyDataSelectAction } from '../../legacy/dataSelectAction.js';\nimport pieLayout from '../pie/pieLayout.js';\nimport dataFilter from '../../processor/dataFilter.js';\nimport { curry } from 'zrender/lib/core/util.js';\nimport PieView from './PieView.js';\nimport PieSeriesModel from './PieSeries.js';\nimport negativeDataFilter from '../../processor/negativeDataFilter.js';\nexport function install(registers) {\n  registers.registerChartView(PieView);\n  registers.registerSeriesModel(PieSeriesModel);\n  createLegacyDataSelectAction('pie', registers.registerAction);\n  registers.registerLayout(curry(pieLayout, 'pie'));\n  registers.registerProcessor(dataFilter('pie'));\n  registers.registerProcessor(negativeDataFilter('pie'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesData from '../helper/createSeriesData.js';\nimport SeriesModel from '../../model/Series.js';\nimport tokens from '../../visual/tokens.js';\nvar ScatterSeriesModel = /** @class */function (_super) {\n  __extends(ScatterSeriesModel, _super);\n  function ScatterSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ScatterSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n  ScatterSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this, {\n      useEncodeDefaulter: true\n    });\n  };\n  ScatterSeriesModel.prototype.getProgressive = function () {\n    var progressive = this.option.progressive;\n    if (progressive == null) {\n      // PENDING\n      return this.option.large ? 5e3 : this.get('progressive');\n    }\n    return progressive;\n  };\n  ScatterSeriesModel.prototype.getProgressiveThreshold = function () {\n    var progressiveThreshold = this.option.progressiveThreshold;\n    if (progressiveThreshold == null) {\n      // PENDING\n      return this.option.large ? 1e4 : this.get('progressiveThreshold');\n    }\n    return progressiveThreshold;\n  };\n  ScatterSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    return selectors.point(data.getItemLayout(dataIndex));\n  };\n  ScatterSeriesModel.prototype.getZLevelKey = function () {\n    // Each progressive series has individual key.\n    return this.getData().count() > this.getProgressiveThreshold() ? this.id : '';\n  };\n  ScatterSeriesModel.type = 'series.scatter';\n  ScatterSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar', 'matrix'];\n  ScatterSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    // zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    symbolSize: 10,\n    // symbolRotate: null,  // 图形旋转控制\n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // cursor: null,\n    itemStyle: {\n      opacity: 0.8\n      // color: 各异\n    },\n    emphasis: {\n      scale: true\n    },\n    // If clip the overflow graphics\n    // Works on cartesian / polar series\n    clip: true,\n    select: {\n      itemStyle: {\n        borderColor: tokens.color.primary\n      }\n    },\n    universalTransition: {\n      divideShape: 'clone'\n    }\n    // progressive: null\n  };\n  return ScatterSeriesModel;\n}(SeriesModel);\nexport default ScatterSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global Float32Array */\n// TODO Batch by color\nimport * as graphic from '../../util/graphic.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport { getECData } from '../../util/innerStore.js';\nvar BOOST_SIZE_THRESHOLD = 4;\nvar LargeSymbolPathShape = /** @class */function () {\n  function LargeSymbolPathShape() {}\n  return LargeSymbolPathShape;\n}();\nvar LargeSymbolPath = /** @class */function (_super) {\n  __extends(LargeSymbolPath, _super);\n  function LargeSymbolPath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this._off = 0;\n    _this.hoverDataIdx = -1;\n    return _this;\n  }\n  LargeSymbolPath.prototype.getDefaultShape = function () {\n    return new LargeSymbolPathShape();\n  };\n  LargeSymbolPath.prototype.reset = function () {\n    this.notClear = false;\n    this._off = 0;\n  };\n  LargeSymbolPath.prototype.buildPath = function (path, shape) {\n    var points = shape.points;\n    var size = shape.size;\n    var symbolProxy = this.symbolProxy;\n    var symbolProxyShape = symbolProxy.shape;\n    var ctx = path.getContext ? path.getContext() : path;\n    var canBoost = ctx && size[0] < BOOST_SIZE_THRESHOLD;\n    var softClipShape = this.softClipShape;\n    var i;\n    // Do draw in afterBrush.\n    if (canBoost) {\n      this._ctx = ctx;\n      return;\n    }\n    this._ctx = null;\n    for (i = this._off; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n      if (softClipShape && !softClipShape.contain(x, y)) {\n        continue;\n      }\n      symbolProxyShape.x = x - size[0] / 2;\n      symbolProxyShape.y = y - size[1] / 2;\n      symbolProxyShape.width = size[0];\n      symbolProxyShape.height = size[1];\n      symbolProxy.buildPath(path, symbolProxyShape, true);\n    }\n    if (this.incremental) {\n      this._off = i;\n      this.notClear = true;\n    }\n  };\n  LargeSymbolPath.prototype.afterBrush = function () {\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var ctx = this._ctx;\n    var softClipShape = this.softClipShape;\n    var i;\n    if (!ctx) {\n      return;\n    }\n    // PENDING If style or other canvas status changed?\n    for (i = this._off; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n      if (softClipShape && !softClipShape.contain(x, y)) {\n        continue;\n      }\n      // fillRect is faster than building a rect path and draw.\n      // And it support light globalCompositeOperation.\n      ctx.fillRect(x - size[0] / 2, y - size[1] / 2, size[0], size[1]);\n    }\n    if (this.incremental) {\n      this._off = i;\n      this.notClear = true;\n    }\n  };\n  LargeSymbolPath.prototype.findDataIndex = function (x, y) {\n    // TODO ???\n    // Consider transform\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var w = Math.max(size[0], 4);\n    var h = Math.max(size[1], 4);\n    // Not consider transform\n    // Treat each element as a rect\n    // top down traverse\n    for (var idx = points.length / 2 - 1; idx >= 0; idx--) {\n      var i = idx * 2;\n      var x0 = points[i] - w / 2;\n      var y0 = points[i + 1] - h / 2;\n      if (x >= x0 && y >= y0 && x <= x0 + w && y <= y0 + h) {\n        return idx;\n      }\n    }\n    return -1;\n  };\n  LargeSymbolPath.prototype.contain = function (x, y) {\n    var localPos = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    x = localPos[0];\n    y = localPos[1];\n    if (rect.contain(x, y)) {\n      // Cache found data index.\n      var dataIdx = this.hoverDataIdx = this.findDataIndex(x, y);\n      return dataIdx >= 0;\n    }\n    this.hoverDataIdx = -1;\n    return false;\n  };\n  LargeSymbolPath.prototype.getBoundingRect = function () {\n    // Ignore stroke for large symbol draw.\n    var rect = this._rect;\n    if (!rect) {\n      var shape = this.shape;\n      var points = shape.points;\n      var size = shape.size;\n      var w = size[0];\n      var h = size[1];\n      var minX = Infinity;\n      var minY = Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n      for (var i = 0; i < points.length;) {\n        var x = points[i++];\n        var y = points[i++];\n        minX = Math.min(x, minX);\n        maxX = Math.max(x, maxX);\n        minY = Math.min(y, minY);\n        maxY = Math.max(y, maxY);\n      }\n      rect = this._rect = new graphic.BoundingRect(minX - w / 2, minY - h / 2, maxX - minX + w, maxY - minY + h);\n    }\n    return rect;\n  };\n  return LargeSymbolPath;\n}(graphic.Path);\nvar LargeSymbolDraw = /** @class */function () {\n  function LargeSymbolDraw() {\n    this.group = new graphic.Group();\n  }\n  /**\n   * Update symbols draw by new data\n   */\n  LargeSymbolDraw.prototype.updateData = function (data, opt) {\n    this._clear();\n    var symbolEl = this._create();\n    symbolEl.setShape({\n      points: data.getLayout('points')\n    });\n    this._setCommon(symbolEl, data, opt);\n  };\n  LargeSymbolDraw.prototype.updateLayout = function (data) {\n    var points = data.getLayout('points');\n    this.group.eachChild(function (child) {\n      if (child.startIndex != null) {\n        var len = (child.endIndex - child.startIndex) * 2;\n        var byteOffset = child.startIndex * 4 * 2;\n        points = new Float32Array(points.buffer, byteOffset, len);\n      }\n      child.setShape('points', points);\n      // Reset draw cursor.\n      child.reset();\n    });\n  };\n  LargeSymbolDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this._clear();\n  };\n  LargeSymbolDraw.prototype.incrementalUpdate = function (taskParams, data, opt) {\n    var lastAdded = this._newAdded[0];\n    var points = data.getLayout('points');\n    var oldPoints = lastAdded && lastAdded.shape.points;\n    // Merging the exists. Each element has 1e4 points.\n    // Consider the performance balance between too much elements and too much points in one shape(may affect hover optimization)\n    if (oldPoints && oldPoints.length < 2e4) {\n      var oldLen = oldPoints.length;\n      var newPoints = new Float32Array(oldLen + points.length);\n      // Concat two array\n      newPoints.set(oldPoints);\n      newPoints.set(points, oldLen);\n      // Update endIndex\n      lastAdded.endIndex = taskParams.end;\n      lastAdded.setShape({\n        points: newPoints\n      });\n    } else {\n      // Clear\n      this._newAdded = [];\n      var symbolEl = this._create();\n      symbolEl.startIndex = taskParams.start;\n      symbolEl.endIndex = taskParams.end;\n      symbolEl.incremental = true;\n      symbolEl.setShape({\n        points: points\n      });\n      this._setCommon(symbolEl, data, opt);\n    }\n  };\n  LargeSymbolDraw.prototype.eachRendered = function (cb) {\n    this._newAdded[0] && cb(this._newAdded[0]);\n  };\n  LargeSymbolDraw.prototype._create = function () {\n    var symbolEl = new LargeSymbolPath({\n      cursor: 'default'\n    });\n    symbolEl.ignoreCoarsePointer = true;\n    this.group.add(symbolEl);\n    this._newAdded.push(symbolEl);\n    return symbolEl;\n  };\n  LargeSymbolDraw.prototype._setCommon = function (symbolEl, data, opt) {\n    var hostModel = data.hostModel;\n    opt = opt || {};\n    var size = data.getVisual('symbolSize');\n    symbolEl.setShape('size', size instanceof Array ? size : [size, size]);\n    symbolEl.softClipShape = opt.clipShape || null;\n    // Create symbolProxy to build path for each data\n    symbolEl.symbolProxy = createSymbol(data.getVisual('symbol'), 0, 0, 0, 0);\n    // Use symbolProxy setColor method\n    symbolEl.setColor = symbolEl.symbolProxy.setColor;\n    var extrudeShadow = symbolEl.shape.size[0] < BOOST_SIZE_THRESHOLD;\n    symbolEl.useStyle(\n    // Draw shadow when doing fillRect is extremely slow.\n    hostModel.getModel('itemStyle').getItemStyle(extrudeShadow ? ['color', 'shadowBlur', 'shadowColor'] : ['color']));\n    var globalStyle = data.getVisual('style');\n    var visualColor = globalStyle && globalStyle.fill;\n    if (visualColor) {\n      symbolEl.setColor(visualColor);\n    }\n    var ecData = getECData(symbolEl);\n    // Enable tooltip\n    // PENDING May have performance issue when path is extremely large\n    ecData.seriesIndex = hostModel.seriesIndex;\n    symbolEl.on('mousemove', function (e) {\n      ecData.dataIndex = null;\n      var dataIndex = symbolEl.hoverDataIdx;\n      if (dataIndex >= 0) {\n        // Provide dataIndex for tooltip\n        ecData.dataIndex = dataIndex + (symbolEl.startIndex || 0);\n      }\n    });\n  };\n  LargeSymbolDraw.prototype.remove = function () {\n    this._clear();\n  };\n  LargeSymbolDraw.prototype._clear = function () {\n    this._newAdded = [];\n    this.group.removeAll();\n  };\n  return LargeSymbolDraw;\n}();\nexport default LargeSymbolDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw.js';\nimport LargeSymbolDraw from '../helper/LargeSymbolDraw.js';\nimport pointsLayout from '../../layout/points.js';\nimport ChartView from '../../view/Chart.js';\nvar ScatterView = /** @class */function (_super) {\n  __extends(ScatterView, _super);\n  function ScatterView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ScatterView.type;\n    return _this;\n  }\n  ScatterView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n    symbolDraw.updateData(data, {\n      // TODO\n      // If this parameter should be a shape or a bounding volume\n      // shape will be more general.\n      // But bounding volume like bounding rect will be much faster in the contain calculation\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this._finished = true;\n  };\n  ScatterView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n    symbolDraw.incrementalPrepareUpdate(data);\n    this._finished = false;\n  };\n  ScatterView.prototype.incrementalRender = function (taskParams, seriesModel, ecModel) {\n    this._symbolDraw.incrementalUpdate(taskParams, seriesModel.getData(), {\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this._finished = taskParams.end === seriesModel.getData().count();\n  };\n  ScatterView.prototype.updateTransform = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    // Must mark group dirty and make sure the incremental layer will be cleared\n    // PENDING\n    this.group.dirty();\n    if (!this._finished || data.count() > 1e4) {\n      return {\n        update: true\n      };\n    } else {\n      var res = pointsLayout('').reset(seriesModel, ecModel, api);\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count(),\n          count: data.count()\n        }, data);\n      }\n      this._symbolDraw.updateLayout(data);\n    }\n  };\n  ScatterView.prototype.eachRendered = function (cb) {\n    this._symbolDraw && this._symbolDraw.eachRendered(cb);\n  };\n  ScatterView.prototype._getClipShape = function (seriesModel) {\n    if (!seriesModel.get('clip', true)) {\n      return;\n    }\n    var coordSys = seriesModel.coordinateSystem;\n    // PENDING make `0.1` configurable, for example, `clipTolerance`?\n    return coordSys && coordSys.getArea && coordSys.getArea(.1);\n  };\n  ScatterView.prototype._updateSymbolDraw = function (data, seriesModel) {\n    var symbolDraw = this._symbolDraw;\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n    if (!symbolDraw || isLargeDraw !== this._isLargeDraw) {\n      symbolDraw && symbolDraw.remove();\n      symbolDraw = this._symbolDraw = isLargeDraw ? new LargeSymbolDraw() : new SymbolDraw();\n      this._isLargeDraw = isLargeDraw;\n      this.group.removeAll();\n    }\n    this.group.add(symbolDraw.group);\n    return symbolDraw;\n  };\n  ScatterView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n    this._symbolDraw = null;\n  };\n  ScatterView.prototype.dispose = function () {};\n  ScatterView.type = 'scatter';\n  return ScatterView;\n}(ChartView);\nexport default ScatterView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport ScatterSeriesModel from './ScatterSeries.js';\nimport ScatterView from './ScatterView.js';\nimport { install as installGridSimple } from '../../component/grid/installSimple.js';\nimport layoutPoints from '../../layout/points.js';\nimport jitterLayout from './jitterLayout.js';\nexport function install(registers) {\n  // In case developer forget to include grid component\n  use(installGridSimple);\n  registers.registerSeriesModel(ScatterSeriesModel);\n  registers.registerChartView(ScatterView);\n  registers.registerLayout(layoutPoints('scatter'));\n}\nexport function installScatterJitter(registers) {\n  registers.registerLayout(registers.PRIORITY.VISUAL.POST_CHART_LAYOUT, jitterLayout);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function radarLayout(ecModel) {\n  ecModel.eachSeriesByType('radar', function (seriesModel) {\n    var data = seriesModel.getData();\n    var points = [];\n    var coordSys = seriesModel.coordinateSystem;\n    if (!coordSys) {\n      return;\n    }\n    var axes = coordSys.getIndicatorAxes();\n    zrUtil.each(axes, function (axis, axisIndex) {\n      data.each(data.mapDimension(axes[axisIndex].dim), function (val, dataIndex) {\n        points[dataIndex] = points[dataIndex] || [];\n        var point = coordSys.dataToPoint(val, axisIndex);\n        points[dataIndex][axisIndex] = isValidPoint(point) ? point : getValueMissingPoint(coordSys);\n      });\n    });\n    // Close polygon\n    data.each(function (idx) {\n      // TODO\n      // Is it appropriate to connect to the next data when some data is missing?\n      // Or, should trade it like `connectNull` in line chart?\n      var firstPoint = zrUtil.find(points[idx], function (point) {\n        return isValidPoint(point);\n      }) || getValueMissingPoint(coordSys);\n      // Copy the first actual point to the end of the array\n      points[idx].push(firstPoint.slice());\n      data.setItemLayout(idx, points[idx]);\n    });\n  });\n}\nfunction isValidPoint(point) {\n  return !isNaN(point[0]) && !isNaN(point[1]);\n}\nfunction getValueMissingPoint(coordSys) {\n  // It is error-prone to input [NaN, NaN] into polygon, polygon.\n  // (probably cause problem when refreshing or animating)\n  return [coordSys.cx, coordSys.cy];\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\n// Backward compat for radar chart in 2\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function radarBackwardCompat(option) {\n  var polarOptArr = option.polar;\n  if (polarOptArr) {\n    if (!zrUtil.isArray(polarOptArr)) {\n      polarOptArr = [polarOptArr];\n    }\n    var polarNotRadar_1 = [];\n    zrUtil.each(polarOptArr, function (polarOpt, idx) {\n      if (polarOpt.indicator) {\n        if (polarOpt.type && !polarOpt.shape) {\n          polarOpt.shape = polarOpt.type;\n        }\n        option.radar = option.radar || [];\n        if (!zrUtil.isArray(option.radar)) {\n          option.radar = [option.radar];\n        }\n        option.radar.push(polarOpt);\n      } else {\n        polarNotRadar_1.push(polarOpt);\n      }\n    });\n    option.polar = polarNotRadar_1;\n  }\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'radar' && seriesOpt.polarIndex) {\n      seriesOpt.radarIndex = seriesOpt.polarIndex;\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as symbolUtil from '../../util/symbol.js';\nimport ChartView from '../../view/Chart.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nvar RadarView = /** @class */function (_super) {\n  __extends(RadarView, _super);\n  function RadarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = RadarView.type;\n    return _this;\n  }\n  RadarView.prototype.render = function (seriesModel, ecModel, api) {\n    var polar = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    function createSymbol(data, idx) {\n      var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n      if (symbolType === 'none') {\n        return;\n      }\n      var symbolSize = symbolUtil.normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n      var symbolPath = symbolUtil.createSymbol(symbolType, -1, -1, 2, 2);\n      var symbolRotate = data.getItemVisual(idx, 'symbolRotate') || 0;\n      symbolPath.attr({\n        style: {\n          strokeNoScale: true\n        },\n        z2: 100,\n        scaleX: symbolSize[0] / 2,\n        scaleY: symbolSize[1] / 2,\n        rotation: symbolRotate * Math.PI / 180 || 0\n      });\n      return symbolPath;\n    }\n    function updateSymbols(oldPoints, newPoints, symbolGroup, data, idx, isInit) {\n      // Simply rerender all\n      symbolGroup.removeAll();\n      for (var i = 0; i < newPoints.length - 1; i++) {\n        var symbolPath = createSymbol(data, idx);\n        if (symbolPath) {\n          symbolPath.__dimIdx = i;\n          if (oldPoints[i]) {\n            symbolPath.setPosition(oldPoints[i]);\n            graphic[isInit ? 'initProps' : 'updateProps'](symbolPath, {\n              x: newPoints[i][0],\n              y: newPoints[i][1]\n            }, seriesModel, idx);\n          } else {\n            symbolPath.setPosition(newPoints[i]);\n          }\n          symbolGroup.add(symbolPath);\n        }\n      }\n    }\n    function getInitialPoints(points) {\n      return zrUtil.map(points, function (pt) {\n        return [polar.cx, polar.cy];\n      });\n    }\n    data.diff(oldData).add(function (idx) {\n      var points = data.getItemLayout(idx);\n      if (!points) {\n        return;\n      }\n      var polygon = new graphic.Polygon();\n      var polyline = new graphic.Polyline();\n      var target = {\n        shape: {\n          points: points\n        }\n      };\n      polygon.shape.points = getInitialPoints(points);\n      polyline.shape.points = getInitialPoints(points);\n      graphic.initProps(polygon, target, seriesModel, idx);\n      graphic.initProps(polyline, target, seriesModel, idx);\n      var itemGroup = new graphic.Group();\n      var symbolGroup = new graphic.Group();\n      itemGroup.add(polyline);\n      itemGroup.add(polygon);\n      itemGroup.add(symbolGroup);\n      updateSymbols(polyline.shape.points, points, symbolGroup, data, idx, true);\n      data.setItemGraphicEl(idx, itemGroup);\n    }).update(function (newIdx, oldIdx) {\n      var itemGroup = oldData.getItemGraphicEl(oldIdx);\n      var polyline = itemGroup.childAt(0);\n      var polygon = itemGroup.childAt(1);\n      var symbolGroup = itemGroup.childAt(2);\n      var target = {\n        shape: {\n          points: data.getItemLayout(newIdx)\n        }\n      };\n      if (!target.shape.points) {\n        return;\n      }\n      updateSymbols(polyline.shape.points, target.shape.points, symbolGroup, data, newIdx, false);\n      saveOldStyle(polygon);\n      saveOldStyle(polyline);\n      graphic.updateProps(polyline, target, seriesModel);\n      graphic.updateProps(polygon, target, seriesModel);\n      data.setItemGraphicEl(newIdx, itemGroup);\n    }).remove(function (idx) {\n      group.remove(oldData.getItemGraphicEl(idx));\n    }).execute();\n    data.eachItemGraphicEl(function (itemGroup, idx) {\n      var itemModel = data.getItemModel(idx);\n      var polyline = itemGroup.childAt(0);\n      var polygon = itemGroup.childAt(1);\n      var symbolGroup = itemGroup.childAt(2);\n      // Radar uses the visual encoded from itemStyle.\n      var itemStyle = data.getItemVisual(idx, 'style');\n      var color = itemStyle.fill;\n      group.add(itemGroup);\n      polyline.useStyle(zrUtil.defaults(itemModel.getModel('lineStyle').getLineStyle(), {\n        fill: 'none',\n        stroke: color\n      }));\n      setStatesStylesFromModel(polyline, itemModel, 'lineStyle');\n      setStatesStylesFromModel(polygon, itemModel, 'areaStyle');\n      var areaStyleModel = itemModel.getModel('areaStyle');\n      var polygonIgnore = areaStyleModel.isEmpty() && areaStyleModel.parentModel.isEmpty();\n      polygon.ignore = polygonIgnore;\n      zrUtil.each(['emphasis', 'select', 'blur'], function (stateName) {\n        var stateModel = itemModel.getModel([stateName, 'areaStyle']);\n        var stateIgnore = stateModel.isEmpty() && stateModel.parentModel.isEmpty();\n        // Won't be ignore if normal state is not ignore.\n        polygon.ensureState(stateName).ignore = stateIgnore && polygonIgnore;\n        var lineStyle = itemModel.getModel([stateName, 'lineStyle']).getLineStyle();\n        polyline.ensureState(stateName).style = lineStyle;\n        var areaStyle = stateModel.getAreaStyle();\n        polygon.ensureState(stateName).style = areaStyle;\n        var itemStateStyle = itemModel.getModel([stateName, 'itemStyle']).getItemStyle();\n        symbolGroup.eachChild(function (symbolPath) {\n          symbolPath.ensureState(stateName).style = zrUtil.clone(itemStateStyle);\n        });\n      });\n      polygon.useStyle(zrUtil.defaults(itemModel.getModel('areaStyle').getAreaStyle(), {\n        fill: color,\n        opacity: 0.7,\n        decal: itemStyle.decal\n      }));\n      var emphasisModel = itemModel.getModel('emphasis');\n      symbolGroup.eachChild(function (symbolPath) {\n        if (symbolPath instanceof ZRImage) {\n          var pathStyle = symbolPath.style;\n          symbolPath.useStyle(zrUtil.extend({\n            // TODO other properties like x, y ?\n            image: pathStyle.image,\n            x: pathStyle.x,\n            y: pathStyle.y,\n            width: pathStyle.width,\n            height: pathStyle.height\n          }, itemStyle));\n        } else {\n          symbolPath.useStyle(itemStyle);\n          symbolPath.setColor(color);\n          symbolPath.style.strokeNoScale = true;\n        }\n        var defaultText = data.getStore().get(data.getDimensionIndex(symbolPath.__dimIdx), idx);\n        (defaultText == null || isNaN(defaultText)) && (defaultText = '');\n        setLabelStyle(symbolPath, getLabelStatesModels(itemModel), {\n          labelFetcher: data.hostModel,\n          labelDataIndex: idx,\n          labelDimIndex: symbolPath.__dimIdx,\n          defaultText: defaultText,\n          inheritColor: color,\n          defaultOpacity: itemStyle.opacity\n        });\n      });\n      toggleHoverEmphasis(itemGroup, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n    });\n    this._data = data;\n  };\n  RadarView.prototype.remove = function () {\n    this.group.removeAll();\n    this._data = null;\n  };\n  RadarView.type = 'radar';\n  return RadarView;\n}(ChartView);\nexport default RadarView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport createSeriesDataSimply from '../helper/createSeriesDataSimply.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider.js';\nimport { createTooltipMarkup, retrieveVisualColorForTooltipMarker } from '../../component/tooltip/tooltipMarkup.js';\nvar RadarSeriesModel = /** @class */function (_super) {\n  __extends(RadarSeriesModel, _super);\n  function RadarSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = RadarSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n  // Overwrite\n  RadarSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments);\n    // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n  };\n  RadarSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesDataSimply(this, {\n      generateCoord: 'indicator_',\n      generateCoordCount: Infinity\n    });\n  };\n  RadarSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var data = this.getData();\n    var coordSys = this.coordinateSystem;\n    var indicatorAxes = coordSys.getIndicatorAxes();\n    var name = this.getData().getName(dataIndex);\n    var nameToDisplay = name === '' ? this.name : name;\n    var markerColor = retrieveVisualColorForTooltipMarker(this, dataIndex);\n    return createTooltipMarkup('section', {\n      header: nameToDisplay,\n      sortBlocks: true,\n      blocks: zrUtil.map(indicatorAxes, function (axis) {\n        var val = data.get(data.mapDimension(axis.dim), dataIndex);\n        return createTooltipMarkup('nameValue', {\n          markerType: 'subItem',\n          markerColor: markerColor,\n          name: axis.name,\n          value: val,\n          sortParam: val\n        });\n      })\n    });\n  };\n  RadarSeriesModel.prototype.getTooltipPosition = function (dataIndex) {\n    if (dataIndex != null) {\n      var data_1 = this.getData();\n      var coordSys = this.coordinateSystem;\n      var values = data_1.getValues(zrUtil.map(coordSys.dimensions, function (dim) {\n        return data_1.mapDimension(dim);\n      }), dataIndex);\n      for (var i = 0, len = values.length; i < len; i++) {\n        if (!isNaN(values[i])) {\n          var indicatorAxes = coordSys.getIndicatorAxes();\n          return coordSys.coordToPoint(indicatorAxes[i].dataToCoord(values[i]), i);\n        }\n      }\n    }\n  };\n  RadarSeriesModel.type = 'series.radar';\n  RadarSeriesModel.dependencies = ['radar'];\n  RadarSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    colorBy: 'data',\n    coordinateSystem: 'radar',\n    legendHoverLink: true,\n    radarIndex: 0,\n    lineStyle: {\n      width: 2,\n      type: 'solid',\n      join: 'round'\n    },\n    label: {\n      position: 'top'\n    },\n    // areaStyle: {\n    // },\n    // itemStyle: {}\n    symbolSize: 8\n    // symbolRotate: null\n  };\n  return RadarSeriesModel;\n}(SeriesModel);\nexport default RadarSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport radarLayout from '../radar/radarLayout.js';\nimport dataFilter from '../../processor/dataFilter.js';\nimport backwardCompat from '../radar/backwardCompat.js';\nimport RadarView from './RadarView.js';\nimport RadarSeriesModel from './RadarSeries.js';\nimport { install as installRadarComponent } from '../../component/radar/install.js';\nexport function install(registers) {\n  use(installRadarComponent);\n  registers.registerChartView(RadarView);\n  registers.registerSeriesModel(RadarSeriesModel);\n  registers.registerLayout(radarLayout);\n  registers.registerProcessor(dataFilter('radar'));\n  registers.registerPreprocessor(backwardCompat);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic.js';\nimport MapDraw from '../../component/helper/MapDraw.js';\nimport ChartView from '../../view/Chart.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport { setStatesFlag, Z2_EMPHASIS_LIFT } from '../../util/states.js';\nvar MapView = /** @class */function (_super) {\n  __extends(MapView, _super);\n  function MapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MapView.type;\n    return _this;\n  }\n  MapView.prototype.render = function (mapModel, ecModel, api, payload) {\n    // Not render if it is an toggleSelect action from self\n    if (payload && payload.type === 'mapToggleSelect' && payload.from === this.uid) {\n      return;\n    }\n    var group = this.group;\n    group.removeAll();\n    if (mapModel.getHostGeoModel()) {\n      return;\n    }\n    if (this._mapDraw && payload && payload.type === 'geoRoam') {\n      this._mapDraw.resetForLabelLayout();\n    }\n    // Not update map if it is an roam action from self\n    if (!(payload && payload.type === 'geoRoam' && payload.componentType === 'series' && payload.seriesId === mapModel.id)) {\n      if (mapModel.needsDrawMap) {\n        var mapDraw = this._mapDraw || new MapDraw(api);\n        group.add(mapDraw.group);\n        mapDraw.draw(mapModel, ecModel, api, this, payload);\n        this._mapDraw = mapDraw;\n      } else {\n        // Remove drawn map\n        this._mapDraw && this._mapDraw.remove();\n        this._mapDraw = null;\n      }\n    } else {\n      var mapDraw = this._mapDraw;\n      mapDraw && group.add(mapDraw.group);\n    }\n    mapModel.get('showLegendSymbol') && ecModel.getComponent('legend') && this._renderSymbols(mapModel, ecModel, api);\n  };\n  MapView.prototype.remove = function () {\n    this._mapDraw && this._mapDraw.remove();\n    this._mapDraw = null;\n    this.group.removeAll();\n  };\n  MapView.prototype.dispose = function () {\n    this._mapDraw && this._mapDraw.remove();\n    this._mapDraw = null;\n  };\n  MapView.prototype._renderSymbols = function (mapModel, ecModel, api) {\n    var originalData = mapModel.originalData;\n    var group = this.group;\n    originalData.each(originalData.mapDimension('value'), function (value, originalDataIndex) {\n      if (isNaN(value)) {\n        return;\n      }\n      var layout = originalData.getItemLayout(originalDataIndex);\n      if (!layout || !layout.point) {\n        // Not exists in map\n        return;\n      }\n      var point = layout.point;\n      var offset = layout.offset;\n      var circle = new graphic.Circle({\n        style: {\n          // Because the special of map draw.\n          // Which needs statistic of multiple series and draw on one map.\n          // And each series also need a symbol with legend color\n          //\n          // Layout and visual are put one the different data\n          // TODO\n          fill: mapModel.getData().getVisual('style').fill\n        },\n        shape: {\n          cx: point[0] + offset * 9,\n          cy: point[1],\n          r: 3\n        },\n        silent: true,\n        // Do not overlap the first series, on which labels are displayed.\n        z2: 8 + (!offset ? Z2_EMPHASIS_LIFT + 1 : 0)\n      });\n      // Only the series that has the first value on the same region is in charge of rendering the label.\n      // But consider the case:\n      // series: [\n      //     {id: 'X', type: 'map', map: 'm', {data: [{name: 'A', value: 11}, {name: 'B', {value: 22}]},\n      //     {id: 'Y', type: 'map', map: 'm', {data: [{name: 'A', value: 21}, {name: 'C', {value: 33}]}\n      // ]\n      // The offset `0` of item `A` is at series `X`, but of item `C` is at series `Y`.\n      // For backward compatibility, we follow the rule that render label `A` by the\n      // settings on series `X` but render label `C` by the settings on series `Y`.\n      if (!offset) {\n        var fullData = mapModel.mainSeries.getData();\n        var name_1 = originalData.getName(originalDataIndex);\n        var fullIndex_1 = fullData.indexOfName(name_1);\n        var itemModel = originalData.getItemModel(originalDataIndex);\n        var labelModel = itemModel.getModel('label');\n        var regionGroup = fullData.getItemGraphicEl(fullIndex_1);\n        // `getFormattedLabel` needs to use `getData` inside. Here\n        // `mapModel.getData()` is shallow cloned from `mainSeries.getData()`.\n        // FIXME\n        // If this is not the `mainSeries`, the item model (like label formatter)\n        // set on original data item will never get. But it has been working\n        // like that from the beginning, and this scenario is rarely encountered.\n        // So it won't be fixed until we have to.\n        setLabelStyle(circle, getLabelStatesModels(itemModel), {\n          labelFetcher: {\n            getFormattedLabel: function (idx, state) {\n              return mapModel.getFormattedLabel(fullIndex_1, state);\n            }\n          },\n          defaultText: name_1\n        });\n        circle.disableLabelAnimation = true;\n        if (!labelModel.get('position')) {\n          circle.setTextConfig({\n            position: 'bottom'\n          });\n        }\n        regionGroup.onHoverStateChange = function (toState) {\n          setStatesFlag(circle, toState);\n        };\n      }\n      group.add(circle);\n    });\n  };\n  MapView.type = 'map';\n  return MapView;\n}(ChartView);\nexport default MapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport createSeriesDataSimply from '../helper/createSeriesDataSimply.js';\nimport SeriesModel from '../../model/Series.js';\nimport geoSourceManager from '../../coord/geo/geoSourceManager.js';\nimport { makeSeriesEncodeForNameBased } from '../../data/helper/sourceHelper.js';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport { CoordinateSystemUsageKind, decideCoordSysUsageKind } from '../../core/CoordinateSystem.js';\nimport tokens from '../../visual/tokens.js';\nvar MapSeries = /** @class */function (_super) {\n  __extends(MapSeries, _super);\n  function MapSeries() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MapSeries.type;\n    // Only first map series of same mapType will drawMap.\n    _this.needsDrawMap = false;\n    // Group of all map series with same mapType\n    _this.seriesGroup = [];\n    _this.getTooltipPosition = function (dataIndex) {\n      if (dataIndex != null) {\n        var name_1 = this.getData().getName(dataIndex);\n        var geo = this.coordinateSystem;\n        var region = geo.getRegion(name_1);\n        return region && geo.dataToPoint(region.getCenter());\n      }\n    };\n    return _this;\n  }\n  MapSeries.prototype.getInitialData = function (option) {\n    var data = createSeriesDataSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n    var dataNameIndexMap = zrUtil.createHashMap();\n    var toAppendItems = [];\n    for (var i = 0, len = data.count(); i < len; i++) {\n      var name_2 = data.getName(i);\n      dataNameIndexMap.set(name_2, i);\n    }\n    var geoSource = geoSourceManager.load(this.getMapType(), this.option.nameMap, this.option.nameProperty);\n    zrUtil.each(geoSource.regions, function (region) {\n      var name = region.name;\n      var dataNameIdx = dataNameIndexMap.get(name);\n      // apply specified echarts style in GeoJSON data\n      var specifiedGeoJSONRegionStyle = region.properties && region.properties.echartsStyle;\n      var dataItem;\n      if (dataNameIdx == null) {\n        dataItem = {\n          name: name\n        };\n        toAppendItems.push(dataItem);\n      } else {\n        dataItem = data.getRawDataItem(dataNameIdx);\n      }\n      specifiedGeoJSONRegionStyle && zrUtil.merge(dataItem, specifiedGeoJSONRegionStyle);\n    });\n    // Complete data with missing regions. The consequent processes (like visual\n    // map and render) can not be performed without a \"full data\". For example,\n    // find `dataIndex` by name.\n    data.appendData(toAppendItems);\n    return data;\n  };\n  /**\n   * If no host geo model, return null, which means using a\n   * inner exclusive geo model.\n   */\n  MapSeries.prototype.getHostGeoModel = function () {\n    if (decideCoordSysUsageKind(this).kind === CoordinateSystemUsageKind.boxCoordSys) {\n      // Always use an internal geo if specify a boxCoordSys.\n      // Notice that currently we do not support laying out a geo based on\n      // another geo, but preserve the possibility.\n      return;\n    }\n    return this.getReferringComponents('geo', {\n      useDefault: false,\n      enableAll: false,\n      enableNone: false\n    }).models[0];\n  };\n  MapSeries.prototype.getMapType = function () {\n    return (this.getHostGeoModel() || this).option.map;\n  };\n  // _fillOption(option, mapName) {\n  // Shallow clone\n  // option = zrUtil.extend({}, option);\n  // option.data = geoCreator.getFilledRegions(option.data, mapName, option.nameMap);\n  // return option;\n  // }\n  MapSeries.prototype.getRawValue = function (dataIndex) {\n    // Use value stored in data instead because it is calculated from multiple series\n    // FIXME Provide all value of multiple series ?\n    var data = this.getData();\n    return data.get(data.mapDimension('value'), dataIndex);\n  };\n  /**\n   * Get model of region\n   */\n  MapSeries.prototype.getRegionModel = function (regionName) {\n    var data = this.getData();\n    return data.getItemModel(data.indexOfName(regionName));\n  };\n  /**\n   * Map tooltip formatter\n   */\n  MapSeries.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    // FIXME orignalData and data is a bit confusing\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var name = data.getName(dataIndex);\n    var seriesGroup = this.seriesGroup;\n    var seriesNames = [];\n    for (var i = 0; i < seriesGroup.length; i++) {\n      var otherIndex = seriesGroup[i].originalData.indexOfName(name);\n      var valueDim = data.mapDimension('value');\n      if (!isNaN(seriesGroup[i].originalData.get(valueDim, otherIndex))) {\n        seriesNames.push(seriesGroup[i].name);\n      }\n    }\n    return createTooltipMarkup('section', {\n      header: seriesNames.join(', '),\n      noHeader: !seriesNames.length,\n      blocks: [createTooltipMarkup('nameValue', {\n        name: name,\n        value: value\n      })]\n    });\n  };\n  MapSeries.prototype.setZoom = function (zoom) {\n    this.option.zoom = zoom;\n  };\n  MapSeries.prototype.setCenter = function (center) {\n    this.option.center = center;\n  };\n  MapSeries.prototype.getLegendIcon = function (opt) {\n    var iconType = opt.icon || 'roundRect';\n    var icon = createSymbol(iconType, 0, 0, opt.itemWidth, opt.itemHeight, opt.itemStyle.fill);\n    icon.setStyle(opt.itemStyle);\n    // Map do not use itemStyle.borderWidth as border width\n    icon.style.stroke = 'none';\n    // No rotation because no series visual symbol for map\n    if (iconType.indexOf('empty') > -1) {\n      icon.style.stroke = icon.style.fill;\n      icon.style.fill = tokens.color.neutral00;\n      icon.style.lineWidth = 2;\n    }\n    return icon;\n  };\n  MapSeries.type = 'series.map';\n  MapSeries.dependencies = ['geo'];\n  MapSeries.layoutMode = 'box';\n  MapSeries.defaultOption = {\n    // 一级层叠\n    // zlevel: 0,\n    // 二级层叠\n    z: 2,\n    coordinateSystem: 'geo',\n    // map should be explicitly specified since ec3.\n    map: '',\n    // If `geoIndex` is not specified, a exclusive geo will be\n    // created. Otherwise use the specified geo component, and\n    // `map` and `mapType` are ignored.\n    // geoIndex: 0,\n    // 'center' | 'left' | 'right' | 'x%' | {number}\n    left: 'center',\n    // 'center' | 'top' | 'bottom' | 'x%' | {number}\n    top: 'center',\n    // right\n    // bottom\n    // width:\n    // height\n    // Aspect is width / height. Inited to be geoJson bbox aspect\n    // This parameter is used for scale this aspect\n    // Default value:\n    // for geoSVG source: 1,\n    // for geoJSON source: 0.75.\n    aspectScale: null,\n    // Layout with center and size\n    // If you want to put map in a fixed size box with right aspect ratio\n    // This two properties may be more convenient.\n    // layoutCenter: [50%, 50%]\n    // layoutSize: 100\n    showLegendSymbol: true,\n    // Define left-top, right-bottom coords to control view\n    // For example, [ [180, 90], [-180, -90] ],\n    // higher priority than center and zoom\n    boundingCoords: null,\n    // Default on center of map\n    center: null,\n    zoom: 1,\n    scaleLimit: null,\n    selectedMode: true,\n    label: {\n      show: false,\n      color: tokens.color.tertiary\n    },\n    // scaleLimit: null,\n    itemStyle: {\n      borderWidth: 0.5,\n      borderColor: tokens.color.border,\n      areaColor: tokens.color.background\n    },\n    emphasis: {\n      label: {\n        show: true,\n        color: tokens.color.primary\n      },\n      itemStyle: {\n        areaColor: tokens.color.highlight\n      }\n    },\n    select: {\n      label: {\n        show: true,\n        color: tokens.color.primary\n      },\n      itemStyle: {\n        color: tokens.color.highlight\n      }\n    },\n    nameProperty: 'name'\n  };\n  return MapSeries;\n}(SeriesModel);\nexport default MapSeries;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\n// FIXME 公用？\nfunction dataStatistics(datas, statisticType) {\n  var dataNameMap = {};\n  zrUtil.each(datas, function (data) {\n    data.each(data.mapDimension('value'), function (value, idx) {\n      // Add prefix to avoid conflict with Object.prototype.\n      var mapKey = 'ec-' + data.getName(idx);\n      dataNameMap[mapKey] = dataNameMap[mapKey] || [];\n      if (!isNaN(value)) {\n        dataNameMap[mapKey].push(value);\n      }\n    });\n  });\n  return datas[0].map(datas[0].mapDimension('value'), function (value, idx) {\n    var mapKey = 'ec-' + datas[0].getName(idx);\n    var sum = 0;\n    var min = Infinity;\n    var max = -Infinity;\n    var len = dataNameMap[mapKey].length;\n    for (var i = 0; i < len; i++) {\n      min = Math.min(min, dataNameMap[mapKey][i]);\n      max = Math.max(max, dataNameMap[mapKey][i]);\n      sum += dataNameMap[mapKey][i];\n    }\n    var result;\n    if (statisticType === 'min') {\n      result = min;\n    } else if (statisticType === 'max') {\n      result = max;\n    } else if (statisticType === 'average') {\n      result = sum / len;\n    } else {\n      result = sum;\n    }\n    return len === 0 ? NaN : result;\n  });\n}\nexport default function mapDataStatistic(ecModel) {\n  var seriesGroups = {};\n  ecModel.eachSeriesByType('map', function (seriesModel) {\n    var hostGeoModel = seriesModel.getHostGeoModel();\n    var key = hostGeoModel ? 'o' + hostGeoModel.id : 'i' + seriesModel.getMapType();\n    (seriesGroups[key] = seriesGroups[key] || []).push(seriesModel);\n  });\n  zrUtil.each(seriesGroups, function (seriesList, key) {\n    var data = dataStatistics(zrUtil.map(seriesList, function (seriesModel) {\n      return seriesModel.getData();\n    }), seriesList[0].get('mapValueCalculation'));\n    for (var i = 0; i < seriesList.length; i++) {\n      seriesList[i].originalData = seriesList[i].getData();\n    }\n    // FIXME Put where?\n    for (var i = 0; i < seriesList.length; i++) {\n      seriesList[i].seriesGroup = seriesList;\n      seriesList[i].needsDrawMap = i === 0 && !seriesList[i].getHostGeoModel();\n      seriesList[i].setData(data.cloneShallow());\n      seriesList[i].mainSeries = seriesList[0];\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function mapSymbolLayout(ecModel) {\n  var processedMapType = {};\n  ecModel.eachSeriesByType('map', function (mapSeries) {\n    var mapType = mapSeries.getMapType();\n    if (mapSeries.getHostGeoModel() || processedMapType[mapType]) {\n      return;\n    }\n    var mapSymbolOffsets = {};\n    zrUtil.each(mapSeries.seriesGroup, function (subMapSeries) {\n      var geo = subMapSeries.coordinateSystem;\n      var data = subMapSeries.originalData;\n      if (subMapSeries.get('showLegendSymbol') && ecModel.getComponent('legend')) {\n        data.each(data.mapDimension('value'), function (value, idx) {\n          var name = data.getName(idx);\n          var region = geo.getRegion(name);\n          // If input series.data is [11, 22, '-'/null/undefined, 44],\n          // it will be filled with NaN: [11, 22, NaN, 44] and NaN will\n          // not be drawn. So here must validate if value is NaN.\n          if (!region || isNaN(value)) {\n            return;\n          }\n          var offset = mapSymbolOffsets[name] || 0;\n          var point = geo.dataToPoint(region.getCenter());\n          mapSymbolOffsets[name] = offset + 1;\n          data.setItemLayout(idx, {\n            point: point,\n            offset: offset\n          });\n        });\n      }\n    });\n    // Show label of those region not has legendIcon (which is offset 0)\n    var data = mapSeries.getData();\n    data.each(function (idx) {\n      var name = data.getName(idx);\n      var layout = data.getItemLayout(idx) || {};\n      layout.showLabel = !mapSymbolOffsets[name];\n      data.setItemLayout(idx, layout);\n    });\n    processedMapType[mapType] = true;\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport MapView from './MapView.js';\nimport MapSeries from './MapSeries.js';\nimport mapDataStatistic from './mapDataStatistic.js';\nimport mapSymbolLayout from './mapSymbolLayout.js';\nimport { createLegacyDataSelectAction } from '../../legacy/dataSelectAction.js';\nimport { install as installGeo } from '../../component/geo/install.js';\nexport function install(registers) {\n  use(installGeo);\n  registers.registerChartView(MapView);\n  registers.registerSeriesModel(MapSeries);\n  registers.registerLayout(mapSymbolLayout);\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, mapDataStatistic);\n  createLegacyDataSelectAction('map', registers.registerAction);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Initialize all computational message for following algorithm.\n */\nexport function init(inRoot) {\n  var root = inRoot;\n  root.hierNode = {\n    defaultAncestor: null,\n    ancestor: root,\n    prelim: 0,\n    modifier: 0,\n    change: 0,\n    shift: 0,\n    i: 0,\n    thread: null\n  };\n  var nodes = [root];\n  var node;\n  var children;\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    children = node.children;\n    if (node.isExpand && children.length) {\n      var n = children.length;\n      for (var i = n - 1; i >= 0; i--) {\n        var child = children[i];\n        child.hierNode = {\n          defaultAncestor: null,\n          ancestor: child,\n          prelim: 0,\n          modifier: 0,\n          change: 0,\n          shift: 0,\n          i: i,\n          thread: null\n        };\n        nodes.push(child);\n      }\n    }\n  }\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * Computes a preliminary x coordinate for node. Before that, this function is\n * applied recursively to the children of node, as well as the function\n * apportion(). After spacing out the children by calling executeShifts(), the\n * node is placed to the midpoint of its outermost children.\n */\nexport function firstWalk(node, separation) {\n  var children = node.isExpand ? node.children : [];\n  var siblings = node.parentNode.children;\n  var subtreeW = node.hierNode.i ? siblings[node.hierNode.i - 1] : null;\n  if (children.length) {\n    executeShifts(node);\n    var midPoint = (children[0].hierNode.prelim + children[children.length - 1].hierNode.prelim) / 2;\n    if (subtreeW) {\n      node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n      node.hierNode.modifier = node.hierNode.prelim - midPoint;\n    } else {\n      node.hierNode.prelim = midPoint;\n    }\n  } else if (subtreeW) {\n    node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n  }\n  node.parentNode.hierNode.defaultAncestor = apportion(node, subtreeW, node.parentNode.hierNode.defaultAncestor || siblings[0], separation);\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * Computes all real x-coordinates by summing up the modifiers recursively.\n */\nexport function secondWalk(node) {\n  var nodeX = node.hierNode.prelim + node.parentNode.hierNode.modifier;\n  node.setLayout({\n    x: nodeX\n  }, true);\n  node.hierNode.modifier += node.parentNode.hierNode.modifier;\n}\nexport function separation(cb) {\n  return arguments.length ? cb : defaultSeparation;\n}\n/**\n * Transform the common coordinate to radial coordinate.\n */\nexport function radialCoordinate(rad, r) {\n  rad -= Math.PI / 2;\n  return {\n    x: r * Math.cos(rad),\n    y: r * Math.sin(rad)\n  };\n}\n/**\n * All other shifts, applied to the smaller subtrees between w- and w+, are\n * performed by this function.\n *\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\nfunction executeShifts(node) {\n  var children = node.children;\n  var n = children.length;\n  var shift = 0;\n  var change = 0;\n  while (--n >= 0) {\n    var child = children[n];\n    child.hierNode.prelim += shift;\n    child.hierNode.modifier += shift;\n    change += child.hierNode.change;\n    shift += child.hierNode.shift + change;\n  }\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * The core of the algorithm. Here, a new subtree is combined with the\n * previous subtrees. Threads are used to traverse the inside and outside\n * contours of the left and right subtree up to the highest common level.\n * Whenever two nodes of the inside contours conflict, we compute the left\n * one of the greatest uncommon ancestors using the function nextAncestor()\n * and call moveSubtree() to shift the subtree and prepare the shifts of\n * smaller subtrees. Finally, we add a new thread (if necessary).\n */\nfunction apportion(subtreeV, subtreeW, ancestor, separation) {\n  if (subtreeW) {\n    var nodeOutRight = subtreeV;\n    var nodeInRight = subtreeV;\n    var nodeOutLeft = nodeInRight.parentNode.children[0];\n    var nodeInLeft = subtreeW;\n    var sumOutRight = nodeOutRight.hierNode.modifier;\n    var sumInRight = nodeInRight.hierNode.modifier;\n    var sumOutLeft = nodeOutLeft.hierNode.modifier;\n    var sumInLeft = nodeInLeft.hierNode.modifier;\n    while (nodeInLeft = nextRight(nodeInLeft), nodeInRight = nextLeft(nodeInRight), nodeInLeft && nodeInRight) {\n      nodeOutRight = nextRight(nodeOutRight);\n      nodeOutLeft = nextLeft(nodeOutLeft);\n      nodeOutRight.hierNode.ancestor = subtreeV;\n      var shift = nodeInLeft.hierNode.prelim + sumInLeft - nodeInRight.hierNode.prelim - sumInRight + separation(nodeInLeft, nodeInRight);\n      if (shift > 0) {\n        moveSubtree(nextAncestor(nodeInLeft, subtreeV, ancestor), subtreeV, shift);\n        sumInRight += shift;\n        sumOutRight += shift;\n      }\n      sumInLeft += nodeInLeft.hierNode.modifier;\n      sumInRight += nodeInRight.hierNode.modifier;\n      sumOutRight += nodeOutRight.hierNode.modifier;\n      sumOutLeft += nodeOutLeft.hierNode.modifier;\n    }\n    if (nodeInLeft && !nextRight(nodeOutRight)) {\n      nodeOutRight.hierNode.thread = nodeInLeft;\n      nodeOutRight.hierNode.modifier += sumInLeft - sumOutRight;\n    }\n    if (nodeInRight && !nextLeft(nodeOutLeft)) {\n      nodeOutLeft.hierNode.thread = nodeInRight;\n      nodeOutLeft.hierNode.modifier += sumInRight - sumOutLeft;\n      ancestor = subtreeV;\n    }\n  }\n  return ancestor;\n}\n/**\n * This function is used to traverse the right contour of a subtree.\n * It returns the rightmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n */\nfunction nextRight(node) {\n  var children = node.children;\n  return children.length && node.isExpand ? children[children.length - 1] : node.hierNode.thread;\n}\n/**\n * This function is used to traverse the left contour of a subtree (or a subforest).\n * It returns the leftmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n */\nfunction nextLeft(node) {\n  var children = node.children;\n  return children.length && node.isExpand ? children[0] : node.hierNode.thread;\n}\n/**\n * If nodeInLeft’s ancestor is a sibling of node, returns nodeInLeft’s ancestor.\n * Otherwise, returns the specified ancestor.\n */\nfunction nextAncestor(nodeInLeft, node, ancestor) {\n  return nodeInLeft.hierNode.ancestor.parentNode === node.parentNode ? nodeInLeft.hierNode.ancestor : ancestor;\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * Shifts the current subtree rooted at wr.\n * This is done by increasing prelim(w+) and modifier(w+) by shift.\n */\nfunction moveSubtree(wl, wr, shift) {\n  var change = shift / (wr.hierNode.i - wl.hierNode.i);\n  wr.hierNode.change -= change;\n  wr.hierNode.shift += shift;\n  wr.hierNode.modifier += shift;\n  wr.hierNode.prelim += shift;\n  wl.hierNode.change += change;\n}\n/**\n * The implementation of this function was originally copied from \"d3.js\"\n * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\nfunction defaultSeparation(node1, node2) {\n  return node1.parentNode === node2.parentNode ? 1 : 2;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport SymbolClz from '../helper/Symbol.js';\nimport { radialCoordinate } from './layoutHelper.js';\nimport * as bbox from 'zrender/lib/core/bbox.js';\nimport View from '../../coord/View.js';\nimport * as roamHelper from '../../component/helper/roamHelper.js';\nimport RoamController from '../../component/helper/RoamController.js';\nimport { parsePercent } from '../../util/number.js';\nimport ChartView from '../../view/Chart.js';\nimport Path from 'zrender/lib/graphic/Path.js';\nimport { setStatesStylesFromModel, setStatesFlag, setDefaultStateProxy, HOVER_STATE_BLUR } from '../../util/states.js';\nimport tokens from '../../visual/tokens.js';\nvar TreeEdgeShape = /** @class */function () {\n  function TreeEdgeShape() {\n    this.parentPoint = [];\n    this.childPoints = [];\n  }\n  return TreeEdgeShape;\n}();\nvar TreePath = /** @class */function (_super) {\n  __extends(TreePath, _super);\n  function TreePath(opts) {\n    return _super.call(this, opts) || this;\n  }\n  TreePath.prototype.getDefaultStyle = function () {\n    return {\n      stroke: tokens.color.neutral99,\n      fill: null\n    };\n  };\n  TreePath.prototype.getDefaultShape = function () {\n    return new TreeEdgeShape();\n  };\n  TreePath.prototype.buildPath = function (ctx, shape) {\n    var childPoints = shape.childPoints;\n    var childLen = childPoints.length;\n    var parentPoint = shape.parentPoint;\n    var firstChildPos = childPoints[0];\n    var lastChildPos = childPoints[childLen - 1];\n    if (childLen === 1) {\n      ctx.moveTo(parentPoint[0], parentPoint[1]);\n      ctx.lineTo(firstChildPos[0], firstChildPos[1]);\n      return;\n    }\n    var orient = shape.orient;\n    var forkDim = orient === 'TB' || orient === 'BT' ? 0 : 1;\n    var otherDim = 1 - forkDim;\n    var forkPosition = parsePercent(shape.forkPosition, 1);\n    var tmpPoint = [];\n    tmpPoint[forkDim] = parentPoint[forkDim];\n    tmpPoint[otherDim] = parentPoint[otherDim] + (lastChildPos[otherDim] - parentPoint[otherDim]) * forkPosition;\n    ctx.moveTo(parentPoint[0], parentPoint[1]);\n    ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    ctx.moveTo(firstChildPos[0], firstChildPos[1]);\n    tmpPoint[forkDim] = firstChildPos[forkDim];\n    ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    tmpPoint[forkDim] = lastChildPos[forkDim];\n    ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    ctx.lineTo(lastChildPos[0], lastChildPos[1]);\n    for (var i = 1; i < childLen - 1; i++) {\n      var point = childPoints[i];\n      ctx.moveTo(point[0], point[1]);\n      tmpPoint[forkDim] = point[forkDim];\n      ctx.lineTo(tmpPoint[0], tmpPoint[1]);\n    }\n  };\n  return TreePath;\n}(Path);\nvar TreeView = /** @class */function (_super) {\n  __extends(TreeView, _super);\n  function TreeView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TreeView.type;\n    _this._mainGroup = new graphic.Group();\n    return _this;\n  }\n  TreeView.prototype.init = function (ecModel, api) {\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: this.group\n    };\n    this.group.add(this._mainGroup);\n  };\n  TreeView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var layoutInfo = seriesModel.layoutInfo;\n    var group = this._mainGroup;\n    var layout = seriesModel.get('layout');\n    if (layout === 'radial') {\n      group.x = layoutInfo.x + layoutInfo.width / 2;\n      group.y = layoutInfo.y + layoutInfo.height / 2;\n    } else {\n      group.x = layoutInfo.x;\n      group.y = layoutInfo.y;\n    }\n    this._updateViewCoordSys(seriesModel, api);\n    this._updateController(seriesModel, null, ecModel, api);\n    var oldData = this._data;\n    data.diff(oldData).add(function (newIdx) {\n      if (symbolNeedsDraw(data, newIdx)) {\n        // Create node and edge\n        updateNode(data, newIdx, null, group, seriesModel);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      if (!symbolNeedsDraw(data, newIdx)) {\n        symbolEl && removeNode(oldData, oldIdx, symbolEl, group, seriesModel);\n        return;\n      }\n      // Update node and edge\n      updateNode(data, newIdx, symbolEl, group, seriesModel);\n    }).remove(function (oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      // When remove a collapsed node of subtree, since the collapsed\n      // node haven't been initialized with a symbol element,\n      // you can't found it's symbol element through index.\n      // so if we want to remove the symbol element we should insure\n      // that the symbol element is not null.\n      if (symbolEl) {\n        removeNode(oldData, oldIdx, symbolEl, group, seriesModel);\n      }\n    }).execute();\n    this._nodeScaleRatio = seriesModel.get('nodeScaleRatio');\n    this._updateNodeAndLinkScale(seriesModel);\n    if (seriesModel.get('expandAndCollapse') === true) {\n      data.eachItemGraphicEl(function (el, dataIndex) {\n        el.off('click').on('click', function () {\n          api.dispatchAction({\n            type: 'treeExpandAndCollapse',\n            seriesId: seriesModel.id,\n            dataIndex: dataIndex\n          });\n        });\n      });\n    }\n    this._data = data;\n  };\n  TreeView.prototype._updateViewCoordSys = function (seriesModel, api) {\n    var data = seriesModel.getData();\n    var points = [];\n    data.each(function (idx) {\n      var layout = data.getItemLayout(idx);\n      if (layout && !isNaN(layout.x) && !isNaN(layout.y)) {\n        points.push([+layout.x, +layout.y]);\n      }\n    });\n    var min = [];\n    var max = [];\n    bbox.fromPoints(points, min, max);\n    // If don't Store min max when collapse the root node after roam,\n    // the root node will disappear.\n    var oldMin = this._min;\n    var oldMax = this._max;\n    // If width or height is 0\n    if (max[0] - min[0] === 0) {\n      min[0] = oldMin ? oldMin[0] : min[0] - 1;\n      max[0] = oldMax ? oldMax[0] : max[0] + 1;\n    }\n    if (max[1] - min[1] === 0) {\n      min[1] = oldMin ? oldMin[1] : min[1] - 1;\n      max[1] = oldMax ? oldMax[1] : max[1] + 1;\n    }\n    var viewCoordSys = seriesModel.coordinateSystem = new View(null, {\n      api: api,\n      ecModel: seriesModel.ecModel\n    });\n    viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n    viewCoordSys.setBoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    viewCoordSys.setCenter(seriesModel.get('center'));\n    viewCoordSys.setZoom(seriesModel.get('zoom'));\n    // Here we use viewCoordSys just for computing the 'position' and 'scale' of the group,\n    // and 'treeRoam' action.\n    this.group.attr({\n      x: viewCoordSys.x,\n      y: viewCoordSys.y,\n      scaleX: viewCoordSys.scaleX,\n      scaleY: viewCoordSys.scaleY\n    });\n    this._min = min;\n    this._max = max;\n  };\n  TreeView.prototype._updateController = function (seriesModel, clipRect, ecModel, api) {\n    var _this = this;\n    roamHelper.updateController(seriesModel, api, this.group, this._controller, this._controllerHost, clipRect);\n    this._controller.on('zoom', function (e) {\n      _this._updateNodeAndLinkScale(seriesModel);\n    });\n  };\n  TreeView.prototype._updateNodeAndLinkScale = function (seriesModel) {\n    var data = seriesModel.getData();\n    var nodeScale = this._getNodeGlobalScale(seriesModel);\n    data.eachItemGraphicEl(function (el, idx) {\n      el.setSymbolScale(nodeScale);\n    });\n  };\n  TreeView.prototype._getNodeGlobalScale = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys.type !== 'view') {\n      return 1;\n    }\n    var nodeScaleRatio = this._nodeScaleRatio;\n    var groupZoom = coordSys.scaleX || 1;\n    // Scale node when zoom changes\n    var roamZoom = coordSys.getZoom();\n    var nodeScale = (roamZoom - 1) * nodeScaleRatio + 1;\n    return nodeScale / groupZoom;\n  };\n  TreeView.prototype.dispose = function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = null;\n  };\n  TreeView.prototype.remove = function () {\n    this._mainGroup.removeAll();\n    this._data = null;\n  };\n  TreeView.type = 'tree';\n  return TreeView;\n}(ChartView);\nfunction symbolNeedsDraw(data, dataIndex) {\n  var layout = data.getItemLayout(dataIndex);\n  return layout && !isNaN(layout.x) && !isNaN(layout.y);\n}\nfunction updateNode(data, dataIndex, symbolEl, group, seriesModel) {\n  var isInit = !symbolEl;\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var itemModel = node.getModel();\n  var visualColor = node.getVisual('style').fill;\n  var symbolInnerColor = node.isExpand === false && node.children.length !== 0 ? visualColor : tokens.color.neutral00;\n  var virtualRoot = data.tree.root;\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var sourceSymbolEl = data.getItemGraphicEl(source.dataIndex);\n  var sourceLayout = source.getLayout();\n  var sourceOldLayout = sourceSymbolEl ? {\n    x: sourceSymbolEl.__oldX,\n    y: sourceSymbolEl.__oldY,\n    rawX: sourceSymbolEl.__radialOldRawX,\n    rawY: sourceSymbolEl.__radialOldRawY\n  } : sourceLayout;\n  var targetLayout = node.getLayout();\n  if (isInit) {\n    symbolEl = new SymbolClz(data, dataIndex, null, {\n      symbolInnerColor: symbolInnerColor,\n      useNameLabel: true\n    });\n    symbolEl.x = sourceOldLayout.x;\n    symbolEl.y = sourceOldLayout.y;\n  } else {\n    symbolEl.updateData(data, dataIndex, null, {\n      symbolInnerColor: symbolInnerColor,\n      useNameLabel: true\n    });\n  }\n  symbolEl.__radialOldRawX = symbolEl.__radialRawX;\n  symbolEl.__radialOldRawY = symbolEl.__radialRawY;\n  symbolEl.__radialRawX = targetLayout.rawX;\n  symbolEl.__radialRawY = targetLayout.rawY;\n  group.add(symbolEl);\n  data.setItemGraphicEl(dataIndex, symbolEl);\n  symbolEl.__oldX = symbolEl.x;\n  symbolEl.__oldY = symbolEl.y;\n  graphic.updateProps(symbolEl, {\n    x: targetLayout.x,\n    y: targetLayout.y\n  }, seriesModel);\n  var symbolPath = symbolEl.getSymbolPath();\n  if (seriesModel.get('layout') === 'radial') {\n    var realRoot = virtualRoot.children[0];\n    var rootLayout = realRoot.getLayout();\n    var length_1 = realRoot.children.length;\n    var rad = void 0;\n    var isLeft = void 0;\n    if (targetLayout.x === rootLayout.x && node.isExpand === true && realRoot.children.length) {\n      var center = {\n        x: (realRoot.children[0].getLayout().x + realRoot.children[length_1 - 1].getLayout().x) / 2,\n        y: (realRoot.children[0].getLayout().y + realRoot.children[length_1 - 1].getLayout().y) / 2\n      };\n      rad = Math.atan2(center.y - rootLayout.y, center.x - rootLayout.x);\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n      isLeft = center.x < rootLayout.x;\n      if (isLeft) {\n        rad = rad - Math.PI;\n      }\n    } else {\n      rad = Math.atan2(targetLayout.y - rootLayout.y, targetLayout.x - rootLayout.x);\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n      if (node.children.length === 0 || node.children.length !== 0 && node.isExpand === false) {\n        isLeft = targetLayout.x < rootLayout.x;\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n      } else {\n        isLeft = targetLayout.x > rootLayout.x;\n        if (!isLeft) {\n          rad = rad - Math.PI;\n        }\n      }\n    }\n    var textPosition = isLeft ? 'left' : 'right';\n    var normalLabelModel = itemModel.getModel('label');\n    var rotate = normalLabelModel.get('rotate');\n    var labelRotateRadian = rotate * (Math.PI / 180);\n    var textContent = symbolPath.getTextContent();\n    if (textContent) {\n      symbolPath.setTextConfig({\n        position: normalLabelModel.get('position') || textPosition,\n        rotation: rotate == null ? -rad : labelRotateRadian,\n        origin: 'center'\n      });\n      textContent.setStyle('verticalAlign', 'middle');\n    }\n  }\n  // Handle status\n  var focus = itemModel.get(['emphasis', 'focus']);\n  var focusDataIndices = focus === 'relative' ? zrUtil.concatArray(node.getAncestorsIndices(), node.getDescendantIndices()) : focus === 'ancestor' ? node.getAncestorsIndices() : focus === 'descendant' ? node.getDescendantIndices() : null;\n  if (focusDataIndices) {\n    // Modify the focus to data indices.\n    getECData(symbolEl).focus = focusDataIndices;\n  }\n  drawEdge(seriesModel, node, virtualRoot, symbolEl, sourceOldLayout, sourceLayout, targetLayout, group);\n  if (symbolEl.__edge) {\n    symbolEl.onHoverStateChange = function (toState) {\n      if (toState !== 'blur') {\n        // NOTE: Ensure the parent elements will been blurred firstly.\n        // According to the return of getAncestorsIndices and getDescendantIndices\n        // TODO: A bit tricky.\n        var parentEl = node.parentNode && data.getItemGraphicEl(node.parentNode.dataIndex);\n        if (!(parentEl && parentEl.hoverState === HOVER_STATE_BLUR)) {\n          setStatesFlag(symbolEl.__edge, toState);\n        }\n      }\n    };\n  }\n}\nfunction drawEdge(seriesModel, node, virtualRoot, symbolEl, sourceOldLayout, sourceLayout, targetLayout, group) {\n  var itemModel = node.getModel();\n  var edgeShape = seriesModel.get('edgeShape');\n  var layout = seriesModel.get('layout');\n  var orient = seriesModel.getOrient();\n  var curvature = seriesModel.get(['lineStyle', 'curveness']);\n  var edgeForkPosition = seriesModel.get('edgeForkPosition');\n  var lineStyle = itemModel.getModel('lineStyle').getLineStyle();\n  var edge = symbolEl.__edge;\n  // curve edge from node -> parent\n  // polyline edge from node -> children\n  if (edgeShape === 'curve') {\n    if (node.parentNode && node.parentNode !== virtualRoot) {\n      if (!edge) {\n        edge = symbolEl.__edge = new graphic.BezierCurve({\n          shape: getEdgeShape(layout, orient, curvature, sourceOldLayout, sourceOldLayout)\n        });\n      }\n      graphic.updateProps(edge, {\n        shape: getEdgeShape(layout, orient, curvature, sourceLayout, targetLayout)\n      }, seriesModel);\n    }\n  } else if (edgeShape === 'polyline') {\n    if (layout === 'orthogonal') {\n      if (node !== virtualRoot && node.children && node.children.length !== 0 && node.isExpand === true) {\n        var children = node.children;\n        var childPoints = [];\n        for (var i = 0; i < children.length; i++) {\n          var childLayout = children[i].getLayout();\n          childPoints.push([childLayout.x, childLayout.y]);\n        }\n        if (!edge) {\n          edge = symbolEl.__edge = new TreePath({\n            shape: {\n              parentPoint: [targetLayout.x, targetLayout.y],\n              childPoints: [[targetLayout.x, targetLayout.y]],\n              orient: orient,\n              forkPosition: edgeForkPosition\n            }\n          });\n        }\n        graphic.updateProps(edge, {\n          shape: {\n            parentPoint: [targetLayout.x, targetLayout.y],\n            childPoints: childPoints\n          }\n        }, seriesModel);\n      }\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        throw new Error('The polyline edgeShape can only be used in orthogonal layout');\n      }\n    }\n  }\n  // show all edge when edgeShape is 'curve', filter node `isExpand` is false when edgeShape is 'polyline'\n  if (edge && !(edgeShape === 'polyline' && !node.isExpand)) {\n    edge.useStyle(zrUtil.defaults({\n      strokeNoScale: true,\n      fill: null\n    }, lineStyle));\n    setStatesStylesFromModel(edge, itemModel, 'lineStyle');\n    setDefaultStateProxy(edge);\n    group.add(edge);\n  }\n}\nfunction removeNodeEdge(node, data, group, seriesModel, removeAnimationOpt) {\n  var virtualRoot = data.tree.root;\n  var _a = getSourceNode(virtualRoot, node),\n    source = _a.source,\n    sourceLayout = _a.sourceLayout;\n  var symbolEl = data.getItemGraphicEl(node.dataIndex);\n  if (!symbolEl) {\n    return;\n  }\n  var sourceSymbolEl = data.getItemGraphicEl(source.dataIndex);\n  var sourceEdge = sourceSymbolEl.__edge;\n  // 1. when expand the sub tree, delete the children node should delete the edge of\n  // the source at the same time. because the polyline edge shape is only owned by the source.\n  // 2.when the node is the only children of the source, delete the node should delete the edge of\n  // the source at the same time. the same reason as above.\n  var edge = symbolEl.__edge || (source.isExpand === false || source.children.length === 1 ? sourceEdge : undefined);\n  var edgeShape = seriesModel.get('edgeShape');\n  var layoutOpt = seriesModel.get('layout');\n  var orient = seriesModel.get('orient');\n  var curvature = seriesModel.get(['lineStyle', 'curveness']);\n  if (edge) {\n    if (edgeShape === 'curve') {\n      graphic.removeElement(edge, {\n        shape: getEdgeShape(layoutOpt, orient, curvature, sourceLayout, sourceLayout),\n        style: {\n          opacity: 0\n        }\n      }, seriesModel, {\n        cb: function () {\n          group.remove(edge);\n        },\n        removeOpt: removeAnimationOpt\n      });\n    } else if (edgeShape === 'polyline' && seriesModel.get('layout') === 'orthogonal') {\n      graphic.removeElement(edge, {\n        shape: {\n          parentPoint: [sourceLayout.x, sourceLayout.y],\n          childPoints: [[sourceLayout.x, sourceLayout.y]]\n        },\n        style: {\n          opacity: 0\n        }\n      }, seriesModel, {\n        cb: function () {\n          group.remove(edge);\n        },\n        removeOpt: removeAnimationOpt\n      });\n    }\n  }\n}\nfunction getSourceNode(virtualRoot, node) {\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var sourceLayout;\n  while (sourceLayout = source.getLayout(), sourceLayout == null) {\n    source = source.parentNode === virtualRoot ? source : source.parentNode || source;\n  }\n  return {\n    source: source,\n    sourceLayout: sourceLayout\n  };\n}\nfunction removeNode(data, dataIndex, symbolEl, group, seriesModel) {\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var virtualRoot = data.tree.root;\n  var sourceLayout = getSourceNode(virtualRoot, node).sourceLayout;\n  // Use same duration and easing with update to have more consistent animation.\n  var removeAnimationOpt = {\n    duration: seriesModel.get('animationDurationUpdate'),\n    easing: seriesModel.get('animationEasingUpdate')\n  };\n  graphic.removeElement(symbolEl, {\n    x: sourceLayout.x + 1,\n    y: sourceLayout.y + 1\n  }, seriesModel, {\n    cb: function () {\n      group.remove(symbolEl);\n      data.setItemGraphicEl(dataIndex, null);\n    },\n    removeOpt: removeAnimationOpt\n  });\n  symbolEl.fadeOut(null, data.hostModel, {\n    fadeLabel: true,\n    animation: removeAnimationOpt\n  });\n  // remove edge as parent node\n  node.children.forEach(function (childNode) {\n    removeNodeEdge(childNode, data, group, seriesModel, removeAnimationOpt);\n  });\n  // remove edge as child node\n  removeNodeEdge(node, data, group, seriesModel, removeAnimationOpt);\n}\nfunction getEdgeShape(layoutOpt, orient, curvature, sourceLayout, targetLayout) {\n  var cpx1;\n  var cpy1;\n  var cpx2;\n  var cpy2;\n  var x1;\n  var x2;\n  var y1;\n  var y2;\n  if (layoutOpt === 'radial') {\n    x1 = sourceLayout.rawX;\n    y1 = sourceLayout.rawY;\n    x2 = targetLayout.rawX;\n    y2 = targetLayout.rawY;\n    var radialCoor1 = radialCoordinate(x1, y1);\n    var radialCoor2 = radialCoordinate(x1, y1 + (y2 - y1) * curvature);\n    var radialCoor3 = radialCoordinate(x2, y2 + (y1 - y2) * curvature);\n    var radialCoor4 = radialCoordinate(x2, y2);\n    return {\n      x1: radialCoor1.x || 0,\n      y1: radialCoor1.y || 0,\n      x2: radialCoor4.x || 0,\n      y2: radialCoor4.y || 0,\n      cpx1: radialCoor2.x || 0,\n      cpy1: radialCoor2.y || 0,\n      cpx2: radialCoor3.x || 0,\n      cpy2: radialCoor3.y || 0\n    };\n  } else {\n    x1 = sourceLayout.x;\n    y1 = sourceLayout.y;\n    x2 = targetLayout.x;\n    y2 = targetLayout.y;\n    if (orient === 'LR' || orient === 'RL') {\n      cpx1 = x1 + (x2 - x1) * curvature;\n      cpy1 = y1;\n      cpx2 = x2 + (x1 - x2) * curvature;\n      cpy2 = y2;\n    }\n    if (orient === 'TB' || orient === 'BT') {\n      cpx1 = x1;\n      cpy1 = y1 + (y2 - y1) * curvature;\n      cpx2 = x2;\n      cpy2 = y2 + (y1 - y2) * curvature;\n    }\n  }\n  return {\n    x1: x1,\n    y1: y1,\n    x2: x2,\n    y2: y2,\n    cpx1: cpx1,\n    cpy1: cpy1,\n    cpx2: cpx2,\n    cpy2: cpy2\n  };\n}\nexport default TreeView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Link lists and struct (graph or tree)\n */\nimport { curry, each, assert, extend, map, keys } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nfunction linkSeriesData(opt) {\n  var mainData = opt.mainData;\n  var datas = opt.datas;\n  if (!datas) {\n    datas = {\n      main: mainData\n    };\n    opt.datasAttr = {\n      main: 'data'\n    };\n  }\n  opt.datas = opt.mainData = null;\n  linkAll(mainData, datas, opt);\n  // Porxy data original methods.\n  each(datas, function (data) {\n    each(mainData.TRANSFERABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, curry(transferInjection, opt));\n    });\n  });\n  // Beyond transfer, additional features should be added to `cloneShallow`.\n  mainData.wrapMethod('cloneShallow', curry(cloneShallowInjection, opt));\n  // Only mainData trigger change, because struct.update may trigger\n  // another changable methods, which may bring about dead lock.\n  each(mainData.CHANGABLE_METHODS, function (methodName) {\n    mainData.wrapMethod(methodName, curry(changeInjection, opt));\n  });\n  // Make sure datas contains mainData.\n  assert(datas[mainData.dataType] === mainData);\n}\nfunction transferInjection(opt, res) {\n  if (isMainData(this)) {\n    // Transfer datas to new main data.\n    var datas = extend({}, inner(this).datas);\n    datas[this.dataType] = res;\n    linkAll(res, datas, opt);\n  } else {\n    // Modify the reference in main data to point newData.\n    linkSingle(res, this.dataType, inner(this).mainData, opt);\n  }\n  return res;\n}\nfunction changeInjection(opt, res) {\n  opt.struct && opt.struct.update();\n  return res;\n}\nfunction cloneShallowInjection(opt, res) {\n  // cloneShallow, which brings about some fragilities, may be inappropriate\n  // to be exposed as an API. So for implementation simplicity we can make\n  // the restriction that cloneShallow of not-mainData should not be invoked\n  // outside, but only be invoked here.\n  each(inner(res).datas, function (data, dataType) {\n    data !== res && linkSingle(data.cloneShallow(), dataType, res, opt);\n  });\n  return res;\n}\n/**\n * Supplement method to List.\n *\n * @public\n * @param [dataType] If not specified, return mainData.\n */\nfunction getLinkedData(dataType) {\n  var mainData = inner(this).mainData;\n  return dataType == null || mainData == null ? mainData : inner(mainData).datas[dataType];\n}\n/**\n * Get list of all linked data\n */\nfunction getLinkedDataAll() {\n  var mainData = inner(this).mainData;\n  return mainData == null ? [{\n    data: mainData\n  }] : map(keys(inner(mainData).datas), function (type) {\n    return {\n      type: type,\n      data: inner(mainData).datas[type]\n    };\n  });\n}\nfunction isMainData(data) {\n  return inner(data).mainData === data;\n}\nfunction linkAll(mainData, datas, opt) {\n  inner(mainData).datas = {};\n  each(datas, function (data, dataType) {\n    linkSingle(data, dataType, mainData, opt);\n  });\n}\nfunction linkSingle(data, dataType, mainData, opt) {\n  inner(mainData).datas[dataType] = data;\n  inner(data).mainData = mainData;\n  data.dataType = dataType;\n  if (opt.struct) {\n    data[opt.structAttr] = opt.struct;\n    opt.struct[opt.datasAttr[dataType]] = data;\n  }\n  // Supplement method.\n  data.getLinkedData = getLinkedData;\n  data.getLinkedDataAll = getLinkedDataAll;\n}\nexport default linkSeriesData;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Tree data structure\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport linkSeriesData from './helper/linkSeriesData.js';\nimport SeriesData from './SeriesData.js';\nimport prepareSeriesDataSchema from './helper/createDimensions.js';\nimport { convertOptionIdName } from '../util/model.js';\nvar TreeNode = /** @class */function () {\n  function TreeNode(name, hostTree) {\n    this.depth = 0;\n    this.height = 0;\n    /**\n     * Reference to list item.\n     * Do not persistent dataIndex outside,\n     * besause it may be changed by list.\n     * If dataIndex -1,\n     * this node is logical deleted (filtered) in list.\n     */\n    this.dataIndex = -1;\n    this.children = [];\n    this.viewChildren = [];\n    this.isExpand = false;\n    this.name = name || '';\n    this.hostTree = hostTree;\n  }\n  /**\n   * The node is removed.\n   */\n  TreeNode.prototype.isRemoved = function () {\n    return this.dataIndex < 0;\n  };\n  TreeNode.prototype.eachNode = function (options, cb, context) {\n    if (zrUtil.isFunction(options)) {\n      context = cb;\n      cb = options;\n      options = null;\n    }\n    options = options || {};\n    if (zrUtil.isString(options)) {\n      options = {\n        order: options\n      };\n    }\n    var order = options.order || 'preorder';\n    var children = this[options.attr || 'children'];\n    var suppressVisitSub;\n    order === 'preorder' && (suppressVisitSub = cb.call(context, this));\n    for (var i = 0; !suppressVisitSub && i < children.length; i++) {\n      children[i].eachNode(options, cb, context);\n    }\n    order === 'postorder' && cb.call(context, this);\n  };\n  /**\n   * Update depth and height of this subtree.\n   */\n  TreeNode.prototype.updateDepthAndHeight = function (depth) {\n    var height = 0;\n    this.depth = depth;\n    for (var i = 0; i < this.children.length; i++) {\n      var child = this.children[i];\n      child.updateDepthAndHeight(depth + 1);\n      if (child.height > height) {\n        height = child.height;\n      }\n    }\n    this.height = height + 1;\n  };\n  TreeNode.prototype.getNodeById = function (id) {\n    if (this.getId() === id) {\n      return this;\n    }\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].getNodeById(id);\n      if (res) {\n        return res;\n      }\n    }\n  };\n  TreeNode.prototype.contains = function (node) {\n    if (node === this) {\n      return true;\n    }\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].contains(node);\n      if (res) {\n        return res;\n      }\n    }\n  };\n  /**\n   * @param includeSelf Default false.\n   * @return order: [root, child, grandchild, ...]\n   */\n  TreeNode.prototype.getAncestors = function (includeSelf) {\n    var ancestors = [];\n    var node = includeSelf ? this : this.parentNode;\n    while (node) {\n      ancestors.push(node);\n      node = node.parentNode;\n    }\n    ancestors.reverse();\n    return ancestors;\n  };\n  TreeNode.prototype.getAncestorsIndices = function () {\n    var indices = [];\n    var currNode = this;\n    while (currNode) {\n      indices.push(currNode.dataIndex);\n      currNode = currNode.parentNode;\n    }\n    indices.reverse();\n    return indices;\n  };\n  TreeNode.prototype.getDescendantIndices = function () {\n    var indices = [];\n    this.eachNode(function (childNode) {\n      indices.push(childNode.dataIndex);\n    });\n    return indices;\n  };\n  TreeNode.prototype.getValue = function (dimension) {\n    var data = this.hostTree.data;\n    return data.getStore().get(data.getDimensionIndex(dimension || 'value'), this.dataIndex);\n  };\n  TreeNode.prototype.setLayout = function (layout, merge) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, layout, merge);\n  };\n  /**\n   * @return {Object} layout\n   */\n  TreeNode.prototype.getLayout = function () {\n    return this.hostTree.data.getItemLayout(this.dataIndex);\n  };\n  // @depcrecated\n  // getModel<T = unknown, S extends keyof T = keyof T>(path: S): Model<T[S]>\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  TreeNode.prototype.getModel = function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n    var hostTree = this.hostTree;\n    var itemModel = hostTree.data.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  };\n  // TODO: TYPE More specific model\n  TreeNode.prototype.getLevelModel = function () {\n    return (this.hostTree.levelModels || [])[this.depth];\n  };\n  TreeNode.prototype.setVisual = function (key, value) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, key, value);\n  };\n  /**\n   * Get item visual\n   * FIXME: make return type better\n   */\n  TreeNode.prototype.getVisual = function (key) {\n    return this.hostTree.data.getItemVisual(this.dataIndex, key);\n  };\n  TreeNode.prototype.getRawIndex = function () {\n    return this.hostTree.data.getRawIndex(this.dataIndex);\n  };\n  TreeNode.prototype.getId = function () {\n    return this.hostTree.data.getId(this.dataIndex);\n  };\n  /**\n   * index in parent's children\n   */\n  TreeNode.prototype.getChildIndex = function () {\n    if (this.parentNode) {\n      var children = this.parentNode.children;\n      for (var i = 0; i < children.length; ++i) {\n        if (children[i] === this) {\n          return i;\n        }\n      }\n      return -1;\n    }\n    return -1;\n  };\n  /**\n   * if this is an ancestor of another node\n   *\n   * @param node another node\n   * @return if is ancestor\n   */\n  TreeNode.prototype.isAncestorOf = function (node) {\n    var parent = node.parentNode;\n    while (parent) {\n      if (parent === this) {\n        return true;\n      }\n      parent = parent.parentNode;\n    }\n    return false;\n  };\n  /**\n   * if this is an descendant of another node\n   *\n   * @param node another node\n   * @return if is descendant\n   */\n  TreeNode.prototype.isDescendantOf = function (node) {\n    return node !== this && node.isAncestorOf(this);\n  };\n  return TreeNode;\n}();\nexport { TreeNode };\n;\nvar Tree = /** @class */function () {\n  function Tree(hostModel) {\n    this.type = 'tree';\n    this._nodes = [];\n    this.hostModel = hostModel;\n  }\n  Tree.prototype.eachNode = function (options, cb, context) {\n    this.root.eachNode(options, cb, context);\n  };\n  Tree.prototype.getNodeByDataIndex = function (dataIndex) {\n    var rawIndex = this.data.getRawIndex(dataIndex);\n    return this._nodes[rawIndex];\n  };\n  Tree.prototype.getNodeById = function (name) {\n    return this.root.getNodeById(name);\n  };\n  /**\n   * Update item available by list,\n   * when list has been performed options like 'filterSelf' or 'map'.\n   */\n  Tree.prototype.update = function () {\n    var data = this.data;\n    var nodes = this._nodes;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      nodes[i].dataIndex = -1;\n    }\n    for (var i = 0, len = data.count(); i < len; i++) {\n      nodes[data.getRawIndex(i)].dataIndex = i;\n    }\n  };\n  /**\n   * Clear all layouts\n   */\n  Tree.prototype.clearLayouts = function () {\n    this.data.clearItemLayouts();\n  };\n  /**\n   * data node format:\n   * {\n   *     name: ...\n   *     value: ...\n   *     children: [\n   *         {\n   *             name: ...\n   *             value: ...\n   *             children: ...\n   *         },\n   *         ...\n   *     ]\n   * }\n   */\n  Tree.createTree = function (dataRoot, hostModel, beforeLink) {\n    var tree = new Tree(hostModel);\n    var listData = [];\n    var dimMax = 1;\n    buildHierarchy(dataRoot);\n    function buildHierarchy(dataNode, parentNode) {\n      var value = dataNode.value;\n      dimMax = Math.max(dimMax, zrUtil.isArray(value) ? value.length : 1);\n      listData.push(dataNode);\n      var node = new TreeNode(convertOptionIdName(dataNode.name, ''), tree);\n      parentNode ? addChild(node, parentNode) : tree.root = node;\n      tree._nodes.push(node);\n      var children = dataNode.children;\n      if (children) {\n        for (var i = 0; i < children.length; i++) {\n          buildHierarchy(children[i], node);\n        }\n      }\n    }\n    tree.root.updateDepthAndHeight(0);\n    var dimensions = prepareSeriesDataSchema(listData, {\n      coordDimensions: ['value'],\n      dimensionsCount: dimMax\n    }).dimensions;\n    var list = new SeriesData(dimensions, hostModel);\n    list.initData(listData);\n    beforeLink && beforeLink(list);\n    linkSeriesData({\n      mainData: list,\n      struct: tree,\n      structAttr: 'tree'\n    });\n    tree.update();\n    return tree;\n  };\n  return Tree;\n}();\n/**\n * It is needed to consider the mess of 'list', 'hostModel' when creating a TreeNote,\n * so this function is not ready and not necessary to be public.\n */\nfunction addChild(child, node) {\n  var children = node.children;\n  if (child.parentNode === node) {\n    return;\n  }\n  children.push(child);\n  child.parentNode = node;\n}\nexport default Tree;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport function retrieveTargetInfo(payload, validPayloadTypes, seriesModel) {\n  if (payload && zrUtil.indexOf(validPayloadTypes, payload.type) >= 0) {\n    var root = seriesModel.getData().tree.root;\n    var targetNode = payload.targetNode;\n    if (zrUtil.isString(targetNode)) {\n      targetNode = root.getNodeById(targetNode);\n    }\n    if (targetNode && root.contains(targetNode)) {\n      return {\n        node: targetNode\n      };\n    }\n    var targetNodeId = payload.targetNodeId;\n    if (targetNodeId != null && (targetNode = root.getNodeById(targetNodeId))) {\n      return {\n        node: targetNode\n      };\n    }\n  }\n}\n// Not includes the given node at the last item.\nexport function getPathToRoot(node) {\n  var path = [];\n  while (node) {\n    node = node.parentNode;\n    node && path.push(node);\n  }\n  return path.reverse();\n}\nexport function aboveViewRoot(viewRoot, node) {\n  var viewPath = getPathToRoot(viewRoot);\n  return zrUtil.indexOf(viewPath, node) >= 0;\n}\n// From root to the input node (the input node will be included).\nexport function wrapTreePathInfo(node, seriesModel) {\n  var treePathInfo = [];\n  while (node) {\n    var nodeDataIndex = node.dataIndex;\n    treePathInfo.push({\n      name: node.name,\n      dataIndex: nodeDataIndex,\n      value: seriesModel.getRawValue(nodeDataIndex)\n    });\n    node = node.parentNode;\n  }\n  treePathInfo.reverse();\n  return treePathInfo;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport Tree from '../../data/Tree.js';\nimport Model from '../../model/Model.js';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup.js';\nimport { wrapTreePathInfo } from '../helper/treeHelper.js';\nimport tokens from '../../visual/tokens.js';\nvar TreeSeriesModel = /** @class */function (_super) {\n  __extends(TreeSeriesModel, _super);\n  function TreeSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.hasSymbolVisual = true;\n    // Do it self.\n    _this.ignoreStyleOnData = true;\n    return _this;\n  }\n  /**\n   * Init a tree data structure from data in option series\n   */\n  TreeSeriesModel.prototype.getInitialData = function (option) {\n    // create a virtual root\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    var leaves = option.leaves || {};\n    var leavesModel = new Model(leaves, this, this.ecModel);\n    var tree = Tree.createTree(root, this, beforeLink);\n    function beforeLink(nodeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var node = tree.getNodeByDataIndex(idx);\n        if (!(node && node.children.length && node.isExpand)) {\n          model.parentModel = leavesModel;\n        }\n        return model;\n      });\n    }\n    var treeDepth = 0;\n    tree.eachNode('preorder', function (node) {\n      if (node.depth > treeDepth) {\n        treeDepth = node.depth;\n      }\n    });\n    var expandAndCollapse = option.expandAndCollapse;\n    var expandTreeDepth = expandAndCollapse && option.initialTreeDepth >= 0 ? option.initialTreeDepth : treeDepth;\n    tree.root.eachNode('preorder', function (node) {\n      var item = node.hostTree.data.getRawDataItem(node.dataIndex);\n      // Add item.collapsed != null, because users can collapse node original in the series.data.\n      node.isExpand = item && item.collapsed != null ? !item.collapsed : node.depth <= expandTreeDepth;\n    });\n    return tree.data;\n  };\n  /**\n   * Make the configuration 'orient' backward compatibly, with 'horizontal = LR', 'vertical = TB'.\n   * @returns {string} orient\n   */\n  TreeSeriesModel.prototype.getOrient = function () {\n    var orient = this.get('orient');\n    if (orient === 'horizontal') {\n      orient = 'LR';\n    } else if (orient === 'vertical') {\n      orient = 'TB';\n    }\n    return orient;\n  };\n  TreeSeriesModel.prototype.setZoom = function (zoom) {\n    this.option.zoom = zoom;\n  };\n  TreeSeriesModel.prototype.setCenter = function (center) {\n    this.option.center = center;\n  };\n  TreeSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var tree = this.getData().tree;\n    var realRoot = tree.root.children[0];\n    var node = tree.getNodeByDataIndex(dataIndex);\n    var value = node.getValue();\n    var name = node.name;\n    while (node && node !== realRoot) {\n      name = node.parentNode.name + '.' + name;\n      node = node.parentNode;\n    }\n    return createTooltipMarkup('nameValue', {\n      name: name,\n      value: value,\n      noValue: isNaN(value) || value == null\n    });\n  };\n  // Add tree path to tooltip param\n  TreeSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var params = _super.prototype.getDataParams.apply(this, arguments);\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treeAncestors = wrapTreePathInfo(node, this);\n    params.collapsed = !node.isExpand;\n    return params;\n  };\n  TreeSeriesModel.type = 'series.tree';\n  // can support the position parameters 'left', 'top','right','bottom', 'width',\n  // 'height' in the setOption() with 'merge' mode normal.\n  TreeSeriesModel.layoutMode = 'box';\n  TreeSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    // `coordinateSystem` can be declared as 'matrix', 'calendar',\n    //  which provides box layout container.\n    coordinateSystemUsage: 'box',\n    // the position of the whole view\n    left: '12%',\n    top: '12%',\n    right: '12%',\n    bottom: '12%',\n    // the layout of the tree, two value can be selected, 'orthogonal' or 'radial'\n    layout: 'orthogonal',\n    // value can be 'polyline'\n    edgeShape: 'curve',\n    edgeForkPosition: '50%',\n    // true | false | 'move' | 'scale', see module:component/helper/RoamController.\n    roam: false,\n    roamTrigger: 'global',\n    // Symbol size scale ratio in roam\n    nodeScaleRatio: 0.4,\n    // Default on center of graph\n    center: null,\n    zoom: 1,\n    orient: 'LR',\n    symbol: 'emptyCircle',\n    symbolSize: 7,\n    expandAndCollapse: true,\n    initialTreeDepth: 2,\n    lineStyle: {\n      color: tokens.color.borderTint,\n      width: 1.5,\n      curveness: 0.5\n    },\n    itemStyle: {\n      color: 'lightsteelblue',\n      // borderColor: '#c23531',\n      borderWidth: 1.5\n    },\n    label: {\n      show: true\n    },\n    animationEasing: 'linear',\n    animationDuration: 700,\n    animationDurationUpdate: 500\n  };\n  return TreeSeriesModel;\n}(SeriesModel);\nexport default TreeSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Traverse the tree from bottom to top and do something\n */\nfunction eachAfter(root, callback, separation) {\n  var nodes = [root];\n  var next = [];\n  var node;\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    next.push(node);\n    if (node.isExpand) {\n      var children = node.children;\n      if (children.length) {\n        for (var i = 0; i < children.length; i++) {\n          nodes.push(children[i]);\n        }\n      }\n    }\n  }\n  while (node = next.pop()) {\n    // jshint ignore:line\n    callback(node, separation);\n  }\n}\n/**\n * Traverse the tree from top to bottom and do something\n */\nfunction eachBefore(root, callback) {\n  var nodes = [root];\n  var node;\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    callback(node);\n    if (node.isExpand) {\n      var children = node.children;\n      if (children.length) {\n        for (var i = children.length - 1; i >= 0; i--) {\n          nodes.push(children[i]);\n        }\n      }\n    }\n  }\n}\nexport { eachAfter, eachBefore };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { eachAfter, eachBefore } from './traversalHelper.js';\nimport { init, firstWalk, secondWalk, separation as sep, radialCoordinate } from './layoutHelper.js';\nimport { createBoxLayoutReference, getLayoutRect } from '../../util/layout.js';\nexport default function treeLayout(ecModel, api) {\n  ecModel.eachSeriesByType('tree', function (seriesModel) {\n    commonLayout(seriesModel, api);\n  });\n}\nfunction commonLayout(seriesModel, api) {\n  var refContainer = createBoxLayoutReference(seriesModel, api).refContainer;\n  var layoutInfo = getLayoutRect(seriesModel.getBoxLayoutParams(), refContainer);\n  seriesModel.layoutInfo = layoutInfo;\n  var layout = seriesModel.get('layout');\n  var width = 0;\n  var height = 0;\n  var separation = null;\n  if (layout === 'radial') {\n    width = 2 * Math.PI;\n    height = Math.min(layoutInfo.height, layoutInfo.width) / 2;\n    separation = sep(function (node1, node2) {\n      return (node1.parentNode === node2.parentNode ? 1 : 2) / node1.depth;\n    });\n  } else {\n    width = layoutInfo.width;\n    height = layoutInfo.height;\n    separation = sep();\n  }\n  var virtualRoot = seriesModel.getData().tree.root;\n  var realRoot = virtualRoot.children[0];\n  if (realRoot) {\n    init(virtualRoot);\n    eachAfter(realRoot, firstWalk, separation);\n    virtualRoot.hierNode.modifier = -realRoot.hierNode.prelim;\n    eachBefore(realRoot, secondWalk);\n    var left_1 = realRoot;\n    var right_1 = realRoot;\n    var bottom_1 = realRoot;\n    eachBefore(realRoot, function (node) {\n      var x = node.getLayout().x;\n      if (x < left_1.getLayout().x) {\n        left_1 = node;\n      }\n      if (x > right_1.getLayout().x) {\n        right_1 = node;\n      }\n      if (node.depth > bottom_1.depth) {\n        bottom_1 = node;\n      }\n    });\n    var delta = left_1 === right_1 ? 1 : separation(left_1, right_1) / 2;\n    var tx_1 = delta - left_1.getLayout().x;\n    var kx_1 = 0;\n    var ky_1 = 0;\n    var coorX_1 = 0;\n    var coorY_1 = 0;\n    if (layout === 'radial') {\n      kx_1 = width / (right_1.getLayout().x + delta + tx_1);\n      // here we use (node.depth - 1), bucause the real root's depth is 1\n      ky_1 = height / (bottom_1.depth - 1 || 1);\n      eachBefore(realRoot, function (node) {\n        coorX_1 = (node.getLayout().x + tx_1) * kx_1;\n        coorY_1 = (node.depth - 1) * ky_1;\n        var finalCoor = radialCoordinate(coorX_1, coorY_1);\n        node.setLayout({\n          x: finalCoor.x,\n          y: finalCoor.y,\n          rawX: coorX_1,\n          rawY: coorY_1\n        }, true);\n      });\n    } else {\n      var orient_1 = seriesModel.getOrient();\n      if (orient_1 === 'RL' || orient_1 === 'LR') {\n        ky_1 = height / (right_1.getLayout().x + delta + tx_1);\n        kx_1 = width / (bottom_1.depth - 1 || 1);\n        eachBefore(realRoot, function (node) {\n          coorY_1 = (node.getLayout().x + tx_1) * ky_1;\n          coorX_1 = orient_1 === 'LR' ? (node.depth - 1) * kx_1 : width - (node.depth - 1) * kx_1;\n          node.setLayout({\n            x: coorX_1,\n            y: coorY_1\n          }, true);\n        });\n      } else if (orient_1 === 'TB' || orient_1 === 'BT') {\n        kx_1 = width / (right_1.getLayout().x + delta + tx_1);\n        ky_1 = height / (bottom_1.depth - 1 || 1);\n        eachBefore(realRoot, function (node) {\n          coorX_1 = (node.getLayout().x + tx_1) * kx_1;\n          coorY_1 = orient_1 === 'TB' ? (node.depth - 1) * ky_1 : height - (node.depth - 1) * ky_1;\n          node.setLayout({\n            x: coorX_1,\n            y: coorY_1\n          }, true);\n        });\n      }\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util.js';\nexport default function treeVisual(ecModel) {\n  ecModel.eachSeriesByType('tree', function (seriesModel) {\n    var data = seriesModel.getData();\n    var tree = data.tree;\n    tree.eachNode(function (node) {\n      var model = node.getModel();\n      // TODO Optimize\n      var style = model.getModel('itemStyle').getItemStyle();\n      var existsStyle = data.ensureUniqueItemVisual(node.dataIndex, 'style');\n      extend(existsStyle, style);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { updateCenterAndZoomInAction } from '../../component/helper/roamHelper.js';\nexport function installTreeAction(registers) {\n  registers.registerAction({\n    type: 'treeExpandAndCollapse',\n    event: 'treeExpandAndCollapse',\n    update: 'update'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'tree',\n      query: payload\n    }, function (seriesModel) {\n      var dataIndex = payload.dataIndex;\n      var tree = seriesModel.getData().tree;\n      var node = tree.getNodeByDataIndex(dataIndex);\n      node.isExpand = !node.isExpand;\n    });\n  });\n  registers.registerAction({\n    type: 'treeRoam',\n    event: 'treeRoam',\n    // Here we set 'none' instead of 'update', because roam action\n    // just need to update the transform matrix without having to recalculate\n    // the layout. So don't need to go through the whole update process, such\n    // as 'dataPrcocess', 'coordSystemUpdate', 'layout' and so on.\n    update: 'none'\n  }, function (payload, ecModel, api) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'tree',\n      query: payload\n    }, function (seriesModel) {\n      var coordSys = seriesModel.coordinateSystem;\n      var res = updateCenterAndZoomInAction(coordSys, payload, seriesModel.get('scaleLimit'));\n      seriesModel.setCenter(res.center);\n      seriesModel.setZoom(res.zoom);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport TreeView from './TreeView.js';\nimport TreeSeriesModel from './TreeSeries.js';\nimport treeLayout from './treeLayout.js';\nimport treeVisual from './treeVisual.js';\nimport { installTreeAction } from './treeAction.js';\nexport function install(registers) {\n  registers.registerChartView(TreeView);\n  registers.registerSeriesModel(TreeSeriesModel);\n  registers.registerLayout(treeLayout);\n  registers.registerVisual(treeVisual);\n  installTreeAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as helper from '../helper/treeHelper.js';\nimport { noop } from 'zrender/lib/core/util.js';\nvar actionTypes = ['treemapZoomToNode', 'treemapRender', 'treemapMove'];\nexport function installTreemapAction(registers) {\n  for (var i = 0; i < actionTypes.length; i++) {\n    registers.registerAction({\n      type: actionTypes[i],\n      update: 'updateView'\n    }, noop);\n  }\n  registers.registerAction({\n    type: 'treemapRootToNode',\n    update: 'updateView'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'treemap',\n      query: payload\n    }, handleRootToNode);\n    function handleRootToNode(model, index) {\n      var types = ['treemapZoomToNode', 'treemapRootToNode'];\n      var targetInfo = helper.retrieveTargetInfo(payload, types, model);\n      if (targetInfo) {\n        var originViewRoot = model.getViewRoot();\n        if (originViewRoot) {\n          payload.direction = helper.aboveViewRoot(originViewRoot, targetInfo.node) ? 'rollUp' : 'drillDown';\n        }\n        model.resetViewRoot(targetInfo.node);\n      }\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getDecalFromPalette } from '../../model/mixin/palette.js';\nexport default function enableAriaDecalForTree(seriesModel) {\n  var data = seriesModel.getData();\n  var tree = data.tree;\n  var decalPaletteScope = {};\n  tree.eachNode(function (node) {\n    // Use decal of level 1 node\n    var current = node;\n    while (current && current.depth > 1) {\n      current = current.parentNode;\n    }\n    var decal = getDecalFromPalette(seriesModel.ecModel, current.name || current.dataIndex + '', decalPaletteScope);\n    node.setVisual('decal', decal);\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport SeriesModel from '../../model/Series.js';\nimport Tree from '../../data/Tree.js';\nimport Model from '../../model/Model.js';\nimport { wrapTreePathInfo } from '../helper/treeHelper.js';\nimport { normalizeToArray } from '../../util/model.js';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup.js';\nimport enableAriaDecalForTree from '../helper/enableAriaDecalForTree.js';\nimport tokens from '../../visual/tokens.js';\nvar TreemapSeriesModel = /** @class */function (_super) {\n  __extends(TreemapSeriesModel, _super);\n  function TreemapSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TreemapSeriesModel.type;\n    _this.preventUsingHoverLayer = true;\n    return _this;\n  }\n  /**\n   * @override\n   */\n  TreemapSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    // Create a virtual root.\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    completeTreeValue(root);\n    var levels = option.levels || [];\n    // Used in \"visual priority\" in `treemapVisual.js`.\n    // This way is a little tricky, must satisfy the precondition:\n    //   1. There is no `treeNode.getModel('itemStyle.xxx')` used.\n    //   2. The `Model.prototype.getModel()` will not use any clone-like way.\n    var designatedVisualItemStyle = this.designatedVisualItemStyle = {};\n    var designatedVisualModel = new Model({\n      itemStyle: designatedVisualItemStyle\n    }, this, ecModel);\n    levels = option.levels = setDefault(levels, ecModel);\n    var levelModels = zrUtil.map(levels || [], function (levelDefine) {\n      return new Model(levelDefine, designatedVisualModel, ecModel);\n    }, this);\n    // Make sure always a new tree is created when setOption,\n    // in TreemapView, we check whether oldTree === newTree\n    // to choose mappings approach among old shapes and new shapes.\n    var tree = Tree.createTree(root, this, beforeLink);\n    function beforeLink(nodeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var node = tree.getNodeByDataIndex(idx);\n        var levelModel = node ? levelModels[node.depth] : null;\n        // If no levelModel, we also need `designatedVisualModel`.\n        model.parentModel = levelModel || designatedVisualModel;\n        return model;\n      });\n    }\n    return tree.data;\n  };\n  TreemapSeriesModel.prototype.optionUpdated = function () {\n    this.resetViewRoot();\n  };\n  /**\n   * @override\n   * @param {number} dataIndex\n   * @param {boolean} [mutipleSeries=false]\n   */\n  TreemapSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var name = data.getName(dataIndex);\n    return createTooltipMarkup('nameValue', {\n      name: name,\n      value: value\n    });\n  };\n  /**\n   * Add tree path to tooltip param\n   *\n   * @override\n   * @param {number} dataIndex\n   * @return {Object}\n   */\n  TreemapSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var params = _super.prototype.getDataParams.apply(this, arguments);\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treeAncestors = wrapTreePathInfo(node, this);\n    // compatitable the previous code.\n    params.treePathInfo = params.treeAncestors;\n    return params;\n  };\n  /**\n   * @public\n   * @param {Object} layoutInfo {\n   *                                x: containerGroup x\n   *                                y: containerGroup y\n   *                                width: containerGroup width\n   *                                height: containerGroup height\n   *                            }\n   */\n  TreemapSeriesModel.prototype.setLayoutInfo = function (layoutInfo) {\n    /**\n     * @readOnly\n     * @type {Object}\n     */\n    this.layoutInfo = this.layoutInfo || {};\n    zrUtil.extend(this.layoutInfo, layoutInfo);\n  };\n  /**\n   * @param  {string} id\n   * @return {number} index\n   */\n  TreemapSeriesModel.prototype.mapIdToIndex = function (id) {\n    // A feature is implemented:\n    // index is monotone increasing with the sequence of\n    // input id at the first time.\n    // This feature can make sure that each data item and its\n    // mapped color have the same index between data list and\n    // color list at the beginning, which is useful for user\n    // to adjust data-color mapping.\n    /**\n     * @private\n     * @type {Object}\n     */\n    var idIndexMap = this._idIndexMap;\n    if (!idIndexMap) {\n      idIndexMap = this._idIndexMap = zrUtil.createHashMap();\n      /**\n       * @private\n       * @type {number}\n       */\n      this._idIndexMapCount = 0;\n    }\n    var index = idIndexMap.get(id);\n    if (index == null) {\n      idIndexMap.set(id, index = this._idIndexMapCount++);\n    }\n    return index;\n  };\n  TreemapSeriesModel.prototype.getViewRoot = function () {\n    return this._viewRoot;\n  };\n  TreemapSeriesModel.prototype.resetViewRoot = function (viewRoot) {\n    viewRoot ? this._viewRoot = viewRoot : viewRoot = this._viewRoot;\n    var root = this.getRawData().tree.root;\n    if (!viewRoot || viewRoot !== root && !root.contains(viewRoot)) {\n      this._viewRoot = root;\n    }\n  };\n  TreemapSeriesModel.prototype.enableAriaDecal = function () {\n    enableAriaDecalForTree(this);\n  };\n  TreemapSeriesModel.type = 'series.treemap';\n  TreemapSeriesModel.layoutMode = 'box';\n  TreemapSeriesModel.defaultOption = {\n    // Disable progressive rendering\n    progressive: 0,\n    // size: ['80%', '80%'],            // deprecated, compatible with ec2.\n    // `coordinateSystem` can be declared as 'matrix', 'calendar',\n    //  which provides box layout container.\n    coordinateSystemUsage: 'box',\n    left: tokens.size.l,\n    top: tokens.size.xxxl,\n    right: tokens.size.l,\n    bottom: tokens.size.xxxl,\n    sort: true,\n    clipWindow: 'origin',\n    squareRatio: 0.5 * (1 + Math.sqrt(5)),\n    leafDepth: null,\n    drillDownIcon: '▶',\n    // to align specialized icon. ▷▶❒❐▼✚\n    zoomToNodeRatio: 0.32 * 0.32,\n    scaleLimit: {\n      max: 5,\n      min: 0.2\n    },\n    roam: true,\n    roamTrigger: 'global',\n    nodeClick: 'zoomToNode',\n    animation: true,\n    animationDurationUpdate: 900,\n    animationEasing: 'quinticInOut',\n    breadcrumb: {\n      show: true,\n      height: 22,\n      left: 'center',\n      bottom: tokens.size.m,\n      // right\n      // bottom\n      emptyItemWidth: 25,\n      itemStyle: {\n        color: tokens.color.backgroundShade,\n        textStyle: {\n          color: tokens.color.secondary\n        }\n      },\n      emphasis: {\n        itemStyle: {\n          color: tokens.color.background\n        }\n      }\n    },\n    label: {\n      show: true,\n      // Do not use textDistance, for ellipsis rect just the same as treemap node rect.\n      distance: 0,\n      padding: 5,\n      position: 'inside',\n      // formatter: null,\n      color: tokens.color.neutral00,\n      overflow: 'truncate'\n      // align\n      // verticalAlign\n    },\n    upperLabel: {\n      show: false,\n      position: [0, '50%'],\n      height: 20,\n      // formatter: null,\n      // color: '#fff',\n      overflow: 'truncate',\n      // align: null,\n      verticalAlign: 'middle'\n    },\n    itemStyle: {\n      color: null,\n      colorAlpha: null,\n      colorSaturation: null,\n      borderWidth: 0,\n      gapWidth: 0,\n      borderColor: tokens.color.neutral00,\n      borderColorSaturation: null // If specified, borderColor will be ineffective, and the\n      // border color is evaluated by color of current node and\n      // borderColorSaturation.\n    },\n    emphasis: {\n      upperLabel: {\n        show: true,\n        position: [0, '50%'],\n        overflow: 'truncate',\n        verticalAlign: 'middle'\n      }\n    },\n    visualDimension: 0,\n    visualMin: null,\n    visualMax: null,\n    color: [],\n    // level[n].color (if necessary).\n    // + Specify color list of each level. level[0].color would be global\n    // color list if not specified. (see method `setDefault`).\n    // + But set as a empty array to forbid fetch color from global palette\n    // when using nodeModel.get('color'), otherwise nodes on deep level\n    // will always has color palette set and are not able to inherit color\n    // from parent node.\n    // + TreemapSeries.color can not be set as 'none', otherwise effect\n    // legend color fetching (see seriesColor.js).\n    colorAlpha: null,\n    colorSaturation: null,\n    colorMappingBy: 'index',\n    visibleMin: 10,\n    // be rendered. Only works when sort is 'asc' or 'desc'.\n    childrenVisibleMin: null,\n    // grandchildren will not show.\n    // Why grandchildren? If not grandchildren but children,\n    // some siblings show children and some not,\n    // the appearance may be mess and not consistent,\n    levels: [] // Each item: {\n    //     visibleMin, itemStyle, visualDimension, label\n    // }\n  };\n  return TreemapSeriesModel;\n}(SeriesModel);\n/**\n * @param {Object} dataNode\n */\nfunction completeTreeValue(dataNode) {\n  // Postorder travel tree.\n  // If value of none-leaf node is not set,\n  // calculate it by suming up the value of all children.\n  var sum = 0;\n  zrUtil.each(dataNode.children, function (child) {\n    completeTreeValue(child);\n    var childValue = child.value;\n    zrUtil.isArray(childValue) && (childValue = childValue[0]);\n    sum += childValue;\n  });\n  var thisValue = dataNode.value;\n  if (zrUtil.isArray(thisValue)) {\n    thisValue = thisValue[0];\n  }\n  if (thisValue == null || isNaN(thisValue)) {\n    thisValue = sum;\n  }\n  // Value should not less than 0.\n  if (thisValue < 0) {\n    thisValue = 0;\n  }\n  zrUtil.isArray(dataNode.value) ? dataNode.value[0] = thisValue : dataNode.value = thisValue;\n}\n/**\n * set default to level configuration\n */\nfunction setDefault(levels, ecModel) {\n  var globalColorList = normalizeToArray(ecModel.get('color'));\n  var globalDecalList = normalizeToArray(ecModel.get(['aria', 'decal', 'decals']));\n  if (!globalColorList) {\n    return;\n  }\n  levels = levels || [];\n  var hasColorDefine;\n  var hasDecalDefine;\n  zrUtil.each(levels, function (levelDefine) {\n    var model = new Model(levelDefine);\n    var modelColor = model.get('color');\n    var modelDecal = model.get('decal');\n    if (model.get(['itemStyle', 'color']) || modelColor && modelColor !== 'none') {\n      hasColorDefine = true;\n    }\n    if (model.get(['itemStyle', 'decal']) || modelDecal && modelDecal !== 'none') {\n      hasDecalDefine = true;\n    }\n  });\n  var level0 = levels[0] || (levels[0] = {});\n  if (!hasColorDefine) {\n    level0.color = globalColorList.slice();\n  }\n  if (!hasDecalDefine && globalDecalList) {\n    level0.decal = globalDecalList.slice();\n  }\n  return levels;\n}\nexport default TreemapSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport * as layout from '../../util/layout.js';\nimport { wrapTreePathInfo } from '../helper/treeHelper.js';\nimport { curry, defaults } from 'zrender/lib/core/util.js';\nimport { convertOptionIdName } from '../../util/model.js';\nimport { toggleHoverEmphasis, Z2_EMPHASIS_LIFT } from '../../util/states.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nvar TEXT_PADDING = 8;\nvar ITEM_GAP = 8;\nvar ARRAY_LENGTH = 5;\nvar Breadcrumb = /** @class */function () {\n  function Breadcrumb(containerGroup) {\n    this.group = new graphic.Group();\n    containerGroup.add(this.group);\n  }\n  Breadcrumb.prototype.render = function (seriesModel, api, targetNode, onSelect) {\n    var model = seriesModel.getModel('breadcrumb');\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    if (!model.get('show') || !targetNode) {\n      return;\n    }\n    var normalStyleModel = model.getModel('itemStyle');\n    var emphasisModel = model.getModel('emphasis');\n    var textStyleModel = normalStyleModel.getModel('textStyle');\n    var emphasisTextStyleModel = emphasisModel.getModel(['itemStyle', 'textStyle']);\n    var refContainer = layout.createBoxLayoutReference(seriesModel, api).refContainer;\n    var boxLayoutParams = {\n      left: model.get('left'),\n      right: model.get('right'),\n      top: model.get('top'),\n      bottom: model.get('bottom')\n    };\n    var layoutParam = {\n      emptyItemWidth: model.get('emptyItemWidth'),\n      totalWidth: 0,\n      renderList: []\n    };\n    var availableSize = layout.getLayoutRect(boxLayoutParams, refContainer);\n    this._prepare(targetNode, layoutParam, textStyleModel);\n    this._renderContent(seriesModel, layoutParam, availableSize, normalStyleModel, emphasisModel, textStyleModel, emphasisTextStyleModel, onSelect);\n    layout.positionElement(thisGroup, boxLayoutParams, refContainer);\n  };\n  /**\n   * Prepare render list and total width\n   * @private\n   */\n  Breadcrumb.prototype._prepare = function (targetNode, layoutParam, textStyleModel) {\n    for (var node = targetNode; node; node = node.parentNode) {\n      var text = convertOptionIdName(node.getModel().get('name'), '');\n      var textRect = textStyleModel.getTextRect(text);\n      var itemWidth = Math.max(textRect.width + TEXT_PADDING * 2, layoutParam.emptyItemWidth);\n      layoutParam.totalWidth += itemWidth + ITEM_GAP;\n      layoutParam.renderList.push({\n        node: node,\n        text: text,\n        width: itemWidth\n      });\n    }\n  };\n  /**\n   * @private\n   */\n  Breadcrumb.prototype._renderContent = function (seriesModel, layoutParam, availableSize, normalStyleModel, emphasisModel, textStyleModel, emphasisTextStyleModel, onSelect) {\n    // Start rendering.\n    var lastX = 0;\n    var emptyItemWidth = layoutParam.emptyItemWidth;\n    var height = seriesModel.get(['breadcrumb', 'height']);\n    var totalWidth = layoutParam.totalWidth;\n    var renderList = layoutParam.renderList;\n    var emphasisItemStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n    for (var i = renderList.length - 1; i >= 0; i--) {\n      var item = renderList[i];\n      var itemNode = item.node;\n      var itemWidth = item.width;\n      var text = item.text;\n      // Hdie text and shorten width if necessary.\n      if (totalWidth > availableSize.width) {\n        totalWidth -= itemWidth - emptyItemWidth;\n        itemWidth = emptyItemWidth;\n        text = null;\n      }\n      var el = new graphic.Polygon({\n        shape: {\n          points: makeItemPoints(lastX, 0, itemWidth, height, i === renderList.length - 1, i === 0)\n        },\n        style: defaults(normalStyleModel.getItemStyle(), {\n          lineJoin: 'bevel'\n        }),\n        textContent: new graphic.Text({\n          style: createTextStyle(textStyleModel, {\n            text: text\n          })\n        }),\n        textConfig: {\n          position: 'inside'\n        },\n        z2: Z2_EMPHASIS_LIFT * 1e4,\n        onclick: curry(onSelect, itemNode)\n      });\n      el.disableLabelAnimation = true;\n      el.getTextContent().ensureState('emphasis').style = createTextStyle(emphasisTextStyleModel, {\n        text: text\n      });\n      el.ensureState('emphasis').style = emphasisItemStyle;\n      toggleHoverEmphasis(el, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n      this.group.add(el);\n      packEventData(el, seriesModel, itemNode);\n      lastX += itemWidth + ITEM_GAP;\n    }\n  };\n  Breadcrumb.prototype.remove = function () {\n    this.group.removeAll();\n  };\n  return Breadcrumb;\n}();\nfunction makeItemPoints(x, y, itemWidth, itemHeight, head, tail) {\n  var points = [[head ? x : x - ARRAY_LENGTH, y], [x + itemWidth, y], [x + itemWidth, y + itemHeight], [head ? x : x - ARRAY_LENGTH, y + itemHeight]];\n  !tail && points.splice(2, 0, [x + itemWidth + ARRAY_LENGTH, y + itemHeight / 2]);\n  !head && points.push([x, y + itemHeight / 2]);\n  return points;\n}\n// Package custom mouse event.\nfunction packEventData(el, seriesModel, itemNode) {\n  getECData(el).eventData = {\n    componentType: 'series',\n    componentSubType: 'treemap',\n    componentIndex: seriesModel.componentIndex,\n    seriesIndex: seriesModel.seriesIndex,\n    seriesName: seriesModel.name,\n    seriesType: 'treemap',\n    selfType: 'breadcrumb',\n    nodeData: {\n      dataIndex: itemNode && itemNode.dataIndex,\n      name: itemNode && itemNode.name\n    },\n    treePathInfo: itemNode && wrapTreePathInfo(itemNode, seriesModel)\n  };\n}\nexport default Breadcrumb;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Animate multiple elements with a single done-callback.\n *\n * @example\n *  animation\n *      .createWrap()\n *      .add(el1, {x: 10, y: 10})\n *      .add(el2, {shape: {width: 500}, style: {fill: 'red'}}, 400)\n *      .done(function () { // done })\n *      .start('cubicOut');\n */\nvar AnimationWrap = /** @class */function () {\n  function AnimationWrap() {\n    this._storage = [];\n    this._elExistsMap = {};\n  }\n  /**\n   * Caution: a el can only be added once, otherwise 'done'\n   * might not be called. This method checks this (by el.id),\n   * suppresses adding and returns false when existing el found.\n   *\n   * @return Whether adding succeeded.\n   */\n  AnimationWrap.prototype.add = function (el, target, duration, delay, easing) {\n    if (this._elExistsMap[el.id]) {\n      return false;\n    }\n    this._elExistsMap[el.id] = true;\n    this._storage.push({\n      el: el,\n      target: target,\n      duration: duration,\n      delay: delay,\n      easing: easing\n    });\n    return true;\n  };\n  /**\n   * Only execute when animation done/aborted.\n   */\n  AnimationWrap.prototype.finished = function (callback) {\n    this._finishedCallback = callback;\n    return this;\n  };\n  /**\n   * Will stop exist animation firstly.\n   */\n  AnimationWrap.prototype.start = function () {\n    var _this = this;\n    var count = this._storage.length;\n    var checkTerminate = function () {\n      count--;\n      if (count <= 0) {\n        // Guard.\n        _this._storage.length = 0;\n        _this._elExistsMap = {};\n        _this._finishedCallback && _this._finishedCallback();\n      }\n    };\n    for (var i = 0, len = this._storage.length; i < len; i++) {\n      var item = this._storage[i];\n      item.el.animateTo(item.target, {\n        duration: item.duration,\n        delay: item.delay,\n        easing: item.easing,\n        setToFinal: true,\n        done: checkTerminate,\n        aborted: checkTerminate\n      });\n    }\n    return this;\n  };\n  return AnimationWrap;\n}();\nexport function createWrap() {\n  return new AnimationWrap();\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { bind, each, indexOf, curry, extend, normalizeCssArray, isFunction } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { isHighDownDispatcher, setAsHighDownDispatcher, setDefaultStateProxy, enableHoverFocus, Z2_EMPHASIS_LIFT } from '../../util/states.js';\nimport DataDiffer from '../../data/DataDiffer.js';\nimport * as helper from '../helper/treeHelper.js';\nimport Breadcrumb from './Breadcrumb.js';\nimport RoamController from '../../component/helper/RoamController.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport * as animationUtil from '../../util/animation.js';\nimport makeStyleMapper from '../../model/mixin/makeStyleMapper.js';\nimport ChartView from '../../view/Chart.js';\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\nimport { makeInner, convertOptionIdName } from '../../util/model.js';\nimport { windowOpen } from '../../util/format.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nvar Group = graphic.Group;\nvar Rect = graphic.Rect;\nvar DRAG_THRESHOLD = 3;\nvar PATH_LABEL_NOAMAL = 'label';\nvar PATH_UPPERLABEL_NORMAL = 'upperLabel';\n// Should larger than emphasis states lift z\nvar Z2_BASE = Z2_EMPHASIS_LIFT * 10; // Should bigger than every z2.\nvar Z2_BG = Z2_EMPHASIS_LIFT * 2;\nvar Z2_CONTENT = Z2_EMPHASIS_LIFT * 3;\nvar getStateItemStyle = makeStyleMapper([['fill', 'color'],\n// `borderColor` and `borderWidth` has been occupied,\n// so use `stroke` to indicate the stroke of the rect.\n['stroke', 'strokeColor'], ['lineWidth', 'strokeWidth'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']\n// Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n]);\nvar getItemStyleNormal = function (model) {\n  // Normal style props should include emphasis style props.\n  var itemStyle = getStateItemStyle(model);\n  // Clear styles set by emphasis.\n  itemStyle.stroke = itemStyle.fill = itemStyle.lineWidth = null;\n  return itemStyle;\n};\nvar inner = makeInner();\nvar TreemapView = /** @class */function (_super) {\n  __extends(TreemapView, _super);\n  function TreemapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TreemapView.type;\n    _this._state = 'ready';\n    _this._storage = createStorage();\n    return _this;\n  }\n  /**\n   * @override\n   */\n  TreemapView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    var models = ecModel.findComponents({\n      mainType: 'series',\n      subType: 'treemap',\n      query: payload\n    });\n    if (indexOf(models, seriesModel) < 0) {\n      return;\n    }\n    this.seriesModel = seriesModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    var types = ['treemapZoomToNode', 'treemapRootToNode'];\n    var targetInfo = helper.retrieveTargetInfo(payload, types, seriesModel);\n    var payloadType = payload && payload.type;\n    var layoutInfo = seriesModel.layoutInfo;\n    var isInit = !this._oldTree;\n    var thisStorage = this._storage;\n    // Mark new root when action is treemapRootToNode.\n    var reRoot = payloadType === 'treemapRootToNode' && targetInfo && thisStorage ? {\n      rootNodeGroup: thisStorage.nodeGroup[targetInfo.node.getRawIndex()],\n      direction: payload.direction\n    } : null;\n    var containerGroup = this._giveContainerGroup(layoutInfo);\n    var hasAnimation = seriesModel.get('animation');\n    var renderResult = this._doRender(containerGroup, seriesModel, reRoot);\n    hasAnimation && !isInit && (!payloadType || payloadType === 'treemapZoomToNode' || payloadType === 'treemapRootToNode') ? this._doAnimation(containerGroup, renderResult, seriesModel, reRoot) : renderResult.renderFinally();\n    this._resetController(api);\n    this._renderBreadcrumb(seriesModel, api, targetInfo);\n  };\n  TreemapView.prototype._giveContainerGroup = function (layoutInfo) {\n    var containerGroup = this._containerGroup;\n    if (!containerGroup) {\n      // FIXME\n      // 加一层containerGroup是为了clip，但是现在clip功能并没有实现。\n      containerGroup = this._containerGroup = new Group();\n      this._initEvents(containerGroup);\n      this.group.add(containerGroup);\n    }\n    containerGroup.x = layoutInfo.x;\n    containerGroup.y = layoutInfo.y;\n    return containerGroup;\n  };\n  TreemapView.prototype._doRender = function (containerGroup, seriesModel, reRoot) {\n    var thisTree = seriesModel.getData().tree;\n    var oldTree = this._oldTree;\n    // Clear last shape records.\n    var lastsForAnimation = createStorage();\n    var thisStorage = createStorage();\n    var oldStorage = this._storage;\n    var willInvisibleEls = [];\n    function doRenderNode(thisNode, oldNode, parentGroup, depth) {\n      return renderNode(seriesModel, thisStorage, oldStorage, reRoot, lastsForAnimation, willInvisibleEls, thisNode, oldNode, parentGroup, depth);\n    }\n    // Notice: When thisTree and oldTree are the same tree (see list.cloneShallow),\n    // the oldTree is actually losted, so we cannot find all of the old graphic\n    // elements from tree. So we use this strategy: make element storage, move\n    // from old storage to new storage, clear old storage.\n    dualTravel(thisTree.root ? [thisTree.root] : [], oldTree && oldTree.root ? [oldTree.root] : [], containerGroup, thisTree === oldTree || !oldTree, 0);\n    // Process all removing.\n    var willDeleteEls = clearStorage(oldStorage);\n    this._oldTree = thisTree;\n    this._storage = thisStorage;\n    if (this._controllerHost) {\n      var _oldRootLayout = this.seriesModel.layoutInfo;\n      var rootLayout = thisTree.root.getLayout();\n      if (rootLayout.width === _oldRootLayout.width && rootLayout.height === _oldRootLayout.height) {\n        this._controllerHost.zoom = 1;\n      }\n    }\n    return {\n      lastsForAnimation: lastsForAnimation,\n      willDeleteEls: willDeleteEls,\n      renderFinally: renderFinally\n    };\n    function dualTravel(thisViewChildren, oldViewChildren, parentGroup, sameTree, depth) {\n      // When 'render' is triggered by action,\n      // 'this' and 'old' may be the same tree,\n      // we use rawIndex in that case.\n      if (sameTree) {\n        oldViewChildren = thisViewChildren;\n        each(thisViewChildren, function (child, index) {\n          !child.isRemoved() && processNode(index, index);\n        });\n      }\n      // Diff hierarchically (diff only in each subtree, but not whole).\n      // because, consistency of view is important.\n      else {\n        new DataDiffer(oldViewChildren, thisViewChildren, getKey, getKey).add(processNode).update(processNode).remove(curry(processNode, null)).execute();\n      }\n      function getKey(node) {\n        // Identify by name or raw index.\n        return node.getId();\n      }\n      function processNode(newIndex, oldIndex) {\n        var thisNode = newIndex != null ? thisViewChildren[newIndex] : null;\n        var oldNode = oldIndex != null ? oldViewChildren[oldIndex] : null;\n        var group = doRenderNode(thisNode, oldNode, parentGroup, depth);\n        group && dualTravel(thisNode && thisNode.viewChildren || [], oldNode && oldNode.viewChildren || [], group, sameTree, depth + 1);\n      }\n    }\n    function clearStorage(storage) {\n      var willDeleteEls = createStorage();\n      storage && each(storage, function (store, storageName) {\n        var delEls = willDeleteEls[storageName];\n        each(store, function (el) {\n          el && (delEls.push(el), inner(el).willDelete = true);\n        });\n      });\n      return willDeleteEls;\n    }\n    function renderFinally() {\n      each(willDeleteEls, function (els) {\n        each(els, function (el) {\n          el.parent && el.parent.remove(el);\n        });\n      });\n      each(willInvisibleEls, function (el) {\n        el.invisible = true;\n        // Setting invisible is for optimizing, so no need to set dirty,\n        // just mark as invisible.\n        el.dirty();\n      });\n    }\n  };\n  TreemapView.prototype._doAnimation = function (containerGroup, renderResult, seriesModel, reRoot) {\n    var durationOption = seriesModel.get('animationDurationUpdate');\n    var easingOption = seriesModel.get('animationEasing');\n    // TODO: do not support function until necessary.\n    var duration = (isFunction(durationOption) ? 0 : durationOption) || 0;\n    var easing = (isFunction(easingOption) ? null : easingOption) || 'cubicOut';\n    var animationWrap = animationUtil.createWrap();\n    // Make delete animations.\n    each(renderResult.willDeleteEls, function (store, storageName) {\n      each(store, function (el, rawIndex) {\n        if (el.invisible) {\n          return;\n        }\n        var parent = el.parent; // Always has parent, and parent is nodeGroup.\n        var target;\n        var innerStore = inner(parent);\n        if (reRoot && reRoot.direction === 'drillDown') {\n          target = parent === reRoot.rootNodeGroup\n          // This is the content element of view root.\n          // Only `content` will enter this branch, because\n          // `background` and `nodeGroup` will not be deleted.\n          ? {\n            shape: {\n              x: 0,\n              y: 0,\n              width: innerStore.nodeWidth,\n              height: innerStore.nodeHeight\n            },\n            style: {\n              opacity: 0\n            }\n          }\n          // Others.\n          : {\n            style: {\n              opacity: 0\n            }\n          };\n        } else {\n          var targetX = 0;\n          var targetY = 0;\n          if (!innerStore.willDelete) {\n            // Let node animate to right-bottom corner, cooperating with fadeout,\n            // which is appropriate for user understanding.\n            // Divided by 2 for reRoot rolling up effect.\n            targetX = innerStore.nodeWidth / 2;\n            targetY = innerStore.nodeHeight / 2;\n          }\n          target = storageName === 'nodeGroup' ? {\n            x: targetX,\n            y: targetY,\n            style: {\n              opacity: 0\n            }\n          } : {\n            shape: {\n              x: targetX,\n              y: targetY,\n              width: 0,\n              height: 0\n            },\n            style: {\n              opacity: 0\n            }\n          };\n        }\n        // TODO: do not support delay until necessary.\n        target && animationWrap.add(el, target, duration, 0, easing);\n      });\n    });\n    // Make other animations\n    each(this._storage, function (store, storageName) {\n      each(store, function (el, rawIndex) {\n        var last = renderResult.lastsForAnimation[storageName][rawIndex];\n        var target = {};\n        if (!last) {\n          return;\n        }\n        if (el instanceof graphic.Group) {\n          if (last.oldX != null) {\n            target.x = el.x;\n            target.y = el.y;\n            el.x = last.oldX;\n            el.y = last.oldY;\n          }\n        } else {\n          if (last.oldShape) {\n            target.shape = extend({}, el.shape);\n            el.setShape(last.oldShape);\n          }\n          if (last.fadein) {\n            el.setStyle('opacity', 0);\n            target.style = {\n              opacity: 1\n            };\n          }\n          // When animation is stopped for succedent animation starting,\n          // el.style.opacity might not be 1\n          else if (el.style.opacity !== 1) {\n            target.style = {\n              opacity: 1\n            };\n          }\n        }\n        animationWrap.add(el, target, duration, 0, easing);\n      });\n    }, this);\n    this._state = 'animating';\n    animationWrap.finished(bind(function () {\n      this._state = 'ready';\n      renderResult.renderFinally();\n    }, this)).start();\n  };\n  TreemapView.prototype._resetController = function (api) {\n    var _this = this;\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    if (!controllerHost) {\n      this._controllerHost = {\n        target: this.group\n      };\n      controllerHost = this._controllerHost;\n    }\n    var seriesModel = this.seriesModel;\n    // Init controller.\n    if (!controller) {\n      controller = this._controller = new RoamController(api.getZr());\n      controller.on('pan', bind(this._onPan, this));\n      controller.on('zoom', bind(this._onZoom, this));\n    }\n    controller.enable(seriesModel.get('roam'), {\n      api: api,\n      zInfo: {\n        component: seriesModel\n      },\n      triggerInfo: {\n        roamTrigger: seriesModel.get('roamTrigger'),\n        isInSelf: function (e, x, y) {\n          var containerGroup = _this._containerGroup;\n          return containerGroup\n          // Currently only x, y exist in tranform.\n          ? containerGroup.getBoundingRect().contain(x - containerGroup.x, y - containerGroup.y) : false;\n        }\n      }\n    });\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.get('zoom');\n  };\n  TreemapView.prototype._clearController = function () {\n    var controller = this._controller;\n    this._controllerHost = null;\n    if (controller) {\n      controller.dispose();\n      controller = null;\n    }\n  };\n  TreemapView.prototype._onPan = function (e) {\n    if (this._state !== 'animating' && (Math.abs(e.dx) > DRAG_THRESHOLD || Math.abs(e.dy) > DRAG_THRESHOLD)) {\n      // These param must not be cached.\n      var root = this.seriesModel.getData().tree.root;\n      if (!root) {\n        return;\n      }\n      var rootLayout = root.getLayout();\n      if (!rootLayout) {\n        return;\n      }\n      this.api.dispatchAction({\n        type: 'treemapMove',\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        rootRect: {\n          x: rootLayout.x + e.dx,\n          y: rootLayout.y + e.dy,\n          width: rootLayout.width,\n          height: rootLayout.height\n        }\n      });\n    }\n  };\n  TreemapView.prototype._onZoom = function (e) {\n    var mouseX = e.originX;\n    var mouseY = e.originY;\n    var zoomDelta = e.scale;\n    if (this._state !== 'animating') {\n      // These param must not be cached.\n      var root = this.seriesModel.getData().tree.root;\n      if (!root) {\n        return;\n      }\n      var rootLayout = root.getLayout();\n      if (!rootLayout) {\n        return;\n      }\n      var rect = new BoundingRect(rootLayout.x, rootLayout.y, rootLayout.width, rootLayout.height);\n      // scaleLimit\n      var zoomLimit = null;\n      var _controllerHost = this._controllerHost;\n      zoomLimit = _controllerHost.zoomLimit;\n      var newZoom = _controllerHost.zoom = _controllerHost.zoom || 1;\n      newZoom *= zoomDelta;\n      if (zoomLimit) {\n        var zoomMin = zoomLimit.min || 0;\n        var zoomMax = zoomLimit.max || Infinity;\n        newZoom = Math.max(Math.min(zoomMax, newZoom), zoomMin);\n      }\n      var zoomScale = newZoom / _controllerHost.zoom;\n      _controllerHost.zoom = newZoom;\n      var layoutInfo = this.seriesModel.layoutInfo;\n      // Transform mouse coord from global to containerGroup.\n      mouseX -= layoutInfo.x;\n      mouseY -= layoutInfo.y;\n      // Scale root bounding rect.\n      var m = matrix.create();\n      matrix.translate(m, m, [-mouseX, -mouseY]);\n      matrix.scale(m, m, [zoomScale, zoomScale]);\n      matrix.translate(m, m, [mouseX, mouseY]);\n      rect.applyTransform(m);\n      this.api.dispatchAction({\n        type: 'treemapRender',\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        rootRect: {\n          x: rect.x,\n          y: rect.y,\n          width: rect.width,\n          height: rect.height\n        }\n      });\n    }\n  };\n  TreemapView.prototype._initEvents = function (containerGroup) {\n    var _this = this;\n    containerGroup.on('click', function (e) {\n      if (_this._state !== 'ready') {\n        return;\n      }\n      var nodeClick = _this.seriesModel.get('nodeClick', true);\n      if (!nodeClick) {\n        return;\n      }\n      var targetInfo = _this.findTarget(e.offsetX, e.offsetY);\n      if (!targetInfo) {\n        return;\n      }\n      var node = targetInfo.node;\n      if (node.getLayout().isLeafRoot) {\n        _this._rootToNode(targetInfo);\n      } else {\n        if (nodeClick === 'zoomToNode') {\n          _this._zoomToNode(targetInfo);\n        } else if (nodeClick === 'link') {\n          var itemModel = node.hostTree.data.getItemModel(node.dataIndex);\n          var link = itemModel.get('link', true);\n          var linkTarget = itemModel.get('target', true) || 'blank';\n          link && windowOpen(link, linkTarget);\n        }\n      }\n    }, this);\n  };\n  TreemapView.prototype._renderBreadcrumb = function (seriesModel, api, targetInfo) {\n    var _this = this;\n    if (!targetInfo) {\n      targetInfo = seriesModel.get('leafDepth', true) != null ? {\n        node: seriesModel.getViewRoot()\n      }\n      // FIXME\n      // better way?\n      // Find breadcrumb tail on center of containerGroup.\n      : this.findTarget(api.getWidth() / 2, api.getHeight() / 2);\n      if (!targetInfo) {\n        targetInfo = {\n          node: seriesModel.getData().tree.root\n        };\n      }\n    }\n    (this._breadcrumb || (this._breadcrumb = new Breadcrumb(this.group))).render(seriesModel, api, targetInfo.node, function (node) {\n      if (_this._state !== 'animating') {\n        helper.aboveViewRoot(seriesModel.getViewRoot(), node) ? _this._rootToNode({\n          node: node\n        }) : _this._zoomToNode({\n          node: node\n        });\n      }\n    });\n  };\n  /**\n   * @override\n   */\n  TreemapView.prototype.remove = function () {\n    this._clearController();\n    this._containerGroup && this._containerGroup.removeAll();\n    this._storage = createStorage();\n    this._state = 'ready';\n    this._breadcrumb && this._breadcrumb.remove();\n  };\n  TreemapView.prototype.dispose = function () {\n    this._clearController();\n  };\n  TreemapView.prototype._zoomToNode = function (targetInfo) {\n    this.api.dispatchAction({\n      type: 'treemapZoomToNode',\n      from: this.uid,\n      seriesId: this.seriesModel.id,\n      targetNode: targetInfo.node\n    });\n  };\n  TreemapView.prototype._rootToNode = function (targetInfo) {\n    this.api.dispatchAction({\n      type: 'treemapRootToNode',\n      from: this.uid,\n      seriesId: this.seriesModel.id,\n      targetNode: targetInfo.node\n    });\n  };\n  /**\n   * @param x Global coord x.\n   * @param y Global coord y.\n   * @return info If not found, return undefined;\n   * @return info.node Target node.\n   * @return info.offsetX x refer to target node.\n   * @return info.offsetY y refer to target node.\n   */\n  TreemapView.prototype.findTarget = function (x, y) {\n    var targetInfo;\n    var viewRoot = this.seriesModel.getViewRoot();\n    viewRoot.eachNode({\n      attr: 'viewChildren',\n      order: 'preorder'\n    }, function (node) {\n      var bgEl = this._storage.background[node.getRawIndex()];\n      // If invisible, there might be no element.\n      if (bgEl) {\n        var point = bgEl.transformCoordToLocal(x, y);\n        var shape = bgEl.shape;\n        // For performance consideration, don't use 'getBoundingRect'.\n        if (shape.x <= point[0] && point[0] <= shape.x + shape.width && shape.y <= point[1] && point[1] <= shape.y + shape.height) {\n          targetInfo = {\n            node: node,\n            offsetX: point[0],\n            offsetY: point[1]\n          };\n        } else {\n          return false; // Suppress visit subtree.\n        }\n      }\n    }, this);\n    return targetInfo;\n  };\n  TreemapView.type = 'treemap';\n  return TreemapView;\n}(ChartView);\nfunction createStorage() {\n  return {\n    nodeGroup: [],\n    background: [],\n    content: []\n  };\n}\n/**\n * @return Return undefined means do not travel further.\n */\nfunction renderNode(seriesModel, thisStorage, oldStorage, reRoot, lastsForAnimation, willInvisibleEls, thisNode, oldNode, parentGroup, depth) {\n  // Whether under viewRoot.\n  if (!thisNode) {\n    // Deleting nodes will be performed finally. This method just find\n    // element from old storage, or create new element, set them to new\n    // storage, and set styles.\n    return;\n  }\n  // -------------------------------------------------------------------\n  // Start of closure variables available in \"Procedures in renderNode\".\n  var thisLayout = thisNode.getLayout();\n  var data = seriesModel.getData();\n  var nodeModel = thisNode.getModel();\n  // Only for enabling highlight/downplay. Clear firstly.\n  // Because some node will not be rendered.\n  data.setItemGraphicEl(thisNode.dataIndex, null);\n  if (!thisLayout || !thisLayout.isInView) {\n    return;\n  }\n  var thisWidth = thisLayout.width;\n  var thisHeight = thisLayout.height;\n  var borderWidth = thisLayout.borderWidth;\n  var thisInvisible = thisLayout.invisible;\n  var thisRawIndex = thisNode.getRawIndex();\n  var oldRawIndex = oldNode && oldNode.getRawIndex();\n  var thisViewChildren = thisNode.viewChildren;\n  var upperHeight = thisLayout.upperHeight;\n  var isParent = thisViewChildren && thisViewChildren.length;\n  var itemStyleNormalModel = nodeModel.getModel('itemStyle');\n  var itemStyleEmphasisModel = nodeModel.getModel(['emphasis', 'itemStyle']);\n  var itemStyleBlurModel = nodeModel.getModel(['blur', 'itemStyle']);\n  var itemStyleSelectModel = nodeModel.getModel(['select', 'itemStyle']);\n  var borderRadius = itemStyleNormalModel.get('borderRadius') || 0;\n  // End of closure ariables available in \"Procedures in renderNode\".\n  // -----------------------------------------------------------------\n  // Node group\n  var group = giveGraphic('nodeGroup', Group);\n  if (!group) {\n    return;\n  }\n  parentGroup.add(group);\n  // x,y are not set when el is above view root.\n  group.x = thisLayout.x || 0;\n  group.y = thisLayout.y || 0;\n  group.markRedraw();\n  inner(group).nodeWidth = thisWidth;\n  inner(group).nodeHeight = thisHeight;\n  if (thisLayout.isAboveViewRoot) {\n    return group;\n  }\n  // Background\n  var bg = giveGraphic('background', Rect, depth, Z2_BG);\n  bg && renderBackground(group, bg, isParent && thisLayout.upperLabelHeight);\n  var emphasisModel = nodeModel.getModel('emphasis');\n  var focus = emphasisModel.get('focus');\n  var blurScope = emphasisModel.get('blurScope');\n  var isDisabled = emphasisModel.get('disabled');\n  var focusOrIndices = focus === 'ancestor' ? thisNode.getAncestorsIndices() : focus === 'descendant' ? thisNode.getDescendantIndices() : focus;\n  // No children, render content.\n  if (isParent) {\n    // Because of the implementation about \"traverse\" in graphic hover style, we\n    // can not set hover listener on the \"group\" of non-leaf node. Otherwise the\n    // hover event from the descendents will be listenered.\n    if (isHighDownDispatcher(group)) {\n      setAsHighDownDispatcher(group, false);\n    }\n    if (bg) {\n      setAsHighDownDispatcher(bg, !isDisabled);\n      // Only for enabling highlight/downplay.\n      data.setItemGraphicEl(thisNode.dataIndex, bg);\n      enableHoverFocus(bg, focusOrIndices, blurScope);\n    }\n  } else {\n    var content = giveGraphic('content', Rect, depth, Z2_CONTENT);\n    content && renderContent(group, content);\n    bg.disableMorphing = true;\n    if (bg && isHighDownDispatcher(bg)) {\n      setAsHighDownDispatcher(bg, false);\n    }\n    setAsHighDownDispatcher(group, !isDisabled);\n    // Only for enabling highlight/downplay.\n    data.setItemGraphicEl(thisNode.dataIndex, group);\n    var cursorStyle = nodeModel.getShallow('cursor');\n    cursorStyle && content.attr('cursor', cursorStyle);\n    enableHoverFocus(group, focusOrIndices, blurScope);\n  }\n  return group;\n  // ----------------------------\n  // | Procedures in renderNode |\n  // ----------------------------\n  function renderBackground(group, bg, useUpperLabel) {\n    var ecData = getECData(bg);\n    // For tooltip.\n    ecData.dataIndex = thisNode.dataIndex;\n    ecData.seriesIndex = seriesModel.seriesIndex;\n    bg.setShape({\n      x: 0,\n      y: 0,\n      width: thisWidth,\n      height: thisHeight,\n      r: borderRadius\n    });\n    if (thisInvisible) {\n      // If invisible, do not set visual, otherwise the element will\n      // change immediately before animation. We think it is OK to\n      // remain its origin color when moving out of the view window.\n      processInvisible(bg);\n    } else {\n      bg.invisible = false;\n      var style = thisNode.getVisual('style');\n      var visualBorderColor = style.stroke;\n      var normalStyle = getItemStyleNormal(itemStyleNormalModel);\n      normalStyle.fill = visualBorderColor;\n      var emphasisStyle = getStateItemStyle(itemStyleEmphasisModel);\n      emphasisStyle.fill = itemStyleEmphasisModel.get('borderColor');\n      var blurStyle = getStateItemStyle(itemStyleBlurModel);\n      blurStyle.fill = itemStyleBlurModel.get('borderColor');\n      var selectStyle = getStateItemStyle(itemStyleSelectModel);\n      selectStyle.fill = itemStyleSelectModel.get('borderColor');\n      if (useUpperLabel) {\n        var upperLabelWidth = thisWidth - 2 * borderWidth;\n        prepareText(\n        // PENDING: convert ZRColor to ColorString for text.\n        bg, visualBorderColor, style.opacity, {\n          x: borderWidth,\n          y: 0,\n          width: upperLabelWidth,\n          height: upperHeight\n        });\n      }\n      // For old bg.\n      else {\n        bg.removeTextContent();\n      }\n      bg.setStyle(normalStyle);\n      bg.ensureState('emphasis').style = emphasisStyle;\n      bg.ensureState('blur').style = blurStyle;\n      bg.ensureState('select').style = selectStyle;\n      setDefaultStateProxy(bg);\n    }\n    group.add(bg);\n  }\n  function renderContent(group, content) {\n    var ecData = getECData(content);\n    // For tooltip.\n    ecData.dataIndex = thisNode.dataIndex;\n    ecData.seriesIndex = seriesModel.seriesIndex;\n    var contentWidth = Math.max(thisWidth - 2 * borderWidth, 0);\n    var contentHeight = Math.max(thisHeight - 2 * borderWidth, 0);\n    content.culling = true;\n    content.setShape({\n      x: borderWidth,\n      y: borderWidth,\n      width: contentWidth,\n      height: contentHeight,\n      r: borderRadius\n    });\n    if (thisInvisible) {\n      // If invisible, do not set visual, otherwise the element will\n      // change immediately before animation. We think it is OK to\n      // remain its origin color when moving out of the view window.\n      processInvisible(content);\n    } else {\n      content.invisible = false;\n      var nodeStyle = thisNode.getVisual('style');\n      var visualColor = nodeStyle.fill;\n      var normalStyle = getItemStyleNormal(itemStyleNormalModel);\n      normalStyle.fill = visualColor;\n      normalStyle.decal = nodeStyle.decal;\n      var emphasisStyle = getStateItemStyle(itemStyleEmphasisModel);\n      var blurStyle = getStateItemStyle(itemStyleBlurModel);\n      var selectStyle = getStateItemStyle(itemStyleSelectModel);\n      // PENDING: convert ZRColor to ColorString for text.\n      prepareText(content, visualColor, nodeStyle.opacity, null);\n      content.setStyle(normalStyle);\n      content.ensureState('emphasis').style = emphasisStyle;\n      content.ensureState('blur').style = blurStyle;\n      content.ensureState('select').style = selectStyle;\n      setDefaultStateProxy(content);\n    }\n    group.add(content);\n  }\n  function processInvisible(element) {\n    // Delay invisible setting utill animation finished,\n    // avoid element vanish suddenly before animation.\n    !element.invisible && willInvisibleEls.push(element);\n  }\n  function prepareText(rectEl, visualColor, visualOpacity,\n  // Can be null/undefined\n  upperLabelRect) {\n    var normalLabelModel = nodeModel.getModel(upperLabelRect ? PATH_UPPERLABEL_NORMAL : PATH_LABEL_NOAMAL);\n    var defaultText = convertOptionIdName(nodeModel.get('name'), null);\n    var isShow = normalLabelModel.getShallow('show');\n    setLabelStyle(rectEl, getLabelStatesModels(nodeModel, upperLabelRect ? PATH_UPPERLABEL_NORMAL : PATH_LABEL_NOAMAL), {\n      defaultText: isShow ? defaultText : null,\n      inheritColor: visualColor,\n      defaultOpacity: visualOpacity,\n      labelFetcher: seriesModel,\n      labelDataIndex: thisNode.dataIndex\n    });\n    var textEl = rectEl.getTextContent();\n    if (!textEl) {\n      return;\n    }\n    var textStyle = textEl.style;\n    var textPadding = normalizeCssArray(textStyle.padding || 0);\n    if (upperLabelRect) {\n      rectEl.setTextConfig({\n        layoutRect: upperLabelRect\n      });\n      textEl.disableLabelLayout = true;\n    }\n    textEl.beforeUpdate = function () {\n      var width = Math.max((upperLabelRect ? upperLabelRect.width : rectEl.shape.width) - textPadding[1] - textPadding[3], 0);\n      var height = Math.max((upperLabelRect ? upperLabelRect.height : rectEl.shape.height) - textPadding[0] - textPadding[2], 0);\n      if (textStyle.width !== width || textStyle.height !== height) {\n        textEl.setStyle({\n          width: width,\n          height: height\n        });\n      }\n    };\n    textStyle.truncateMinChar = 2;\n    textStyle.lineOverflow = 'truncate';\n    addDrillDownIcon(textStyle, upperLabelRect, thisLayout);\n    var textEmphasisState = textEl.getState('emphasis');\n    addDrillDownIcon(textEmphasisState ? textEmphasisState.style : null, upperLabelRect, thisLayout);\n  }\n  function addDrillDownIcon(style, upperLabelRect, thisLayout) {\n    var text = style ? style.text : null;\n    if (!upperLabelRect && thisLayout.isLeafRoot && text != null) {\n      var iconChar = seriesModel.get('drillDownIcon', true);\n      style.text = iconChar ? iconChar + ' ' + text : text;\n    }\n  }\n  function giveGraphic(storageName, Ctor, depth, z) {\n    var element = oldRawIndex != null && oldStorage[storageName][oldRawIndex];\n    var lasts = lastsForAnimation[storageName];\n    if (element) {\n      // Remove from oldStorage\n      oldStorage[storageName][oldRawIndex] = null;\n      prepareAnimationWhenHasOld(lasts, element);\n    }\n    // If invisible and no old element, do not create new element (for optimizing).\n    else if (!thisInvisible) {\n      element = new Ctor();\n      if (element instanceof Displayable) {\n        element.z2 = calculateZ2(depth, z);\n      }\n      prepareAnimationWhenNoOld(lasts, element);\n    }\n    // Set to thisStorage\n    return thisStorage[storageName][thisRawIndex] = element;\n  }\n  function prepareAnimationWhenHasOld(lasts, element) {\n    var lastCfg = lasts[thisRawIndex] = {};\n    if (element instanceof Group) {\n      lastCfg.oldX = element.x;\n      lastCfg.oldY = element.y;\n    } else {\n      lastCfg.oldShape = extend({}, element.shape);\n    }\n  }\n  // If a element is new, we need to find the animation start point carefully,\n  // otherwise it will looks strange when 'zoomToNode'.\n  function prepareAnimationWhenNoOld(lasts, element) {\n    var lastCfg = lasts[thisRawIndex] = {};\n    var parentNode = thisNode.parentNode;\n    var isGroup = element instanceof graphic.Group;\n    if (parentNode && (!reRoot || reRoot.direction === 'drillDown')) {\n      var parentOldX = 0;\n      var parentOldY = 0;\n      // New nodes appear from right-bottom corner in 'zoomToNode' animation.\n      // For convenience, get old bounding rect from background.\n      var parentOldBg = lastsForAnimation.background[parentNode.getRawIndex()];\n      if (!reRoot && parentOldBg && parentOldBg.oldShape) {\n        parentOldX = parentOldBg.oldShape.width;\n        parentOldY = parentOldBg.oldShape.height;\n      }\n      // When no parent old shape found, its parent is new too,\n      // so we can just use {x:0, y:0}.\n      if (isGroup) {\n        lastCfg.oldX = 0;\n        lastCfg.oldY = parentOldY;\n      } else {\n        lastCfg.oldShape = {\n          x: parentOldX,\n          y: parentOldY,\n          width: 0,\n          height: 0\n        };\n      }\n    }\n    // Fade in, user can be aware that these nodes are new.\n    lastCfg.fadein = !isGroup;\n  }\n}\n// We cannot set all background with the same z, because the behaviour of\n// drill down and roll up differ background creation sequence from tree\n// hierarchy sequence, which cause lower background elements to overlap\n// upper ones. So we calculate z based on depth.\n// Moreover, we try to shrink down z interval to [0, 1] to avoid that\n// treemap with large z overlaps other components.\nfunction calculateZ2(depth, z2InLevel) {\n  return depth * Z2_BASE + z2InLevel;\n}\nexport default TreemapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport { each, extend, isArray } from 'zrender/lib/core/util.js';\nimport { modifyHSL, modifyAlpha } from 'zrender/lib/tool/color.js';\nimport { makeInner } from '../../util/model.js';\nvar ITEM_STYLE_NORMAL = 'itemStyle';\nvar inner = makeInner();\nexport default {\n  seriesType: 'treemap',\n  reset: function (seriesModel) {\n    var tree = seriesModel.getData().tree;\n    var root = tree.root;\n    if (root.isRemoved()) {\n      return;\n    }\n    travelTree(root,\n    // Visual should calculate from tree root but not view root.\n    {}, seriesModel.getViewRoot().getAncestors(), seriesModel);\n  }\n};\nfunction travelTree(node, designatedVisual, viewRootAncestors, seriesModel) {\n  var nodeModel = node.getModel();\n  var nodeLayout = node.getLayout();\n  var data = node.hostTree.data;\n  // Optimize\n  if (!nodeLayout || nodeLayout.invisible || !nodeLayout.isInView) {\n    return;\n  }\n  var nodeItemStyleModel = nodeModel.getModel(ITEM_STYLE_NORMAL);\n  var visuals = buildVisuals(nodeItemStyleModel, designatedVisual, seriesModel);\n  var existsStyle = data.ensureUniqueItemVisual(node.dataIndex, 'style');\n  // calculate border color\n  var borderColor = nodeItemStyleModel.get('borderColor');\n  var borderColorSaturation = nodeItemStyleModel.get('borderColorSaturation');\n  var thisNodeColor;\n  if (borderColorSaturation != null) {\n    // For performance, do not always execute 'calculateColor'.\n    thisNodeColor = calculateColor(visuals);\n    borderColor = calculateBorderColor(borderColorSaturation, thisNodeColor);\n  }\n  existsStyle.stroke = borderColor;\n  var viewChildren = node.viewChildren;\n  if (!viewChildren || !viewChildren.length) {\n    thisNodeColor = calculateColor(visuals);\n    // Apply visual to this node.\n    existsStyle.fill = thisNodeColor;\n  } else {\n    var mapping_1 = buildVisualMapping(node, nodeModel, nodeLayout, nodeItemStyleModel, visuals, viewChildren);\n    // Designate visual to children.\n    each(viewChildren, function (child, index) {\n      // If higher than viewRoot, only ancestors of viewRoot is needed to visit.\n      if (child.depth >= viewRootAncestors.length || child === viewRootAncestors[child.depth]) {\n        var childVisual = mapVisual(nodeModel, visuals, child, index, mapping_1, seriesModel);\n        travelTree(child, childVisual, viewRootAncestors, seriesModel);\n      }\n    });\n  }\n}\nfunction buildVisuals(nodeItemStyleModel, designatedVisual, seriesModel) {\n  var visuals = extend({}, designatedVisual);\n  var designatedVisualItemStyle = seriesModel.designatedVisualItemStyle;\n  each(['color', 'colorAlpha', 'colorSaturation'], function (visualName) {\n    // Priority: thisNode > thisLevel > parentNodeDesignated > seriesModel\n    designatedVisualItemStyle[visualName] = designatedVisual[visualName];\n    var val = nodeItemStyleModel.get(visualName);\n    designatedVisualItemStyle[visualName] = null;\n    val != null && (visuals[visualName] = val);\n  });\n  return visuals;\n}\nfunction calculateColor(visuals) {\n  var color = getValueVisualDefine(visuals, 'color');\n  if (color) {\n    var colorAlpha = getValueVisualDefine(visuals, 'colorAlpha');\n    var colorSaturation = getValueVisualDefine(visuals, 'colorSaturation');\n    if (colorSaturation) {\n      color = modifyHSL(color, null, null, colorSaturation);\n    }\n    if (colorAlpha) {\n      color = modifyAlpha(color, colorAlpha);\n    }\n    return color;\n  }\n}\nfunction calculateBorderColor(borderColorSaturation, thisNodeColor) {\n  return thisNodeColor != null\n  // Can only be string\n  ? modifyHSL(thisNodeColor, null, null, borderColorSaturation) : null;\n}\nfunction getValueVisualDefine(visuals, name) {\n  var value = visuals[name];\n  if (value != null && value !== 'none') {\n    return value;\n  }\n}\nfunction buildVisualMapping(node, nodeModel, nodeLayout, nodeItemStyleModel, visuals, viewChildren) {\n  if (!viewChildren || !viewChildren.length) {\n    return;\n  }\n  var rangeVisual = getRangeVisual(nodeModel, 'color') || visuals.color != null && visuals.color !== 'none' && (getRangeVisual(nodeModel, 'colorAlpha') || getRangeVisual(nodeModel, 'colorSaturation'));\n  if (!rangeVisual) {\n    return;\n  }\n  var visualMin = nodeModel.get('visualMin');\n  var visualMax = nodeModel.get('visualMax');\n  var dataExtent = nodeLayout.dataExtent.slice();\n  visualMin != null && visualMin < dataExtent[0] && (dataExtent[0] = visualMin);\n  visualMax != null && visualMax > dataExtent[1] && (dataExtent[1] = visualMax);\n  var colorMappingBy = nodeModel.get('colorMappingBy');\n  var opt = {\n    type: rangeVisual.name,\n    dataExtent: dataExtent,\n    visual: rangeVisual.range\n  };\n  if (opt.type === 'color' && (colorMappingBy === 'index' || colorMappingBy === 'id')) {\n    opt.mappingMethod = 'category';\n    opt.loop = true;\n    // categories is ordinal, so do not set opt.categories.\n  } else {\n    opt.mappingMethod = 'linear';\n  }\n  var mapping = new VisualMapping(opt);\n  inner(mapping).drColorMappingBy = colorMappingBy;\n  return mapping;\n}\n// Notice: If we don't have the attribute 'colorRange', but only use\n// attribute 'color' to represent both concepts of 'colorRange' and 'color',\n// (It means 'colorRange' when 'color' is Array, means 'color' when not array),\n// this problem will be encountered:\n// If a level-1 node doesn't have children, and its siblings have children,\n// and colorRange is set on level-1, then the node cannot be colored.\n// So we separate 'colorRange' and 'color' to different attributes.\nfunction getRangeVisual(nodeModel, name) {\n  // 'colorRange', 'colorARange', 'colorSRange'.\n  // If not exists on this node, fetch from levels and series.\n  var range = nodeModel.get(name);\n  return isArray(range) && range.length ? {\n    name: name,\n    range: range\n  } : null;\n}\nfunction mapVisual(nodeModel, visuals, child, index, mapping, seriesModel) {\n  var childVisuals = extend({}, visuals);\n  if (mapping) {\n    // Only support color, colorAlpha, colorSaturation.\n    var mappingType = mapping.type;\n    var colorMappingBy = mappingType === 'color' && inner(mapping).drColorMappingBy;\n    var value = colorMappingBy === 'index' ? index : colorMappingBy === 'id' ? seriesModel.mapIdToIndex(child.getId()) : child.getValue(nodeModel.get('visualDimension'));\n    childVisuals[mappingType] = mapping.mapValueToVisual(value);\n  }\n  return childVisuals;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/*\n* A third-party license is embedded for some of the code in this file:\n* The treemap layout implementation was originally copied from\n* \"d3.js\" with some modifications made for this project.\n* (See more details in the comment of the method \"squarify\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { parsePercent, MAX_SAFE_INTEGER } from '../../util/number.js';\nimport * as layout from '../../util/layout.js';\nimport * as helper from '../helper/treeHelper.js';\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar retrieveValue = zrUtil.retrieve;\nvar each = zrUtil.each;\nvar PATH_BORDER_WIDTH = ['itemStyle', 'borderWidth'];\nvar PATH_GAP_WIDTH = ['itemStyle', 'gapWidth'];\nvar PATH_UPPER_LABEL_SHOW = ['upperLabel', 'show'];\nvar PATH_UPPER_LABEL_HEIGHT = ['upperLabel', 'height'];\n;\n/**\n * @public\n */\nexport default {\n  seriesType: 'treemap',\n  reset: function (seriesModel, ecModel, api, payload) {\n    // Layout result in each node:\n    // {x, y, width, height, area, borderWidth}\n    var seriesOption = seriesModel.option;\n    var refContainer = layout.createBoxLayoutReference(seriesModel, api).refContainer;\n    var layoutInfo = layout.getLayoutRect(seriesModel.getBoxLayoutParams(), refContainer);\n    var size = seriesOption.size || []; // Compatible with ec2.\n    var containerWidth = parsePercent(retrieveValue(layoutInfo.width, size[0]), refContainer.width);\n    var containerHeight = parsePercent(retrieveValue(layoutInfo.height, size[1]), refContainer.height);\n    // Fetch payload info.\n    var payloadType = payload && payload.type;\n    var types = ['treemapZoomToNode', 'treemapRootToNode'];\n    var targetInfo = helper.retrieveTargetInfo(payload, types, seriesModel);\n    var rootRect = payloadType === 'treemapRender' || payloadType === 'treemapMove' ? payload.rootRect : null;\n    var viewRoot = seriesModel.getViewRoot();\n    var viewAbovePath = helper.getPathToRoot(viewRoot);\n    if (payloadType !== 'treemapMove') {\n      var rootSize = payloadType === 'treemapZoomToNode' ? estimateRootSize(seriesModel, targetInfo, viewRoot, containerWidth, containerHeight) : rootRect ? [rootRect.width, rootRect.height] : [containerWidth, containerHeight];\n      var sort_1 = seriesOption.sort;\n      if (sort_1 && sort_1 !== 'asc' && sort_1 !== 'desc') {\n        // Default to be desc order.\n        sort_1 = 'desc';\n      }\n      var options = {\n        squareRatio: seriesOption.squareRatio,\n        sort: sort_1,\n        leafDepth: seriesOption.leafDepth\n      };\n      // layout should be cleared because using updateView but not update.\n      viewRoot.hostTree.clearLayouts();\n      // TODO\n      // optimize: if out of view clip, do not layout.\n      // But take care that if do not render node out of view clip,\n      // how to calculate start po\n      var viewRootLayout_1 = {\n        x: 0,\n        y: 0,\n        width: rootSize[0],\n        height: rootSize[1],\n        area: rootSize[0] * rootSize[1]\n      };\n      viewRoot.setLayout(viewRootLayout_1);\n      squarify(viewRoot, options, false, 0);\n      // Supplement layout.\n      viewRootLayout_1 = viewRoot.getLayout();\n      each(viewAbovePath, function (node, index) {\n        var childValue = (viewAbovePath[index + 1] || viewRoot).getValue();\n        node.setLayout(zrUtil.extend({\n          dataExtent: [childValue, childValue],\n          borderWidth: 0,\n          upperHeight: 0\n        }, viewRootLayout_1));\n      });\n    }\n    var treeRoot = seriesModel.getData().tree.root;\n    treeRoot.setLayout(calculateRootPosition(layoutInfo, rootRect, targetInfo), true);\n    seriesModel.setLayoutInfo(layoutInfo);\n    // FIXME: narrow down pruning boungding rect.\n    // Currently ec width/height is used becuases clip is not supported.\n    prunning(treeRoot,\n    // Transform to base element coordinate system.\n    new BoundingRect(-layoutInfo.x, -layoutInfo.y, api.getWidth(), api.getHeight()), viewAbovePath, viewRoot, 0);\n  }\n};\n/**\n * Layout treemap with squarify algorithm.\n * The original presentation of this algorithm\n * was made by Mark Bruls, Kees Huizing, and Jarke J. van Wijk\n * <https://graphics.ethz.ch/teaching/scivis_common/Literature/squarifiedTreeMaps.pdf>.\n * The implementation of this algorithm was originally copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/layout/treemap.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * @protected\n * @param {module:echarts/data/Tree~TreeNode} node\n * @param {Object} options\n * @param {string} options.sort 'asc' or 'desc'\n * @param {number} options.squareRatio\n * @param {boolean} hideChildren\n * @param {number} depth\n */\nfunction squarify(node, options, hideChildren, depth) {\n  var width;\n  var height;\n  if (node.isRemoved()) {\n    return;\n  }\n  var thisLayout = node.getLayout();\n  width = thisLayout.width;\n  height = thisLayout.height;\n  // Considering border and gap\n  var nodeModel = node.getModel();\n  var borderWidth = nodeModel.get(PATH_BORDER_WIDTH);\n  var halfGapWidth = nodeModel.get(PATH_GAP_WIDTH) / 2;\n  var upperLabelHeight = getUpperLabelHeight(nodeModel);\n  var upperHeight = Math.max(borderWidth, upperLabelHeight);\n  var layoutOffset = borderWidth - halfGapWidth;\n  var layoutOffsetUpper = upperHeight - halfGapWidth;\n  node.setLayout({\n    borderWidth: borderWidth,\n    upperHeight: upperHeight,\n    upperLabelHeight: upperLabelHeight\n  }, true);\n  width = mathMax(width - 2 * layoutOffset, 0);\n  height = mathMax(height - layoutOffset - layoutOffsetUpper, 0);\n  var totalArea = width * height;\n  var viewChildren = initChildren(node, nodeModel, totalArea, options, hideChildren, depth);\n  if (!viewChildren.length) {\n    return;\n  }\n  var rect = {\n    x: layoutOffset,\n    y: layoutOffsetUpper,\n    width: width,\n    height: height\n  };\n  var rowFixedLength = mathMin(width, height);\n  var best = Infinity; // the best row score so far\n  var row = [];\n  row.area = 0;\n  for (var i = 0, len = viewChildren.length; i < len;) {\n    var child = viewChildren[i];\n    row.push(child);\n    row.area += child.getLayout().area;\n    var score = worst(row, rowFixedLength, options.squareRatio);\n    // continue with this orientation\n    if (score <= best) {\n      i++;\n      best = score;\n    }\n    // abort, and try a different orientation\n    else {\n      row.area -= row.pop().getLayout().area;\n      position(row, rowFixedLength, rect, halfGapWidth, false);\n      rowFixedLength = mathMin(rect.width, rect.height);\n      row.length = row.area = 0;\n      best = Infinity;\n    }\n  }\n  if (row.length) {\n    position(row, rowFixedLength, rect, halfGapWidth, true);\n  }\n  if (!hideChildren) {\n    var childrenVisibleMin = nodeModel.get('childrenVisibleMin');\n    if (childrenVisibleMin != null && totalArea < childrenVisibleMin) {\n      hideChildren = true;\n    }\n  }\n  for (var i = 0, len = viewChildren.length; i < len; i++) {\n    squarify(viewChildren[i], options, hideChildren, depth + 1);\n  }\n}\n/**\n * Set area to each child, and calculate data extent for visual coding.\n */\nfunction initChildren(node, nodeModel, totalArea, options, hideChildren, depth) {\n  var viewChildren = node.children || [];\n  var orderBy = options.sort;\n  orderBy !== 'asc' && orderBy !== 'desc' && (orderBy = null);\n  var overLeafDepth = options.leafDepth != null && options.leafDepth <= depth;\n  // leafDepth has higher priority.\n  if (hideChildren && !overLeafDepth) {\n    return node.viewChildren = [];\n  }\n  // Sort children, order by desc.\n  viewChildren = zrUtil.filter(viewChildren, function (child) {\n    return !child.isRemoved();\n  });\n  sort(viewChildren, orderBy);\n  var info = statistic(nodeModel, viewChildren, orderBy);\n  if (info.sum === 0) {\n    return node.viewChildren = [];\n  }\n  info.sum = filterByThreshold(nodeModel, totalArea, info.sum, orderBy, viewChildren);\n  if (info.sum === 0) {\n    return node.viewChildren = [];\n  }\n  // Set area to each child.\n  for (var i = 0, len = viewChildren.length; i < len; i++) {\n    var area = viewChildren[i].getValue() / info.sum * totalArea;\n    // Do not use setLayout({...}, true), because it is needed to clear last layout.\n    viewChildren[i].setLayout({\n      area: area\n    });\n  }\n  if (overLeafDepth) {\n    viewChildren.length && node.setLayout({\n      isLeafRoot: true\n    }, true);\n    viewChildren.length = 0;\n  }\n  node.viewChildren = viewChildren;\n  node.setLayout({\n    dataExtent: info.dataExtent\n  }, true);\n  return viewChildren;\n}\n/**\n * Consider 'visibleMin'. Modify viewChildren and get new sum.\n */\nfunction filterByThreshold(nodeModel, totalArea, sum, orderBy, orderedChildren) {\n  // visibleMin is not supported yet when no option.sort.\n  if (!orderBy) {\n    return sum;\n  }\n  var visibleMin = nodeModel.get('visibleMin');\n  var len = orderedChildren.length;\n  var deletePoint = len;\n  // Always travel from little value to big value.\n  for (var i = len - 1; i >= 0; i--) {\n    var value = orderedChildren[orderBy === 'asc' ? len - i - 1 : i].getValue();\n    if (value / sum * totalArea < visibleMin) {\n      deletePoint = i;\n      sum -= value;\n    }\n  }\n  orderBy === 'asc' ? orderedChildren.splice(0, len - deletePoint) : orderedChildren.splice(deletePoint, len - deletePoint);\n  return sum;\n}\n/**\n * Sort\n */\nfunction sort(viewChildren, orderBy) {\n  if (orderBy) {\n    viewChildren.sort(function (a, b) {\n      var diff = orderBy === 'asc' ? a.getValue() - b.getValue() : b.getValue() - a.getValue();\n      return diff === 0 ? orderBy === 'asc' ? a.dataIndex - b.dataIndex : b.dataIndex - a.dataIndex : diff;\n    });\n  }\n  return viewChildren;\n}\n/**\n * Statistic\n */\nfunction statistic(nodeModel, children, orderBy) {\n  // Calculate sum.\n  var sum = 0;\n  for (var i = 0, len = children.length; i < len; i++) {\n    sum += children[i].getValue();\n  }\n  // Statistic data extent for latter visual coding.\n  // Notice: data extent should be calculate based on raw children\n  // but not filtered view children, otherwise visual mapping will not\n  // be stable when zoom (where children is filtered by visibleMin).\n  var dimension = nodeModel.get('visualDimension');\n  var dataExtent;\n  // The same as area dimension.\n  if (!children || !children.length) {\n    dataExtent = [NaN, NaN];\n  } else if (dimension === 'value' && orderBy) {\n    dataExtent = [children[children.length - 1].getValue(), children[0].getValue()];\n    orderBy === 'asc' && dataExtent.reverse();\n  }\n  // Other dimension.\n  else {\n    dataExtent = [Infinity, -Infinity];\n    each(children, function (child) {\n      var value = child.getValue(dimension);\n      value < dataExtent[0] && (dataExtent[0] = value);\n      value > dataExtent[1] && (dataExtent[1] = value);\n    });\n  }\n  return {\n    sum: sum,\n    dataExtent: dataExtent\n  };\n}\n/**\n * Computes the score for the specified row,\n * as the worst aspect ratio.\n */\nfunction worst(row, rowFixedLength, ratio) {\n  var areaMax = 0;\n  var areaMin = Infinity;\n  for (var i = 0, area = void 0, len = row.length; i < len; i++) {\n    area = row[i].getLayout().area;\n    if (area) {\n      area < areaMin && (areaMin = area);\n      area > areaMax && (areaMax = area);\n    }\n  }\n  var squareArea = row.area * row.area;\n  var f = rowFixedLength * rowFixedLength * ratio;\n  return squareArea ? mathMax(f * areaMax / squareArea, squareArea / (f * areaMin)) : Infinity;\n}\n/**\n * Positions the specified row of nodes. Modifies `rect`.\n */\nfunction position(row, rowFixedLength, rect, halfGapWidth, flush) {\n  // When rowFixedLength === rect.width,\n  // it is horizontal subdivision,\n  // rowFixedLength is the width of the subdivision,\n  // rowOtherLength is the height of the subdivision,\n  // and nodes will be positioned from left to right.\n  // wh[idx0WhenH] means: when horizontal,\n  //      wh[idx0WhenH] => wh[0] => 'width'.\n  //      xy[idx1WhenH] => xy[1] => 'y'.\n  var idx0WhenH = rowFixedLength === rect.width ? 0 : 1;\n  var idx1WhenH = 1 - idx0WhenH;\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  var last = rect[xy[idx0WhenH]];\n  var rowOtherLength = rowFixedLength ? row.area / rowFixedLength : 0;\n  if (flush || rowOtherLength > rect[wh[idx1WhenH]]) {\n    rowOtherLength = rect[wh[idx1WhenH]]; // over+underflow\n  }\n  for (var i = 0, rowLen = row.length; i < rowLen; i++) {\n    var node = row[i];\n    var nodeLayout = {};\n    var step = rowOtherLength ? node.getLayout().area / rowOtherLength : 0;\n    var wh1 = nodeLayout[wh[idx1WhenH]] = mathMax(rowOtherLength - 2 * halfGapWidth, 0);\n    // We use Math.max/min to avoid negative width/height when considering gap width.\n    var remain = rect[xy[idx0WhenH]] + rect[wh[idx0WhenH]] - last;\n    var modWH = i === rowLen - 1 || remain < step ? remain : step;\n    var wh0 = nodeLayout[wh[idx0WhenH]] = mathMax(modWH - 2 * halfGapWidth, 0);\n    nodeLayout[xy[idx1WhenH]] = rect[xy[idx1WhenH]] + mathMin(halfGapWidth, wh1 / 2);\n    nodeLayout[xy[idx0WhenH]] = last + mathMin(halfGapWidth, wh0 / 2);\n    last += modWH;\n    node.setLayout(nodeLayout, true);\n  }\n  rect[xy[idx1WhenH]] += rowOtherLength;\n  rect[wh[idx1WhenH]] -= rowOtherLength;\n}\n// Return [containerWidth, containerHeight] as default.\nfunction estimateRootSize(seriesModel, targetInfo, viewRoot, containerWidth, containerHeight) {\n  // If targetInfo.node exists, we zoom to the node,\n  // so estimate whole width and height by target node.\n  var currNode = (targetInfo || {}).node;\n  var defaultSize = [containerWidth, containerHeight];\n  if (!currNode || currNode === viewRoot) {\n    return defaultSize;\n  }\n  var parent;\n  var viewArea = containerWidth * containerHeight;\n  var area = viewArea * seriesModel.option.zoomToNodeRatio;\n  while (parent = currNode.parentNode) {\n    // jshint ignore:line\n    var sum = 0;\n    var siblings = parent.children;\n    for (var i = 0, len = siblings.length; i < len; i++) {\n      sum += siblings[i].getValue();\n    }\n    var currNodeValue = currNode.getValue();\n    if (currNodeValue === 0) {\n      return defaultSize;\n    }\n    area *= sum / currNodeValue;\n    // Considering border, suppose aspect ratio is 1.\n    var parentModel = parent.getModel();\n    var borderWidth = parentModel.get(PATH_BORDER_WIDTH);\n    var upperHeight = Math.max(borderWidth, getUpperLabelHeight(parentModel));\n    area += 4 * borderWidth * borderWidth + (3 * borderWidth + upperHeight) * Math.pow(area, 0.5);\n    area > MAX_SAFE_INTEGER && (area = MAX_SAFE_INTEGER);\n    currNode = parent;\n  }\n  area < viewArea && (area = viewArea);\n  var scale = Math.pow(area / viewArea, 0.5);\n  return [containerWidth * scale, containerHeight * scale];\n}\n// Root position based on coord of containerGroup\nfunction calculateRootPosition(layoutInfo, rootRect, targetInfo) {\n  if (rootRect) {\n    return {\n      x: rootRect.x,\n      y: rootRect.y\n    };\n  }\n  var defaultPosition = {\n    x: 0,\n    y: 0\n  };\n  if (!targetInfo) {\n    return defaultPosition;\n  }\n  // If targetInfo is fetched by 'retrieveTargetInfo',\n  // old tree and new tree are the same tree,\n  // so the node still exists and we can visit it.\n  var targetNode = targetInfo.node;\n  var layout = targetNode.getLayout();\n  if (!layout) {\n    return defaultPosition;\n  }\n  // Transform coord from local to container.\n  var targetCenter = [layout.width / 2, layout.height / 2];\n  var node = targetNode;\n  while (node) {\n    var nodeLayout = node.getLayout();\n    targetCenter[0] += nodeLayout.x;\n    targetCenter[1] += nodeLayout.y;\n    node = node.parentNode;\n  }\n  return {\n    x: layoutInfo.width / 2 - targetCenter[0],\n    y: layoutInfo.height / 2 - targetCenter[1]\n  };\n}\n// Mark nodes visible for prunning when visual coding and rendering.\n// Prunning depends on layout and root position, so we have to do it after layout.\nfunction prunning(node, clipRect, viewAbovePath, viewRoot, depth) {\n  var nodeLayout = node.getLayout();\n  var nodeInViewAbovePath = viewAbovePath[depth];\n  var isAboveViewRoot = nodeInViewAbovePath && nodeInViewAbovePath === node;\n  if (nodeInViewAbovePath && !isAboveViewRoot || depth === viewAbovePath.length && node !== viewRoot) {\n    return;\n  }\n  node.setLayout({\n    // isInView means: viewRoot sub tree + viewAbovePath\n    isInView: true,\n    // invisible only means: outside view clip so that the node can not\n    // see but still layout for animation preparation but not render.\n    invisible: !isAboveViewRoot && !clipRect.intersect(nodeLayout),\n    isAboveViewRoot: isAboveViewRoot\n  }, true);\n  // Transform to child coordinate.\n  var childClipRect = new BoundingRect(clipRect.x - nodeLayout.x, clipRect.y - nodeLayout.y, clipRect.width, clipRect.height);\n  each(node.viewChildren || [], function (child) {\n    prunning(child, childClipRect, viewAbovePath, viewRoot, depth + 1);\n  });\n}\nfunction getUpperLabelHeight(model) {\n  return model.get(PATH_UPPER_LABEL_SHOW) ? model.get(PATH_UPPER_LABEL_HEIGHT) : 0;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { installTreemapAction } from './treemapAction.js';\nimport TreemapSeriesModel from './TreemapSeries.js';\nimport TreemapView from './TreemapView.js';\nimport treemapVisual from './treemapVisual.js';\nimport treemapLayout from './treemapLayout.js';\nexport function install(registers) {\n  registers.registerSeriesModel(TreemapSeriesModel);\n  registers.registerChartView(TreemapView);\n  registers.registerVisual(treemapVisual);\n  registers.registerLayout(treemapLayout);\n  installTreemapAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isNumber } from 'zrender/lib/core/util.js';\nexport default function categoryFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n  if (!legendModels || !legendModels.length) {\n    return;\n  }\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var categoriesData = graphSeries.getCategoriesData();\n    var graph = graphSeries.getGraph();\n    var data = graph.data;\n    var categoryNames = categoriesData.mapArray(categoriesData.getName);\n    data.filterSelf(function (idx) {\n      var model = data.getItemModel(idx);\n      var category = model.getShallow('category');\n      if (category != null) {\n        if (isNumber(category)) {\n          category = categoryNames[category];\n        }\n        // If in any legend component the status is not selected.\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(category)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, isString } from 'zrender/lib/core/util.js';\nexport default function categoryVisual(ecModel) {\n  var paletteScope = {};\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var categoriesData = seriesModel.getCategoriesData();\n    var data = seriesModel.getData();\n    var categoryNameIdxMap = {};\n    categoriesData.each(function (idx) {\n      var name = categoriesData.getName(idx);\n      // Add prefix to avoid conflict with Object.prototype.\n      categoryNameIdxMap['ec-' + name] = idx;\n      var itemModel = categoriesData.getItemModel(idx);\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n      if (!style.fill) {\n        // Get color from palette.\n        style.fill = seriesModel.getColorFromPalette(name, paletteScope);\n      }\n      categoriesData.setItemVisual(idx, 'style', style);\n      var symbolVisualList = ['symbol', 'symbolSize', 'symbolKeepAspect'];\n      for (var i = 0; i < symbolVisualList.length; i++) {\n        var symbolVisual = itemModel.getShallow(symbolVisualList[i], true);\n        if (symbolVisual != null) {\n          categoriesData.setItemVisual(idx, symbolVisualList[i], symbolVisual);\n        }\n      }\n    });\n    // Assign category color to visual\n    if (categoriesData.count()) {\n      data.each(function (idx) {\n        var model = data.getItemModel(idx);\n        var categoryIdx = model.getShallow('category');\n        if (categoryIdx != null) {\n          if (isString(categoryIdx)) {\n            categoryIdx = categoryNameIdxMap['ec-' + categoryIdx];\n          }\n          var categoryStyle = categoriesData.getItemVisual(categoryIdx, 'style');\n          var style = data.ensureUniqueItemVisual(idx, 'style');\n          extend(style, categoryStyle);\n          var visualList = ['symbol', 'symbolSize', 'symbolKeepAspect'];\n          for (var i = 0; i < visualList.length; i++) {\n            data.setItemVisual(idx, visualList[i], categoriesData.getItemVisual(categoryIdx, visualList[i]));\n          }\n        }\n      });\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util.js';\nfunction normalize(a) {\n  if (!(a instanceof Array)) {\n    a = [a, a];\n  }\n  return a;\n}\nexport default function graphEdgeVisual(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var edgeData = seriesModel.getEdgeData();\n    var symbolType = normalize(seriesModel.get('edgeSymbol'));\n    var symbolSize = normalize(seriesModel.get('edgeSymbolSize'));\n    // const colorQuery = ['lineStyle', 'color'] as const;\n    // const opacityQuery = ['lineStyle', 'opacity'] as const;\n    edgeData.setVisual('fromSymbol', symbolType && symbolType[0]);\n    edgeData.setVisual('toSymbol', symbolType && symbolType[1]);\n    edgeData.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n    edgeData.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n    edgeData.setVisual('style', seriesModel.getModel('lineStyle').getLineStyle());\n    edgeData.each(function (idx) {\n      var itemModel = edgeData.getItemModel(idx);\n      var edge = graph.getEdgeByIndex(idx);\n      var symbolType = normalize(itemModel.getShallow('symbol', true));\n      var symbolSize = normalize(itemModel.getShallow('symbolSize', true));\n      // Edge visual must after node visual\n      var style = itemModel.getModel('lineStyle').getLineStyle();\n      var existsStyle = edgeData.ensureUniqueItemVisual(idx, 'style');\n      extend(existsStyle, style);\n      switch (existsStyle.stroke) {\n        case 'source':\n          {\n            var nodeStyle = edge.node1.getVisual('style');\n            existsStyle.stroke = nodeStyle && nodeStyle.fill;\n            break;\n          }\n        case 'target':\n          {\n            var nodeStyle = edge.node2.getVisual('style');\n            existsStyle.stroke = nodeStyle && nodeStyle.fill;\n            break;\n          }\n      }\n      symbolType[0] && edge.setVisual('fromSymbol', symbolType[0]);\n      symbolType[1] && edge.setVisual('toSymbol', symbolType[1]);\n      symbolSize[0] && edge.setVisual('fromSymbolSize', symbolSize[0]);\n      symbolSize[1] && edge.setVisual('toSymbolSize', symbolSize[1]);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar KEY_DELIMITER = '-->';\n/**\n * params handler\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @returns {*}\n */\nvar getAutoCurvenessParams = function (seriesModel) {\n  return seriesModel.get('autoCurveness') || null;\n};\n/**\n * Generate a list of edge curvatures, 20 is the default\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param {number} appendLength\n * @return  20 => [0, -0.2, 0.2, -0.4, 0.4, -0.6, 0.6, -0.8, 0.8, -1, 1, -1.2, 1.2, -1.4, 1.4, -1.6, 1.6, -1.8, 1.8, -2]\n */\nvar createCurveness = function (seriesModel, appendLength) {\n  var autoCurvenessParmas = getAutoCurvenessParams(seriesModel);\n  var length = 20;\n  var curvenessList = [];\n  // handler the function set\n  if (zrUtil.isNumber(autoCurvenessParmas)) {\n    length = autoCurvenessParmas;\n  } else if (zrUtil.isArray(autoCurvenessParmas)) {\n    seriesModel.__curvenessList = autoCurvenessParmas;\n    return;\n  }\n  // append length\n  if (appendLength > length) {\n    length = appendLength;\n  }\n  // make sure the length is even\n  var len = length % 2 ? length + 2 : length + 3;\n  curvenessList = [];\n  for (var i = 0; i < len; i++) {\n    curvenessList.push((i % 2 ? i + 1 : i) / 10 * (i % 2 ? -1 : 1));\n  }\n  seriesModel.__curvenessList = curvenessList;\n};\n/**\n * Create different cache key data in the positive and negative directions, in order to set the curvature later\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @returns {string} key\n */\nvar getKeyOfEdges = function (n1, n2, seriesModel) {\n  var source = [n1.id, n1.dataIndex].join('.');\n  var target = [n2.id, n2.dataIndex].join('.');\n  return [seriesModel.uid, source, target].join(KEY_DELIMITER);\n};\n/**\n * get opposite key\n * @param {string} key\n * @returns {string}\n */\nvar getOppositeKey = function (key) {\n  var keys = key.split(KEY_DELIMITER);\n  return [keys[0], keys[2], keys[1]].join(KEY_DELIMITER);\n};\n/**\n * get edgeMap with key\n * @param edge\n * @param {module:echarts/model/SeriesModel} seriesModel\n */\nvar getEdgeFromMap = function (edge, seriesModel) {\n  var key = getKeyOfEdges(edge.node1, edge.node2, seriesModel);\n  return seriesModel.__edgeMap[key];\n};\n/**\n * calculate all cases total length\n * @param edge\n * @param seriesModel\n * @returns {number}\n */\nvar getTotalLengthBetweenNodes = function (edge, seriesModel) {\n  var len = getEdgeMapLengthWithKey(getKeyOfEdges(edge.node1, edge.node2, seriesModel), seriesModel);\n  var lenV = getEdgeMapLengthWithKey(getKeyOfEdges(edge.node2, edge.node1, seriesModel), seriesModel);\n  return len + lenV;\n};\n/**\n *\n * @param key\n */\nvar getEdgeMapLengthWithKey = function (key, seriesModel) {\n  var edgeMap = seriesModel.__edgeMap;\n  return edgeMap[key] ? edgeMap[key].length : 0;\n};\n/**\n * Count the number of edges between the same two points, used to obtain the curvature table and the parity of the edge\n * @see /graph/GraphSeries.js@getInitialData\n * @param {module:echarts/model/SeriesModel} seriesModel\n */\nexport function initCurvenessList(seriesModel) {\n  if (!getAutoCurvenessParams(seriesModel)) {\n    return;\n  }\n  seriesModel.__curvenessList = [];\n  seriesModel.__edgeMap = {};\n  // calc the array of curveness List\n  createCurveness(seriesModel);\n}\n/**\n * set edgeMap with key\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param {number} index\n */\nexport function createEdgeMapForCurveness(n1, n2, seriesModel, index) {\n  if (!getAutoCurvenessParams(seriesModel)) {\n    return;\n  }\n  var key = getKeyOfEdges(n1, n2, seriesModel);\n  var edgeMap = seriesModel.__edgeMap;\n  var oppositeEdges = edgeMap[getOppositeKey(key)];\n  // set direction\n  if (edgeMap[key] && !oppositeEdges) {\n    edgeMap[key].isForward = true;\n  } else if (oppositeEdges && edgeMap[key]) {\n    oppositeEdges.isForward = true;\n    edgeMap[key].isForward = false;\n  }\n  edgeMap[key] = edgeMap[key] || [];\n  edgeMap[key].push(index);\n}\n/**\n * get curvature for edge\n * @param edge\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param index\n */\nexport function getCurvenessForEdge(edge, seriesModel, index, needReverse) {\n  var autoCurvenessParams = getAutoCurvenessParams(seriesModel);\n  var isArrayParam = zrUtil.isArray(autoCurvenessParams);\n  if (!autoCurvenessParams) {\n    return null;\n  }\n  var edgeArray = getEdgeFromMap(edge, seriesModel);\n  if (!edgeArray) {\n    return null;\n  }\n  var edgeIndex = -1;\n  for (var i = 0; i < edgeArray.length; i++) {\n    if (edgeArray[i] === index) {\n      edgeIndex = i;\n      break;\n    }\n  }\n  // if totalLen is Longer createCurveness\n  var totalLen = getTotalLengthBetweenNodes(edge, seriesModel);\n  createCurveness(seriesModel, totalLen);\n  edge.lineStyle = edge.lineStyle || {};\n  // if is opposite edge, must set curvenss to opposite number\n  var curKey = getKeyOfEdges(edge.node1, edge.node2, seriesModel);\n  var curvenessList = seriesModel.__curvenessList;\n  // if pass array no need parity\n  var parityCorrection = isArrayParam ? 0 : totalLen % 2 ? 0 : 1;\n  if (!edgeArray.isForward) {\n    // the opposite edge show outside\n    var oppositeKey = getOppositeKey(curKey);\n    var len = getEdgeMapLengthWithKey(oppositeKey, seriesModel);\n    var resValue = curvenessList[edgeIndex + len + parityCorrection];\n    // isNeedReverse, simple, force type need reverse the curveness in the junction of the forword and the opposite\n    if (needReverse) {\n      // set as array may make the parity handle with the len of opposite\n      if (isArrayParam) {\n        if (autoCurvenessParams && autoCurvenessParams[0] === 0) {\n          return (len + parityCorrection) % 2 ? resValue : -resValue;\n        } else {\n          return ((len % 2 ? 0 : 1) + parityCorrection) % 2 ? resValue : -resValue;\n        }\n      } else {\n        return (len + parityCorrection) % 2 ? resValue : -resValue;\n      }\n    } else {\n      return curvenessList[edgeIndex + len + parityCorrection];\n    }\n  } else {\n    return curvenessList[parityCorrection + edgeIndex];\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper.js';\nexport function simpleLayout(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n  var graph = seriesModel.getGraph();\n  graph.eachNode(function (node) {\n    var model = node.getModel();\n    node.setLayout([+model.get('x'), +model.get('y')]);\n  });\n  simpleLayoutEdge(graph, seriesModel);\n}\nexport function simpleLayoutEdge(graph, seriesModel) {\n  graph.eachEdge(function (edge, index) {\n    var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), -getCurvenessForEdge(edge, seriesModel, index, true), 0);\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var points = [p1, p2];\n    if (+curveness) {\n      points.push([(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * curveness]);\n    }\n    edge.setLayout(points);\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each } from 'zrender/lib/core/util.js';\nimport { simpleLayout, simpleLayoutEdge } from './simpleLayoutHelper.js';\nexport default function graphSimpleLayout(ecModel, api) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var layout = seriesModel.get('layout');\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys && coordSys.type !== 'view') {\n      var data_1 = seriesModel.getData();\n      var dimensions_1 = [];\n      each(coordSys.dimensions, function (coordDim) {\n        dimensions_1 = dimensions_1.concat(data_1.mapDimensionsAll(coordDim));\n      });\n      for (var dataIndex = 0; dataIndex < data_1.count(); dataIndex++) {\n        var value = [];\n        var hasValue = false;\n        for (var i = 0; i < dimensions_1.length; i++) {\n          var val = data_1.get(dimensions_1[i], dataIndex);\n          if (!isNaN(val)) {\n            hasValue = true;\n          }\n          value.push(val);\n        }\n        if (hasValue) {\n          data_1.setItemLayout(dataIndex, coordSys.dataToPoint(value));\n        } else {\n          // Also {Array.<number>}, not undefined to avoid if...else... statement\n          data_1.setItemLayout(dataIndex, [NaN, NaN]);\n        }\n      }\n      simpleLayoutEdge(data_1.graph, seriesModel);\n    } else if (!layout || layout === 'none') {\n      simpleLayout(seriesModel);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function getNodeGlobalScale(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n  if (coordSys.type !== 'view') {\n    return 1;\n  }\n  var nodeScaleRatio = seriesModel.option.nodeScaleRatio;\n  var groupZoom = coordSys.scaleX;\n  // Scale node when zoom changes\n  var roamZoom = coordSys.getZoom();\n  var nodeScale = (roamZoom - 1) * nodeScaleRatio + 1;\n  return nodeScale / groupZoom;\n}\nexport function getSymbolSize(node) {\n  var symbolSize = node.getVisual('symbolSize');\n  if (symbolSize instanceof Array) {\n    symbolSize = (symbolSize[0] + symbolSize[1]) / 2;\n  }\n  return +symbolSize;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport { getSymbolSize, getNodeGlobalScale } from './graphHelper.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper.js';\nvar PI = Math.PI;\nvar _symbolRadiansHalf = [];\n/**\n * `basedOn` can be:\n * 'value':\n *     This layout is not accurate and have same bad case. For example,\n *     if the min value is very smaller than the max value, the nodes\n *     with the min value probably overlap even though there is enough\n *     space to layout them. So we only use this approach in the as the\n *     init layout of the force layout.\n *     FIXME\n *     Probably we do not need this method any more but use\n *     `basedOn: 'symbolSize'` in force layout if\n *     delay its init operations to GraphView.\n * 'symbolSize':\n *     This approach work only if all of the symbol size calculated.\n *     That is, the progressive rendering is not applied to graph.\n *     FIXME\n *     If progressive rendering is applied to graph some day,\n *     probably we have to use `basedOn: 'value'`.\n */\nexport function circularLayout(seriesModel, basedOn, draggingNode, pointer) {\n  var coordSys = seriesModel.coordinateSystem;\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n  var rect = coordSys.getBoundingRect();\n  var nodeData = seriesModel.getData();\n  var graph = nodeData.graph;\n  var cx = rect.width / 2 + rect.x;\n  var cy = rect.height / 2 + rect.y;\n  var r = Math.min(rect.width, rect.height) / 2;\n  var count = nodeData.count();\n  nodeData.setLayout({\n    cx: cx,\n    cy: cy\n  });\n  if (!count) {\n    return;\n  }\n  if (draggingNode) {\n    var _a = coordSys.pointToData(pointer),\n      tempX = _a[0],\n      tempY = _a[1];\n    var v = [tempX - cx, tempY - cy];\n    vec2.normalize(v, v);\n    vec2.scale(v, v, r);\n    draggingNode.setLayout([cx + v[0], cy + v[1]], true);\n    var circularRotateLabel = seriesModel.get(['circular', 'rotateLabel']);\n    rotateNodeLabel(draggingNode, circularRotateLabel, cx, cy);\n  }\n  _layoutNodesBasedOn[basedOn](seriesModel, graph, nodeData, r, cx, cy, count);\n  graph.eachEdge(function (edge, index) {\n    var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), getCurvenessForEdge(edge, seriesModel, index), 0);\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var cp1;\n    var x12 = (p1[0] + p2[0]) / 2;\n    var y12 = (p1[1] + p2[1]) / 2;\n    if (+curveness) {\n      curveness *= 3;\n      cp1 = [cx * curveness + x12 * (1 - curveness), cy * curveness + y12 * (1 - curveness)];\n    }\n    edge.setLayout([p1, p2, cp1]);\n  });\n}\nvar _layoutNodesBasedOn = {\n  value: function (seriesModel, graph, nodeData, r, cx, cy, count) {\n    var angle = 0;\n    var sum = nodeData.getSum('value');\n    var unitAngle = Math.PI * 2 / (sum || count);\n    graph.eachNode(function (node) {\n      var value = node.getValue('value');\n      var radianHalf = unitAngle * (sum ? value : 1) / 2;\n      angle += radianHalf;\n      node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n      angle += radianHalf;\n    });\n  },\n  symbolSize: function (seriesModel, graph, nodeData, r, cx, cy, count) {\n    var sumRadian = 0;\n    _symbolRadiansHalf.length = count;\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    graph.eachNode(function (node) {\n      var symbolSize = getSymbolSize(node);\n      // Normally this case will not happen, but we still add\n      // some the defensive code (2px is an arbitrary value).\n      isNaN(symbolSize) && (symbolSize = 2);\n      symbolSize < 0 && (symbolSize = 0);\n      symbolSize *= nodeScale;\n      var symbolRadianHalf = Math.asin(symbolSize / 2 / r);\n      // when `symbolSize / 2` is bigger than `r`.\n      isNaN(symbolRadianHalf) && (symbolRadianHalf = PI / 2);\n      _symbolRadiansHalf[node.dataIndex] = symbolRadianHalf;\n      sumRadian += symbolRadianHalf * 2;\n    });\n    var halfRemainRadian = (2 * PI - sumRadian) / count / 2;\n    var angle = 0;\n    graph.eachNode(function (node) {\n      var radianHalf = halfRemainRadian + _symbolRadiansHalf[node.dataIndex];\n      angle += radianHalf;\n      // init circular layout for\n      // 1. layout undefined node\n      // 2. not fixed node\n      (!node.getLayout() || !node.getLayout().fixed) && node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n      angle += radianHalf;\n    });\n  }\n};\nexport function rotateNodeLabel(node, circularRotateLabel, cx, cy) {\n  var el = node.getGraphicEl();\n  // need to check if el exists. '-' value may not create node element.\n  if (!el) {\n    return;\n  }\n  var nodeModel = node.getModel();\n  var labelRotate = nodeModel.get(['label', 'rotate']) || 0;\n  var symbolPath = el.getSymbolPath();\n  if (circularRotateLabel) {\n    var pos = node.getLayout();\n    var rad = Math.atan2(pos[1] - cy, pos[0] - cx);\n    if (rad < 0) {\n      rad = Math.PI * 2 + rad;\n    }\n    var isLeft = pos[0] < cx;\n    if (isLeft) {\n      rad = rad - Math.PI;\n    }\n    var textPosition = isLeft ? 'left' : 'right';\n    symbolPath.setTextConfig({\n      rotation: -rad,\n      position: textPosition,\n      origin: 'center'\n    });\n    var emphasisState = symbolPath.ensureState('emphasis');\n    zrUtil.extend(emphasisState.textConfig || (emphasisState.textConfig = {}), {\n      position: textPosition\n    });\n  } else {\n    symbolPath.setTextConfig({\n      rotation: labelRotate *= Math.PI / 180\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { circularLayout } from './circularLayoutHelper.js';\nexport default function graphCircularLayout(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    if (seriesModel.get('layout') === 'circular') {\n      circularLayout(seriesModel, 'symbolSize');\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/*\n* A third-party license is embedded for some of the code in this file:\n* Some formulas were originally copied from \"d3.js\" with some\n* modifications made for this project.\n* (See more details in the comment of the method \"step\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\nimport * as vec2 from 'zrender/lib/core/vector.js';\nvar scaleAndAdd = vec2.scaleAndAdd;\n// function adjacentNode(n, e) {\n//     return e.n1 === n ? e.n2 : e.n1;\n// }\nexport function forceLayout(inNodes, inEdges, opts) {\n  var nodes = inNodes;\n  var edges = inEdges;\n  var rect = opts.rect;\n  var width = rect.width;\n  var height = rect.height;\n  var center = [rect.x + width / 2, rect.y + height / 2];\n  // let scale = opts.scale || 1;\n  var gravity = opts.gravity == null ? 0.1 : opts.gravity;\n  // for (let i = 0; i < edges.length; i++) {\n  //     let e = edges[i];\n  //     let n1 = e.n1;\n  //     let n2 = e.n2;\n  //     n1.edges = n1.edges || [];\n  //     n2.edges = n2.edges || [];\n  //     n1.edges.push(e);\n  //     n2.edges.push(e);\n  // }\n  // Init position\n  for (var i = 0; i < nodes.length; i++) {\n    var n = nodes[i];\n    if (!n.p) {\n      n.p = vec2.create(width * (Math.random() - 0.5) + center[0], height * (Math.random() - 0.5) + center[1]);\n    }\n    n.pp = vec2.clone(n.p);\n    n.edges = null;\n  }\n  // Formula in 'Graph Drawing by Force-directed Placement'\n  // let k = scale * Math.sqrt(width * height / nodes.length);\n  // let k2 = k * k;\n  var initialFriction = opts.friction == null ? 0.6 : opts.friction;\n  var friction = initialFriction;\n  var beforeStepCallback;\n  var afterStepCallback;\n  return {\n    warmUp: function () {\n      friction = initialFriction * 0.8;\n    },\n    setFixed: function (idx) {\n      nodes[idx].fixed = true;\n    },\n    setUnfixed: function (idx) {\n      nodes[idx].fixed = false;\n    },\n    /**\n     * Before step hook\n     */\n    beforeStep: function (cb) {\n      beforeStepCallback = cb;\n    },\n    /**\n     * After step hook\n     */\n    afterStep: function (cb) {\n      afterStepCallback = cb;\n    },\n    /**\n     * Some formulas were originally copied from \"d3.js\"\n     * https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/layout/force.js\n     * with some modifications made for this project.\n     * See the license statement at the head of this file.\n     */\n    step: function (cb) {\n      beforeStepCallback && beforeStepCallback(nodes, edges);\n      var v12 = [];\n      var nLen = nodes.length;\n      for (var i = 0; i < edges.length; i++) {\n        var e = edges[i];\n        if (e.ignoreForceLayout) {\n          continue;\n        }\n        var n1 = e.n1;\n        var n2 = e.n2;\n        vec2.sub(v12, n2.p, n1.p);\n        var d = vec2.len(v12) - e.d;\n        var w = n2.w / (n1.w + n2.w);\n        if (isNaN(w)) {\n          w = 0;\n        }\n        vec2.normalize(v12, v12);\n        !n1.fixed && scaleAndAdd(n1.p, n1.p, v12, w * d * friction);\n        !n2.fixed && scaleAndAdd(n2.p, n2.p, v12, -(1 - w) * d * friction);\n      }\n      // Gravity\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n        if (!n.fixed) {\n          vec2.sub(v12, center, n.p);\n          // let d = vec2.len(v12);\n          // vec2.scale(v12, v12, 1 / d);\n          // let gravityFactor = gravity;\n          scaleAndAdd(n.p, n.p, v12, gravity * friction);\n        }\n      }\n      // Repulsive\n      // PENDING\n      for (var i = 0; i < nLen; i++) {\n        var n1 = nodes[i];\n        for (var j = i + 1; j < nLen; j++) {\n          var n2 = nodes[j];\n          vec2.sub(v12, n2.p, n1.p);\n          var d = vec2.len(v12);\n          if (d === 0) {\n            // Random repulse\n            vec2.set(v12, Math.random() - 0.5, Math.random() - 0.5);\n            d = 1;\n          }\n          var repFact = (n1.rep + n2.rep) / d / d;\n          !n1.fixed && scaleAndAdd(n1.pp, n1.pp, v12, repFact);\n          !n2.fixed && scaleAndAdd(n2.pp, n2.pp, v12, -repFact);\n        }\n      }\n      var v = [];\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n        if (!n.fixed) {\n          vec2.sub(v, n.p, n.pp);\n          scaleAndAdd(n.p, n.p, v, friction);\n          vec2.copy(n.pp, n.p);\n        }\n      }\n      friction = friction * 0.992;\n      var finished = friction < 0.01;\n      afterStepCallback && afterStepCallback(nodes, edges, finished);\n      cb && cb(finished);\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { forceLayout } from './forceHelper.js';\nimport { simpleLayout } from './simpleLayoutHelper.js';\nimport { circularLayout } from './circularLayoutHelper.js';\nimport { linearMap } from '../../util/number.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper.js';\nexport default function graphForceLayout(ecModel) {\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var coordSys = graphSeries.coordinateSystem;\n    if (coordSys && coordSys.type !== 'view') {\n      return;\n    }\n    if (graphSeries.get('layout') === 'force') {\n      var preservedPoints_1 = graphSeries.preservedPoints || {};\n      var graph_1 = graphSeries.getGraph();\n      var nodeData_1 = graph_1.data;\n      var edgeData = graph_1.edgeData;\n      var forceModel = graphSeries.getModel('force');\n      var initLayout = forceModel.get('initLayout');\n      if (graphSeries.preservedPoints) {\n        nodeData_1.each(function (idx) {\n          var id = nodeData_1.getId(idx);\n          nodeData_1.setItemLayout(idx, preservedPoints_1[id] || [NaN, NaN]);\n        });\n      } else if (!initLayout || initLayout === 'none') {\n        simpleLayout(graphSeries);\n      } else if (initLayout === 'circular') {\n        circularLayout(graphSeries, 'value');\n      }\n      var nodeDataExtent_1 = nodeData_1.getDataExtent('value');\n      var edgeDataExtent_1 = edgeData.getDataExtent('value');\n      // let edgeDataExtent = edgeData.getDataExtent('value');\n      var repulsion = forceModel.get('repulsion');\n      var edgeLength = forceModel.get('edgeLength');\n      var repulsionArr_1 = zrUtil.isArray(repulsion) ? repulsion : [repulsion, repulsion];\n      var edgeLengthArr_1 = zrUtil.isArray(edgeLength) ? edgeLength : [edgeLength, edgeLength];\n      // Larger value has smaller length\n      edgeLengthArr_1 = [edgeLengthArr_1[1], edgeLengthArr_1[0]];\n      var nodes_1 = nodeData_1.mapArray('value', function (value, idx) {\n        var point = nodeData_1.getItemLayout(idx);\n        var rep = linearMap(value, nodeDataExtent_1, repulsionArr_1);\n        if (isNaN(rep)) {\n          rep = (repulsionArr_1[0] + repulsionArr_1[1]) / 2;\n        }\n        return {\n          w: rep,\n          rep: rep,\n          fixed: nodeData_1.getItemModel(idx).get('fixed'),\n          p: !point || isNaN(point[0]) || isNaN(point[1]) ? null : point\n        };\n      });\n      var edges = edgeData.mapArray('value', function (value, idx) {\n        var edge = graph_1.getEdgeByIndex(idx);\n        var d = linearMap(value, edgeDataExtent_1, edgeLengthArr_1);\n        if (isNaN(d)) {\n          d = (edgeLengthArr_1[0] + edgeLengthArr_1[1]) / 2;\n        }\n        var edgeModel = edge.getModel();\n        var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), -getCurvenessForEdge(edge, graphSeries, idx, true), 0);\n        return {\n          n1: nodes_1[edge.node1.dataIndex],\n          n2: nodes_1[edge.node2.dataIndex],\n          d: d,\n          curveness: curveness,\n          ignoreForceLayout: edgeModel.get('ignoreForceLayout')\n        };\n      });\n      // let coordSys = graphSeries.coordinateSystem;\n      var rect = coordSys.getBoundingRect();\n      var forceInstance = forceLayout(nodes_1, edges, {\n        rect: rect,\n        gravity: forceModel.get('gravity'),\n        friction: forceModel.get('friction')\n      });\n      forceInstance.beforeStep(function (nodes, edges) {\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          if (nodes[i].fixed) {\n            // Write back to layout instance\n            vec2.copy(nodes[i].p, graph_1.getNodeByIndex(i).getLayout());\n          }\n        }\n      });\n      forceInstance.afterStep(function (nodes, edges, stopped) {\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          if (!nodes[i].fixed) {\n            graph_1.getNodeByIndex(i).setLayout(nodes[i].p);\n          }\n          preservedPoints_1[nodeData_1.getId(i)] = nodes[i].p;\n        }\n        for (var i = 0, l = edges.length; i < l; i++) {\n          var e = edges[i];\n          var edge = graph_1.getEdgeByIndex(i);\n          var p1 = e.n1.p;\n          var p2 = e.n2.p;\n          var points = edge.getLayout();\n          points = points ? points.slice() : [];\n          points[0] = points[0] || [];\n          points[1] = points[1] || [];\n          vec2.copy(points[0], p1);\n          vec2.copy(points[1], p2);\n          if (+e.curveness) {\n            points[2] = [(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * e.curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * e.curveness];\n          }\n          edge.setLayout(points);\n        }\n      });\n      graphSeries.forceLayout = forceInstance;\n      graphSeries.preservedPoints = preservedPoints_1;\n      // Step to get the layout\n      forceInstance.step();\n    } else {\n      // Remove prev injected forceLayout instance\n      graphSeries.forceLayout = null;\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME Where to create the simple view coordinate system\nimport View from '../../coord/View.js';\nimport { createBoxLayoutReference, getLayoutRect, applyPreserveAspect } from '../../util/layout.js';\nimport * as bbox from 'zrender/lib/core/bbox.js';\nimport { extend } from 'zrender/lib/core/util.js';\nimport { injectCoordSysByOption } from '../../core/CoordinateSystem.js';\nfunction getViewRect(seriesModel, api, aspect) {\n  var layoutRef = createBoxLayoutReference(seriesModel, api);\n  var option = extend(seriesModel.getBoxLayoutParams(), {\n    aspect: aspect\n  });\n  var viewRect = getLayoutRect(option, layoutRef.refContainer);\n  return applyPreserveAspect(seriesModel, viewRect, aspect);\n}\nexport default function createViewCoordSys(ecModel, api) {\n  var viewList = [];\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    injectCoordSysByOption({\n      targetModel: seriesModel,\n      coordSysType: 'view',\n      coordSysProvider: createViewCoordSys,\n      isDefaultDataCoordSys: true\n    });\n    function createViewCoordSys() {\n      var data = seriesModel.getData();\n      var positions = data.mapArray(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        return [+itemModel.get('x'), +itemModel.get('y')];\n      });\n      var min = [];\n      var max = [];\n      bbox.fromPoints(positions, min, max);\n      // If width or height is 0\n      if (max[0] - min[0] === 0) {\n        max[0] += 1;\n        min[0] -= 1;\n      }\n      if (max[1] - min[1] === 0) {\n        max[1] += 1;\n        min[1] -= 1;\n      }\n      var aspect = (max[0] - min[0]) / (max[1] - min[1]);\n      // FIXME If get view rect after data processed?\n      var viewRect = getViewRect(seriesModel, api, aspect);\n      // Position may be NaN, use view rect instead\n      if (isNaN(aspect)) {\n        min = [viewRect.x, viewRect.y];\n        max = [viewRect.x + viewRect.width, viewRect.y + viewRect.height];\n      }\n      var bbWidth = max[0] - min[0];\n      var bbHeight = max[1] - min[1];\n      var viewCoordSys = new View(null, {\n        api: api,\n        ecModel: ecModel\n      });\n      viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n      viewCoordSys.setBoundingRect(min[0], min[1], bbWidth, bbHeight);\n      viewCoordSys.setViewRect(viewRect.x, viewRect.y, viewRect.width, viewRect.height);\n      // Update roam info\n      viewCoordSys.setCenter(seriesModel.get('center'));\n      viewCoordSys.setZoom(seriesModel.get('zoom'));\n      viewList.push(viewCoordSys);\n      return viewCoordSys;\n    }\n  });\n  return viewList;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as curveTool from 'zrender/lib/core/curve.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport { getSymbolSize } from './graphHelper.js';\nvar v1 = [];\nvar v2 = [];\nvar v3 = [];\nvar quadraticAt = curveTool.quadraticAt;\nvar v2DistSquare = vec2.distSquare;\nvar mathAbs = Math.abs;\nfunction intersectCurveCircle(curvePoints, center, radius) {\n  var p0 = curvePoints[0];\n  var p1 = curvePoints[1];\n  var p2 = curvePoints[2];\n  var d = Infinity;\n  var t;\n  var radiusSquare = radius * radius;\n  var interval = 0.1;\n  for (var _t = 0.1; _t <= 0.9; _t += 0.1) {\n    v1[0] = quadraticAt(p0[0], p1[0], p2[0], _t);\n    v1[1] = quadraticAt(p0[1], p1[1], p2[1], _t);\n    var diff = mathAbs(v2DistSquare(v1, center) - radiusSquare);\n    if (diff < d) {\n      d = diff;\n      t = _t;\n    }\n  }\n  // Assume the segment is monotone，Find root through Bisection method\n  // At most 32 iteration\n  for (var i = 0; i < 32; i++) {\n    // let prev = t - interval;\n    var next = t + interval;\n    // v1[0] = quadraticAt(p0[0], p1[0], p2[0], prev);\n    // v1[1] = quadraticAt(p0[1], p1[1], p2[1], prev);\n    v2[0] = quadraticAt(p0[0], p1[0], p2[0], t);\n    v2[1] = quadraticAt(p0[1], p1[1], p2[1], t);\n    v3[0] = quadraticAt(p0[0], p1[0], p2[0], next);\n    v3[1] = quadraticAt(p0[1], p1[1], p2[1], next);\n    var diff = v2DistSquare(v2, center) - radiusSquare;\n    if (mathAbs(diff) < 1e-2) {\n      break;\n    }\n    // let prevDiff = v2DistSquare(v1, center) - radiusSquare;\n    var nextDiff = v2DistSquare(v3, center) - radiusSquare;\n    interval /= 2;\n    if (diff < 0) {\n      if (nextDiff >= 0) {\n        t = t + interval;\n      } else {\n        t = t - interval;\n      }\n    } else {\n      if (nextDiff >= 0) {\n        t = t - interval;\n      } else {\n        t = t + interval;\n      }\n    }\n  }\n  return t;\n}\n// Adjust edge to avoid\nexport default function adjustEdge(graph, scale) {\n  var tmp0 = [];\n  var quadraticSubdivide = curveTool.quadraticSubdivide;\n  var pts = [[], [], []];\n  var pts2 = [[], []];\n  var v = [];\n  scale /= 2;\n  graph.eachEdge(function (edge, idx) {\n    var linePoints = edge.getLayout();\n    var fromSymbol = edge.getVisual('fromSymbol');\n    var toSymbol = edge.getVisual('toSymbol');\n    if (!linePoints.__original) {\n      linePoints.__original = [vec2.clone(linePoints[0]), vec2.clone(linePoints[1])];\n      if (linePoints[2]) {\n        linePoints.__original.push(vec2.clone(linePoints[2]));\n      }\n    }\n    var originalPoints = linePoints.__original;\n    // Quadratic curve\n    if (linePoints[2] != null) {\n      vec2.copy(pts[0], originalPoints[0]);\n      vec2.copy(pts[1], originalPoints[2]);\n      vec2.copy(pts[2], originalPoints[1]);\n      if (fromSymbol && fromSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node1);\n        var t = intersectCurveCircle(pts, originalPoints[0], symbolSize * scale);\n        // Subdivide and get the second\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[0][0] = tmp0[3];\n        pts[1][0] = tmp0[4];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[0][1] = tmp0[3];\n        pts[1][1] = tmp0[4];\n      }\n      if (toSymbol && toSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node2);\n        var t = intersectCurveCircle(pts, originalPoints[1], symbolSize * scale);\n        // Subdivide and get the first\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[1][0] = tmp0[1];\n        pts[2][0] = tmp0[2];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[1][1] = tmp0[1];\n        pts[2][1] = tmp0[2];\n      }\n      // Copy back to layout\n      vec2.copy(linePoints[0], pts[0]);\n      vec2.copy(linePoints[1], pts[2]);\n      vec2.copy(linePoints[2], pts[1]);\n    }\n    // Line\n    else {\n      vec2.copy(pts2[0], originalPoints[0]);\n      vec2.copy(pts2[1], originalPoints[1]);\n      vec2.sub(v, pts2[1], pts2[0]);\n      vec2.normalize(v, v);\n      if (fromSymbol && fromSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node1);\n        vec2.scaleAndAdd(pts2[0], pts2[0], v, symbolSize * scale);\n      }\n      if (toSymbol && toSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node2);\n        vec2.scaleAndAdd(pts2[1], pts2[1], v, -symbolSize * scale);\n      }\n      vec2.copy(linePoints[0], pts2[0]);\n      vec2.copy(linePoints[1], pts2[1]);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw.js';\nimport LineDraw from '../helper/LineDraw.js';\nimport RoamController from '../../component/helper/RoamController.js';\nimport { updateViewOnZoom, updateViewOnPan } from '../../component/helper/roamHelper.js';\nimport * as graphic from '../../util/graphic.js';\nimport adjustEdge from './adjustEdge.js';\nimport { getNodeGlobalScale } from './graphHelper.js';\nimport ChartView from '../../view/Chart.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { simpleLayoutEdge } from './simpleLayoutHelper.js';\nimport { circularLayout, rotateNodeLabel } from './circularLayoutHelper.js';\nimport { clone, extend } from 'zrender/lib/core/util.js';\nimport ECLinePath from '../helper/LinePath.js';\nimport { getThumbnailBridge } from '../../component/helper/thumbnailBridge.js';\nfunction isViewCoordSys(coordSys) {\n  return coordSys.type === 'view';\n}\nvar GraphView = /** @class */function (_super) {\n  __extends(GraphView, _super);\n  function GraphView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GraphView.type;\n    return _this;\n  }\n  GraphView.prototype.init = function (ecModel, api) {\n    var symbolDraw = new SymbolDraw();\n    var lineDraw = new LineDraw();\n    var group = this.group;\n    var mainGroup = new graphic.Group();\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: mainGroup\n    };\n    mainGroup.add(symbolDraw.group);\n    mainGroup.add(lineDraw.group);\n    group.add(mainGroup);\n    this._symbolDraw = symbolDraw;\n    this._lineDraw = lineDraw;\n    this._mainGroup = mainGroup;\n    this._firstRender = true;\n  };\n  GraphView.prototype.render = function (seriesModel, ecModel, api) {\n    var _this = this;\n    var coordSys = seriesModel.coordinateSystem;\n    var isForceLayout = false;\n    this._model = seriesModel;\n    this._api = api;\n    this._active = true;\n    var thumbnailInfo = this._getThumbnailInfo();\n    if (thumbnailInfo) {\n      thumbnailInfo.bridge.reset(api);\n    }\n    var symbolDraw = this._symbolDraw;\n    var lineDraw = this._lineDraw;\n    if (isViewCoordSys(coordSys)) {\n      var groupNewProp = {\n        x: coordSys.x,\n        y: coordSys.y,\n        scaleX: coordSys.scaleX,\n        scaleY: coordSys.scaleY\n      };\n      if (this._firstRender) {\n        this._mainGroup.attr(groupNewProp);\n      } else {\n        graphic.updateProps(this._mainGroup, groupNewProp, seriesModel);\n      }\n    }\n    // Fix edge contact point with node\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    var data = seriesModel.getData();\n    symbolDraw.updateData(data);\n    var edgeData = seriesModel.getEdgeData();\n    // TODO: TYPE\n    lineDraw.updateData(edgeData);\n    this._updateNodeAndLinkScale();\n    this._updateController(null, seriesModel, api);\n    clearTimeout(this._layoutTimeout);\n    var forceLayout = seriesModel.forceLayout;\n    var layoutAnimation = seriesModel.get(['force', 'layoutAnimation']);\n    if (forceLayout) {\n      isForceLayout = true;\n      this._startForceLayoutIteration(forceLayout, api, layoutAnimation);\n    }\n    var layout = seriesModel.get('layout');\n    data.graph.eachNode(function (node) {\n      var idx = node.dataIndex;\n      var el = node.getGraphicEl();\n      var itemModel = node.getModel();\n      if (!el) {\n        return;\n      }\n      // Update draggable\n      el.off('drag').off('dragend');\n      var draggable = itemModel.get('draggable');\n      if (draggable) {\n        el.on('drag', function (e) {\n          switch (layout) {\n            case 'force':\n              forceLayout.warmUp();\n              !_this._layouting && _this._startForceLayoutIteration(forceLayout, api, layoutAnimation);\n              forceLayout.setFixed(idx);\n              // Write position back to layout\n              data.setItemLayout(idx, [el.x, el.y]);\n              break;\n            case 'circular':\n              data.setItemLayout(idx, [el.x, el.y]);\n              // mark node fixed\n              node.setLayout({\n                fixed: true\n              }, true);\n              // recalculate circular layout\n              circularLayout(seriesModel, 'symbolSize', node, [e.offsetX, e.offsetY]);\n              _this.updateLayout(seriesModel);\n              break;\n            case 'none':\n            default:\n              data.setItemLayout(idx, [el.x, el.y]);\n              // update edge\n              simpleLayoutEdge(seriesModel.getGraph(), seriesModel);\n              _this.updateLayout(seriesModel);\n              break;\n          }\n        }).on('dragend', function () {\n          if (forceLayout) {\n            forceLayout.setUnfixed(idx);\n          }\n        });\n      }\n      el.setDraggable(draggable, !!itemModel.get('cursor'));\n      var focus = itemModel.get(['emphasis', 'focus']);\n      if (focus === 'adjacency') {\n        getECData(el).focus = node.getAdjacentDataIndices();\n      }\n    });\n    data.graph.eachEdge(function (edge) {\n      var el = edge.getGraphicEl();\n      var focus = edge.getModel().get(['emphasis', 'focus']);\n      if (!el) {\n        return;\n      }\n      if (focus === 'adjacency') {\n        getECData(el).focus = {\n          edge: [edge.dataIndex],\n          node: [edge.node1.dataIndex, edge.node2.dataIndex]\n        };\n      }\n    });\n    var circularRotateLabel = seriesModel.get('layout') === 'circular' && seriesModel.get(['circular', 'rotateLabel']);\n    var cx = data.getLayout('cx');\n    var cy = data.getLayout('cy');\n    data.graph.eachNode(function (node) {\n      rotateNodeLabel(node, circularRotateLabel, cx, cy);\n    });\n    this._firstRender = false;\n    // Force layout will render thumbnail when layout is finished.\n    if (!isForceLayout) {\n      this._renderThumbnail(seriesModel, api, this._symbolDraw, this._lineDraw);\n    }\n  };\n  GraphView.prototype.dispose = function () {\n    this.remove();\n    this._controller && this._controller.dispose();\n    this._controllerHost = null;\n  };\n  GraphView.prototype._startForceLayoutIteration = function (forceLayout, api, layoutAnimation) {\n    var self = this;\n    var firstRendered = false;\n    (function step() {\n      forceLayout.step(function (stopped) {\n        self.updateLayout(self._model);\n        if (stopped || !firstRendered) {\n          firstRendered = true;\n          self._renderThumbnail(self._model, api, self._symbolDraw, self._lineDraw);\n        }\n        (self._layouting = !stopped) && (layoutAnimation ? self._layoutTimeout = setTimeout(step, 16) : step());\n      });\n    })();\n  };\n  GraphView.prototype._updateController = function (clipRect, seriesModel, api) {\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var coordSys = seriesModel.coordinateSystem;\n    if (!isViewCoordSys(coordSys)) {\n      controller.disable();\n      return;\n    }\n    controller.enable(seriesModel.get('roam'), {\n      api: api,\n      zInfo: {\n        component: seriesModel\n      },\n      triggerInfo: {\n        roamTrigger: seriesModel.get('roamTrigger'),\n        isInSelf: function (e, x, y) {\n          return coordSys.containPoint([x, y]);\n        },\n        isInClip: function (e, x, y) {\n          return !clipRect || clipRect.contain(x, y);\n        }\n      }\n    });\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = coordSys.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (e) {\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        dx: e.dx,\n        dy: e.dy\n      });\n    }).on('zoom', function (e) {\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      });\n    });\n  };\n  /**\n   * A performance shortcut - called by action handler to update the view directly\n   * without any data/visual processing (which are assumed to be unchanged), while\n   * ensuring consistent behavior between internal and external action triggers.\n   */\n  GraphView.prototype.updateViewOnPan = function (seriesModel, api, params) {\n    if (!this._active) {\n      return;\n    }\n    updateViewOnPan(this._controllerHost, params.dx, params.dy);\n    this._updateThumbnailWindow();\n  };\n  /**\n   * A performance shortcut - called by action handler to update the view directly\n   * without any data/visual processing (which are assumed to be unchanged), while\n   * ensuring consistent behavior between internal and external action triggers.\n   */\n  GraphView.prototype.updateViewOnZoom = function (seriesModel, api, params) {\n    if (!this._active) {\n      return;\n    }\n    updateViewOnZoom(this._controllerHost, params.zoom, params.originX, params.originY);\n    this._updateNodeAndLinkScale();\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    this._lineDraw.updateLayout();\n    // Only update label layout on zoom\n    api.updateLabelLayout();\n    this._updateThumbnailWindow();\n  };\n  GraphView.prototype._updateNodeAndLinkScale = function () {\n    var seriesModel = this._model;\n    var data = seriesModel.getData();\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    data.eachItemGraphicEl(function (el, idx) {\n      el && el.setSymbolScale(nodeScale);\n    });\n  };\n  GraphView.prototype.updateLayout = function (seriesModel) {\n    if (!this._active) {\n      return;\n    }\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    this._symbolDraw.updateLayout();\n    this._lineDraw.updateLayout();\n  };\n  GraphView.prototype.remove = function () {\n    this._active = false;\n    clearTimeout(this._layoutTimeout);\n    this._layouting = false;\n    this._layoutTimeout = null;\n    this._symbolDraw && this._symbolDraw.remove();\n    this._lineDraw && this._lineDraw.remove();\n    this._controller && this._controller.disable();\n  };\n  /**\n   * Get thumbnail data structure only if supported.\n   */\n  GraphView.prototype._getThumbnailInfo = function () {\n    var model = this._model;\n    var coordSys = model.coordinateSystem;\n    if (coordSys.type !== 'view') {\n      return;\n    }\n    var bridge = getThumbnailBridge(model);\n    if (!bridge) {\n      return;\n    }\n    return {\n      bridge: bridge,\n      coordSys: coordSys\n    };\n  };\n  GraphView.prototype._updateThumbnailWindow = function () {\n    var info = this._getThumbnailInfo();\n    if (info) {\n      info.bridge.updateWindow(info.coordSys.transform, this._api);\n    }\n  };\n  GraphView.prototype._renderThumbnail = function (seriesModel, api, symbolDraw, lineDraw) {\n    var info = this._getThumbnailInfo();\n    if (!info) {\n      return;\n    }\n    var bridgeGroup = new graphic.Group();\n    var symbolNodes = symbolDraw.group.children();\n    var lineNodes = lineDraw.group.children();\n    var lineGroup = new graphic.Group();\n    var symbolGroup = new graphic.Group();\n    bridgeGroup.add(symbolGroup);\n    bridgeGroup.add(lineGroup);\n    // TODO: reuse elemenents for performance in large graph?\n    for (var i = 0; i < symbolNodes.length; i++) {\n      var node = symbolNodes[i];\n      var sub = node.children()[0];\n      var x = node.x;\n      var y = node.y;\n      var subShape = clone(sub.shape);\n      var shape = extend(subShape, {\n        width: sub.scaleX,\n        height: sub.scaleY,\n        x: x - sub.scaleX / 2,\n        y: y - sub.scaleY / 2\n      });\n      var style = clone(sub.style);\n      var subThumbnail = new sub.constructor({\n        shape: shape,\n        style: style,\n        z2: 151\n      });\n      symbolGroup.add(subThumbnail);\n    }\n    for (var i = 0; i < lineNodes.length; i++) {\n      var node = lineNodes[i];\n      var line = node.children()[0];\n      var style = clone(line.style);\n      var shape = clone(line.shape);\n      var lineThumbnail = new ECLinePath({\n        style: style,\n        shape: shape,\n        z2: 151\n      });\n      lineGroup.add(lineThumbnail);\n    }\n    info.bridge.renderContent({\n      api: api,\n      roamType: seriesModel.get('roam'),\n      viewportRect: null,\n      group: bridgeGroup,\n      targetTrans: info.coordSys.transform\n    });\n  };\n  GraphView.type = 'graph';\n  return GraphView;\n}(ChartView);\nexport default GraphView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\n// id may be function name of Object, add a prefix to avoid this problem.\nfunction generateNodeKey(id) {\n  return '_EC_' + id;\n}\nvar Graph = /** @class */function () {\n  function Graph(directed) {\n    this.type = 'graph';\n    this.nodes = [];\n    this.edges = [];\n    this._nodesMap = {};\n    /**\n     * @type {Object.<string, module:echarts/data/Graph.Edge>}\n     * @private\n     */\n    this._edgesMap = {};\n    this._directed = directed || false;\n  }\n  /**\n   * If is directed graph\n   */\n  Graph.prototype.isDirected = function () {\n    return this._directed;\n  };\n  ;\n  /**\n   * Add a new node\n   */\n  Graph.prototype.addNode = function (id, dataIndex) {\n    id = id == null ? '' + dataIndex : '' + id;\n    var nodesMap = this._nodesMap;\n    if (nodesMap[generateNodeKey(id)]) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('Graph nodes have duplicate name or id');\n      }\n      return;\n    }\n    var node = new GraphNode(id, dataIndex);\n    node.hostGraph = this;\n    this.nodes.push(node);\n    nodesMap[generateNodeKey(id)] = node;\n    return node;\n  };\n  ;\n  /**\n   * Get node by data index\n   */\n  Graph.prototype.getNodeByIndex = function (dataIndex) {\n    var rawIdx = this.data.getRawIndex(dataIndex);\n    return this.nodes[rawIdx];\n  };\n  ;\n  /**\n   * Get node by id\n   */\n  Graph.prototype.getNodeById = function (id) {\n    return this._nodesMap[generateNodeKey(id)];\n  };\n  ;\n  /**\n   * Add a new edge\n   */\n  Graph.prototype.addEdge = function (n1, n2, dataIndex) {\n    var nodesMap = this._nodesMap;\n    var edgesMap = this._edgesMap;\n    // PENDING\n    if (zrUtil.isNumber(n1)) {\n      n1 = this.nodes[n1];\n    }\n    if (zrUtil.isNumber(n2)) {\n      n2 = this.nodes[n2];\n    }\n    if (!(n1 instanceof GraphNode)) {\n      n1 = nodesMap[generateNodeKey(n1)];\n    }\n    if (!(n2 instanceof GraphNode)) {\n      n2 = nodesMap[generateNodeKey(n2)];\n    }\n    if (!n1 || !n2) {\n      return;\n    }\n    var key = n1.id + '-' + n2.id;\n    var edge = new GraphEdge(n1, n2, dataIndex);\n    edge.hostGraph = this;\n    if (this._directed) {\n      n1.outEdges.push(edge);\n      n2.inEdges.push(edge);\n    }\n    n1.edges.push(edge);\n    if (n1 !== n2) {\n      n2.edges.push(edge);\n    }\n    this.edges.push(edge);\n    edgesMap[key] = edge;\n    return edge;\n  };\n  ;\n  /**\n   * Get edge by data index\n   */\n  Graph.prototype.getEdgeByIndex = function (dataIndex) {\n    var rawIdx = this.edgeData.getRawIndex(dataIndex);\n    return this.edges[rawIdx];\n  };\n  ;\n  /**\n   * Get edge by two linked nodes\n   */\n  Graph.prototype.getEdge = function (n1, n2) {\n    if (n1 instanceof GraphNode) {\n      n1 = n1.id;\n    }\n    if (n2 instanceof GraphNode) {\n      n2 = n2.id;\n    }\n    var edgesMap = this._edgesMap;\n    if (this._directed) {\n      return edgesMap[n1 + '-' + n2];\n    } else {\n      return edgesMap[n1 + '-' + n2] || edgesMap[n2 + '-' + n1];\n    }\n  };\n  ;\n  /**\n   * Iterate all nodes\n   */\n  Graph.prototype.eachNode = function (cb, context) {\n    var nodes = this.nodes;\n    var len = nodes.length;\n    for (var i = 0; i < len; i++) {\n      if (nodes[i].dataIndex >= 0) {\n        cb.call(context, nodes[i], i);\n      }\n    }\n  };\n  ;\n  /**\n   * Iterate all edges\n   */\n  Graph.prototype.eachEdge = function (cb, context) {\n    var edges = this.edges;\n    var len = edges.length;\n    for (var i = 0; i < len; i++) {\n      if (edges[i].dataIndex >= 0 && edges[i].node1.dataIndex >= 0 && edges[i].node2.dataIndex >= 0) {\n        cb.call(context, edges[i], i);\n      }\n    }\n  };\n  ;\n  /**\n   * Breadth first traverse\n   * Return true to stop traversing\n   */\n  Graph.prototype.breadthFirstTraverse = function (cb, startNode, direction, context) {\n    if (!(startNode instanceof GraphNode)) {\n      startNode = this._nodesMap[generateNodeKey(startNode)];\n    }\n    if (!startNode) {\n      return;\n    }\n    var edgeType = direction === 'out' ? 'outEdges' : direction === 'in' ? 'inEdges' : 'edges';\n    for (var i = 0; i < this.nodes.length; i++) {\n      this.nodes[i].__visited = false;\n    }\n    if (cb.call(context, startNode, null)) {\n      return;\n    }\n    var queue = [startNode];\n    while (queue.length) {\n      var currentNode = queue.shift();\n      var edges = currentNode[edgeType];\n      for (var i = 0; i < edges.length; i++) {\n        var e = edges[i];\n        var otherNode = e.node1 === currentNode ? e.node2 : e.node1;\n        if (!otherNode.__visited) {\n          if (cb.call(context, otherNode, currentNode)) {\n            // Stop traversing\n            return;\n          }\n          queue.push(otherNode);\n          otherNode.__visited = true;\n        }\n      }\n    }\n  };\n  ;\n  // TODO\n  // depthFirstTraverse(\n  //     cb, startNode, direction, context\n  // ) {\n  // };\n  // Filter update\n  Graph.prototype.update = function () {\n    var data = this.data;\n    var edgeData = this.edgeData;\n    var nodes = this.nodes;\n    var edges = this.edges;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      nodes[i].dataIndex = -1;\n    }\n    for (var i = 0, len = data.count(); i < len; i++) {\n      nodes[data.getRawIndex(i)].dataIndex = i;\n    }\n    edgeData.filterSelf(function (idx) {\n      var edge = edges[edgeData.getRawIndex(idx)];\n      return edge.node1.dataIndex >= 0 && edge.node2.dataIndex >= 0;\n    });\n    // Update edge\n    for (var i = 0, len = edges.length; i < len; i++) {\n      edges[i].dataIndex = -1;\n    }\n    for (var i = 0, len = edgeData.count(); i < len; i++) {\n      edges[edgeData.getRawIndex(i)].dataIndex = i;\n    }\n  };\n  ;\n  /**\n   * @return {module:echarts/data/Graph}\n   */\n  Graph.prototype.clone = function () {\n    var graph = new Graph(this._directed);\n    var nodes = this.nodes;\n    var edges = this.edges;\n    for (var i = 0; i < nodes.length; i++) {\n      graph.addNode(nodes[i].id, nodes[i].dataIndex);\n    }\n    for (var i = 0; i < edges.length; i++) {\n      var e = edges[i];\n      graph.addEdge(e.node1.id, e.node2.id, e.dataIndex);\n    }\n    return graph;\n  };\n  ;\n  return Graph;\n}();\nvar GraphNode = /** @class */function () {\n  function GraphNode(id, dataIndex) {\n    this.inEdges = [];\n    this.outEdges = [];\n    this.edges = [];\n    this.dataIndex = -1;\n    this.id = id == null ? '' : id;\n    this.dataIndex = dataIndex == null ? -1 : dataIndex;\n  }\n  /**\n   * @return {number}\n   */\n  GraphNode.prototype.degree = function () {\n    return this.edges.length;\n  };\n  /**\n   * @return {number}\n   */\n  GraphNode.prototype.inDegree = function () {\n    return this.inEdges.length;\n  };\n  /**\n  * @return {number}\n  */\n  GraphNode.prototype.outDegree = function () {\n    return this.outEdges.length;\n  };\n  GraphNode.prototype.getModel = function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n    var graph = this.hostGraph;\n    var itemModel = graph.data.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  };\n  GraphNode.prototype.getAdjacentDataIndices = function () {\n    var dataIndices = {\n      edge: [],\n      node: []\n    };\n    for (var i = 0; i < this.edges.length; i++) {\n      var adjacentEdge = this.edges[i];\n      if (adjacentEdge.dataIndex < 0) {\n        continue;\n      }\n      dataIndices.edge.push(adjacentEdge.dataIndex);\n      dataIndices.node.push(adjacentEdge.node1.dataIndex, adjacentEdge.node2.dataIndex);\n    }\n    return dataIndices;\n  };\n  GraphNode.prototype.getTrajectoryDataIndices = function () {\n    var connectedEdgesMap = zrUtil.createHashMap();\n    var connectedNodesMap = zrUtil.createHashMap();\n    for (var i = 0, len = this.edges.length; i < len; i++) {\n      var adjacentEdge = this.edges[i];\n      if (adjacentEdge.dataIndex < 0) {\n        continue;\n      }\n      connectedEdgesMap.set(adjacentEdge.dataIndex, true);\n      var sourceNodesQueue = [adjacentEdge.node1];\n      var targetNodesQueue = [adjacentEdge.node2];\n      var nodeIteratorIndex = 0;\n      while (nodeIteratorIndex < sourceNodesQueue.length) {\n        var sourceNode = sourceNodesQueue[nodeIteratorIndex];\n        nodeIteratorIndex++;\n        connectedNodesMap.set(sourceNode.dataIndex, true);\n        var sourceNodeInEdges = sourceNode.inEdges;\n        for (var j = 0, len_1 = sourceNodeInEdges.length, inEdge = void 0, inEdgeDataIndex = void 0; j < len_1; j++) {\n          inEdge = sourceNodeInEdges[j];\n          inEdgeDataIndex = inEdge.dataIndex;\n          if (inEdgeDataIndex >= 0 && !connectedEdgesMap.hasKey(inEdgeDataIndex)) {\n            connectedEdgesMap.set(inEdgeDataIndex, true);\n            sourceNodesQueue.push(inEdge.node1);\n          }\n        }\n      }\n      nodeIteratorIndex = 0;\n      while (nodeIteratorIndex < targetNodesQueue.length) {\n        var targetNode = targetNodesQueue[nodeIteratorIndex];\n        nodeIteratorIndex++;\n        connectedNodesMap.set(targetNode.dataIndex, true);\n        var targetNodeOutEdges = targetNode.outEdges;\n        for (var j = 0, len_2 = targetNodeOutEdges.length, outEdge = void 0, outEdgeDataIndex = void 0; j < len_2; j++) {\n          outEdge = targetNodeOutEdges[j];\n          outEdgeDataIndex = outEdge.dataIndex;\n          if (outEdgeDataIndex >= 0 && !connectedEdgesMap.hasKey(outEdgeDataIndex)) {\n            connectedEdgesMap.set(outEdgeDataIndex, true);\n            targetNodesQueue.push(outEdge.node2);\n          }\n        }\n      }\n    }\n    return {\n      edge: connectedEdgesMap.keys(),\n      node: connectedNodesMap.keys()\n    };\n  };\n  return GraphNode;\n}();\nvar GraphEdge = /** @class */function () {\n  function GraphEdge(n1, n2, dataIndex) {\n    this.dataIndex = -1;\n    this.node1 = n1;\n    this.node2 = n2;\n    this.dataIndex = dataIndex == null ? -1 : dataIndex;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  GraphEdge.prototype.getModel = function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n    var graph = this.hostGraph;\n    var itemModel = graph.edgeData.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  };\n  GraphEdge.prototype.getAdjacentDataIndices = function () {\n    return {\n      edge: [this.dataIndex],\n      node: [this.node1.dataIndex, this.node2.dataIndex]\n    };\n  };\n  GraphEdge.prototype.getTrajectoryDataIndices = function () {\n    var connectedEdgesMap = zrUtil.createHashMap();\n    var connectedNodesMap = zrUtil.createHashMap();\n    connectedEdgesMap.set(this.dataIndex, true);\n    var sourceNodes = [this.node1];\n    var targetNodes = [this.node2];\n    var nodeIteratorIndex = 0;\n    while (nodeIteratorIndex < sourceNodes.length) {\n      var sourceNode = sourceNodes[nodeIteratorIndex];\n      nodeIteratorIndex++;\n      connectedNodesMap.set(sourceNode.dataIndex, true);\n      var sourceNodeInEdges = sourceNode.inEdges;\n      for (var j = 0, len = sourceNodeInEdges.length, inEdge = void 0, inEdgeDataIndex = void 0; j < len; j++) {\n        inEdge = sourceNode.inEdges[j];\n        inEdgeDataIndex = inEdge.dataIndex;\n        if (inEdgeDataIndex >= 0 && !connectedEdgesMap.hasKey(inEdgeDataIndex)) {\n          connectedEdgesMap.set(inEdgeDataIndex, true);\n          sourceNodes.push(inEdge.node1);\n        }\n      }\n    }\n    nodeIteratorIndex = 0;\n    while (nodeIteratorIndex < targetNodes.length) {\n      var targetNode = targetNodes[nodeIteratorIndex];\n      nodeIteratorIndex++;\n      connectedNodesMap.set(targetNode.dataIndex, true);\n      var targetNodeOutEdges = targetNode.outEdges;\n      for (var j = 0, len = targetNodeOutEdges.length, outEdge = void 0, outEdgeDataIndex = void 0; j < len; j++) {\n        outEdge = targetNode.outEdges[j];\n        outEdgeDataIndex = outEdge.dataIndex;\n        if (outEdgeDataIndex >= 0 && !connectedEdgesMap.hasKey(outEdgeDataIndex)) {\n          connectedEdgesMap.set(outEdgeDataIndex, true);\n          targetNodes.push(outEdge.node2);\n        }\n      }\n    }\n    return {\n      edge: connectedEdgesMap.keys(),\n      node: connectedNodesMap.keys()\n    };\n  };\n  return GraphEdge;\n}();\nfunction createGraphDataProxyMixin(hostName, dataName) {\n  return {\n    /**\n     * @param Default 'value'. can be 'a', 'b', 'c', 'd', 'e'.\n     */\n    getValue: function (dimension) {\n      var data = this[hostName][dataName];\n      return data.getStore().get(data.getDimensionIndex(dimension || 'value'), this.dataIndex);\n    },\n    // TODO: TYPE stricter type.\n    setVisual: function (key, value) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemVisual(this.dataIndex, key, value);\n    },\n    getVisual: function (key) {\n      return this[hostName][dataName].getItemVisual(this.dataIndex, key);\n    },\n    setLayout: function (layout, merge) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemLayout(this.dataIndex, layout, merge);\n    },\n    getLayout: function () {\n      return this[hostName][dataName].getItemLayout(this.dataIndex);\n    },\n    getGraphicEl: function () {\n      return this[hostName][dataName].getItemGraphicEl(this.dataIndex);\n    },\n    getRawIndex: function () {\n      return this[hostName][dataName].getRawIndex(this.dataIndex);\n    }\n  };\n}\n;\n;\n;\nzrUtil.mixin(GraphNode, createGraphDataProxyMixin('hostGraph', 'data'));\nzrUtil.mixin(GraphEdge, createGraphDataProxyMixin('hostGraph', 'edgeData'));\nexport default Graph;\nexport { GraphNode, GraphEdge };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport Graph from '../../data/Graph.js';\nimport linkSeriesData from '../../data/helper/linkSeriesData.js';\nimport prepareSeriesDataSchema from '../../data/helper/createDimensions.js';\nimport CoordinateSystem from '../../core/CoordinateSystem.js';\nimport createSeriesData from './createSeriesData.js';\nimport { convertOptionIdName } from '../../util/model.js';\nexport default function createGraphFromNodeEdge(nodes, edges, seriesModel, directed, beforeLink) {\n  // ??? TODO\n  // support dataset?\n  var graph = new Graph(directed);\n  for (var i = 0; i < nodes.length; i++) {\n    graph.addNode(zrUtil.retrieve(\n    // Id, name, dataIndex\n    nodes[i].id, nodes[i].name, i), i);\n  }\n  var linkNameList = [];\n  var validEdges = [];\n  var linkCount = 0;\n  for (var i = 0; i < edges.length; i++) {\n    var link = edges[i];\n    var source = link.source;\n    var target = link.target;\n    // addEdge may fail when source or target not exists\n    if (graph.addEdge(source, target, linkCount)) {\n      validEdges.push(link);\n      linkNameList.push(zrUtil.retrieve(convertOptionIdName(link.id, null), source + ' > ' + target));\n      linkCount++;\n    }\n  }\n  var coordSys = seriesModel.get('coordinateSystem');\n  var nodeData;\n  if (coordSys === 'cartesian2d' || coordSys === 'polar' || coordSys === 'matrix') {\n    nodeData = createSeriesData(nodes, seriesModel);\n  } else {\n    var coordSysCtor = CoordinateSystem.get(coordSys);\n    var coordDimensions = coordSysCtor ? coordSysCtor.dimensions || [] : [];\n    // FIXME: Some geo do not need `value` dimenson, whereas `calendar` needs\n    // `value` dimension, but graph need `value` dimension. It's better to\n    // uniform this behavior.\n    if (zrUtil.indexOf(coordDimensions, 'value') < 0) {\n      coordDimensions.concat(['value']);\n    }\n    var dimensions = prepareSeriesDataSchema(nodes, {\n      coordDimensions: coordDimensions,\n      encodeDefine: seriesModel.getEncode()\n    }).dimensions;\n    nodeData = new SeriesData(dimensions, seriesModel);\n    nodeData.initData(nodes);\n  }\n  var edgeData = new SeriesData(['value'], seriesModel);\n  edgeData.initData(validEdges, linkNameList);\n  beforeLink && beforeLink(nodeData, edgeData);\n  linkSeriesData({\n    mainData: nodeData,\n    struct: graph,\n    structAttr: 'graph',\n    datas: {\n      node: nodeData,\n      edge: edgeData\n    },\n    datasAttr: {\n      node: 'data',\n      edge: 'edgeData'\n    }\n  });\n  // Update dataIndex of nodes and edges because invalid edge may be removed\n  graph.update();\n  return graph;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesData from '../../data/SeriesData.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { defaultEmphasis } from '../../util/model.js';\nimport Model from '../../model/Model.js';\nimport createGraphFromNodeEdge from '../helper/createGraphFromNodeEdge.js';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider.js';\nimport SeriesModel from '../../model/Series.js';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup.js';\nimport { defaultSeriesFormatTooltip } from '../../component/tooltip/seriesFormatTooltip.js';\nimport { initCurvenessList, createEdgeMapForCurveness } from '../helper/multipleGraphEdgeHelper.js';\nimport tokens from '../../visual/tokens.js';\nvar GraphSeriesModel = /** @class */function (_super) {\n  __extends(GraphSeriesModel, _super);\n  function GraphSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GraphSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n  GraphSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments);\n    var self = this;\n    function getCategoriesData() {\n      return self._categoriesData;\n    }\n    // Provide data for legend select\n    this.legendVisualProvider = new LegendVisualProvider(getCategoriesData, getCategoriesData);\n    this.fillDataTextStyle(option.edges || option.links);\n    this._updateCategoriesData();\n  };\n  GraphSeriesModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n    this.fillDataTextStyle(option.edges || option.links);\n    this._updateCategoriesData();\n  };\n  GraphSeriesModel.prototype.mergeDefaultAndTheme = function (option) {\n    _super.prototype.mergeDefaultAndTheme.apply(this, arguments);\n    defaultEmphasis(option, 'edgeLabel', ['show']);\n  };\n  GraphSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    var edges = option.edges || option.links || [];\n    var nodes = option.data || option.nodes || [];\n    var self = this;\n    if (nodes && edges) {\n      // auto curveness\n      initCurvenessList(this);\n      var graph = createGraphFromNodeEdge(nodes, edges, this, true, beforeLink);\n      zrUtil.each(graph.edges, function (edge) {\n        createEdgeMapForCurveness(edge.node1, edge.node2, this, edge.dataIndex);\n      }, this);\n      return graph.data;\n    }\n    function beforeLink(nodeData, edgeData) {\n      // Overwrite nodeData.getItemModel to\n      nodeData.wrapMethod('getItemModel', function (model) {\n        var categoriesModels = self._categoriesModels;\n        var categoryIdx = model.getShallow('category');\n        var categoryModel = categoriesModels[categoryIdx];\n        if (categoryModel) {\n          categoryModel.parentModel = model.parentModel;\n          model.parentModel = categoryModel;\n        }\n        return model;\n      });\n      // TODO Inherit resolveParentPath by default in Model#getModel?\n      var oldGetModel = Model.prototype.getModel;\n      function newGetModel(path, parentModel) {\n        var model = oldGetModel.call(this, path, parentModel);\n        model.resolveParentPath = resolveParentPath;\n        return model;\n      }\n      edgeData.wrapMethod('getItemModel', function (model) {\n        model.resolveParentPath = resolveParentPath;\n        model.getModel = newGetModel;\n        return model;\n      });\n      function resolveParentPath(pathArr) {\n        if (pathArr && (pathArr[0] === 'label' || pathArr[1] === 'label')) {\n          var newPathArr = pathArr.slice();\n          if (pathArr[0] === 'label') {\n            newPathArr[0] = 'edgeLabel';\n          } else if (pathArr[1] === 'label') {\n            newPathArr[1] = 'edgeLabel';\n          }\n          return newPathArr;\n        }\n        return pathArr;\n      }\n    }\n  };\n  GraphSeriesModel.prototype.getGraph = function () {\n    return this.getData().graph;\n  };\n  GraphSeriesModel.prototype.getEdgeData = function () {\n    return this.getGraph().edgeData;\n  };\n  GraphSeriesModel.prototype.getCategoriesData = function () {\n    return this._categoriesData;\n  };\n  GraphSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    if (dataType === 'edge') {\n      var nodeData = this.getData();\n      var params = this.getDataParams(dataIndex, dataType);\n      var edge = nodeData.graph.getEdgeByIndex(dataIndex);\n      var sourceName = nodeData.getName(edge.node1.dataIndex);\n      var targetName = nodeData.getName(edge.node2.dataIndex);\n      var nameArr = [];\n      sourceName != null && nameArr.push(sourceName);\n      targetName != null && nameArr.push(targetName);\n      return createTooltipMarkup('nameValue', {\n        name: nameArr.join(' > '),\n        value: params.value,\n        noValue: params.value == null\n      });\n    }\n    // dataType === 'node' or empty\n    var nodeMarkup = defaultSeriesFormatTooltip({\n      series: this,\n      dataIndex: dataIndex,\n      multipleSeries: multipleSeries\n    });\n    return nodeMarkup;\n  };\n  GraphSeriesModel.prototype._updateCategoriesData = function () {\n    var categories = zrUtil.map(this.option.categories || [], function (category) {\n      // Data must has value\n      return category.value != null ? category : zrUtil.extend({\n        value: 0\n      }, category);\n    });\n    var categoriesData = new SeriesData(['value'], this);\n    categoriesData.initData(categories);\n    this._categoriesData = categoriesData;\n    this._categoriesModels = categoriesData.mapArray(function (idx) {\n      return categoriesData.getItemModel(idx);\n    });\n  };\n  GraphSeriesModel.prototype.setZoom = function (zoom) {\n    this.option.zoom = zoom;\n  };\n  GraphSeriesModel.prototype.setCenter = function (center) {\n    this.option.center = center;\n  };\n  GraphSeriesModel.prototype.isAnimationEnabled = function () {\n    return _super.prototype.isAnimationEnabled.call(this)\n    // Not enable animation when do force layout\n    && !(this.get('layout') === 'force' && this.get(['force', 'layoutAnimation']));\n  };\n  GraphSeriesModel.type = 'series.graph';\n  GraphSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'];\n  GraphSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    // Default option for all coordinate systems\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // geoIndex: 0,\n    legendHoverLink: true,\n    layout: null,\n    // Configuration of circular layout\n    circular: {\n      rotateLabel: false\n    },\n    // Configuration of force directed layout\n    force: {\n      initLayout: null,\n      // Node repulsion. Can be an array to represent range.\n      repulsion: [0, 50],\n      gravity: 0.1,\n      // Initial friction\n      friction: 0.6,\n      // Edge length. Can be an array to represent range.\n      edgeLength: 30,\n      layoutAnimation: true\n    },\n    left: 'center',\n    top: 'center',\n    // right: null,\n    // bottom: null,\n    // width: '80%',\n    // height: '80%',\n    symbol: 'circle',\n    symbolSize: 10,\n    edgeSymbol: ['none', 'none'],\n    edgeSymbolSize: 10,\n    edgeLabel: {\n      position: 'middle',\n      distance: 5\n    },\n    draggable: false,\n    roam: false,\n    // Default on center of graph\n    center: null,\n    zoom: 1,\n    // Symbol size scale ratio in roam\n    nodeScaleRatio: 0.6,\n    // cursor: null,\n    // categories: [],\n    // data: []\n    // Or\n    // nodes: []\n    //\n    // links: []\n    // Or\n    // edges: []\n    label: {\n      show: false,\n      formatter: '{b}'\n    },\n    itemStyle: {},\n    lineStyle: {\n      // Don't use tokens.color.border because of the opacity\n      color: tokens.color.neutral50,\n      width: 1,\n      opacity: 0.5\n    },\n    emphasis: {\n      scale: true,\n      label: {\n        show: true\n      }\n    },\n    select: {\n      itemStyle: {\n        borderColor: tokens.color.primary\n      }\n    }\n  };\n  return GraphSeriesModel;\n}(SeriesModel);\nexport default GraphSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport categoryFilter from './categoryFilter.js';\nimport categoryVisual from './categoryVisual.js';\nimport edgeVisual from './edgeVisual.js';\nimport simpleLayout from './simpleLayout.js';\nimport circularLayout from './circularLayout.js';\nimport forceLayout from './forceLayout.js';\nimport createView from './createView.js';\nimport View from '../../coord/View.js';\nimport GraphView from './GraphView.js';\nimport GraphSeriesModel from './GraphSeries.js';\nimport { updateCenterAndZoomInAction } from '../../component/helper/roamHelper.js';\nimport { noop } from 'zrender/lib/core/util.js';\nexport function install(registers) {\n  registers.registerChartView(GraphView);\n  registers.registerSeriesModel(GraphSeriesModel);\n  registers.registerProcessor(categoryFilter);\n  registers.registerVisual(categoryVisual);\n  registers.registerVisual(edgeVisual);\n  registers.registerLayout(simpleLayout);\n  registers.registerLayout(registers.PRIORITY.VISUAL.POST_CHART_LAYOUT, circularLayout);\n  registers.registerLayout(forceLayout);\n  registers.registerCoordinateSystem('graphView', {\n    dimensions: View.dimensions,\n    create: createView\n  });\n  // Register legacy focus actions\n  registers.registerAction({\n    type: 'focusNodeAdjacency',\n    event: 'focusNodeAdjacency',\n    update: 'series:focusNodeAdjacency'\n  }, noop);\n  registers.registerAction({\n    type: 'unfocusNodeAdjacency',\n    event: 'unfocusNodeAdjacency',\n    update: 'series:unfocusNodeAdjacency'\n  }, noop);\n  // Register roam action.\n  registers.registerAction({\n    type: 'graphRoam',\n    event: 'graphRoam',\n    update: 'none'\n  }, function (payload, ecModel, api) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      query: payload\n    }, function (seriesModel) {\n      var graphView = api.getViewOfSeriesModel(seriesModel);\n      if (graphView) {\n        if (payload.dx != null && payload.dy != null) {\n          graphView.updateViewOnPan(seriesModel, api, payload);\n        }\n        if (payload.zoom != null && payload.originX != null && payload.originY != null) {\n          graphView.updateViewOnZoom(seriesModel, api, payload);\n        }\n      }\n      var coordSys = seriesModel.coordinateSystem;\n      var res = updateCenterAndZoomInAction(coordSys, payload, seriesModel.get('scaleLimit'));\n      seriesModel.setCenter && seriesModel.setCenter(res.center);\n      seriesModel.setZoom && seriesModel.setZoom(res.zoom);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { extend, retrieve3 } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { getSectorCornerRadius } from '../helper/sectorHelper.js';\nimport { getLabelStatesModels, setLabelStyle } from '../../label/labelStyle.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport { getECData } from '../../util/innerStore.js';\nvar ChordPiece = /** @class */function (_super) {\n  __extends(ChordPiece, _super);\n  function ChordPiece(data, idx, startAngle) {\n    var _this = _super.call(this) || this;\n    getECData(_this).dataType = 'node';\n    _this.z2 = 2;\n    var text = new graphic.Text();\n    _this.setTextContent(text);\n    _this.updateData(data, idx, startAngle, true);\n    return _this;\n  }\n  ChordPiece.prototype.updateData = function (data, idx, startAngle, firstCreate) {\n    var sector = this;\n    var node = data.graph.getNodeByIndex(idx);\n    var seriesModel = data.hostModel;\n    var itemModel = node.getModel();\n    var emphasisModel = itemModel.getModel('emphasis');\n    // layout position is the center of the sector\n    var layout = data.getItemLayout(idx);\n    var shape = extend(getSectorCornerRadius(itemModel.getModel('itemStyle'), layout, true), layout);\n    var el = this;\n    // Ignore NaN data.\n    if (isNaN(shape.startAngle)) {\n      // Use NaN shape to avoid drawing shape.\n      el.setShape(shape);\n      return;\n    }\n    if (firstCreate) {\n      el.setShape(shape);\n    } else {\n      graphic.updateProps(el, {\n        shape: shape\n      }, seriesModel, idx);\n    }\n    var sectorShape = extend(getSectorCornerRadius(itemModel.getModel('itemStyle'), layout, true), layout);\n    sector.setShape(sectorShape);\n    sector.useStyle(data.getItemVisual(idx, 'style'));\n    setStatesStylesFromModel(sector, itemModel);\n    this._updateLabel(seriesModel, itemModel, node);\n    data.setItemGraphicEl(idx, el);\n    setStatesStylesFromModel(el, itemModel, 'itemStyle');\n    // Add focus/blur states handling\n    var focus = emphasisModel.get('focus');\n    toggleHoverEmphasis(this, focus === 'adjacency' ? node.getAdjacentDataIndices() : focus, emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n  };\n  ChordPiece.prototype._updateLabel = function (seriesModel, itemModel, node) {\n    var label = this.getTextContent();\n    var layout = node.getLayout();\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var normalLabelModel = itemModel.getModel('label');\n    label.ignore = !normalLabelModel.get('show');\n    // Set label style\n    var labelStateModels = getLabelStatesModels(itemModel);\n    var style = node.getVisual('style');\n    setLabelStyle(label, labelStateModels, {\n      labelFetcher: {\n        getFormattedLabel: function (dataIndex, stateName, dataType, labelDimIndex, formatter, extendParams) {\n          return seriesModel.getFormattedLabel(dataIndex, stateName, 'node', labelDimIndex,\n          // ensure edgeLabel formatter is provided\n          // to prevent the inheritance from `label.formatter` of the series\n          retrieve3(formatter, labelStateModels.normal && labelStateModels.normal.get('formatter'), itemModel.get('name')), extendParams);\n        }\n      },\n      labelDataIndex: node.dataIndex,\n      defaultText: node.dataIndex + '',\n      inheritColor: style.fill,\n      defaultOpacity: style.opacity,\n      defaultOutsidePosition: 'startArc'\n    });\n    // Set label position\n    var labelPosition = normalLabelModel.get('position') || 'outside';\n    var labelPadding = normalLabelModel.get('distance') || 0;\n    var r;\n    if (labelPosition === 'outside') {\n      r = layout.r + labelPadding;\n    } else {\n      r = (layout.r + layout.r0) / 2;\n    }\n    this.textConfig = {\n      inside: labelPosition !== 'outside'\n    };\n    var align = labelPosition !== 'outside' ? normalLabelModel.get('align') || 'center' : dx > 0 ? 'left' : 'right';\n    var verticalAlign = labelPosition !== 'outside' ? normalLabelModel.get('verticalAlign') || 'middle' : dy > 0 ? 'top' : 'bottom';\n    label.attr({\n      x: dx * r + layout.cx,\n      y: dy * r + layout.cy,\n      rotation: 0,\n      style: {\n        align: align,\n        verticalAlign: verticalAlign\n      }\n    });\n  };\n  return ChordPiece;\n}(graphic.Sector);\nexport default ChordPiece;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { extend, isString } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { getSectorCornerRadius } from '../helper/sectorHelper.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport { getECData } from '../../util/innerStore.js';\nvar ChordPathShape = /** @class */function () {\n  function ChordPathShape() {\n    // Souce node, two points forming an arc\n    this.s1 = [0, 0];\n    this.s2 = [0, 0];\n    this.sStartAngle = 0;\n    this.sEndAngle = 0;\n    // Target node, two points forming an arc\n    this.t1 = [0, 0];\n    this.t2 = [0, 0];\n    this.tStartAngle = 0;\n    this.tEndAngle = 0;\n    this.cx = 0;\n    this.cy = 0;\n    // series.r0 of ChordSeries\n    this.r = 0;\n    this.clockwise = true;\n  }\n  return ChordPathShape;\n}();\nexport { ChordPathShape };\nvar ChordEdge = /** @class */function (_super) {\n  __extends(ChordEdge, _super);\n  function ChordEdge(nodeData, edgeData, edgeIdx, startAngle) {\n    var _this = _super.call(this) || this;\n    getECData(_this).dataType = 'edge';\n    _this.updateData(nodeData, edgeData, edgeIdx, startAngle, true);\n    return _this;\n  }\n  ChordEdge.prototype.buildPath = function (ctx, shape) {\n    // Start from n11\n    ctx.moveTo(shape.s1[0], shape.s1[1]);\n    var ratio = 0.7;\n    var clockwise = shape.clockwise;\n    // Draw the arc from n11 to n12\n    ctx.arc(shape.cx, shape.cy, shape.r, shape.sStartAngle, shape.sEndAngle, !clockwise);\n    // Bezier curve to cp1 and then to n21\n    ctx.bezierCurveTo((shape.cx - shape.s2[0]) * ratio + shape.s2[0], (shape.cy - shape.s2[1]) * ratio + shape.s2[1], (shape.cx - shape.t1[0]) * ratio + shape.t1[0], (shape.cy - shape.t1[1]) * ratio + shape.t1[1], shape.t1[0], shape.t1[1]);\n    // Draw the arc from n21 to n22\n    ctx.arc(shape.cx, shape.cy, shape.r, shape.tStartAngle, shape.tEndAngle, !clockwise);\n    // Bezier curve back to cp2 and then to n11\n    ctx.bezierCurveTo((shape.cx - shape.t2[0]) * ratio + shape.t2[0], (shape.cy - shape.t2[1]) * ratio + shape.t2[1], (shape.cx - shape.s1[0]) * ratio + shape.s1[0], (shape.cy - shape.s1[1]) * ratio + shape.s1[1], shape.s1[0], shape.s1[1]);\n    ctx.closePath();\n  };\n  ChordEdge.prototype.updateData = function (nodeData, edgeData, edgeIdx, startAngle, firstCreate) {\n    var seriesModel = nodeData.hostModel;\n    var edge = edgeData.graph.getEdgeByIndex(edgeIdx);\n    var layout = edge.getLayout();\n    var itemModel = edge.node1.getModel();\n    var edgeModel = edgeData.getItemModel(edge.dataIndex);\n    var lineStyle = edgeModel.getModel('lineStyle');\n    var emphasisModel = edgeModel.getModel('emphasis');\n    var focus = emphasisModel.get('focus');\n    var shape = extend(getSectorCornerRadius(itemModel.getModel('itemStyle'), layout, true), layout);\n    var el = this;\n    // Ignore NaN data.\n    if (isNaN(shape.sStartAngle) || isNaN(shape.tStartAngle)) {\n      // Use NaN shape to avoid drawing shape.\n      el.setShape(shape);\n      return;\n    }\n    if (firstCreate) {\n      el.setShape(shape);\n      applyEdgeFill(el, edge, nodeData, lineStyle);\n    } else {\n      saveOldStyle(el);\n      applyEdgeFill(el, edge, nodeData, lineStyle);\n      graphic.updateProps(el, {\n        shape: shape\n      }, seriesModel, edgeIdx);\n    }\n    toggleHoverEmphasis(this, focus === 'adjacency' ? edge.getAdjacentDataIndices() : focus, emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n    setStatesStylesFromModel(el, edgeModel, 'lineStyle');\n    edgeData.setItemGraphicEl(edge.dataIndex, el);\n  };\n  return ChordEdge;\n}(graphic.Path);\nexport { ChordEdge };\nfunction applyEdgeFill(edgeShape, edge, nodeData, lineStyleModel) {\n  var node1 = edge.node1;\n  var node2 = edge.node2;\n  var edgeStyle = edgeShape.style;\n  edgeShape.setStyle(lineStyleModel.getLineStyle());\n  var color = lineStyleModel.get('color');\n  switch (color) {\n    case 'source':\n      // TODO: use visual and node1.getVisual('color');\n      edgeStyle.fill = nodeData.getItemVisual(node1.dataIndex, 'style').fill;\n      edgeStyle.decal = node1.getVisual('style').decal;\n      break;\n    case 'target':\n      edgeStyle.fill = nodeData.getItemVisual(node2.dataIndex, 'style').fill;\n      edgeStyle.decal = node2.getVisual('style').decal;\n      break;\n    case 'gradient':\n      var sourceColor = nodeData.getItemVisual(node1.dataIndex, 'style').fill;\n      var targetColor = nodeData.getItemVisual(node2.dataIndex, 'style').fill;\n      if (isString(sourceColor) && isString(targetColor)) {\n        // Gradient direction is perpendicular to the mid-angles\n        // of source and target nodes.\n        var shape = edgeShape.shape;\n        var sMidX = (shape.s1[0] + shape.s2[0]) / 2;\n        var sMidY = (shape.s1[1] + shape.s2[1]) / 2;\n        var tMidX = (shape.t1[0] + shape.t2[0]) / 2;\n        var tMidY = (shape.t1[1] + shape.t2[1]) / 2;\n        edgeStyle.fill = new graphic.LinearGradient(sMidX, sMidY, tMidX, tMidY, [{\n          offset: 0,\n          color: sourceColor\n        }, {\n          offset: 1,\n          color: targetColor\n        }], true);\n      }\n      break;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic.js';\nimport ChartView from '../../view/Chart.js';\nimport ChordPiece from './ChordPiece.js';\nimport { ChordEdge } from './ChordEdge.js';\nimport { parsePercent } from '../../util/number.js';\nimport { getECData } from '../../util/innerStore.js';\nvar RADIAN = Math.PI / 180;\nvar ChordView = /** @class */function (_super) {\n  __extends(ChordView, _super);\n  function ChordView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ChordView.type;\n    return _this;\n  }\n  ChordView.prototype.init = function (ecModel, api) {};\n  ChordView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    data.diff(oldData).add(function (newIdx) {\n      /* Consider the case when there are only two nodes A and B,\n       * and there is a link between A and B.\n       * At first, they are both disselected from legend. And then\n       * when A is selected, A will go into `add` method. But since\n       * there are no edges to be displayed, A should not be added.\n       * So we should only add A when layout is defined.\n       */\n      var layout = data.getItemLayout(newIdx);\n      if (layout) {\n        var el = new ChordPiece(data, newIdx, startAngle);\n        getECData(el).dataIndex = newIdx;\n        group.add(el);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      var layout = data.getItemLayout(newIdx);\n      /* Consider the case when there are only two nodes A and B,\n       * and there is a link between A and B.\n       * and when A is disselected from legend, there should be\n       * nothing to display. But in the `data.diff` method, B will go\n       * into `update` method and having no layout.\n       * In this case, we need to remove B.\n       */\n      if (!layout) {\n        el && graphic.removeElementWithFadeOut(el, seriesModel, oldIdx);\n        return;\n      }\n      if (!el) {\n        el = new ChordPiece(data, newIdx, startAngle);\n      } else {\n        el.updateData(data, newIdx, startAngle);\n      }\n      group.add(el);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && graphic.removeElementWithFadeOut(el, seriesModel, oldIdx);\n    }).execute();\n    if (!oldData) {\n      var center = seriesModel.get('center');\n      this.group.scaleX = 0.01;\n      this.group.scaleY = 0.01;\n      this.group.originX = parsePercent(center[0], api.getWidth());\n      this.group.originY = parsePercent(center[1], api.getHeight());\n      graphic.initProps(this.group, {\n        scaleX: 1,\n        scaleY: 1\n      }, seriesModel);\n    }\n    this._data = data;\n    this.renderEdges(seriesModel, startAngle);\n  };\n  ChordView.prototype.renderEdges = function (seriesModel, startAngle) {\n    var nodeData = seriesModel.getData();\n    var edgeData = seriesModel.getEdgeData();\n    var oldData = this._edgeData;\n    var group = this.group;\n    edgeData.diff(oldData).add(function (newIdx) {\n      var el = new ChordEdge(nodeData, edgeData, newIdx, startAngle);\n      getECData(el).dataIndex = newIdx;\n      group.add(el);\n    }).update(function (newIdx, oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el.updateData(nodeData, edgeData, newIdx, startAngle);\n      group.add(el);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && graphic.removeElementWithFadeOut(el, seriesModel, oldIdx);\n    }).execute();\n    this._edgeData = edgeData;\n  };\n  ChordView.prototype.dispose = function () {};\n  ChordView.type = 'chord';\n  return ChordView;\n}(ChartView);\nexport default ChordView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Model from '../../model/Model.js';\nimport SeriesModel from '../../model/Series.js';\nimport createGraphFromNodeEdge from '../helper/createGraphFromNodeEdge.js';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup.js';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar ChordSeriesModel = /** @class */function (_super) {\n  __extends(ChordSeriesModel, _super);\n  function ChordSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ChordSeriesModel.type;\n    return _this;\n  }\n  ChordSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments);\n    this.fillDataTextStyle(option.edges || option.links);\n    // Enable legend selection for each data item\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n  };\n  ChordSeriesModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n    this.fillDataTextStyle(option.edges || option.links);\n  };\n  ChordSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    var edges = option.edges || option.links || [];\n    var nodes = option.data || option.nodes || [];\n    if (nodes && edges) {\n      var graph = createGraphFromNodeEdge(nodes, edges, this, true, beforeLink);\n      return graph.data;\n    }\n    function beforeLink(nodeData, edgeData) {\n      // TODO Inherit resolveParentPath by default in Model#getModel?\n      var oldGetModel = Model.prototype.getModel;\n      function newGetModel(path, parentModel) {\n        var model = oldGetModel.call(this, path, parentModel);\n        model.resolveParentPath = resolveParentPath;\n        return model;\n      }\n      edgeData.wrapMethod('getItemModel', function (model) {\n        model.resolveParentPath = resolveParentPath;\n        model.getModel = newGetModel;\n        return model;\n      });\n      function resolveParentPath(pathArr) {\n        if (pathArr && (pathArr[0] === 'label' || pathArr[1] === 'label')) {\n          var newPathArr = pathArr.slice();\n          if (pathArr[0] === 'label') {\n            newPathArr[0] = 'edgeLabel';\n          } else if (pathArr[1] === 'label') {\n            newPathArr[1] = 'edgeLabel';\n          }\n          return newPathArr;\n        }\n        return pathArr;\n      }\n    }\n  };\n  ChordSeriesModel.prototype.getGraph = function () {\n    return this.getData().graph;\n  };\n  ChordSeriesModel.prototype.getEdgeData = function () {\n    return this.getGraph().edgeData;\n  };\n  ChordSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var params = this.getDataParams(dataIndex, dataType);\n    if (dataType === 'edge') {\n      var nodeData = this.getData();\n      var edge = nodeData.graph.getEdgeByIndex(dataIndex);\n      var sourceName = nodeData.getName(edge.node1.dataIndex);\n      var targetName = nodeData.getName(edge.node2.dataIndex);\n      var nameArr = [];\n      sourceName != null && nameArr.push(sourceName);\n      targetName != null && nameArr.push(targetName);\n      return createTooltipMarkup('nameValue', {\n        name: nameArr.join(' > '),\n        value: params.value,\n        noValue: params.value == null\n      });\n    }\n    // dataType === 'node' or empty\n    return createTooltipMarkup('nameValue', {\n      name: params.name,\n      value: params.value,\n      noValue: params.value == null\n    });\n  };\n  ChordSeriesModel.prototype.getDataParams = function (dataIndex, dataType) {\n    var params = _super.prototype.getDataParams.call(this, dataIndex, dataType);\n    if (dataType === 'node') {\n      var nodeData = this.getData();\n      var node = this.getGraph().getNodeByIndex(dataIndex);\n      // Set name if not already set\n      if (params.name == null) {\n        params.name = nodeData.getName(dataIndex);\n      }\n      // Set value if not already set\n      if (params.value == null) {\n        var nodeValue = node.getLayout().value;\n        params.value = nodeValue;\n      }\n    }\n    return params;\n  };\n  ChordSeriesModel.type = 'series.chord';\n  ChordSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'none',\n    legendHoverLink: true,\n    colorBy: 'data',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: null,\n    height: null,\n    center: ['50%', '50%'],\n    radius: ['70%', '80%'],\n    clockwise: true,\n    startAngle: 90,\n    endAngle: 'auto',\n    minAngle: 0,\n    padAngle: 3,\n    itemStyle: {\n      borderRadius: [0, 0, 5, 5]\n    },\n    lineStyle: {\n      width: 0,\n      color: 'source',\n      opacity: 0.2\n    },\n    label: {\n      show: true,\n      position: 'outside',\n      distance: 5\n    },\n    emphasis: {\n      focus: 'adjacency',\n      lineStyle: {\n        opacity: 0.5\n      }\n    }\n  };\n  return ChordSeriesModel;\n}(SeriesModel);\nexport default ChordSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { normalizeArcAngles } from 'zrender/lib/core/PathProxy.js';\nimport { getCircleLayout } from '../../util/layout.js';\nvar RADIAN = Math.PI / 180;\nexport default function chordCircularLayout(ecModel, api) {\n  ecModel.eachSeriesByType('chord', function (seriesModel) {\n    chordLayout(seriesModel, api);\n  });\n}\nfunction chordLayout(seriesModel, api) {\n  var nodeData = seriesModel.getData();\n  var nodeGraph = nodeData.graph;\n  var edgeData = seriesModel.getEdgeData();\n  var edgeCount = edgeData.count();\n  if (!edgeCount) {\n    return;\n  }\n  var _a = getCircleLayout(seriesModel, api),\n    cx = _a.cx,\n    cy = _a.cy,\n    r = _a.r,\n    r0 = _a.r0;\n  var padAngle = Math.max((seriesModel.get('padAngle') || 0) * RADIAN, 0);\n  var minAngle = Math.max((seriesModel.get('minAngle') || 0) * RADIAN, 0);\n  var startAngle = -seriesModel.get('startAngle') * RADIAN;\n  var endAngle = startAngle + Math.PI * 2;\n  var clockwise = seriesModel.get('clockwise');\n  var dir = clockwise ? 1 : -1;\n  // Normalize angles\n  var angles = [startAngle, endAngle];\n  normalizeArcAngles(angles, !clockwise);\n  var normalizedStartAngle = angles[0],\n    normalizedEndAngle = angles[1];\n  var totalAngle = normalizedEndAngle - normalizedStartAngle;\n  var allZero = nodeData.getSum('value') === 0 && edgeData.getSum('value') === 0;\n  // Sum of each node's edge values\n  var nodeValues = [];\n  var renderedNodeCount = 0;\n  nodeGraph.eachEdge(function (edge) {\n    // All links use the same value 1 when allZero is true\n    var value = allZero ? 1 : edge.getValue('value');\n    if (allZero && (value > 0 || minAngle)) {\n      // When allZero is true, angle is in direct proportion to number\n      // of links both in and out of the node.\n      renderedNodeCount += 2;\n    }\n    var node1Index = edge.node1.dataIndex;\n    var node2Index = edge.node2.dataIndex;\n    nodeValues[node1Index] = (nodeValues[node1Index] || 0) + value;\n    nodeValues[node2Index] = (nodeValues[node2Index] || 0) + value;\n  });\n  // Update nodeValues with data.value if exists\n  var nodeValueSum = 0;\n  nodeGraph.eachNode(function (node) {\n    var dataValue = node.getValue('value');\n    if (!isNaN(dataValue)) {\n      nodeValues[node.dataIndex] = Math.max(dataValue, nodeValues[node.dataIndex] || 0);\n    }\n    if (!allZero && (nodeValues[node.dataIndex] > 0 || minAngle)) {\n      // When allZero is false, angle is in direct proportion to node's\n      // value\n      renderedNodeCount++;\n    }\n    nodeValueSum += nodeValues[node.dataIndex] || 0;\n  });\n  if (renderedNodeCount === 0 || nodeValueSum === 0) {\n    return;\n  }\n  if (padAngle * renderedNodeCount >= Math.abs(totalAngle)) {\n    // Not enough angle to render the pad, minAngle has higher priority, and padAngle takes the rest\n    padAngle = Math.max(0, (Math.abs(totalAngle) - minAngle * renderedNodeCount) / renderedNodeCount);\n  }\n  if ((padAngle + minAngle) * renderedNodeCount >= Math.abs(totalAngle)) {\n    // Not enough angle to render the minAngle, so ignore the minAngle\n    minAngle = (Math.abs(totalAngle) - padAngle * renderedNodeCount) / renderedNodeCount;\n  }\n  var unitAngle = (totalAngle - padAngle * renderedNodeCount * dir) / nodeValueSum;\n  var totalDeficit = 0; // sum of deficits of nodes with span < minAngle\n  var totalSurplus = 0; // sum of (spans - minAngle) of nodes with span > minAngle\n  var totalSurplusSpan = 0; // sum of spans of nodes with span > minAngle\n  var minSurplus = Infinity; // min of (spans - minAngle) of nodes with span > minAngle\n  nodeGraph.eachNode(function (node) {\n    var value = nodeValues[node.dataIndex] || 0;\n    var spanAngle = unitAngle * (nodeValueSum ? value : 1) * dir;\n    if (Math.abs(spanAngle) < minAngle) {\n      totalDeficit += minAngle - Math.abs(spanAngle);\n    } else {\n      minSurplus = Math.min(minSurplus, Math.abs(spanAngle) - minAngle);\n      totalSurplus += Math.abs(spanAngle) - minAngle;\n      totalSurplusSpan += Math.abs(spanAngle);\n    }\n    node.setLayout({\n      angle: spanAngle,\n      value: value\n    });\n  });\n  var surplusAsMuchAsPossible = false;\n  if (totalDeficit > totalSurplus) {\n    // Not enough angle to spread the nodes, scale all\n    var scale_1 = totalDeficit / totalSurplus;\n    nodeGraph.eachNode(function (node) {\n      var spanAngle = node.getLayout().angle;\n      if (Math.abs(spanAngle) >= minAngle) {\n        node.setLayout({\n          angle: spanAngle * scale_1,\n          ratio: scale_1\n        }, true);\n      } else {\n        node.setLayout({\n          angle: minAngle,\n          ratio: minAngle === 0 ? 1 : spanAngle / minAngle\n        }, true);\n      }\n    });\n  } else {\n    // For example, if totalDeficit is 60 degrees and totalSurplus is 70\n    // degrees but one of the sector can only reduced by 1 degree,\n    // if we decrease it with the ratio of value to other surplused nodes,\n    // it will have smaller angle than minAngle itself.\n    // So we need to borrow some angle from other nodes.\n    nodeGraph.eachNode(function (node) {\n      if (surplusAsMuchAsPossible) {\n        return;\n      }\n      var spanAngle = node.getLayout().angle;\n      var borrowRatio = Math.min(spanAngle / totalSurplusSpan, 1);\n      var borrowAngle = borrowRatio * totalDeficit;\n      if (spanAngle - borrowAngle < minAngle) {\n        // It will have less than minAngle after borrowing\n        surplusAsMuchAsPossible = true;\n      }\n    });\n  }\n  var restDeficit = totalDeficit;\n  nodeGraph.eachNode(function (node) {\n    if (restDeficit <= 0) {\n      return;\n    }\n    var spanAngle = node.getLayout().angle;\n    if (spanAngle > minAngle && minAngle > 0) {\n      var borrowRatio = surplusAsMuchAsPossible ? 1 : Math.min(spanAngle / totalSurplusSpan, 1);\n      var maxBorrowAngle = spanAngle - minAngle;\n      var borrowAngle = Math.min(maxBorrowAngle, Math.min(restDeficit, totalDeficit * borrowRatio));\n      restDeficit -= borrowAngle;\n      node.setLayout({\n        angle: spanAngle - borrowAngle,\n        ratio: (spanAngle - borrowAngle) / spanAngle\n      }, true);\n    } else if (minAngle > 0) {\n      node.setLayout({\n        angle: minAngle,\n        ratio: spanAngle === 0 ? 1 : minAngle / spanAngle\n      }, true);\n    }\n  });\n  var angle = normalizedStartAngle;\n  var edgeAccAngle = [];\n  nodeGraph.eachNode(function (node) {\n    var spanAngle = Math.max(node.getLayout().angle, minAngle);\n    node.setLayout({\n      cx: cx,\n      cy: cy,\n      r0: r0,\n      r: r,\n      startAngle: angle,\n      endAngle: angle + spanAngle * dir,\n      clockwise: clockwise\n    }, true);\n    edgeAccAngle[node.dataIndex] = angle;\n    angle += (spanAngle + padAngle) * dir;\n  });\n  nodeGraph.eachEdge(function (edge) {\n    var value = allZero ? 1 : edge.getValue('value');\n    var spanAngle = unitAngle * (nodeValueSum ? value : 1) * dir;\n    var node1Index = edge.node1.dataIndex;\n    var sStartAngle = edgeAccAngle[node1Index] || 0;\n    var sSpan = Math.abs((edge.node1.getLayout().ratio || 1) * spanAngle);\n    var sEndAngle = sStartAngle + sSpan * dir;\n    var s1 = [cx + r0 * Math.cos(sStartAngle), cy + r0 * Math.sin(sStartAngle)];\n    var s2 = [cx + r0 * Math.cos(sEndAngle), cy + r0 * Math.sin(sEndAngle)];\n    var node2Index = edge.node2.dataIndex;\n    var tStartAngle = edgeAccAngle[node2Index] || 0;\n    var tSpan = Math.abs((edge.node2.getLayout().ratio || 1) * spanAngle);\n    var tEndAngle = tStartAngle + tSpan * dir;\n    var t1 = [cx + r0 * Math.cos(tStartAngle), cy + r0 * Math.sin(tStartAngle)];\n    var t2 = [cx + r0 * Math.cos(tEndAngle), cy + r0 * Math.sin(tEndAngle)];\n    edge.setLayout({\n      s1: s1,\n      s2: s2,\n      sStartAngle: sStartAngle,\n      sEndAngle: sEndAngle,\n      t1: t1,\n      t2: t2,\n      tStartAngle: tStartAngle,\n      tEndAngle: tEndAngle,\n      cx: cx,\n      cy: cy,\n      r: r0,\n      value: value,\n      clockwise: clockwise\n    });\n    edgeAccAngle[node1Index] = sEndAngle;\n    edgeAccAngle[node2Index] = tEndAngle;\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport ChordView from './ChordView.js';\nimport ChordSeriesModel from './ChordSeries.js';\nimport chordLayout from './chordLayout.js';\nimport dataFilter from '../../processor/dataFilter.js';\nexport function install(registers) {\n  registers.registerChartView(ChordView);\n  registers.registerSeriesModel(ChordSeriesModel);\n  registers.registerLayout(registers.PRIORITY.VISUAL.POST_CHART_LAYOUT, chordLayout);\n  // Add data filter processor\n  registers.registerProcessor(dataFilter('chord'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Path from 'zrender/lib/graphic/Path.js';\nvar PointerShape = /** @class */function () {\n  function PointerShape() {\n    this.angle = 0;\n    this.width = 10;\n    this.r = 10;\n    this.x = 0;\n    this.y = 0;\n  }\n  return PointerShape;\n}();\nvar PointerPath = /** @class */function (_super) {\n  __extends(PointerPath, _super);\n  function PointerPath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'pointer';\n    return _this;\n  }\n  PointerPath.prototype.getDefaultShape = function () {\n    return new PointerShape();\n  };\n  PointerPath.prototype.buildPath = function (ctx, shape) {\n    var mathCos = Math.cos;\n    var mathSin = Math.sin;\n    var r = shape.r;\n    var width = shape.width;\n    var angle = shape.angle;\n    var x = shape.x - mathCos(angle) * width * (width >= r / 3 ? 1 : 2);\n    var y = shape.y - mathSin(angle) * width * (width >= r / 3 ? 1 : 2);\n    angle = shape.angle - Math.PI / 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(shape.x + mathCos(angle) * width, shape.y + mathSin(angle) * width);\n    ctx.lineTo(shape.x + mathCos(shape.angle) * r, shape.y + mathSin(shape.angle) * r);\n    ctx.lineTo(shape.x - mathCos(angle) * width, shape.y - mathSin(angle) * width);\n    ctx.lineTo(x, y);\n  };\n  return PointerPath;\n}(Path);\nexport default PointerPath;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport PointerPath from './PointerPath.js';\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport { createTextStyle, setLabelValueAnimation, animateLabelValue } from '../../label/labelStyle.js';\nimport ChartView from '../../view/Chart.js';\nimport { parsePercent, round, linearMap } from '../../util/number.js';\nimport Sausage from '../../util/shape/sausage.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport { extend, isFunction, isString, isNumber, each } from 'zrender/lib/core/util.js';\nimport { setCommonECData } from '../../util/innerStore.js';\nimport { normalizeArcAngles } from 'zrender/lib/core/PathProxy.js';\nfunction parsePosition(seriesModel, api) {\n  var center = seriesModel.get('center');\n  var width = api.getWidth();\n  var height = api.getHeight();\n  var size = Math.min(width, height);\n  var cx = parsePercent(center[0], api.getWidth());\n  var cy = parsePercent(center[1], api.getHeight());\n  var r = parsePercent(seriesModel.get('radius'), size / 2);\n  return {\n    cx: cx,\n    cy: cy,\n    r: r\n  };\n}\nfunction formatLabel(value, labelFormatter) {\n  var label = value == null ? '' : value + '';\n  if (labelFormatter) {\n    if (isString(labelFormatter)) {\n      label = labelFormatter.replace('{value}', label);\n    } else if (isFunction(labelFormatter)) {\n      label = labelFormatter(value);\n    }\n  }\n  return label;\n}\nvar GaugeView = /** @class */function (_super) {\n  __extends(GaugeView, _super);\n  function GaugeView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GaugeView.type;\n    return _this;\n  }\n  GaugeView.prototype.render = function (seriesModel, ecModel, api) {\n    this.group.removeAll();\n    var colorList = seriesModel.get(['axisLine', 'lineStyle', 'color']);\n    var posInfo = parsePosition(seriesModel, api);\n    this._renderMain(seriesModel, ecModel, api, colorList, posInfo);\n    this._data = seriesModel.getData();\n  };\n  GaugeView.prototype.dispose = function () {};\n  GaugeView.prototype._renderMain = function (seriesModel, ecModel, api, colorList, posInfo) {\n    var group = this.group;\n    var clockwise = seriesModel.get('clockwise');\n    var startAngle = -seriesModel.get('startAngle') / 180 * Math.PI;\n    var endAngle = -seriesModel.get('endAngle') / 180 * Math.PI;\n    var axisLineModel = seriesModel.getModel('axisLine');\n    var roundCap = axisLineModel.get('roundCap');\n    var MainPath = roundCap ? Sausage : graphic.Sector;\n    var showAxis = axisLineModel.get('show');\n    var lineStyleModel = axisLineModel.getModel('lineStyle');\n    var axisLineWidth = lineStyleModel.get('width');\n    var angles = [startAngle, endAngle];\n    normalizeArcAngles(angles, !clockwise);\n    startAngle = angles[0];\n    endAngle = angles[1];\n    var angleRangeSpan = endAngle - startAngle;\n    var prevEndAngle = startAngle;\n    var sectors = [];\n    for (var i = 0; showAxis && i < colorList.length; i++) {\n      // Clamp\n      var percent = Math.min(Math.max(colorList[i][0], 0), 1);\n      endAngle = startAngle + angleRangeSpan * percent;\n      var sector = new MainPath({\n        shape: {\n          startAngle: prevEndAngle,\n          endAngle: endAngle,\n          cx: posInfo.cx,\n          cy: posInfo.cy,\n          clockwise: clockwise,\n          r0: posInfo.r - axisLineWidth,\n          r: posInfo.r\n        },\n        silent: true\n      });\n      sector.setStyle({\n        fill: colorList[i][1]\n      });\n      sector.setStyle(lineStyleModel.getLineStyle(\n      // Because we use sector to simulate arc\n      // so the properties for stroking are useless\n      ['color', 'width']));\n      sectors.push(sector);\n      prevEndAngle = endAngle;\n    }\n    sectors.reverse();\n    each(sectors, function (sector) {\n      return group.add(sector);\n    });\n    var getColor = function (percent) {\n      // Less than 0\n      if (percent <= 0) {\n        return colorList[0][1];\n      }\n      var i;\n      for (i = 0; i < colorList.length; i++) {\n        if (colorList[i][0] >= percent && (i === 0 ? 0 : colorList[i - 1][0]) < percent) {\n          return colorList[i][1];\n        }\n      }\n      // More than 1\n      return colorList[i - 1][1];\n    };\n    this._renderTicks(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise, axisLineWidth);\n    this._renderTitleAndDetail(seriesModel, ecModel, api, getColor, posInfo);\n    this._renderAnchor(seriesModel, posInfo);\n    this._renderPointer(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise, axisLineWidth);\n  };\n  GaugeView.prototype._renderTicks = function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise, axisLineWidth) {\n    var group = this.group;\n    var cx = posInfo.cx;\n    var cy = posInfo.cy;\n    var r = posInfo.r;\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n    var splitLineModel = seriesModel.getModel('splitLine');\n    var tickModel = seriesModel.getModel('axisTick');\n    var labelModel = seriesModel.getModel('axisLabel');\n    var splitNumber = seriesModel.get('splitNumber');\n    var subSplitNumber = tickModel.get('splitNumber');\n    var splitLineLen = parsePercent(splitLineModel.get('length'), r);\n    var tickLen = parsePercent(tickModel.get('length'), r);\n    var angle = startAngle;\n    var step = (endAngle - startAngle) / splitNumber;\n    var subStep = step / subSplitNumber;\n    var splitLineStyle = splitLineModel.getModel('lineStyle').getLineStyle();\n    var tickLineStyle = tickModel.getModel('lineStyle').getLineStyle();\n    var splitLineDistance = splitLineModel.get('distance');\n    var unitX;\n    var unitY;\n    for (var i = 0; i <= splitNumber; i++) {\n      unitX = Math.cos(angle);\n      unitY = Math.sin(angle);\n      // Split line\n      if (splitLineModel.get('show')) {\n        var distance = splitLineDistance ? splitLineDistance + axisLineWidth : axisLineWidth;\n        var splitLine = new graphic.Line({\n          shape: {\n            x1: unitX * (r - distance) + cx,\n            y1: unitY * (r - distance) + cy,\n            x2: unitX * (r - splitLineLen - distance) + cx,\n            y2: unitY * (r - splitLineLen - distance) + cy\n          },\n          style: splitLineStyle,\n          silent: true\n        });\n        if (splitLineStyle.stroke === 'auto') {\n          splitLine.setStyle({\n            stroke: getColor(i / splitNumber)\n          });\n        }\n        group.add(splitLine);\n      }\n      // Label\n      if (labelModel.get('show')) {\n        var distance = labelModel.get('distance') + splitLineDistance;\n        var label = formatLabel(round(i / splitNumber * (maxVal - minVal) + minVal), labelModel.get('formatter'));\n        var autoColor = getColor(i / splitNumber);\n        var textStyleX = unitX * (r - splitLineLen - distance) + cx;\n        var textStyleY = unitY * (r - splitLineLen - distance) + cy;\n        var rotateType = labelModel.get('rotate');\n        var rotate = 0;\n        if (rotateType === 'radial') {\n          rotate = -angle + 2 * Math.PI;\n          if (rotate > Math.PI / 2) {\n            rotate += Math.PI;\n          }\n        } else if (rotateType === 'tangential') {\n          rotate = -angle - Math.PI / 2;\n        } else if (isNumber(rotateType)) {\n          rotate = rotateType * Math.PI / 180;\n        }\n        if (rotate === 0) {\n          group.add(new graphic.Text({\n            style: createTextStyle(labelModel, {\n              text: label,\n              x: textStyleX,\n              y: textStyleY,\n              verticalAlign: unitY < -0.8 ? 'top' : unitY > 0.8 ? 'bottom' : 'middle',\n              align: unitX < -0.4 ? 'left' : unitX > 0.4 ? 'right' : 'center'\n            }, {\n              inheritColor: autoColor\n            }),\n            silent: true\n          }));\n        } else {\n          group.add(new graphic.Text({\n            style: createTextStyle(labelModel, {\n              text: label,\n              x: textStyleX,\n              y: textStyleY,\n              verticalAlign: 'middle',\n              align: 'center'\n            }, {\n              inheritColor: autoColor\n            }),\n            silent: true,\n            originX: textStyleX,\n            originY: textStyleY,\n            rotation: rotate\n          }));\n        }\n      }\n      // Axis tick\n      if (tickModel.get('show') && i !== splitNumber) {\n        var distance = tickModel.get('distance');\n        distance = distance ? distance + axisLineWidth : axisLineWidth;\n        for (var j = 0; j <= subSplitNumber; j++) {\n          unitX = Math.cos(angle);\n          unitY = Math.sin(angle);\n          var tickLine = new graphic.Line({\n            shape: {\n              x1: unitX * (r - distance) + cx,\n              y1: unitY * (r - distance) + cy,\n              x2: unitX * (r - tickLen - distance) + cx,\n              y2: unitY * (r - tickLen - distance) + cy\n            },\n            silent: true,\n            style: tickLineStyle\n          });\n          if (tickLineStyle.stroke === 'auto') {\n            tickLine.setStyle({\n              stroke: getColor((i + j / subSplitNumber) / splitNumber)\n            });\n          }\n          group.add(tickLine);\n          angle += subStep;\n        }\n        angle -= subStep;\n      } else {\n        angle += step;\n      }\n    }\n  };\n  GaugeView.prototype._renderPointer = function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise, axisLineWidth) {\n    var group = this.group;\n    var oldData = this._data;\n    var oldProgressData = this._progressEls;\n    var progressList = [];\n    var showPointer = seriesModel.get(['pointer', 'show']);\n    var progressModel = seriesModel.getModel('progress');\n    var showProgress = progressModel.get('show');\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n    var valueExtent = [minVal, maxVal];\n    var angleExtent = [startAngle, endAngle];\n    function createPointer(idx, angle) {\n      var itemModel = data.getItemModel(idx);\n      var pointerModel = itemModel.getModel('pointer');\n      var pointerWidth = parsePercent(pointerModel.get('width'), posInfo.r);\n      var pointerLength = parsePercent(pointerModel.get('length'), posInfo.r);\n      var pointerStr = seriesModel.get(['pointer', 'icon']);\n      var pointerOffset = pointerModel.get('offsetCenter');\n      var pointerOffsetX = parsePercent(pointerOffset[0], posInfo.r);\n      var pointerOffsetY = parsePercent(pointerOffset[1], posInfo.r);\n      var pointerKeepAspect = pointerModel.get('keepAspect');\n      var pointer;\n      // not exist icon type will be set 'rect'\n      if (pointerStr) {\n        pointer = createSymbol(pointerStr, pointerOffsetX - pointerWidth / 2, pointerOffsetY - pointerLength, pointerWidth, pointerLength, null, pointerKeepAspect);\n      } else {\n        pointer = new PointerPath({\n          shape: {\n            angle: -Math.PI / 2,\n            width: pointerWidth,\n            r: pointerLength,\n            x: pointerOffsetX,\n            y: pointerOffsetY\n          }\n        });\n      }\n      pointer.rotation = -(angle + Math.PI / 2);\n      pointer.x = posInfo.cx;\n      pointer.y = posInfo.cy;\n      return pointer;\n    }\n    function createProgress(idx, endAngle) {\n      var roundCap = progressModel.get('roundCap');\n      var ProgressPath = roundCap ? Sausage : graphic.Sector;\n      var isOverlap = progressModel.get('overlap');\n      var progressWidth = isOverlap ? progressModel.get('width') : axisLineWidth / data.count();\n      var r0 = isOverlap ? posInfo.r - progressWidth : posInfo.r - (idx + 1) * progressWidth;\n      var r = isOverlap ? posInfo.r : posInfo.r - idx * progressWidth;\n      var progress = new ProgressPath({\n        shape: {\n          startAngle: startAngle,\n          endAngle: endAngle,\n          cx: posInfo.cx,\n          cy: posInfo.cy,\n          clockwise: clockwise,\n          r0: r0,\n          r: r\n        }\n      });\n      isOverlap && (progress.z2 = linearMap(data.get(valueDim, idx), [minVal, maxVal], [100, 0], true));\n      return progress;\n    }\n    if (showProgress || showPointer) {\n      data.diff(oldData).add(function (idx) {\n        var val = data.get(valueDim, idx);\n        if (showPointer) {\n          var pointer = createPointer(idx, startAngle);\n          // TODO hide pointer on NaN value?\n          graphic.initProps(pointer, {\n            rotation: -((isNaN(+val) ? angleExtent[0] : linearMap(val, valueExtent, angleExtent, true)) + Math.PI / 2)\n          }, seriesModel);\n          group.add(pointer);\n          data.setItemGraphicEl(idx, pointer);\n        }\n        if (showProgress) {\n          var progress = createProgress(idx, startAngle);\n          var isClip = progressModel.get('clip');\n          graphic.initProps(progress, {\n            shape: {\n              endAngle: linearMap(val, valueExtent, angleExtent, isClip)\n            }\n          }, seriesModel);\n          group.add(progress);\n          // Add data index and series index for indexing the data by element\n          // Useful in tooltip\n          setCommonECData(seriesModel.seriesIndex, data.dataType, idx, progress);\n          progressList[idx] = progress;\n        }\n      }).update(function (newIdx, oldIdx) {\n        var val = data.get(valueDim, newIdx);\n        if (showPointer) {\n          var previousPointer = oldData.getItemGraphicEl(oldIdx);\n          var previousRotate = previousPointer ? previousPointer.rotation : startAngle;\n          var pointer = createPointer(newIdx, previousRotate);\n          pointer.rotation = previousRotate;\n          graphic.updateProps(pointer, {\n            rotation: -((isNaN(+val) ? angleExtent[0] : linearMap(val, valueExtent, angleExtent, true)) + Math.PI / 2)\n          }, seriesModel);\n          group.add(pointer);\n          data.setItemGraphicEl(newIdx, pointer);\n        }\n        if (showProgress) {\n          var previousProgress = oldProgressData[oldIdx];\n          var previousEndAngle = previousProgress ? previousProgress.shape.endAngle : startAngle;\n          var progress = createProgress(newIdx, previousEndAngle);\n          var isClip = progressModel.get('clip');\n          graphic.updateProps(progress, {\n            shape: {\n              endAngle: linearMap(val, valueExtent, angleExtent, isClip)\n            }\n          }, seriesModel);\n          group.add(progress);\n          // Add data index and series index for indexing the data by element\n          // Useful in tooltip\n          setCommonECData(seriesModel.seriesIndex, data.dataType, newIdx, progress);\n          progressList[newIdx] = progress;\n        }\n      }).execute();\n      data.each(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        var emphasisModel = itemModel.getModel('emphasis');\n        var focus = emphasisModel.get('focus');\n        var blurScope = emphasisModel.get('blurScope');\n        var emphasisDisabled = emphasisModel.get('disabled');\n        if (showPointer) {\n          var pointer = data.getItemGraphicEl(idx);\n          var symbolStyle = data.getItemVisual(idx, 'style');\n          var visualColor = symbolStyle.fill;\n          if (pointer instanceof ZRImage) {\n            var pathStyle = pointer.style;\n            pointer.useStyle(extend({\n              image: pathStyle.image,\n              x: pathStyle.x,\n              y: pathStyle.y,\n              width: pathStyle.width,\n              height: pathStyle.height\n            }, symbolStyle));\n          } else {\n            pointer.useStyle(symbolStyle);\n            pointer.type !== 'pointer' && pointer.setColor(visualColor);\n          }\n          pointer.setStyle(itemModel.getModel(['pointer', 'itemStyle']).getItemStyle());\n          if (pointer.style.fill === 'auto') {\n            pointer.setStyle('fill', getColor(linearMap(data.get(valueDim, idx), valueExtent, [0, 1], true)));\n          }\n          pointer.z2EmphasisLift = 0;\n          setStatesStylesFromModel(pointer, itemModel);\n          toggleHoverEmphasis(pointer, focus, blurScope, emphasisDisabled);\n        }\n        if (showProgress) {\n          var progress = progressList[idx];\n          progress.useStyle(data.getItemVisual(idx, 'style'));\n          progress.setStyle(itemModel.getModel(['progress', 'itemStyle']).getItemStyle());\n          progress.z2EmphasisLift = 0;\n          setStatesStylesFromModel(progress, itemModel);\n          toggleHoverEmphasis(progress, focus, blurScope, emphasisDisabled);\n        }\n      });\n      this._progressEls = progressList;\n    }\n  };\n  GaugeView.prototype._renderAnchor = function (seriesModel, posInfo) {\n    var anchorModel = seriesModel.getModel('anchor');\n    var showAnchor = anchorModel.get('show');\n    if (showAnchor) {\n      var anchorSize = anchorModel.get('size');\n      var anchorType = anchorModel.get('icon');\n      var offsetCenter = anchorModel.get('offsetCenter');\n      var anchorKeepAspect = anchorModel.get('keepAspect');\n      var anchor = createSymbol(anchorType, posInfo.cx - anchorSize / 2 + parsePercent(offsetCenter[0], posInfo.r), posInfo.cy - anchorSize / 2 + parsePercent(offsetCenter[1], posInfo.r), anchorSize, anchorSize, null, anchorKeepAspect);\n      anchor.z2 = anchorModel.get('showAbove') ? 1 : 0;\n      anchor.setStyle(anchorModel.getModel('itemStyle').getItemStyle());\n      this.group.add(anchor);\n    }\n  };\n  GaugeView.prototype._renderTitleAndDetail = function (seriesModel, ecModel, api, getColor, posInfo) {\n    var _this = this;\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n    var contentGroup = new graphic.Group();\n    var newTitleEls = [];\n    var newDetailEls = [];\n    var hasAnimation = seriesModel.isAnimationEnabled();\n    var showPointerAbove = seriesModel.get(['pointer', 'showAbove']);\n    data.diff(this._data).add(function (idx) {\n      newTitleEls[idx] = new graphic.Text({\n        silent: true\n      });\n      newDetailEls[idx] = new graphic.Text({\n        silent: true\n      });\n    }).update(function (idx, oldIdx) {\n      newTitleEls[idx] = _this._titleEls[oldIdx];\n      newDetailEls[idx] = _this._detailEls[oldIdx];\n    }).execute();\n    data.each(function (idx) {\n      var itemModel = data.getItemModel(idx);\n      var value = data.get(valueDim, idx);\n      var itemGroup = new graphic.Group();\n      var autoColor = getColor(linearMap(value, [minVal, maxVal], [0, 1], true));\n      var itemTitleModel = itemModel.getModel('title');\n      if (itemTitleModel.get('show')) {\n        var titleOffsetCenter = itemTitleModel.get('offsetCenter');\n        var titleX = posInfo.cx + parsePercent(titleOffsetCenter[0], posInfo.r);\n        var titleY = posInfo.cy + parsePercent(titleOffsetCenter[1], posInfo.r);\n        var labelEl = newTitleEls[idx];\n        labelEl.attr({\n          z2: showPointerAbove ? 0 : 2,\n          style: createTextStyle(itemTitleModel, {\n            x: titleX,\n            y: titleY,\n            text: data.getName(idx),\n            align: 'center',\n            verticalAlign: 'middle'\n          }, {\n            inheritColor: autoColor\n          })\n        });\n        itemGroup.add(labelEl);\n      }\n      var itemDetailModel = itemModel.getModel('detail');\n      if (itemDetailModel.get('show')) {\n        var detailOffsetCenter = itemDetailModel.get('offsetCenter');\n        var detailX = posInfo.cx + parsePercent(detailOffsetCenter[0], posInfo.r);\n        var detailY = posInfo.cy + parsePercent(detailOffsetCenter[1], posInfo.r);\n        var width = parsePercent(itemDetailModel.get('width'), posInfo.r);\n        var height = parsePercent(itemDetailModel.get('height'), posInfo.r);\n        var detailColor = seriesModel.get(['progress', 'show']) ? data.getItemVisual(idx, 'style').fill : autoColor;\n        var labelEl = newDetailEls[idx];\n        var formatter_1 = itemDetailModel.get('formatter');\n        labelEl.attr({\n          z2: showPointerAbove ? 0 : 2,\n          style: createTextStyle(itemDetailModel, {\n            x: detailX,\n            y: detailY,\n            text: formatLabel(value, formatter_1),\n            width: isNaN(width) ? null : width,\n            height: isNaN(height) ? null : height,\n            align: 'center',\n            verticalAlign: 'middle'\n          }, {\n            inheritColor: detailColor\n          })\n        });\n        setLabelValueAnimation(labelEl, {\n          normal: itemDetailModel\n        }, value, function (value) {\n          return formatLabel(value, formatter_1);\n        });\n        hasAnimation && animateLabelValue(labelEl, idx, data, seriesModel, {\n          getFormattedLabel: function (labelDataIndex, status, dataType, labelDimIndex, fmt, extendParams) {\n            return formatLabel(extendParams ? extendParams.interpolatedValue : value, formatter_1);\n          }\n        });\n        itemGroup.add(labelEl);\n      }\n      contentGroup.add(itemGroup);\n    });\n    this.group.add(contentGroup);\n    this._titleEls = newTitleEls;\n    this._detailEls = newDetailEls;\n  };\n  GaugeView.type = 'gauge';\n  return GaugeView;\n}(ChartView);\nexport default GaugeView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesDataSimply from '../helper/createSeriesDataSimply.js';\nimport SeriesModel from '../../model/Series.js';\nimport tokens from '../../visual/tokens.js';\nvar GaugeSeriesModel = /** @class */function (_super) {\n  __extends(GaugeSeriesModel, _super);\n  function GaugeSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GaugeSeriesModel.type;\n    _this.visualStyleAccessPath = 'itemStyle';\n    return _this;\n  }\n  GaugeSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesDataSimply(this, ['value']);\n  };\n  GaugeSeriesModel.type = 'series.gauge';\n  GaugeSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    colorBy: 'data',\n    // 默认全局居中\n    center: ['50%', '50%'],\n    legendHoverLink: true,\n    radius: '75%',\n    startAngle: 225,\n    endAngle: -45,\n    clockwise: true,\n    // 最小值\n    min: 0,\n    // 最大值\n    max: 100,\n    // 分割段数，默认为10\n    splitNumber: 10,\n    // 坐标轴线\n    axisLine: {\n      // 默认显示，属性show控制显示与否\n      show: true,\n      roundCap: false,\n      lineStyle: {\n        color: [[1, tokens.color.neutral10]],\n        width: 10\n      }\n    },\n    // 坐标轴线\n    progress: {\n      // 默认显示，属性show控制显示与否\n      show: false,\n      overlap: true,\n      width: 10,\n      roundCap: false,\n      clip: true\n    },\n    // 分隔线\n    splitLine: {\n      // 默认显示，属性show控制显示与否\n      show: true,\n      // 属性length控制线长\n      length: 10,\n      distance: 10,\n      // 属性lineStyle（详见lineStyle）控制线条样式\n      lineStyle: {\n        color: tokens.color.axisTick,\n        width: 3,\n        type: 'solid'\n      }\n    },\n    // 坐标轴小标记\n    axisTick: {\n      // 属性show控制显示与否，默认不显示\n      show: true,\n      // 每份split细分多少段\n      splitNumber: 5,\n      // 属性length控制线长\n      length: 6,\n      distance: 10,\n      // 属性lineStyle控制线条样式\n      lineStyle: {\n        color: tokens.color.axisTickMinor,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    axisLabel: {\n      show: true,\n      distance: 15,\n      // formatter: null,\n      color: tokens.color.axisLabel,\n      fontSize: 12,\n      rotate: 0\n    },\n    pointer: {\n      icon: null,\n      offsetCenter: [0, 0],\n      show: true,\n      showAbove: true,\n      length: '60%',\n      width: 6,\n      keepAspect: false\n    },\n    anchor: {\n      show: false,\n      showAbove: false,\n      size: 6,\n      icon: 'circle',\n      offsetCenter: [0, 0],\n      keepAspect: false,\n      itemStyle: {\n        color: tokens.color.neutral00,\n        borderWidth: 0,\n        borderColor: tokens.color.theme[0]\n      }\n    },\n    title: {\n      show: true,\n      // x, y，单位px\n      offsetCenter: [0, '20%'],\n      // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n      color: tokens.color.secondary,\n      fontSize: 16,\n      valueAnimation: false\n    },\n    detail: {\n      show: true,\n      backgroundColor: tokens.color.transparent,\n      borderWidth: 0,\n      borderColor: tokens.color.neutral40,\n      width: 100,\n      height: null,\n      padding: [5, 10],\n      // x, y，单位px\n      offsetCenter: [0, '40%'],\n      // formatter: null,\n      // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n      color: tokens.color.primary,\n      fontSize: 30,\n      fontWeight: 'bold',\n      lineHeight: 30,\n      valueAnimation: false\n    }\n  };\n  return GaugeSeriesModel;\n}(SeriesModel);\nexport default GaugeSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport GaugeView from './GaugeView.js';\nimport GaugeSeriesModel from './GaugeSeries.js';\nexport function install(registers) {\n  registers.registerChartView(GaugeView);\n  registers.registerSeriesModel(GaugeSeriesModel);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport ChartView from '../../view/Chart.js';\nimport { setLabelLineStyle, getLabelLineStatesModels } from '../../label/labelGuideHelper.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nvar opacityAccessPath = ['itemStyle', 'opacity'];\n/**\n * Piece of pie including Sector, Label, LabelLine\n */\nvar FunnelPiece = /** @class */function (_super) {\n  __extends(FunnelPiece, _super);\n  function FunnelPiece(data, idx) {\n    var _this = _super.call(this) || this;\n    var polygon = _this;\n    var labelLine = new graphic.Polyline();\n    var text = new graphic.Text();\n    polygon.setTextContent(text);\n    _this.setTextGuideLine(labelLine);\n    _this.updateData(data, idx, true);\n    return _this;\n  }\n  FunnelPiece.prototype.updateData = function (data, idx, firstCreate) {\n    var polygon = this;\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var emphasisModel = itemModel.getModel('emphasis');\n    var opacity = itemModel.get(opacityAccessPath);\n    opacity = opacity == null ? 1 : opacity;\n    if (!firstCreate) {\n      saveOldStyle(polygon);\n    }\n    // Update common style\n    polygon.useStyle(data.getItemVisual(idx, 'style'));\n    polygon.style.lineJoin = 'round';\n    if (firstCreate) {\n      polygon.setShape({\n        points: layout.points\n      });\n      polygon.style.opacity = 0;\n      graphic.initProps(polygon, {\n        style: {\n          opacity: opacity\n        }\n      }, seriesModel, idx);\n    } else {\n      graphic.updateProps(polygon, {\n        style: {\n          opacity: opacity\n        },\n        shape: {\n          points: layout.points\n        }\n      }, seriesModel, idx);\n    }\n    setStatesStylesFromModel(polygon, itemModel);\n    this._updateLabel(data, idx);\n    toggleHoverEmphasis(this, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n  };\n  FunnelPiece.prototype._updateLabel = function (data, idx) {\n    var polygon = this;\n    var labelLine = this.getTextGuideLine();\n    var labelText = polygon.getTextContent();\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var labelLayout = layout.label;\n    var style = data.getItemVisual(idx, 'style');\n    var visualColor = style.fill;\n    setLabelStyle(\n    // position will not be used in setLabelStyle\n    labelText, getLabelStatesModels(itemModel), {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      defaultOpacity: style.opacity,\n      defaultText: data.getName(idx)\n    }, {\n      normal: {\n        align: labelLayout.textAlign,\n        verticalAlign: labelLayout.verticalAlign\n      }\n    });\n    var labelModel = itemModel.getModel('label');\n    var labelColor = labelModel.get('color');\n    var overrideColor = labelColor === 'inherit' ? visualColor : null;\n    polygon.setTextConfig({\n      local: true,\n      inside: !!labelLayout.inside,\n      insideStroke: overrideColor,\n      outsideFill: overrideColor\n    });\n    var linePoints = labelLayout.linePoints;\n    labelLine.setShape({\n      points: linePoints\n    });\n    polygon.textGuideLineConfig = {\n      anchor: linePoints ? new graphic.Point(linePoints[0][0], linePoints[0][1]) : null\n    };\n    // Make sure update style on labelText after setLabelStyle.\n    // Because setLabelStyle will replace a new style on it.\n    graphic.updateProps(labelText, {\n      style: {\n        x: labelLayout.x,\n        y: labelLayout.y\n      }\n    }, seriesModel, idx);\n    labelText.attr({\n      rotation: labelLayout.rotation,\n      originX: labelLayout.x,\n      originY: labelLayout.y,\n      z2: 10\n    });\n    setLabelLineStyle(polygon, getLabelLineStatesModels(itemModel), {\n      // Default use item visual color\n      stroke: visualColor\n    });\n  };\n  return FunnelPiece;\n}(graphic.Polygon);\nvar FunnelView = /** @class */function (_super) {\n  __extends(FunnelView, _super);\n  function FunnelView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = FunnelView.type;\n    _this.ignoreLabelLineUpdate = true;\n    return _this;\n  }\n  FunnelView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    data.diff(oldData).add(function (idx) {\n      var funnelPiece = new FunnelPiece(data, idx);\n      data.setItemGraphicEl(idx, funnelPiece);\n      group.add(funnelPiece);\n    }).update(function (newIdx, oldIdx) {\n      var piece = oldData.getItemGraphicEl(oldIdx);\n      piece.updateData(data, newIdx);\n      group.add(piece);\n      data.setItemGraphicEl(newIdx, piece);\n    }).remove(function (idx) {\n      var piece = oldData.getItemGraphicEl(idx);\n      graphic.removeElementWithFadeOut(piece, seriesModel, idx);\n    }).execute();\n    this._data = data;\n  };\n  FunnelView.prototype.remove = function () {\n    this.group.removeAll();\n    this._data = null;\n  };\n  FunnelView.prototype.dispose = function () {};\n  FunnelView.type = 'funnel';\n  return FunnelView;\n}(ChartView);\nexport default FunnelView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport createSeriesDataSimply from '../helper/createSeriesDataSimply.js';\nimport { defaultEmphasis } from '../../util/model.js';\nimport { makeSeriesEncodeForNameBased } from '../../data/helper/sourceHelper.js';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider.js';\nimport SeriesModel from '../../model/Series.js';\nimport tokens from '../../visual/tokens.js';\nvar FunnelSeriesModel = /** @class */function (_super) {\n  __extends(FunnelSeriesModel, _super);\n  function FunnelSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = FunnelSeriesModel.type;\n    return _this;\n  }\n  FunnelSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments);\n    // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n    // Extend labelLine emphasis\n    this._defaultLabelLine(option);\n  };\n  FunnelSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesDataSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n  };\n  FunnelSeriesModel.prototype._defaultLabelLine = function (option) {\n    // Extend labelLine emphasis\n    defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine;\n    // Not show label line if `label.normal.show = false`\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  };\n  // Overwrite\n  FunnelSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var data = this.getData();\n    var params = _super.prototype.getDataParams.call(this, dataIndex);\n    var valueDim = data.mapDimension('value');\n    var sum = data.getSum(valueDim);\n    // Percent is 0 if sum is 0\n    params.percent = !sum ? 0 : +(data.get(valueDim, dataIndex) / sum * 100).toFixed(2);\n    params.$vars.push('percent');\n    return params;\n  };\n  FunnelSeriesModel.type = 'series.funnel';\n  FunnelSeriesModel.defaultOption = {\n    coordinateSystemUsage: 'box',\n    // zlevel: 0,                  // 一级层叠\n    z: 2,\n    legendHoverLink: true,\n    colorBy: 'data',\n    left: 80,\n    top: 60,\n    right: 80,\n    bottom: 65,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    // 默认取数据最小最大值\n    // min: 0,\n    // max: 100,\n    minSize: '0%',\n    maxSize: '100%',\n    sort: 'descending',\n    orient: 'vertical',\n    gap: 0,\n    funnelAlign: 'center',\n    label: {\n      show: true,\n      position: 'outer'\n      // formatter: 标签文本格式器，同Tooltip.formatter，不支持异步回调\n    },\n    labelLine: {\n      show: true,\n      length: 20,\n      lineStyle: {\n        // color: 各异,\n        width: 1\n      }\n    },\n    itemStyle: {\n      // color: 各异,\n      borderColor: tokens.color.neutral00,\n      borderWidth: 1\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    },\n    select: {\n      itemStyle: {\n        borderColor: tokens.color.primary\n      }\n    }\n  };\n  return FunnelSeriesModel;\n}(SeriesModel);\nexport default FunnelSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as layout from '../../util/layout.js';\nimport { parsePercent, linearMap } from '../../util/number.js';\nimport { isFunction } from 'zrender/lib/core/util.js';\nfunction getSortedIndices(data, sort) {\n  var valueDim = data.mapDimension('value');\n  var valueArr = data.mapArray(valueDim, function (val) {\n    return val;\n  });\n  var indices = [];\n  var isAscending = sort === 'ascending';\n  for (var i = 0, len = data.count(); i < len; i++) {\n    indices[i] = i;\n  }\n  // Add custom sortable function & none sortable opetion by \"options.sort\"\n  if (isFunction(sort)) {\n    indices.sort(sort);\n  } else if (sort !== 'none') {\n    indices.sort(function (a, b) {\n      return isAscending ? valueArr[a] - valueArr[b] : valueArr[b] - valueArr[a];\n    });\n  }\n  return indices;\n}\nfunction labelLayout(data) {\n  var seriesModel = data.hostModel;\n  var orient = seriesModel.get('orient');\n  data.each(function (idx) {\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label');\n    var labelPosition = labelModel.get('position');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var layout = data.getItemLayout(idx);\n    var points = layout.points;\n    var isLabelInside = labelPosition === 'inner' || labelPosition === 'inside' || labelPosition === 'center' || labelPosition === 'insideLeft' || labelPosition === 'insideRight';\n    var textAlign;\n    var textX;\n    var textY;\n    var linePoints;\n    if (isLabelInside) {\n      if (labelPosition === 'insideLeft') {\n        textX = (points[0][0] + points[3][0]) / 2 + 5;\n        textY = (points[0][1] + points[3][1]) / 2;\n        textAlign = 'left';\n      } else if (labelPosition === 'insideRight') {\n        textX = (points[1][0] + points[2][0]) / 2 - 5;\n        textY = (points[1][1] + points[2][1]) / 2;\n        textAlign = 'right';\n      } else {\n        textX = (points[0][0] + points[1][0] + points[2][0] + points[3][0]) / 4;\n        textY = (points[0][1] + points[1][1] + points[2][1] + points[3][1]) / 4;\n        textAlign = 'center';\n      }\n      linePoints = [[textX, textY], [textX, textY]];\n    } else {\n      var x1 = void 0;\n      var y1 = void 0;\n      var x2 = void 0;\n      var y2 = void 0;\n      var labelLineLen = labelLineModel.get('length');\n      if (process.env.NODE_ENV !== 'production') {\n        if (orient === 'vertical' && ['top', 'bottom'].indexOf(labelPosition) > -1) {\n          labelPosition = 'left';\n          console.warn('Position error: Funnel chart on vertical orient dose not support top and bottom.');\n        }\n        if (orient === 'horizontal' && ['left', 'right'].indexOf(labelPosition) > -1) {\n          labelPosition = 'bottom';\n          console.warn('Position error: Funnel chart on horizontal orient dose not support left and right.');\n        }\n      }\n      if (labelPosition === 'left') {\n        // Left side\n        x1 = (points[3][0] + points[0][0]) / 2;\n        y1 = (points[3][1] + points[0][1]) / 2;\n        x2 = x1 - labelLineLen;\n        textX = x2 - 5;\n        textAlign = 'right';\n      } else if (labelPosition === 'right') {\n        // Right side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'left';\n      } else if (labelPosition === 'top') {\n        // Top side\n        x1 = (points[3][0] + points[0][0]) / 2;\n        y1 = (points[3][1] + points[0][1]) / 2;\n        y2 = y1 - labelLineLen;\n        textY = y2 - 5;\n        textAlign = 'center';\n      } else if (labelPosition === 'bottom') {\n        // Bottom side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        y2 = y1 + labelLineLen;\n        textY = y2 + 5;\n        textAlign = 'center';\n      } else if (labelPosition === 'rightTop') {\n        // RightTop side\n        x1 = orient === 'horizontal' ? points[3][0] : points[1][0];\n        y1 = orient === 'horizontal' ? points[3][1] : points[1][1];\n        if (orient === 'horizontal') {\n          y2 = y1 - labelLineLen;\n          textY = y2 - 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'top';\n        }\n      } else if (labelPosition === 'rightBottom') {\n        // RightBottom side\n        x1 = points[2][0];\n        y1 = points[2][1];\n        if (orient === 'horizontal') {\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'bottom';\n        }\n      } else if (labelPosition === 'leftTop') {\n        // LeftTop side\n        x1 = points[0][0];\n        y1 = orient === 'horizontal' ? points[0][1] : points[1][1];\n        if (orient === 'horizontal') {\n          y2 = y1 - labelLineLen;\n          textY = y2 - 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 - labelLineLen;\n          textX = x2 - 5;\n          textAlign = 'right';\n        }\n      } else if (labelPosition === 'leftBottom') {\n        // LeftBottom side\n        x1 = orient === 'horizontal' ? points[1][0] : points[3][0];\n        y1 = orient === 'horizontal' ? points[1][1] : points[2][1];\n        if (orient === 'horizontal') {\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 - labelLineLen;\n          textX = x2 - 5;\n          textAlign = 'right';\n        }\n      } else {\n        // Right side or Bottom side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        if (orient === 'horizontal') {\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'left';\n        }\n      }\n      if (orient === 'horizontal') {\n        x2 = x1;\n        textX = x2;\n      } else {\n        y2 = y1;\n        textY = y2;\n      }\n      linePoints = [[x1, y1], [x2, y2]];\n    }\n    layout.label = {\n      linePoints: linePoints,\n      x: textX,\n      y: textY,\n      verticalAlign: 'middle',\n      textAlign: textAlign,\n      inside: isLabelInside\n    };\n  });\n}\nexport default function funnelLayout(ecModel, api) {\n  ecModel.eachSeriesByType('funnel', function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var sort = seriesModel.get('sort');\n    var layoutRef = layout.createBoxLayoutReference(seriesModel, api);\n    var viewRect = layout.getLayoutRect(seriesModel.getBoxLayoutParams(), layoutRef.refContainer);\n    var orient = seriesModel.get('orient');\n    var viewWidth = viewRect.width;\n    var viewHeight = viewRect.height;\n    var indices = getSortedIndices(data, sort);\n    var x = viewRect.x;\n    var y = viewRect.y;\n    var sizeExtent = orient === 'horizontal' ? [parsePercent(seriesModel.get('minSize'), viewHeight), parsePercent(seriesModel.get('maxSize'), viewHeight)] : [parsePercent(seriesModel.get('minSize'), viewWidth), parsePercent(seriesModel.get('maxSize'), viewWidth)];\n    var dataExtent = data.getDataExtent(valueDim);\n    var min = seriesModel.get('min');\n    var max = seriesModel.get('max');\n    if (min == null) {\n      min = Math.min(dataExtent[0], 0);\n    }\n    if (max == null) {\n      max = dataExtent[1];\n    }\n    var funnelAlign = seriesModel.get('funnelAlign');\n    var gap = seriesModel.get('gap');\n    var viewSize = orient === 'horizontal' ? viewWidth : viewHeight;\n    var itemSize = (viewSize - gap * (data.count() - 1)) / data.count();\n    var getLinePoints = function (idx, offset) {\n      // End point index is data.count() and we assign it 0\n      if (orient === 'horizontal') {\n        var val_1 = data.get(valueDim, idx) || 0;\n        var itemHeight = linearMap(val_1, [min, max], sizeExtent, true);\n        var y0 = void 0;\n        switch (funnelAlign) {\n          case 'top':\n            y0 = y;\n            break;\n          case 'center':\n            y0 = y + (viewHeight - itemHeight) / 2;\n            break;\n          case 'bottom':\n            y0 = y + (viewHeight - itemHeight);\n            break;\n        }\n        return [[offset, y0], [offset, y0 + itemHeight]];\n      }\n      var val = data.get(valueDim, idx) || 0;\n      var itemWidth = linearMap(val, [min, max], sizeExtent, true);\n      var x0;\n      switch (funnelAlign) {\n        case 'left':\n          x0 = x;\n          break;\n        case 'center':\n          x0 = x + (viewWidth - itemWidth) / 2;\n          break;\n        case 'right':\n          x0 = x + viewWidth - itemWidth;\n          break;\n      }\n      return [[x0, offset], [x0 + itemWidth, offset]];\n    };\n    if (sort === 'ascending') {\n      // From bottom to top\n      itemSize = -itemSize;\n      gap = -gap;\n      if (orient === 'horizontal') {\n        x += viewWidth;\n      } else {\n        y += viewHeight;\n      }\n      indices = indices.reverse();\n    }\n    for (var i = 0; i < indices.length; i++) {\n      var idx = indices[i];\n      var nextIdx = indices[i + 1];\n      var itemModel = data.getItemModel(idx);\n      if (orient === 'horizontal') {\n        var width = itemModel.get(['itemStyle', 'width']);\n        if (width == null) {\n          width = itemSize;\n        } else {\n          width = parsePercent(width, viewWidth);\n          if (sort === 'ascending') {\n            width = -width;\n          }\n        }\n        var start = getLinePoints(idx, x);\n        var end = getLinePoints(nextIdx, x + width);\n        x += width + gap;\n        data.setItemLayout(idx, {\n          points: start.concat(end.slice().reverse())\n        });\n      } else {\n        var height = itemModel.get(['itemStyle', 'height']);\n        if (height == null) {\n          height = itemSize;\n        } else {\n          height = parsePercent(height, viewHeight);\n          if (sort === 'ascending') {\n            height = -height;\n          }\n        }\n        var start = getLinePoints(idx, y);\n        var end = getLinePoints(nextIdx, y + height);\n        y += height + gap;\n        data.setItemLayout(idx, {\n          points: start.concat(end.slice().reverse())\n        });\n      }\n    }\n    labelLayout(data);\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport FunnelView from './FunnelView.js';\nimport FunnelSeriesModel from './FunnelSeries.js';\nimport funnelLayout from './funnelLayout.js';\nimport dataFilter from '../../processor/dataFilter.js';\nexport function install(registers) {\n  registers.registerChartView(FunnelView);\n  registers.registerSeriesModel(FunnelSeriesModel);\n  registers.registerLayout(funnelLayout);\n  registers.registerProcessor(dataFilter('funnel'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport ChartView from '../../view/Chart.js';\nimport { numericToNumber } from '../../util/number.js';\nimport { eqNaN } from 'zrender/lib/core/util.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nvar DEFAULT_SMOOTH = 0.3;\nvar ParallelView = /** @class */function (_super) {\n  __extends(ParallelView, _super);\n  function ParallelView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ParallelView.type;\n    _this._dataGroup = new graphic.Group();\n    _this._initialized = false;\n    return _this;\n  }\n  ParallelView.prototype.init = function () {\n    this.group.add(this._dataGroup);\n  };\n  /**\n   * @override\n   */\n  ParallelView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    // Clear previously rendered progressive elements.\n    this._progressiveEls = null;\n    var dataGroup = this._dataGroup;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coordSys = seriesModel.coordinateSystem;\n    var dimensions = coordSys.dimensions;\n    var seriesScope = makeSeriesScope(seriesModel);\n    data.diff(oldData).add(add).update(update).remove(remove).execute();\n    function add(newDataIndex) {\n      var line = addEl(data, dataGroup, newDataIndex, dimensions, coordSys);\n      updateElCommon(line, data, newDataIndex, seriesScope);\n    }\n    function update(newDataIndex, oldDataIndex) {\n      var line = oldData.getItemGraphicEl(oldDataIndex);\n      var points = createLinePoints(data, newDataIndex, dimensions, coordSys);\n      data.setItemGraphicEl(newDataIndex, line);\n      graphic.updateProps(line, {\n        shape: {\n          points: points\n        }\n      }, seriesModel, newDataIndex);\n      saveOldStyle(line);\n      updateElCommon(line, data, newDataIndex, seriesScope);\n    }\n    function remove(oldDataIndex) {\n      var line = oldData.getItemGraphicEl(oldDataIndex);\n      dataGroup.remove(line);\n    }\n    // First create\n    if (!this._initialized) {\n      this._initialized = true;\n      var clipPath = createGridClipShape(coordSys, seriesModel, function () {\n        // Callback will be invoked immediately if there is no animation\n        setTimeout(function () {\n          dataGroup.removeClipPath();\n        });\n      });\n      dataGroup.setClipPath(clipPath);\n    }\n    this._data = data;\n  };\n  ParallelView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    this._initialized = true;\n    this._data = null;\n    this._dataGroup.removeAll();\n  };\n  ParallelView.prototype.incrementalRender = function (taskParams, seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var coordSys = seriesModel.coordinateSystem;\n    var dimensions = coordSys.dimensions;\n    var seriesScope = makeSeriesScope(seriesModel);\n    var progressiveEls = this._progressiveEls = [];\n    for (var dataIndex = taskParams.start; dataIndex < taskParams.end; dataIndex++) {\n      var line = addEl(data, this._dataGroup, dataIndex, dimensions, coordSys);\n      line.incremental = true;\n      updateElCommon(line, data, dataIndex, seriesScope);\n      progressiveEls.push(line);\n    }\n  };\n  ParallelView.prototype.remove = function () {\n    this._dataGroup && this._dataGroup.removeAll();\n    this._data = null;\n  };\n  ParallelView.type = 'parallel';\n  return ParallelView;\n}(ChartView);\nfunction createGridClipShape(coordSys, seriesModel, cb) {\n  var parallelModel = coordSys.model;\n  var rect = coordSys.getRect();\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    }\n  });\n  var dim = parallelModel.get('layout') === 'horizontal' ? 'width' : 'height';\n  rectEl.setShape(dim, 0);\n  graphic.initProps(rectEl, {\n    shape: {\n      width: rect.width,\n      height: rect.height\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\nfunction createLinePoints(data, dataIndex, dimensions, coordSys) {\n  var points = [];\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimName = dimensions[i];\n    var value = data.get(data.mapDimension(dimName), dataIndex);\n    if (!isEmptyValue(value, coordSys.getAxis(dimName).type)) {\n      points.push(coordSys.dataToPoint(value, dimName));\n    }\n  }\n  return points;\n}\nfunction addEl(data, dataGroup, dataIndex, dimensions, coordSys) {\n  var points = createLinePoints(data, dataIndex, dimensions, coordSys);\n  var line = new graphic.Polyline({\n    shape: {\n      points: points\n    },\n    // silent: true,\n    z2: 10\n  });\n  dataGroup.add(line);\n  data.setItemGraphicEl(dataIndex, line);\n  return line;\n}\nfunction makeSeriesScope(seriesModel) {\n  var smooth = seriesModel.get('smooth', true);\n  smooth === true && (smooth = DEFAULT_SMOOTH);\n  smooth = numericToNumber(smooth);\n  eqNaN(smooth) && (smooth = 0);\n  return {\n    smooth: smooth\n  };\n}\nfunction updateElCommon(el, data, dataIndex, seriesScope) {\n  el.useStyle(data.getItemVisual(dataIndex, 'style'));\n  el.style.fill = null;\n  el.setShape('smooth', seriesScope.smooth);\n  var itemModel = data.getItemModel(dataIndex);\n  var emphasisModel = itemModel.getModel('emphasis');\n  setStatesStylesFromModel(el, itemModel, 'lineStyle');\n  toggleHoverEmphasis(el, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n}\n// function simpleDiff(oldData, newData, dimensions) {\n//     let oldLen;\n//     if (!oldData\n//         || !oldData.__plProgressive\n//         || (oldLen = oldData.count()) !== newData.count()\n//     ) {\n//         return true;\n//     }\n//     let dimLen = dimensions.length;\n//     for (let i = 0; i < oldLen; i++) {\n//         for (let j = 0; j < dimLen; j++) {\n//             if (oldData.get(dimensions[j], i) !== newData.get(dimensions[j], i)) {\n//                 return true;\n//             }\n//         }\n//     }\n//     return false;\n// }\n// FIXME put in common util?\nfunction isEmptyValue(val, axisType) {\n  return axisType === 'category' ? val == null : val == null || isNaN(val); // axisType === 'value'\n}\nexport default ParallelView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { each, bind } from 'zrender/lib/core/util.js';\nimport SeriesModel from '../../model/Series.js';\nimport createSeriesData from '../helper/createSeriesData.js';\nvar ParallelSeriesModel = /** @class */function (_super) {\n  __extends(ParallelSeriesModel, _super);\n  function ParallelSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ParallelSeriesModel.type;\n    _this.visualStyleAccessPath = 'lineStyle';\n    _this.visualDrawType = 'stroke';\n    return _this;\n  }\n  ParallelSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this, {\n      useEncodeDefaulter: bind(makeDefaultEncode, null, this)\n    });\n  };\n  /**\n   * User can get data raw indices on 'axisAreaSelected' event received.\n   *\n   * @return Raw indices\n   */\n  ParallelSeriesModel.prototype.getRawIndicesByActiveState = function (activeState) {\n    var coordSys = this.coordinateSystem;\n    var data = this.getData();\n    var indices = [];\n    coordSys.eachActiveState(data, function (theActiveState, dataIndex) {\n      if (activeState === theActiveState) {\n        indices.push(data.getRawIndex(dataIndex));\n      }\n    });\n    return indices;\n  };\n  ParallelSeriesModel.type = 'series.parallel';\n  ParallelSeriesModel.dependencies = ['parallel'];\n  ParallelSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'parallel',\n    parallelIndex: 0,\n    label: {\n      show: false\n    },\n    inactiveOpacity: 0.05,\n    activeOpacity: 1,\n    lineStyle: {\n      width: 1,\n      opacity: 0.45,\n      type: 'solid'\n    },\n    emphasis: {\n      label: {\n        show: false\n      }\n    },\n    progressive: 500,\n    smooth: false,\n    animationEasing: 'linear'\n  };\n  return ParallelSeriesModel;\n}(SeriesModel);\nfunction makeDefaultEncode(seriesModel) {\n  // The mapping of parallelAxis dimension to data dimension can\n  // be specified in parallelAxis.option.dim. For example, if\n  // parallelAxis.option.dim is 'dim3', it mapping to the third\n  // dimension of data. But `data.encode` has higher priority.\n  // Moreover, parallelModel.dimension should not be regarded as data\n  // dimensions. Consider dimensions = ['dim4', 'dim2', 'dim6'];\n  var parallelModel = seriesModel.ecModel.getComponent('parallel', seriesModel.get('parallelIndex'));\n  if (!parallelModel) {\n    return;\n  }\n  var encodeDefine = {};\n  each(parallelModel.dimensions, function (axisDim) {\n    var dataDimIndex = convertDimNameToNumber(axisDim);\n    encodeDefine[axisDim] = dataDimIndex;\n  });\n  return encodeDefine;\n}\nfunction convertDimNameToNumber(dimName) {\n  return +dimName.replace('dim', '');\n}\nexport default ParallelSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar opacityAccessPath = ['lineStyle', 'opacity'];\nvar parallelVisual = {\n  seriesType: 'parallel',\n  reset: function (seriesModel, ecModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var opacityMap = {\n      normal: seriesModel.get(['lineStyle', 'opacity']),\n      active: seriesModel.get('activeOpacity'),\n      inactive: seriesModel.get('inactiveOpacity')\n    };\n    return {\n      progress: function (params, data) {\n        coordSys.eachActiveState(data, function (activeState, dataIndex) {\n          var opacity = opacityMap[activeState];\n          if (activeState === 'normal' && data.hasItemOption) {\n            var itemOpacity = data.getItemModel(dataIndex).get(opacityAccessPath, true);\n            itemOpacity != null && (opacity = itemOpacity);\n          }\n          var existsStyle = data.ensureUniqueItemVisual(dataIndex, 'style');\n          existsStyle.opacity = opacity;\n        }, params.start, params.end);\n      }\n    };\n  }\n};\nexport default parallelVisual;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport ParallelView from './ParallelView.js';\nimport ParallelSeriesModel from './ParallelSeries.js';\nimport parallelVisual from './parallelVisual.js';\nimport { install as installParallelComponent } from '../../component/parallel/install.js';\nexport function install(registers) {\n  use(installParallelComponent);\n  registers.registerChartView(ParallelView);\n  registers.registerSeriesModel(ParallelSeriesModel);\n  registers.registerVisual(registers.PRIORITY.VISUAL.BRUSH, parallelVisual);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic.js';\nimport { enterEmphasis, leaveEmphasis, toggleHoverEmphasis, setStatesStylesFromModel } from '../../util/states.js';\nimport ChartView from '../../view/Chart.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { isString, retrieve3 } from 'zrender/lib/core/util.js';\nimport RoamController from '../../component/helper/RoamController.js';\nimport * as roamHelper from '../../component/helper/roamHelper.js';\nimport View from '../../coord/View.js';\nvar SankeyPathShape = /** @class */function () {\n  function SankeyPathShape() {\n    this.x1 = 0;\n    this.y1 = 0;\n    this.x2 = 0;\n    this.y2 = 0;\n    this.cpx1 = 0;\n    this.cpy1 = 0;\n    this.cpx2 = 0;\n    this.cpy2 = 0;\n    this.extent = 0;\n  }\n  return SankeyPathShape;\n}();\nvar SankeyPath = /** @class */function (_super) {\n  __extends(SankeyPath, _super);\n  function SankeyPath(opts) {\n    return _super.call(this, opts) || this;\n  }\n  SankeyPath.prototype.getDefaultShape = function () {\n    return new SankeyPathShape();\n  };\n  SankeyPath.prototype.buildPath = function (ctx, shape) {\n    var extent = shape.extent;\n    ctx.moveTo(shape.x1, shape.y1);\n    ctx.bezierCurveTo(shape.cpx1, shape.cpy1, shape.cpx2, shape.cpy2, shape.x2, shape.y2);\n    if (shape.orient === 'vertical') {\n      ctx.lineTo(shape.x2 + extent, shape.y2);\n      ctx.bezierCurveTo(shape.cpx2 + extent, shape.cpy2, shape.cpx1 + extent, shape.cpy1, shape.x1 + extent, shape.y1);\n    } else {\n      ctx.lineTo(shape.x2, shape.y2 + extent);\n      ctx.bezierCurveTo(shape.cpx2, shape.cpy2 + extent, shape.cpx1, shape.cpy1 + extent, shape.x1, shape.y1 + extent);\n    }\n    ctx.closePath();\n  };\n  SankeyPath.prototype.highlight = function () {\n    enterEmphasis(this);\n  };\n  SankeyPath.prototype.downplay = function () {\n    leaveEmphasis(this);\n  };\n  return SankeyPath;\n}(graphic.Path);\nvar SankeyView = /** @class */function (_super) {\n  __extends(SankeyView, _super);\n  function SankeyView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SankeyView.type;\n    _this._mainGroup = new graphic.Group();\n    _this._focusAdjacencyDisabled = false;\n    return _this;\n  }\n  SankeyView.prototype.init = function (ecModel, api) {\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: this.group\n    };\n    this.group.add(this._mainGroup);\n  };\n  SankeyView.prototype.render = function (seriesModel, ecModel, api) {\n    var sankeyView = this;\n    var graph = seriesModel.getGraph();\n    var mainGroup = this._mainGroup;\n    var layoutInfo = seriesModel.layoutInfo;\n    // view width\n    var width = layoutInfo.width;\n    // view height\n    var height = layoutInfo.height;\n    var nodeData = seriesModel.getData();\n    var edgeData = seriesModel.getData('edge');\n    var orient = seriesModel.get('orient');\n    this._model = seriesModel;\n    mainGroup.removeAll();\n    mainGroup.x = layoutInfo.x;\n    mainGroup.y = layoutInfo.y;\n    this._updateViewCoordSys(seriesModel, api);\n    roamHelper.updateController(seriesModel, api, mainGroup, this._controller, this._controllerHost, null);\n    // generate a bezire Curve for each edge\n    graph.eachEdge(function (edge) {\n      var curve = new SankeyPath();\n      var ecData = getECData(curve);\n      ecData.dataIndex = edge.dataIndex;\n      ecData.seriesIndex = seriesModel.seriesIndex;\n      ecData.dataType = 'edge';\n      var edgeModel = edge.getModel();\n      var lineStyleModel = edgeModel.getModel('lineStyle');\n      var curvature = lineStyleModel.get('curveness');\n      var n1Layout = edge.node1.getLayout();\n      var node1Model = edge.node1.getModel();\n      var dragX1 = node1Model.get('localX');\n      var dragY1 = node1Model.get('localY');\n      var n2Layout = edge.node2.getLayout();\n      var node2Model = edge.node2.getModel();\n      var dragX2 = node2Model.get('localX');\n      var dragY2 = node2Model.get('localY');\n      var edgeLayout = edge.getLayout();\n      var x1;\n      var y1;\n      var x2;\n      var y2;\n      var cpx1;\n      var cpy1;\n      var cpx2;\n      var cpy2;\n      curve.shape.extent = Math.max(1, edgeLayout.dy);\n      curve.shape.orient = orient;\n      if (orient === 'vertical') {\n        x1 = (dragX1 != null ? dragX1 * width : n1Layout.x) + edgeLayout.sy;\n        y1 = (dragY1 != null ? dragY1 * height : n1Layout.y) + n1Layout.dy;\n        x2 = (dragX2 != null ? dragX2 * width : n2Layout.x) + edgeLayout.ty;\n        y2 = dragY2 != null ? dragY2 * height : n2Layout.y;\n        cpx1 = x1;\n        cpy1 = y1 * (1 - curvature) + y2 * curvature;\n        cpx2 = x2;\n        cpy2 = y1 * curvature + y2 * (1 - curvature);\n      } else {\n        x1 = (dragX1 != null ? dragX1 * width : n1Layout.x) + n1Layout.dx;\n        y1 = (dragY1 != null ? dragY1 * height : n1Layout.y) + edgeLayout.sy;\n        x2 = dragX2 != null ? dragX2 * width : n2Layout.x;\n        y2 = (dragY2 != null ? dragY2 * height : n2Layout.y) + edgeLayout.ty;\n        cpx1 = x1 * (1 - curvature) + x2 * curvature;\n        cpy1 = y1;\n        cpx2 = x1 * curvature + x2 * (1 - curvature);\n        cpy2 = y2;\n      }\n      curve.setShape({\n        x1: x1,\n        y1: y1,\n        x2: x2,\n        y2: y2,\n        cpx1: cpx1,\n        cpy1: cpy1,\n        cpx2: cpx2,\n        cpy2: cpy2\n      });\n      curve.useStyle(lineStyleModel.getItemStyle());\n      // Special color, use source node color or target node color\n      applyCurveStyle(curve.style, orient, edge);\n      var defaultEdgeLabelText = \"\" + edgeModel.get('value');\n      var edgeLabelStateModels = getLabelStatesModels(edgeModel, 'edgeLabel');\n      setLabelStyle(curve, edgeLabelStateModels, {\n        labelFetcher: {\n          getFormattedLabel: function (dataIndex, stateName, dataType, labelDimIndex, formatter, extendParams) {\n            return seriesModel.getFormattedLabel(dataIndex, stateName, 'edge', labelDimIndex,\n            // ensure edgeLabel formatter is provided\n            // to prevent the inheritance from `label.formatter` of the series\n            retrieve3(formatter, edgeLabelStateModels.normal && edgeLabelStateModels.normal.get('formatter'), defaultEdgeLabelText), extendParams);\n          }\n        },\n        labelDataIndex: edge.dataIndex,\n        defaultText: defaultEdgeLabelText\n      });\n      curve.setTextConfig({\n        position: 'inside'\n      });\n      var emphasisModel = edgeModel.getModel('emphasis');\n      setStatesStylesFromModel(curve, edgeModel, 'lineStyle', function (model) {\n        var style = model.getItemStyle();\n        applyCurveStyle(style, orient, edge);\n        return style;\n      });\n      mainGroup.add(curve);\n      edgeData.setItemGraphicEl(edge.dataIndex, curve);\n      var focus = emphasisModel.get('focus');\n      toggleHoverEmphasis(curve, focus === 'adjacency' ? edge.getAdjacentDataIndices() : focus === 'trajectory' ? edge.getTrajectoryDataIndices() : focus, emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n    });\n    // Generate a rect for each node\n    graph.eachNode(function (node) {\n      var layout = node.getLayout();\n      var itemModel = node.getModel();\n      var dragX = itemModel.get('localX');\n      var dragY = itemModel.get('localY');\n      var emphasisModel = itemModel.getModel('emphasis');\n      var borderRadius = itemModel.get(['itemStyle', 'borderRadius']) || 0;\n      var rect = new graphic.Rect({\n        shape: {\n          x: dragX != null ? dragX * width : layout.x,\n          y: dragY != null ? dragY * height : layout.y,\n          width: layout.dx,\n          height: layout.dy,\n          r: borderRadius\n        },\n        style: itemModel.getModel('itemStyle').getItemStyle(),\n        z2: 10\n      });\n      setLabelStyle(rect, getLabelStatesModels(itemModel), {\n        labelFetcher: {\n          getFormattedLabel: function (dataIndex, stateName) {\n            return seriesModel.getFormattedLabel(dataIndex, stateName, 'node');\n          }\n        },\n        labelDataIndex: node.dataIndex,\n        defaultText: node.id\n      });\n      rect.disableLabelAnimation = true;\n      rect.setStyle('fill', node.getVisual('color'));\n      rect.setStyle('decal', node.getVisual('style').decal);\n      setStatesStylesFromModel(rect, itemModel);\n      mainGroup.add(rect);\n      nodeData.setItemGraphicEl(node.dataIndex, rect);\n      getECData(rect).dataType = 'node';\n      var focus = emphasisModel.get('focus');\n      toggleHoverEmphasis(rect, focus === 'adjacency' ? node.getAdjacentDataIndices() : focus === 'trajectory' ? node.getTrajectoryDataIndices() : focus, emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n    });\n    nodeData.eachItemGraphicEl(function (el, dataIndex) {\n      var itemModel = nodeData.getItemModel(dataIndex);\n      if (itemModel.get('draggable')) {\n        el.drift = function (dx, dy) {\n          sankeyView._focusAdjacencyDisabled = true;\n          this.shape.x += dx;\n          this.shape.y += dy;\n          this.dirty();\n          api.dispatchAction({\n            type: 'dragNode',\n            seriesId: seriesModel.id,\n            dataIndex: nodeData.getRawIndex(dataIndex),\n            localX: this.shape.x / width,\n            localY: this.shape.y / height\n          });\n        };\n        el.ondragend = function () {\n          sankeyView._focusAdjacencyDisabled = false;\n        };\n        el.draggable = true;\n        el.cursor = 'move';\n      }\n    });\n    if (!this._data && seriesModel.isAnimationEnabled()) {\n      mainGroup.setClipPath(createGridClipShape(mainGroup.getBoundingRect(), seriesModel, function () {\n        mainGroup.removeClipPath();\n      }));\n    }\n    this._data = seriesModel.getData();\n  };\n  SankeyView.prototype.dispose = function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = null;\n  };\n  SankeyView.prototype._updateViewCoordSys = function (seriesModel, api) {\n    var layoutInfo = seriesModel.layoutInfo;\n    var width = layoutInfo.width;\n    var height = layoutInfo.height;\n    var viewCoordSys = seriesModel.coordinateSystem = new View(null, {\n      api: api,\n      ecModel: seriesModel.ecModel\n    });\n    viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n    viewCoordSys.setBoundingRect(0, 0, width, height);\n    viewCoordSys.setCenter(seriesModel.get('center'));\n    viewCoordSys.setZoom(seriesModel.get('zoom'));\n    this._controllerHost.target.attr({\n      x: viewCoordSys.x,\n      y: viewCoordSys.y,\n      scaleX: viewCoordSys.scaleX,\n      scaleY: viewCoordSys.scaleY\n    });\n  };\n  SankeyView.type = 'sankey';\n  return SankeyView;\n}(ChartView);\n/**\n * Special color, use source node color or target node color\n * @param curveProps curve's style to parse\n * @param orient direction\n * @param edge current curve data\n */\nfunction applyCurveStyle(curveProps, orient, edge) {\n  switch (curveProps.fill) {\n    case 'source':\n      curveProps.fill = edge.node1.getVisual('color');\n      curveProps.decal = edge.node1.getVisual('style').decal;\n      break;\n    case 'target':\n      curveProps.fill = edge.node2.getVisual('color');\n      curveProps.decal = edge.node2.getVisual('style').decal;\n      break;\n    case 'gradient':\n      var sourceColor = edge.node1.getVisual('color');\n      var targetColor = edge.node2.getVisual('color');\n      if (isString(sourceColor) && isString(targetColor)) {\n        curveProps.fill = new graphic.LinearGradient(0, 0, +(orient === 'horizontal'), +(orient === 'vertical'), [{\n          color: sourceColor,\n          offset: 0\n        }, {\n          color: targetColor,\n          offset: 1\n        }]);\n      }\n  }\n}\n// Add animation to the view\nfunction createGridClipShape(rect, seriesModel, cb) {\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x - 10,\n      y: rect.y - 10,\n      width: 0,\n      height: rect.height + 20\n    }\n  });\n  graphic.initProps(rectEl, {\n    shape: {\n      width: rect.width + 20\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\nexport default SankeyView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport createGraphFromNodeEdge from '../helper/createGraphFromNodeEdge.js';\nimport Model from '../../model/Model.js';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup.js';\nimport tokens from '../../visual/tokens.js';\nvar SankeySeriesModel = /** @class */function (_super) {\n  __extends(SankeySeriesModel, _super);\n  function SankeySeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SankeySeriesModel.type;\n    return _this;\n  }\n  /**\n   * Init a graph data structure from data in option series\n   */\n  SankeySeriesModel.prototype.getInitialData = function (option, ecModel) {\n    var links = option.edges || option.links || [];\n    var nodes = option.data || option.nodes || [];\n    var levels = option.levels || [];\n    this.levelModels = [];\n    var levelModels = this.levelModels;\n    for (var i = 0; i < levels.length; i++) {\n      if (levels[i].depth != null && levels[i].depth >= 0) {\n        levelModels[levels[i].depth] = new Model(levels[i], this, ecModel);\n      } else {\n        if (process.env.NODE_ENV !== 'production') {\n          throw new Error('levels[i].depth is mandatory and should be natural number');\n        }\n      }\n    }\n    var graph = createGraphFromNodeEdge(nodes, links, this, true, beforeLink);\n    return graph.data;\n    function beforeLink(nodeData, edgeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var seriesModel = model.parentModel;\n        var layout = seriesModel.getData().getItemLayout(idx);\n        if (layout) {\n          var nodeDepth = layout.depth;\n          var levelModel = seriesModel.levelModels[nodeDepth];\n          if (levelModel) {\n            model.parentModel = levelModel;\n          }\n        }\n        return model;\n      });\n      edgeData.wrapMethod('getItemModel', function (model, idx) {\n        var seriesModel = model.parentModel;\n        var edge = seriesModel.getGraph().getEdgeByIndex(idx);\n        var layout = edge.node1.getLayout();\n        if (layout) {\n          var depth = layout.depth;\n          var levelModel = seriesModel.levelModels[depth];\n          if (levelModel) {\n            model.parentModel = levelModel;\n          }\n        }\n        return model;\n      });\n    }\n  };\n  SankeySeriesModel.prototype.setNodePosition = function (dataIndex, localPosition) {\n    var nodes = this.option.data || this.option.nodes;\n    var dataItem = nodes[dataIndex];\n    dataItem.localX = localPosition[0];\n    dataItem.localY = localPosition[1];\n  };\n  SankeySeriesModel.prototype.setCenter = function (center) {\n    this.option.center = center;\n  };\n  SankeySeriesModel.prototype.setZoom = function (zoom) {\n    this.option.zoom = zoom;\n  };\n  /**\n   * Return the graphic data structure\n   *\n   * @return graphic data structure\n   */\n  SankeySeriesModel.prototype.getGraph = function () {\n    return this.getData().graph;\n  };\n  /**\n   * Get edge data of graphic data structure\n   *\n   * @return data structure of list\n   */\n  SankeySeriesModel.prototype.getEdgeData = function () {\n    return this.getGraph().edgeData;\n  };\n  SankeySeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    function noValue(val) {\n      return isNaN(val) || val == null;\n    }\n    // dataType === 'node' or empty do not show tooltip by default\n    if (dataType === 'edge') {\n      var params = this.getDataParams(dataIndex, dataType);\n      var rawDataOpt = params.data;\n      var edgeValue = params.value;\n      var edgeName = rawDataOpt.source + ' -- ' + rawDataOpt.target;\n      return createTooltipMarkup('nameValue', {\n        name: edgeName,\n        value: edgeValue,\n        noValue: noValue(edgeValue)\n      });\n    }\n    // dataType === 'node'\n    else {\n      var node = this.getGraph().getNodeByIndex(dataIndex);\n      var value = node.getLayout().value;\n      var name_1 = this.getDataParams(dataIndex, dataType).data.name;\n      return createTooltipMarkup('nameValue', {\n        name: name_1 != null ? name_1 + '' : null,\n        value: value,\n        noValue: noValue(value)\n      });\n    }\n  };\n  SankeySeriesModel.prototype.optionUpdated = function () {};\n  // Override Series.getDataParams()\n  SankeySeriesModel.prototype.getDataParams = function (dataIndex, dataType) {\n    var params = _super.prototype.getDataParams.call(this, dataIndex, dataType);\n    if (params.value == null && dataType === 'node') {\n      var node = this.getGraph().getNodeByIndex(dataIndex);\n      var nodeValue = node.getLayout().value;\n      params.value = nodeValue;\n    }\n    return params;\n  };\n  SankeySeriesModel.type = 'series.sankey';\n  SankeySeriesModel.layoutMode = 'box';\n  SankeySeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    // `coordinateSystem` can be declared as 'matrix', 'calendar',\n    //  which provides box layout container.\n    coordinateSystemUsage: 'box',\n    left: '5%',\n    top: '5%',\n    right: '20%',\n    bottom: '5%',\n    orient: 'horizontal',\n    nodeWidth: 20,\n    nodeGap: 8,\n    draggable: true,\n    layoutIterations: 32,\n    // true | false | 'move' | 'scale', see module:component/helper/RoamController.\n    roam: false,\n    roamTrigger: 'global',\n    center: null,\n    zoom: 1,\n    label: {\n      show: true,\n      position: 'right',\n      fontSize: 12\n    },\n    edgeLabel: {\n      show: false,\n      fontSize: 12\n    },\n    levels: [],\n    nodeAlign: 'justify',\n    lineStyle: {\n      color: tokens.color.neutral50,\n      opacity: 0.2,\n      curveness: 0.5\n    },\n    emphasis: {\n      label: {\n        show: true\n      },\n      lineStyle: {\n        opacity: 0.5\n      }\n    },\n    select: {\n      itemStyle: {\n        borderColor: tokens.color.primary\n      }\n    },\n    animationEasing: 'linear',\n    animationDuration: 1000\n  };\n  return SankeySeriesModel;\n}(SeriesModel);\nexport default SankeySeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { groupData } from '../../util/model.js';\nimport { createBoxLayoutReference, getLayoutRect } from '../../util/layout.js';\nexport default function sankeyLayout(ecModel, api) {\n  ecModel.eachSeriesByType('sankey', function (seriesModel) {\n    var nodeWidth = seriesModel.get('nodeWidth');\n    var nodeGap = seriesModel.get('nodeGap');\n    var refContainer = createBoxLayoutReference(seriesModel, api).refContainer;\n    var layoutInfo = getLayoutRect(seriesModel.getBoxLayoutParams(), refContainer);\n    seriesModel.layoutInfo = layoutInfo;\n    var width = layoutInfo.width;\n    var height = layoutInfo.height;\n    var graph = seriesModel.getGraph();\n    var nodes = graph.nodes;\n    var edges = graph.edges;\n    computeNodeValues(nodes);\n    var filteredNodes = zrUtil.filter(nodes, function (node) {\n      return node.getLayout().value === 0;\n    });\n    var iterations = filteredNodes.length !== 0 ? 0 : seriesModel.get('layoutIterations');\n    var orient = seriesModel.get('orient');\n    var nodeAlign = seriesModel.get('nodeAlign');\n    layoutSankey(nodes, edges, nodeWidth, nodeGap, width, height, iterations, orient, nodeAlign);\n  });\n}\nfunction layoutSankey(nodes, edges, nodeWidth, nodeGap, width, height, iterations, orient, nodeAlign) {\n  computeNodeBreadths(nodes, edges, nodeWidth, width, height, orient, nodeAlign);\n  computeNodeDepths(nodes, edges, height, width, nodeGap, iterations, orient);\n  computeEdgeDepths(nodes, orient);\n}\n/**\n * Compute the value of each node by summing the associated edge's value\n */\nfunction computeNodeValues(nodes) {\n  zrUtil.each(nodes, function (node) {\n    var value1 = sum(node.outEdges, getEdgeValue);\n    var value2 = sum(node.inEdges, getEdgeValue);\n    var nodeRawValue = node.getValue() || 0;\n    var value = Math.max(value1, value2, nodeRawValue);\n    node.setLayout({\n      value: value\n    }, true);\n  });\n}\n/**\n * Compute the x-position for each node.\n *\n * Here we use Kahn algorithm to detect cycle when we traverse\n * the node to computer the initial x position.\n */\nfunction computeNodeBreadths(nodes, edges, nodeWidth, width, height, orient, nodeAlign) {\n  // Used to mark whether the edge is deleted. if it is deleted,\n  // the value is 0, otherwise it is 1.\n  var remainEdges = [];\n  // Storage each node's indegree.\n  var indegreeArr = [];\n  // Used to storage the node with indegree is equal to 0.\n  var zeroIndegrees = [];\n  var nextTargetNode = [];\n  var x = 0;\n  // let kx = 0;\n  for (var i = 0; i < edges.length; i++) {\n    remainEdges[i] = 1;\n  }\n  for (var i = 0; i < nodes.length; i++) {\n    indegreeArr[i] = nodes[i].inEdges.length;\n    if (indegreeArr[i] === 0) {\n      zeroIndegrees.push(nodes[i]);\n    }\n  }\n  var maxNodeDepth = -1;\n  // Traversing nodes using topological sorting to calculate the\n  // horizontal(if orient === 'horizontal') or vertical(if orient === 'vertical')\n  // position of the nodes.\n  while (zeroIndegrees.length) {\n    for (var idx = 0; idx < zeroIndegrees.length; idx++) {\n      var node = zeroIndegrees[idx];\n      var item = node.hostGraph.data.getRawDataItem(node.dataIndex);\n      var isItemDepth = item.depth != null && item.depth >= 0;\n      if (isItemDepth && item.depth > maxNodeDepth) {\n        maxNodeDepth = item.depth;\n      }\n      node.setLayout({\n        depth: isItemDepth ? item.depth : x\n      }, true);\n      orient === 'vertical' ? node.setLayout({\n        dy: nodeWidth\n      }, true) : node.setLayout({\n        dx: nodeWidth\n      }, true);\n      for (var edgeIdx = 0; edgeIdx < node.outEdges.length; edgeIdx++) {\n        var edge = node.outEdges[edgeIdx];\n        var indexEdge = edges.indexOf(edge);\n        remainEdges[indexEdge] = 0;\n        var targetNode = edge.node2;\n        var nodeIndex = nodes.indexOf(targetNode);\n        if (--indegreeArr[nodeIndex] === 0 && nextTargetNode.indexOf(targetNode) < 0) {\n          nextTargetNode.push(targetNode);\n        }\n      }\n    }\n    ++x;\n    zeroIndegrees = nextTargetNode;\n    nextTargetNode = [];\n  }\n  for (var i = 0; i < remainEdges.length; i++) {\n    if (remainEdges[i] === 1) {\n      throw new Error('Sankey is a DAG, the original data has cycle!');\n    }\n  }\n  var maxDepth = maxNodeDepth > x - 1 ? maxNodeDepth : x - 1;\n  if (nodeAlign && nodeAlign !== 'left') {\n    adjustNodeWithNodeAlign(nodes, nodeAlign, orient, maxDepth);\n  }\n  var kx = orient === 'vertical' ? (height - nodeWidth) / maxDepth : (width - nodeWidth) / maxDepth;\n  scaleNodeBreadths(nodes, kx, orient);\n}\nfunction isNodeDepth(node) {\n  var item = node.hostGraph.data.getRawDataItem(node.dataIndex);\n  return item.depth != null && item.depth >= 0;\n}\nfunction adjustNodeWithNodeAlign(nodes, nodeAlign, orient, maxDepth) {\n  if (nodeAlign === 'right') {\n    var nextSourceNode = [];\n    var remainNodes = nodes;\n    var nodeHeight = 0;\n    while (remainNodes.length) {\n      for (var i = 0; i < remainNodes.length; i++) {\n        var node = remainNodes[i];\n        node.setLayout({\n          skNodeHeight: nodeHeight\n        }, true);\n        for (var j = 0; j < node.inEdges.length; j++) {\n          var edge = node.inEdges[j];\n          if (nextSourceNode.indexOf(edge.node1) < 0) {\n            nextSourceNode.push(edge.node1);\n          }\n        }\n      }\n      remainNodes = nextSourceNode;\n      nextSourceNode = [];\n      ++nodeHeight;\n    }\n    zrUtil.each(nodes, function (node) {\n      if (!isNodeDepth(node)) {\n        node.setLayout({\n          depth: Math.max(0, maxDepth - node.getLayout().skNodeHeight)\n        }, true);\n      }\n    });\n  } else if (nodeAlign === 'justify') {\n    moveSinksRight(nodes, maxDepth);\n  }\n}\n/**\n * All the node without outEgdes are assigned maximum x-position and\n *     be aligned in the last column.\n *\n * @param nodes.  node of sankey view.\n * @param maxDepth.  use to assign to node without outEdges as x-position.\n */\nfunction moveSinksRight(nodes, maxDepth) {\n  zrUtil.each(nodes, function (node) {\n    if (!isNodeDepth(node) && !node.outEdges.length) {\n      node.setLayout({\n        depth: maxDepth\n      }, true);\n    }\n  });\n}\n/**\n * Scale node x-position to the width\n *\n * @param nodes  node of sankey view\n * @param kx   multiple used to scale nodes\n */\nfunction scaleNodeBreadths(nodes, kx, orient) {\n  zrUtil.each(nodes, function (node) {\n    var nodeDepth = node.getLayout().depth * kx;\n    orient === 'vertical' ? node.setLayout({\n      y: nodeDepth\n    }, true) : node.setLayout({\n      x: nodeDepth\n    }, true);\n  });\n}\n/**\n * Using Gauss-Seidel iterations method to compute the node depth(y-position)\n *\n * @param nodes  node of sankey view\n * @param edges  edge of sankey view\n * @param height  the whole height of the area to draw the view\n * @param nodeGap  the vertical distance between two nodes\n *     in the same column.\n * @param iterations  the number of iterations for the algorithm\n */\nfunction computeNodeDepths(nodes, edges, height, width, nodeGap, iterations, orient) {\n  var nodesByBreadth = prepareNodesByBreadth(nodes, orient);\n  initializeNodeDepth(nodesByBreadth, edges, height, width, nodeGap, orient);\n  resolveCollisions(nodesByBreadth, nodeGap, height, width, orient);\n  for (var alpha = 1; iterations > 0; iterations--) {\n    // 0.99 is a experience parameter, ensure that each iterations of\n    // changes as small as possible.\n    alpha *= 0.99;\n    relaxRightToLeft(nodesByBreadth, alpha, orient);\n    resolveCollisions(nodesByBreadth, nodeGap, height, width, orient);\n    relaxLeftToRight(nodesByBreadth, alpha, orient);\n    resolveCollisions(nodesByBreadth, nodeGap, height, width, orient);\n  }\n}\nfunction prepareNodesByBreadth(nodes, orient) {\n  var nodesByBreadth = [];\n  var keyAttr = orient === 'vertical' ? 'y' : 'x';\n  var groupResult = groupData(nodes, function (node) {\n    return node.getLayout()[keyAttr];\n  });\n  groupResult.keys.sort(function (a, b) {\n    return a - b;\n  });\n  zrUtil.each(groupResult.keys, function (key) {\n    nodesByBreadth.push(groupResult.buckets.get(key));\n  });\n  return nodesByBreadth;\n}\n/**\n * Compute the original y-position for each node\n */\nfunction initializeNodeDepth(nodesByBreadth, edges, height, width, nodeGap, orient) {\n  var minKy = Infinity;\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    var n = nodes.length;\n    var sum = 0;\n    zrUtil.each(nodes, function (node) {\n      sum += node.getLayout().value;\n    });\n    var ky = orient === 'vertical' ? (width - (n - 1) * nodeGap) / sum : (height - (n - 1) * nodeGap) / sum;\n    if (ky < minKy) {\n      minKy = ky;\n    }\n  });\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    zrUtil.each(nodes, function (node, i) {\n      var nodeDy = node.getLayout().value * minKy;\n      if (orient === 'vertical') {\n        node.setLayout({\n          x: i\n        }, true);\n        node.setLayout({\n          dx: nodeDy\n        }, true);\n      } else {\n        node.setLayout({\n          y: i\n        }, true);\n        node.setLayout({\n          dy: nodeDy\n        }, true);\n      }\n    });\n  });\n  zrUtil.each(edges, function (edge) {\n    var edgeDy = +edge.getValue() * minKy;\n    edge.setLayout({\n      dy: edgeDy\n    }, true);\n  });\n}\n/**\n * Resolve the collision of initialized depth (y-position)\n */\nfunction resolveCollisions(nodesByBreadth, nodeGap, height, width, orient) {\n  var keyAttr = orient === 'vertical' ? 'x' : 'y';\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    nodes.sort(function (a, b) {\n      return a.getLayout()[keyAttr] - b.getLayout()[keyAttr];\n    });\n    var nodeX;\n    var node;\n    var dy;\n    var y0 = 0;\n    var n = nodes.length;\n    var nodeDyAttr = orient === 'vertical' ? 'dx' : 'dy';\n    for (var i = 0; i < n; i++) {\n      node = nodes[i];\n      dy = y0 - node.getLayout()[keyAttr];\n      if (dy > 0) {\n        nodeX = node.getLayout()[keyAttr] + dy;\n        orient === 'vertical' ? node.setLayout({\n          x: nodeX\n        }, true) : node.setLayout({\n          y: nodeX\n        }, true);\n      }\n      y0 = node.getLayout()[keyAttr] + node.getLayout()[nodeDyAttr] + nodeGap;\n    }\n    var viewWidth = orient === 'vertical' ? width : height;\n    // If the bottommost node goes outside the bounds, push it back up\n    dy = y0 - nodeGap - viewWidth;\n    if (dy > 0) {\n      nodeX = node.getLayout()[keyAttr] - dy;\n      orient === 'vertical' ? node.setLayout({\n        x: nodeX\n      }, true) : node.setLayout({\n        y: nodeX\n      }, true);\n      y0 = nodeX;\n      for (var i = n - 2; i >= 0; --i) {\n        node = nodes[i];\n        dy = node.getLayout()[keyAttr] + node.getLayout()[nodeDyAttr] + nodeGap - y0;\n        if (dy > 0) {\n          nodeX = node.getLayout()[keyAttr] - dy;\n          orient === 'vertical' ? node.setLayout({\n            x: nodeX\n          }, true) : node.setLayout({\n            y: nodeX\n          }, true);\n        }\n        y0 = node.getLayout()[keyAttr];\n      }\n    }\n  });\n}\n/**\n * Change the y-position of the nodes, except most the right side nodes\n * @param nodesByBreadth\n * @param alpha  parameter used to adjust the nodes y-position\n */\nfunction relaxRightToLeft(nodesByBreadth, alpha, orient) {\n  zrUtil.each(nodesByBreadth.slice().reverse(), function (nodes) {\n    zrUtil.each(nodes, function (node) {\n      if (node.outEdges.length) {\n        var y = sum(node.outEdges, weightedTarget, orient) / sum(node.outEdges, getEdgeValue);\n        if (isNaN(y)) {\n          var len = node.outEdges.length;\n          y = len ? sum(node.outEdges, centerTarget, orient) / len : 0;\n        }\n        if (orient === 'vertical') {\n          var nodeX = node.getLayout().x + (y - center(node, orient)) * alpha;\n          node.setLayout({\n            x: nodeX\n          }, true);\n        } else {\n          var nodeY = node.getLayout().y + (y - center(node, orient)) * alpha;\n          node.setLayout({\n            y: nodeY\n          }, true);\n        }\n      }\n    });\n  });\n}\nfunction weightedTarget(edge, orient) {\n  return center(edge.node2, orient) * edge.getValue();\n}\nfunction centerTarget(edge, orient) {\n  return center(edge.node2, orient);\n}\nfunction weightedSource(edge, orient) {\n  return center(edge.node1, orient) * edge.getValue();\n}\nfunction centerSource(edge, orient) {\n  return center(edge.node1, orient);\n}\nfunction center(node, orient) {\n  return orient === 'vertical' ? node.getLayout().x + node.getLayout().dx / 2 : node.getLayout().y + node.getLayout().dy / 2;\n}\nfunction getEdgeValue(edge) {\n  return edge.getValue();\n}\nfunction sum(array, cb, orient) {\n  var sum = 0;\n  var len = array.length;\n  var i = -1;\n  while (++i < len) {\n    var value = +cb(array[i], orient);\n    if (!isNaN(value)) {\n      sum += value;\n    }\n  }\n  return sum;\n}\n/**\n * Change the y-position of the nodes, except most the left side nodes\n */\nfunction relaxLeftToRight(nodesByBreadth, alpha, orient) {\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    zrUtil.each(nodes, function (node) {\n      if (node.inEdges.length) {\n        var y = sum(node.inEdges, weightedSource, orient) / sum(node.inEdges, getEdgeValue);\n        if (isNaN(y)) {\n          var len = node.inEdges.length;\n          y = len ? sum(node.inEdges, centerSource, orient) / len : 0;\n        }\n        if (orient === 'vertical') {\n          var nodeX = node.getLayout().x + (y - center(node, orient)) * alpha;\n          node.setLayout({\n            x: nodeX\n          }, true);\n        } else {\n          var nodeY = node.getLayout().y + (y - center(node, orient)) * alpha;\n          node.setLayout({\n            y: nodeY\n          }, true);\n        }\n      }\n    });\n  });\n}\n/**\n * Compute the depth(y-position) of each edge\n */\nfunction computeEdgeDepths(nodes, orient) {\n  var keyAttr = orient === 'vertical' ? 'x' : 'y';\n  zrUtil.each(nodes, function (node) {\n    node.outEdges.sort(function (a, b) {\n      return a.node2.getLayout()[keyAttr] - b.node2.getLayout()[keyAttr];\n    });\n    node.inEdges.sort(function (a, b) {\n      return a.node1.getLayout()[keyAttr] - b.node1.getLayout()[keyAttr];\n    });\n  });\n  zrUtil.each(nodes, function (node) {\n    var sy = 0;\n    var ty = 0;\n    zrUtil.each(node.outEdges, function (edge) {\n      edge.setLayout({\n        sy: sy\n      }, true);\n      sy += edge.getLayout().dy;\n    });\n    zrUtil.each(node.inEdges, function (edge) {\n      edge.setLayout({\n        ty: ty\n      }, true);\n      ty += edge.getLayout().dy;\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nexport default function sankeyVisual(ecModel) {\n  ecModel.eachSeriesByType('sankey', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var nodes = graph.nodes;\n    var edges = graph.edges;\n    if (nodes.length) {\n      var minValue_1 = Infinity;\n      var maxValue_1 = -Infinity;\n      zrUtil.each(nodes, function (node) {\n        var nodeValue = node.getLayout().value;\n        if (nodeValue < minValue_1) {\n          minValue_1 = nodeValue;\n        }\n        if (nodeValue > maxValue_1) {\n          maxValue_1 = nodeValue;\n        }\n      });\n      zrUtil.each(nodes, function (node) {\n        var mapping = new VisualMapping({\n          type: 'color',\n          mappingMethod: 'linear',\n          dataExtent: [minValue_1, maxValue_1],\n          visual: seriesModel.get('color')\n        });\n        var mapValueToColor = mapping.mapValueToVisual(node.getLayout().value);\n        var customColor = node.getModel().get(['itemStyle', 'color']);\n        if (customColor != null) {\n          node.setVisual('color', customColor);\n          node.setVisual('style', {\n            fill: customColor\n          });\n        } else {\n          node.setVisual('color', mapValueToColor);\n          node.setVisual('style', {\n            fill: mapValueToColor\n          });\n        }\n      });\n    }\n    if (edges.length) {\n      zrUtil.each(edges, function (edge) {\n        var edgeStyle = edge.getModel().get('lineStyle');\n        edge.setVisual('style', edgeStyle);\n      });\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SankeyView from './SankeyView.js';\nimport SankeySeriesModel from './SankeySeries.js';\nimport sankeyLayout from './sankeyLayout.js';\nimport sankeyVisual from './sankeyVisual.js';\nimport { updateCenterAndZoomInAction } from '../../component/helper/roamHelper.js';\nexport function install(registers) {\n  registers.registerChartView(SankeyView);\n  registers.registerSeriesModel(SankeySeriesModel);\n  registers.registerLayout(sankeyLayout);\n  registers.registerVisual(sankeyVisual);\n  registers.registerAction({\n    type: 'dragNode',\n    event: 'dragnode',\n    // here can only use 'update' now, other value is not support in echarts.\n    update: 'update'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'sankey',\n      query: payload\n    }, function (seriesModel) {\n      seriesModel.setNodePosition(payload.dataIndex, [payload.localX, payload.localY]);\n    });\n  });\n  registers.registerAction({\n    type: 'sankeyRoam',\n    event: 'sankeyRoam',\n    update: 'none'\n  }, function (payload, ecModel, api) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'sankey',\n      query: payload\n    }, function (seriesModel) {\n      var coordSys = seriesModel.coordinateSystem;\n      var res = updateCenterAndZoomInAction(coordSys, payload, seriesModel.get('scaleLimit'));\n      seriesModel.setCenter(res.center);\n      seriesModel.setZoom(res.zoom);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport createSeriesDataSimply from './createSeriesDataSimply.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getDimensionTypeByAxis } from '../../data/helper/dimensionHelper.js';\nimport { makeSeriesEncodeForAxisCoordSys } from '../../data/helper/sourceHelper.js';\nvar WhiskerBoxCommonMixin = /** @class */function () {\n  function WhiskerBoxCommonMixin() {}\n  /**\n   * @private\n   */\n  WhiskerBoxCommonMixin.prototype._hasEncodeRule = function (key) {\n    var encodeRules = this.getEncode();\n    return encodeRules && encodeRules.get(key) != null;\n  };\n  /**\n   * @override\n   */\n  WhiskerBoxCommonMixin.prototype.getInitialData = function (option, ecModel) {\n    // When both types of xAxis and yAxis are 'value', layout is\n    // needed to be specified by user. Otherwise, layout can be\n    // judged by which axis is category.\n    var ordinalMeta;\n    var xAxisModel = ecModel.getComponent('xAxis', this.get('xAxisIndex'));\n    var yAxisModel = ecModel.getComponent('yAxis', this.get('yAxisIndex'));\n    var xAxisType = xAxisModel.get('type');\n    var yAxisType = yAxisModel.get('type');\n    var addOrdinal;\n    // FIXME\n    // Consider time axis.\n    if (xAxisType === 'category') {\n      option.layout = 'horizontal';\n      ordinalMeta = xAxisModel.getOrdinalMeta();\n      addOrdinal = !this._hasEncodeRule('x');\n    } else if (yAxisType === 'category') {\n      option.layout = 'vertical';\n      ordinalMeta = yAxisModel.getOrdinalMeta();\n      addOrdinal = !this._hasEncodeRule('y');\n    } else {\n      option.layout = option.layout || 'horizontal';\n    }\n    var coordDims = ['x', 'y'];\n    var baseAxisDimIndex = option.layout === 'horizontal' ? 0 : 1;\n    var baseAxisDim = this._baseAxisDim = coordDims[baseAxisDimIndex];\n    var otherAxisDim = coordDims[1 - baseAxisDimIndex];\n    var axisModels = [xAxisModel, yAxisModel];\n    var baseAxisType = axisModels[baseAxisDimIndex].get('type');\n    var otherAxisType = axisModels[1 - baseAxisDimIndex].get('type');\n    var data = option.data;\n    // Clone a new data for next setOption({}) usage.\n    // Avoid modifying current data will affect further update.\n    if (data && addOrdinal) {\n      var newOptionData_1 = [];\n      zrUtil.each(data, function (item, index) {\n        var newItem;\n        if (zrUtil.isArray(item)) {\n          newItem = item.slice();\n          // Modify current using data.\n          item.unshift(index);\n        } else if (zrUtil.isArray(item.value)) {\n          newItem = zrUtil.extend({}, item);\n          newItem.value = newItem.value.slice();\n          // Modify current using data.\n          item.value.unshift(index);\n        } else {\n          newItem = item;\n        }\n        newOptionData_1.push(newItem);\n      });\n      option.data = newOptionData_1;\n    }\n    var defaultValueDimensions = this.defaultValueDimensions;\n    var coordDimensions = [{\n      name: baseAxisDim,\n      type: getDimensionTypeByAxis(baseAxisType),\n      ordinalMeta: ordinalMeta,\n      otherDims: {\n        tooltip: false,\n        itemName: 0\n      },\n      dimsDef: ['base']\n    }, {\n      name: otherAxisDim,\n      type: getDimensionTypeByAxis(otherAxisType),\n      dimsDef: defaultValueDimensions.slice()\n    }];\n    return createSeriesDataSimply(this, {\n      coordDimensions: coordDimensions,\n      dimensionsCount: defaultValueDimensions.length + 1,\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForAxisCoordSys, coordDimensions, this)\n    });\n  };\n  /**\n   * If horizontal, base axis is x, otherwise y.\n   * @override\n   */\n  WhiskerBoxCommonMixin.prototype.getBaseAxis = function () {\n    var dim = this._baseAxisDim;\n    return this.ecModel.getComponent(dim + 'Axis', this.get(dim + 'AxisIndex')).axis;\n  };\n  return WhiskerBoxCommonMixin;\n}();\n;\nexport { WhiskerBoxCommonMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport { WhiskerBoxCommonMixin } from '../helper/whiskerBoxCommon.js';\nimport { mixin } from 'zrender/lib/core/util.js';\nimport tokens from '../../visual/tokens.js';\nvar BoxplotSeriesModel = /** @class */function (_super) {\n  __extends(BoxplotSeriesModel, _super);\n  function BoxplotSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BoxplotSeriesModel.type;\n    // TODO\n    // box width represents group size, so dimension should have 'size'.\n    /**\n     * @see <https://en.wikipedia.org/wiki/Box_plot>\n     * The meanings of 'min' and 'max' depend on user,\n     * and echarts do not need to know it.\n     * @readOnly\n     */\n    _this.defaultValueDimensions = [{\n      name: 'min',\n      defaultTooltip: true\n    }, {\n      name: 'Q1',\n      defaultTooltip: true\n    }, {\n      name: 'median',\n      defaultTooltip: true\n    }, {\n      name: 'Q3',\n      defaultTooltip: true\n    }, {\n      name: 'max',\n      defaultTooltip: true\n    }];\n    _this.visualDrawType = 'stroke';\n    return _this;\n  }\n  BoxplotSeriesModel.type = 'series.boxplot';\n  BoxplotSeriesModel.dependencies = ['xAxis', 'yAxis', 'grid'];\n  BoxplotSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    layout: null,\n    boxWidth: [7, 50],\n    itemStyle: {\n      color: tokens.color.neutral00,\n      borderWidth: 1\n    },\n    emphasis: {\n      scale: true,\n      itemStyle: {\n        borderWidth: 2,\n        shadowBlur: 5,\n        shadowOffsetX: 1,\n        shadowOffsetY: 1,\n        shadowColor: tokens.color.shadow\n      }\n    },\n    animationDuration: 800\n  };\n  return BoxplotSeriesModel;\n}(SeriesModel);\nmixin(BoxplotSeriesModel, WhiskerBoxCommonMixin, true);\nexport default BoxplotSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ChartView from '../../view/Chart.js';\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport Path from 'zrender/lib/graphic/Path.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nvar BoxplotView = /** @class */function (_super) {\n  __extends(BoxplotView, _super);\n  function BoxplotView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BoxplotView.type;\n    return _this;\n  }\n  BoxplotView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var group = this.group;\n    var oldData = this._data;\n    // There is no old data only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n    if (!this._data) {\n      group.removeAll();\n    }\n    var constDim = seriesModel.get('layout') === 'horizontal' ? 1 : 0;\n    data.diff(oldData).add(function (newIdx) {\n      if (data.hasValue(newIdx)) {\n        var itemLayout = data.getItemLayout(newIdx);\n        var symbolEl = createNormalBox(itemLayout, data, newIdx, constDim, true);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      // Empty data\n      if (!data.hasValue(newIdx)) {\n        group.remove(symbolEl);\n        return;\n      }\n      var itemLayout = data.getItemLayout(newIdx);\n      if (!symbolEl) {\n        symbolEl = createNormalBox(itemLayout, data, newIdx, constDim);\n      } else {\n        saveOldStyle(symbolEl);\n        updateNormalBoxData(itemLayout, symbolEl, data, newIdx);\n      }\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && group.remove(el);\n    }).execute();\n    this._data = data;\n  };\n  BoxplotView.prototype.remove = function (ecModel) {\n    var group = this.group;\n    var data = this._data;\n    this._data = null;\n    data && data.eachItemGraphicEl(function (el) {\n      el && group.remove(el);\n    });\n  };\n  BoxplotView.type = 'boxplot';\n  return BoxplotView;\n}(ChartView);\nvar BoxPathShape = /** @class */function () {\n  function BoxPathShape() {}\n  return BoxPathShape;\n}();\nvar BoxPath = /** @class */function (_super) {\n  __extends(BoxPath, _super);\n  function BoxPath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'boxplotBoxPath';\n    return _this;\n  }\n  BoxPath.prototype.getDefaultShape = function () {\n    return new BoxPathShape();\n  };\n  BoxPath.prototype.buildPath = function (ctx, shape) {\n    var ends = shape.points;\n    var i = 0;\n    ctx.moveTo(ends[i][0], ends[i][1]);\n    i++;\n    for (; i < 4; i++) {\n      ctx.lineTo(ends[i][0], ends[i][1]);\n    }\n    ctx.closePath();\n    for (; i < ends.length; i++) {\n      ctx.moveTo(ends[i][0], ends[i][1]);\n      i++;\n      ctx.lineTo(ends[i][0], ends[i][1]);\n    }\n  };\n  return BoxPath;\n}(Path);\nfunction createNormalBox(itemLayout, data, dataIndex, constDim, isInit) {\n  var ends = itemLayout.ends;\n  var el = new BoxPath({\n    shape: {\n      points: isInit ? transInit(ends, constDim, itemLayout) : ends\n    }\n  });\n  updateNormalBoxData(itemLayout, el, data, dataIndex, isInit);\n  return el;\n}\nfunction updateNormalBoxData(itemLayout, el, data, dataIndex, isInit) {\n  var seriesModel = data.hostModel;\n  var updateMethod = graphic[isInit ? 'initProps' : 'updateProps'];\n  updateMethod(el, {\n    shape: {\n      points: itemLayout.ends\n    }\n  }, seriesModel, dataIndex);\n  el.useStyle(data.getItemVisual(dataIndex, 'style'));\n  el.style.strokeNoScale = true;\n  el.z2 = 100;\n  var itemModel = data.getItemModel(dataIndex);\n  var emphasisModel = itemModel.getModel('emphasis');\n  setStatesStylesFromModel(el, itemModel);\n  toggleHoverEmphasis(el, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n}\nfunction transInit(points, dim, itemLayout) {\n  return zrUtil.map(points, function (point) {\n    point = point.slice();\n    point[dim] = itemLayout.initBaseline;\n    return point;\n  });\n}\nexport default BoxplotView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parsePercent } from '../../util/number.js';\nvar each = zrUtil.each;\nexport default function boxplotLayout(ecModel) {\n  var groupResult = groupSeriesByAxis(ecModel);\n  each(groupResult, function (groupItem) {\n    var seriesModels = groupItem.seriesModels;\n    if (!seriesModels.length) {\n      return;\n    }\n    calculateBase(groupItem);\n    each(seriesModels, function (seriesModel, idx) {\n      layoutSingleSeries(seriesModel, groupItem.boxOffsetList[idx], groupItem.boxWidthList[idx]);\n    });\n  });\n}\n/**\n * Group series by axis.\n */\nfunction groupSeriesByAxis(ecModel) {\n  var result = [];\n  var axisList = [];\n  ecModel.eachSeriesByType('boxplot', function (seriesModel) {\n    var baseAxis = seriesModel.getBaseAxis();\n    var idx = zrUtil.indexOf(axisList, baseAxis);\n    if (idx < 0) {\n      idx = axisList.length;\n      axisList[idx] = baseAxis;\n      result[idx] = {\n        axis: baseAxis,\n        seriesModels: []\n      };\n    }\n    result[idx].seriesModels.push(seriesModel);\n  });\n  return result;\n}\n/**\n * Calculate offset and box width for each series.\n */\nfunction calculateBase(groupItem) {\n  var baseAxis = groupItem.axis;\n  var seriesModels = groupItem.seriesModels;\n  var seriesCount = seriesModels.length;\n  var boxWidthList = groupItem.boxWidthList = [];\n  var boxOffsetList = groupItem.boxOffsetList = [];\n  var boundList = [];\n  var bandWidth;\n  if (baseAxis.type === 'category') {\n    bandWidth = baseAxis.getBandWidth();\n  } else {\n    var maxDataCount_1 = 0;\n    each(seriesModels, function (seriesModel) {\n      maxDataCount_1 = Math.max(maxDataCount_1, seriesModel.getData().count());\n    });\n    var extent = baseAxis.getExtent();\n    bandWidth = Math.abs(extent[1] - extent[0]) / maxDataCount_1;\n  }\n  each(seriesModels, function (seriesModel) {\n    var boxWidthBound = seriesModel.get('boxWidth');\n    if (!zrUtil.isArray(boxWidthBound)) {\n      boxWidthBound = [boxWidthBound, boxWidthBound];\n    }\n    boundList.push([parsePercent(boxWidthBound[0], bandWidth) || 0, parsePercent(boxWidthBound[1], bandWidth) || 0]);\n  });\n  var availableWidth = bandWidth * 0.8 - 2;\n  var boxGap = availableWidth / seriesCount * 0.3;\n  var boxWidth = (availableWidth - boxGap * (seriesCount - 1)) / seriesCount;\n  var base = boxWidth / 2 - availableWidth / 2;\n  each(seriesModels, function (seriesModel, idx) {\n    boxOffsetList.push(base);\n    base += boxGap + boxWidth;\n    boxWidthList.push(Math.min(Math.max(boxWidth, boundList[idx][0]), boundList[idx][1]));\n  });\n}\n/**\n * Calculate points location for each series.\n */\nfunction layoutSingleSeries(seriesModel, offset, boxWidth) {\n  var coordSys = seriesModel.coordinateSystem;\n  var data = seriesModel.getData();\n  var halfWidth = boxWidth / 2;\n  var cDimIdx = seriesModel.get('layout') === 'horizontal' ? 0 : 1;\n  var vDimIdx = 1 - cDimIdx;\n  var coordDims = ['x', 'y'];\n  var cDim = data.mapDimension(coordDims[cDimIdx]);\n  var vDims = data.mapDimensionsAll(coordDims[vDimIdx]);\n  if (cDim == null || vDims.length < 5) {\n    return;\n  }\n  for (var dataIndex = 0; dataIndex < data.count(); dataIndex++) {\n    var axisDimVal = data.get(cDim, dataIndex);\n    var median = getPoint(axisDimVal, vDims[2], dataIndex);\n    var end1 = getPoint(axisDimVal, vDims[0], dataIndex);\n    var end2 = getPoint(axisDimVal, vDims[1], dataIndex);\n    var end4 = getPoint(axisDimVal, vDims[3], dataIndex);\n    var end5 = getPoint(axisDimVal, vDims[4], dataIndex);\n    var ends = [];\n    addBodyEnd(ends, end2, false);\n    addBodyEnd(ends, end4, true);\n    ends.push(end1, end2, end5, end4);\n    layEndLine(ends, end1);\n    layEndLine(ends, end5);\n    layEndLine(ends, median);\n    data.setItemLayout(dataIndex, {\n      initBaseline: median[vDimIdx],\n      ends: ends\n    });\n  }\n  function getPoint(axisDimVal, dim, dataIndex) {\n    var val = data.get(dim, dataIndex);\n    var p = [];\n    p[cDimIdx] = axisDimVal;\n    p[vDimIdx] = val;\n    var point;\n    if (isNaN(axisDimVal) || isNaN(val)) {\n      point = [NaN, NaN];\n    } else {\n      point = coordSys.dataToPoint(p);\n      point[cDimIdx] += offset;\n    }\n    return point;\n  }\n  function addBodyEnd(ends, point, start) {\n    var point1 = point.slice();\n    var point2 = point.slice();\n    point1[cDimIdx] += halfWidth;\n    point2[cDimIdx] -= halfWidth;\n    start ? ends.push(point1, point2) : ends.push(point2, point1);\n  }\n  function layEndLine(ends, endCenter) {\n    var from = endCenter.slice();\n    var to = endCenter.slice();\n    from[cDimIdx] -= halfWidth;\n    to[cDimIdx] += halfWidth;\n    ends.push(from, to);\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { quantile, asc } from '../../util/number.js';\nimport { isFunction, isString } from 'zrender/lib/core/util.js';\n/**\n * See:\n *  <https://en.wikipedia.org/wiki/Box_plot#cite_note-frigge_hoaglin_iglewicz-2>\n *  <http://stat.ethz.ch/R-manual/R-devel/library/grDevices/html/boxplot.stats.html>\n *\n * Helper method for preparing data.\n *\n * @param rawData like\n *        [\n *            [12,232,443], (raw data set for the first box)\n *            [3843,5545,1232], (raw data set for the second box)\n *            ...\n *        ]\n * @param opt.boundIQR=1.5 Data less than min bound is outlier.\n *      default 1.5, means Q1 - 1.5 * (Q3 - Q1).\n *      If 'none'/0 passed, min bound will not be used.\n */\nexport default function prepareBoxplotData(rawData, opt) {\n  opt = opt || {};\n  var boxData = [];\n  var outliers = [];\n  var boundIQR = opt.boundIQR;\n  var useExtreme = boundIQR === 'none' || boundIQR === 0;\n  for (var i = 0; i < rawData.length; i++) {\n    var ascList = asc(rawData[i].slice());\n    var Q1 = quantile(ascList, 0.25);\n    var Q2 = quantile(ascList, 0.5);\n    var Q3 = quantile(ascList, 0.75);\n    var min = ascList[0];\n    var max = ascList[ascList.length - 1];\n    var bound = (boundIQR == null ? 1.5 : boundIQR) * (Q3 - Q1);\n    var low = useExtreme ? min : Math.max(min, Q1 - bound);\n    var high = useExtreme ? max : Math.min(max, Q3 + bound);\n    var itemNameFormatter = opt.itemNameFormatter;\n    var itemName = isFunction(itemNameFormatter) ? itemNameFormatter({\n      value: i\n    }) : isString(itemNameFormatter) ? itemNameFormatter.replace('{value}', i + '') : i + '';\n    boxData.push([itemName, low, Q1, Q2, Q3, high]);\n    for (var j = 0; j < ascList.length; j++) {\n      var dataItem = ascList[j];\n      if (dataItem < low || dataItem > high) {\n        var outlier = [itemName, dataItem];\n        outliers.push(outlier);\n      }\n    }\n  }\n  return {\n    boxData: boxData,\n    outliers: outliers\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport prepareBoxplotData from './prepareBoxplotData.js';\nimport { throwError, makePrintable } from '../../util/log.js';\nimport { SOURCE_FORMAT_ARRAY_ROWS } from '../../util/types.js';\nexport var boxplotTransform = {\n  type: 'echarts:boxplot',\n  transform: function transform(params) {\n    var upstream = params.upstream;\n    if (upstream.sourceFormat !== SOURCE_FORMAT_ARRAY_ROWS) {\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('source data is not applicable for this boxplot transform. Expect number[][].');\n      }\n      throwError(errMsg);\n    }\n    var result = prepareBoxplotData(upstream.getRawData(), params.config);\n    return [{\n      dimensions: ['ItemName', 'Low', 'Q1', 'Q2', 'Q3', 'High'],\n      data: result.boxData\n    }, {\n      data: result.outliers\n    }];\n  }\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport BoxplotSeriesModel from './BoxplotSeries.js';\nimport BoxplotView from './BoxplotView.js';\nimport boxplotLayout from './boxplotLayout.js';\nimport { boxplotTransform } from './boxplotTransform.js';\nexport function install(registers) {\n  registers.registerSeriesModel(BoxplotSeriesModel);\n  registers.registerChartView(BoxplotView);\n  registers.registerLayout(boxplotLayout);\n  registers.registerTransform(boxplotTransform);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport createRenderPlanner from '../helper/createRenderPlanner.js';\nimport { extend } from 'zrender/lib/core/util.js';\nvar positiveBorderColorQuery = ['itemStyle', 'borderColor'];\nvar negativeBorderColorQuery = ['itemStyle', 'borderColor0'];\nvar dojiBorderColorQuery = ['itemStyle', 'borderColorDoji'];\nvar positiveColorQuery = ['itemStyle', 'color'];\nvar negativeColorQuery = ['itemStyle', 'color0'];\nexport function getColor(sign, model) {\n  return model.get(sign > 0 ? positiveColorQuery : negativeColorQuery);\n}\nexport function getBorderColor(sign, model) {\n  return model.get(sign === 0 ? dojiBorderColorQuery : sign > 0 ? positiveBorderColorQuery : negativeBorderColorQuery);\n}\nvar candlestickVisual = {\n  seriesType: 'candlestick',\n  plan: createRenderPlanner(),\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    // Only visible series has each data be visual encoded\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var isLargeRender = seriesModel.pipelineContext.large;\n    return !isLargeRender && {\n      progress: function (params, data) {\n        var dataIndex;\n        while ((dataIndex = params.next()) != null) {\n          var itemModel = data.getItemModel(dataIndex);\n          var sign = data.getItemLayout(dataIndex).sign;\n          var style = itemModel.getItemStyle();\n          style.fill = getColor(sign, itemModel);\n          style.stroke = getBorderColor(sign, itemModel) || style.fill;\n          var existsStyle = data.ensureUniqueItemVisual(dataIndex, 'style');\n          extend(existsStyle, style);\n        }\n      }\n    };\n  }\n};\nexport default candlestickVisual;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ChartView from '../../view/Chart.js';\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport Path from 'zrender/lib/graphic/Path.js';\nimport { createClipPath } from '../helper/createClipPathFromCoordSys.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nimport { getBorderColor, getColor } from './candlestickVisual.js';\nvar SKIP_PROPS = ['color', 'borderColor'];\nvar CandlestickView = /** @class */function (_super) {\n  __extends(CandlestickView, _super);\n  function CandlestickView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CandlestickView.type;\n    return _this;\n  }\n  CandlestickView.prototype.render = function (seriesModel, ecModel, api) {\n    // If there is clipPath created in large mode. Remove it.\n    this.group.removeClipPath();\n    // Clear previously rendered progressive elements.\n    this._progressiveEls = null;\n    this._updateDrawMode(seriesModel);\n    this._isLargeDraw ? this._renderLarge(seriesModel) : this._renderNormal(seriesModel);\n  };\n  CandlestickView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    this._clear();\n    this._updateDrawMode(seriesModel);\n  };\n  CandlestickView.prototype.incrementalRender = function (params, seriesModel, ecModel, api) {\n    this._progressiveEls = [];\n    this._isLargeDraw ? this._incrementalRenderLarge(params, seriesModel) : this._incrementalRenderNormal(params, seriesModel);\n  };\n  CandlestickView.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n  CandlestickView.prototype._updateDrawMode = function (seriesModel) {\n    var isLargeDraw = seriesModel.pipelineContext.large;\n    if (this._isLargeDraw == null || isLargeDraw !== this._isLargeDraw) {\n      this._isLargeDraw = isLargeDraw;\n      this._clear();\n    }\n  };\n  CandlestickView.prototype._renderNormal = function (seriesModel) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var isSimpleBox = data.getLayout('isSimpleBox');\n    var needsClip = seriesModel.get('clip', true);\n    var coord = seriesModel.coordinateSystem;\n    var clipArea = coord.getArea && coord.getArea();\n    // There is no old data only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n    if (!this._data) {\n      group.removeAll();\n    }\n    data.diff(oldData).add(function (newIdx) {\n      if (data.hasValue(newIdx)) {\n        var itemLayout = data.getItemLayout(newIdx);\n        if (needsClip && isNormalBoxClipped(clipArea, itemLayout)) {\n          return;\n        }\n        var el = createNormalBox(itemLayout, newIdx, true);\n        graphic.initProps(el, {\n          shape: {\n            points: itemLayout.ends\n          }\n        }, seriesModel, newIdx);\n        setBoxCommon(el, data, newIdx, isSimpleBox);\n        group.add(el);\n        data.setItemGraphicEl(newIdx, el);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      // Empty data\n      if (!data.hasValue(newIdx)) {\n        group.remove(el);\n        return;\n      }\n      var itemLayout = data.getItemLayout(newIdx);\n      if (needsClip && isNormalBoxClipped(clipArea, itemLayout)) {\n        group.remove(el);\n        return;\n      }\n      if (!el) {\n        el = createNormalBox(itemLayout, newIdx);\n      } else {\n        graphic.updateProps(el, {\n          shape: {\n            points: itemLayout.ends\n          }\n        }, seriesModel, newIdx);\n        saveOldStyle(el);\n      }\n      setBoxCommon(el, data, newIdx, isSimpleBox);\n      group.add(el);\n      data.setItemGraphicEl(newIdx, el);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && group.remove(el);\n    }).execute();\n    this._data = data;\n  };\n  CandlestickView.prototype._renderLarge = function (seriesModel) {\n    this._clear();\n    createLarge(seriesModel, this.group);\n    var clipPath = seriesModel.get('clip', true) ? createClipPath(seriesModel.coordinateSystem, false, seriesModel) : null;\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n  };\n  CandlestickView.prototype._incrementalRenderNormal = function (params, seriesModel) {\n    var data = seriesModel.getData();\n    var isSimpleBox = data.getLayout('isSimpleBox');\n    var dataIndex;\n    while ((dataIndex = params.next()) != null) {\n      var itemLayout = data.getItemLayout(dataIndex);\n      var el = createNormalBox(itemLayout, dataIndex);\n      setBoxCommon(el, data, dataIndex, isSimpleBox);\n      el.incremental = true;\n      this.group.add(el);\n      this._progressiveEls.push(el);\n    }\n  };\n  CandlestickView.prototype._incrementalRenderLarge = function (params, seriesModel) {\n    createLarge(seriesModel, this.group, this._progressiveEls, true);\n  };\n  CandlestickView.prototype.remove = function (ecModel) {\n    this._clear();\n  };\n  CandlestickView.prototype._clear = function () {\n    this.group.removeAll();\n    this._data = null;\n  };\n  CandlestickView.type = 'candlestick';\n  return CandlestickView;\n}(ChartView);\nvar NormalBoxPathShape = /** @class */function () {\n  function NormalBoxPathShape() {}\n  return NormalBoxPathShape;\n}();\nvar NormalBoxPath = /** @class */function (_super) {\n  __extends(NormalBoxPath, _super);\n  function NormalBoxPath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'normalCandlestickBox';\n    return _this;\n  }\n  NormalBoxPath.prototype.getDefaultShape = function () {\n    return new NormalBoxPathShape();\n  };\n  NormalBoxPath.prototype.buildPath = function (ctx, shape) {\n    var ends = shape.points;\n    if (this.__simpleBox) {\n      ctx.moveTo(ends[4][0], ends[4][1]);\n      ctx.lineTo(ends[6][0], ends[6][1]);\n    } else {\n      ctx.moveTo(ends[0][0], ends[0][1]);\n      ctx.lineTo(ends[1][0], ends[1][1]);\n      ctx.lineTo(ends[2][0], ends[2][1]);\n      ctx.lineTo(ends[3][0], ends[3][1]);\n      ctx.closePath();\n      ctx.moveTo(ends[4][0], ends[4][1]);\n      ctx.lineTo(ends[5][0], ends[5][1]);\n      ctx.moveTo(ends[6][0], ends[6][1]);\n      ctx.lineTo(ends[7][0], ends[7][1]);\n    }\n  };\n  return NormalBoxPath;\n}(Path);\nfunction createNormalBox(itemLayout, dataIndex, isInit) {\n  var ends = itemLayout.ends;\n  return new NormalBoxPath({\n    shape: {\n      points: isInit ? transInit(ends, itemLayout) : ends\n    },\n    z2: 100\n  });\n}\nfunction isNormalBoxClipped(clipArea, itemLayout) {\n  var clipped = true;\n  for (var i = 0; i < itemLayout.ends.length; i++) {\n    // If any point are in the region.\n    if (clipArea.contain(itemLayout.ends[i][0], itemLayout.ends[i][1])) {\n      clipped = false;\n      break;\n    }\n  }\n  return clipped;\n}\nfunction setBoxCommon(el, data, dataIndex, isSimpleBox) {\n  var itemModel = data.getItemModel(dataIndex);\n  el.useStyle(data.getItemVisual(dataIndex, 'style'));\n  el.style.strokeNoScale = true;\n  el.__simpleBox = isSimpleBox;\n  setStatesStylesFromModel(el, itemModel);\n  var sign = data.getItemLayout(dataIndex).sign;\n  zrUtil.each(el.states, function (state, stateName) {\n    var stateModel = itemModel.getModel(stateName);\n    var color = getColor(sign, stateModel);\n    var borderColor = getBorderColor(sign, stateModel) || color;\n    var stateStyle = state.style || (state.style = {});\n    color && (stateStyle.fill = color);\n    borderColor && (stateStyle.stroke = borderColor);\n  });\n  var emphasisModel = itemModel.getModel('emphasis');\n  toggleHoverEmphasis(el, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n}\nfunction transInit(points, itemLayout) {\n  return zrUtil.map(points, function (point) {\n    point = point.slice();\n    point[1] = itemLayout.initBaseline;\n    return point;\n  });\n}\nvar LargeBoxPathShape = /** @class */function () {\n  function LargeBoxPathShape() {}\n  return LargeBoxPathShape;\n}();\nvar LargeBoxPath = /** @class */function (_super) {\n  __extends(LargeBoxPath, _super);\n  function LargeBoxPath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'largeCandlestickBox';\n    return _this;\n  }\n  LargeBoxPath.prototype.getDefaultShape = function () {\n    return new LargeBoxPathShape();\n  };\n  LargeBoxPath.prototype.buildPath = function (ctx, shape) {\n    // Drawing lines is more efficient than drawing\n    // a whole line or drawing rects.\n    var points = shape.points;\n    for (var i = 0; i < points.length;) {\n      if (this.__sign === points[i++]) {\n        var x = points[i++];\n        ctx.moveTo(x, points[i++]);\n        ctx.lineTo(x, points[i++]);\n      } else {\n        i += 3;\n      }\n    }\n  };\n  return LargeBoxPath;\n}(Path);\nfunction createLarge(seriesModel, group, progressiveEls, incremental) {\n  var data = seriesModel.getData();\n  var largePoints = data.getLayout('largePoints');\n  var elP = new LargeBoxPath({\n    shape: {\n      points: largePoints\n    },\n    __sign: 1,\n    ignoreCoarsePointer: true\n  });\n  group.add(elP);\n  var elN = new LargeBoxPath({\n    shape: {\n      points: largePoints\n    },\n    __sign: -1,\n    ignoreCoarsePointer: true\n  });\n  group.add(elN);\n  var elDoji = new LargeBoxPath({\n    shape: {\n      points: largePoints\n    },\n    __sign: 0,\n    ignoreCoarsePointer: true\n  });\n  group.add(elDoji);\n  setLargeStyle(1, elP, seriesModel, data);\n  setLargeStyle(-1, elN, seriesModel, data);\n  setLargeStyle(0, elDoji, seriesModel, data);\n  if (incremental) {\n    elP.incremental = true;\n    elN.incremental = true;\n  }\n  if (progressiveEls) {\n    progressiveEls.push(elP, elN);\n  }\n}\nfunction setLargeStyle(sign, el, seriesModel, data) {\n  // TODO put in visual?\n  var borderColor = getBorderColor(sign, seriesModel)\n  // Use color for border color by default.\n  || getColor(sign, seriesModel);\n  // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n  var itemStyle = seriesModel.getModel('itemStyle').getItemStyle(SKIP_PROPS);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n}\nexport default CandlestickView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport { WhiskerBoxCommonMixin } from '../helper/whiskerBoxCommon.js';\nimport { mixin } from 'zrender/lib/core/util.js';\nvar CandlestickSeriesModel = /** @class */function (_super) {\n  __extends(CandlestickSeriesModel, _super);\n  function CandlestickSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CandlestickSeriesModel.type;\n    _this.defaultValueDimensions = [{\n      name: 'open',\n      defaultTooltip: true\n    }, {\n      name: 'close',\n      defaultTooltip: true\n    }, {\n      name: 'lowest',\n      defaultTooltip: true\n    }, {\n      name: 'highest',\n      defaultTooltip: true\n    }];\n    return _this;\n  }\n  /**\n   * Get dimension for shadow in dataZoom\n   * @return dimension name\n   */\n  CandlestickSeriesModel.prototype.getShadowDim = function () {\n    return 'open';\n  };\n  CandlestickSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    var itemLayout = data.getItemLayout(dataIndex);\n    return itemLayout && selectors.rect(itemLayout.brushRect);\n  };\n  CandlestickSeriesModel.type = 'series.candlestick';\n  CandlestickSeriesModel.dependencies = ['xAxis', 'yAxis', 'grid'];\n  CandlestickSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    layout: null,\n    clip: true,\n    itemStyle: {\n      color: '#eb5454',\n      color0: '#47b262',\n      borderColor: '#eb5454',\n      borderColor0: '#47b262',\n      borderColorDoji: null,\n      // borderColor: '#d24040',\n      // borderColor0: '#398f4f',\n      borderWidth: 1\n    },\n    emphasis: {\n      itemStyle: {\n        borderWidth: 2\n      }\n    },\n    barMaxWidth: null,\n    barMinWidth: null,\n    barWidth: null,\n    large: true,\n    largeThreshold: 600,\n    progressive: 3e3,\n    progressiveThreshold: 1e4,\n    progressiveChunkMode: 'mod',\n    animationEasing: 'linear',\n    animationDuration: 300\n  };\n  return CandlestickSeriesModel;\n}(SeriesModel);\nmixin(CandlestickSeriesModel, WhiskerBoxCommonMixin, true);\nexport default CandlestickSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function candlestickPreprocessor(option) {\n  if (!option || !zrUtil.isArray(option.series)) {\n    return;\n  }\n  // Translate 'k' to 'candlestick'.\n  zrUtil.each(option.series, function (seriesItem) {\n    if (zrUtil.isObject(seriesItem) && seriesItem.type === 'k') {\n      seriesItem.type = 'candlestick';\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { subPixelOptimize } from '../../util/graphic.js';\nimport createRenderPlanner from '../helper/createRenderPlanner.js';\nimport { parsePercent } from '../../util/number.js';\nimport { map, retrieve2 } from 'zrender/lib/core/util.js';\nimport { createFloat32Array } from '../../util/vendor.js';\nvar candlestickLayout = {\n  seriesType: 'candlestick',\n  plan: createRenderPlanner(),\n  reset: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var data = seriesModel.getData();\n    var candleWidth = calculateCandleWidth(seriesModel, data);\n    var cDimIdx = 0;\n    var vDimIdx = 1;\n    var coordDims = ['x', 'y'];\n    var cDimI = data.getDimensionIndex(data.mapDimension(coordDims[cDimIdx]));\n    var vDimsI = map(data.mapDimensionsAll(coordDims[vDimIdx]), data.getDimensionIndex, data);\n    var openDimI = vDimsI[0];\n    var closeDimI = vDimsI[1];\n    var lowestDimI = vDimsI[2];\n    var highestDimI = vDimsI[3];\n    data.setLayout({\n      candleWidth: candleWidth,\n      // The value is experimented visually.\n      isSimpleBox: candleWidth <= 1.3\n    });\n    if (cDimI < 0 || vDimsI.length < 4) {\n      return;\n    }\n    return {\n      progress: seriesModel.pipelineContext.large ? largeProgress : normalProgress\n    };\n    function normalProgress(params, data) {\n      var dataIndex;\n      var store = data.getStore();\n      while ((dataIndex = params.next()) != null) {\n        var axisDimVal = store.get(cDimI, dataIndex);\n        var openVal = store.get(openDimI, dataIndex);\n        var closeVal = store.get(closeDimI, dataIndex);\n        var lowestVal = store.get(lowestDimI, dataIndex);\n        var highestVal = store.get(highestDimI, dataIndex);\n        var ocLow = Math.min(openVal, closeVal);\n        var ocHigh = Math.max(openVal, closeVal);\n        var ocLowPoint = getPoint(ocLow, axisDimVal);\n        var ocHighPoint = getPoint(ocHigh, axisDimVal);\n        var lowestPoint = getPoint(lowestVal, axisDimVal);\n        var highestPoint = getPoint(highestVal, axisDimVal);\n        var ends = [];\n        addBodyEnd(ends, ocHighPoint, 0);\n        addBodyEnd(ends, ocLowPoint, 1);\n        ends.push(subPixelOptimizePoint(highestPoint), subPixelOptimizePoint(ocHighPoint), subPixelOptimizePoint(lowestPoint), subPixelOptimizePoint(ocLowPoint));\n        var itemModel = data.getItemModel(dataIndex);\n        var hasDojiColor = !!itemModel.get(['itemStyle', 'borderColorDoji']);\n        data.setItemLayout(dataIndex, {\n          sign: getSign(store, dataIndex, openVal, closeVal, closeDimI, hasDojiColor),\n          initBaseline: openVal > closeVal ? ocHighPoint[vDimIdx] : ocLowPoint[vDimIdx],\n          ends: ends,\n          brushRect: makeBrushRect(lowestVal, highestVal, axisDimVal)\n        });\n      }\n      function getPoint(val, axisDimVal) {\n        var p = [];\n        p[cDimIdx] = axisDimVal;\n        p[vDimIdx] = val;\n        return isNaN(axisDimVal) || isNaN(val) ? [NaN, NaN] : coordSys.dataToPoint(p);\n      }\n      function addBodyEnd(ends, point, start) {\n        var point1 = point.slice();\n        var point2 = point.slice();\n        point1[cDimIdx] = subPixelOptimize(point1[cDimIdx] + candleWidth / 2, 1, false);\n        point2[cDimIdx] = subPixelOptimize(point2[cDimIdx] - candleWidth / 2, 1, true);\n        start ? ends.push(point1, point2) : ends.push(point2, point1);\n      }\n      function makeBrushRect(lowestVal, highestVal, axisDimVal) {\n        var pmin = getPoint(lowestVal, axisDimVal);\n        var pmax = getPoint(highestVal, axisDimVal);\n        pmin[cDimIdx] -= candleWidth / 2;\n        pmax[cDimIdx] -= candleWidth / 2;\n        return {\n          x: pmin[0],\n          y: pmin[1],\n          width: vDimIdx ? candleWidth : pmax[0] - pmin[0],\n          height: vDimIdx ? pmax[1] - pmin[1] : candleWidth\n        };\n      }\n      function subPixelOptimizePoint(point) {\n        point[cDimIdx] = subPixelOptimize(point[cDimIdx], 1);\n        return point;\n      }\n    }\n    function largeProgress(params, data) {\n      // Structure: [sign, x, yhigh, ylow, sign, x, yhigh, ylow, ...]\n      var points = createFloat32Array(params.count * 4);\n      var offset = 0;\n      var point;\n      var tmpIn = [];\n      var tmpOut = [];\n      var dataIndex;\n      var store = data.getStore();\n      var hasDojiColor = !!seriesModel.get(['itemStyle', 'borderColorDoji']);\n      while ((dataIndex = params.next()) != null) {\n        var axisDimVal = store.get(cDimI, dataIndex);\n        var openVal = store.get(openDimI, dataIndex);\n        var closeVal = store.get(closeDimI, dataIndex);\n        var lowestVal = store.get(lowestDimI, dataIndex);\n        var highestVal = store.get(highestDimI, dataIndex);\n        if (isNaN(axisDimVal) || isNaN(lowestVal) || isNaN(highestVal)) {\n          points[offset++] = NaN;\n          offset += 3;\n          continue;\n        }\n        points[offset++] = getSign(store, dataIndex, openVal, closeVal, closeDimI, hasDojiColor);\n        tmpIn[cDimIdx] = axisDimVal;\n        tmpIn[vDimIdx] = lowestVal;\n        point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n        points[offset++] = point ? point[0] : NaN;\n        points[offset++] = point ? point[1] : NaN;\n        tmpIn[vDimIdx] = highestVal;\n        point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n        points[offset++] = point ? point[1] : NaN;\n      }\n      data.setLayout('largePoints', points);\n    }\n  }\n};\n/**\n * Get the sign of a single data.\n *\n * @returns 0 for doji with hasDojiColor: true,\n *          1 for positive,\n *          -1 for negative.\n */\nfunction getSign(store, dataIndex, openVal, closeVal, closeDimI, hasDojiColor) {\n  var sign;\n  if (openVal > closeVal) {\n    sign = -1;\n  } else if (openVal < closeVal) {\n    sign = 1;\n  } else {\n    sign = hasDojiColor\n    // When doji color is set, use it instead of color/color0.\n    ? 0 : dataIndex > 0\n    // If close === open, compare with close of last record\n    ? store.get(closeDimI, dataIndex - 1) <= closeVal ? 1 : -1\n    // No record of previous, set to be positive\n    : 1;\n  }\n  return sign;\n}\nfunction calculateCandleWidth(seriesModel, data) {\n  var baseAxis = seriesModel.getBaseAxis();\n  var extent;\n  var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : (extent = baseAxis.getExtent(), Math.abs(extent[1] - extent[0]) / data.count());\n  var barMaxWidth = parsePercent(retrieve2(seriesModel.get('barMaxWidth'), bandWidth), bandWidth);\n  var barMinWidth = parsePercent(retrieve2(seriesModel.get('barMinWidth'), 1), bandWidth);\n  var barWidth = seriesModel.get('barWidth');\n  return barWidth != null ? parsePercent(barWidth, bandWidth)\n  // Put max outer to ensure bar visible in spite of overlap.\n  : Math.max(Math.min(bandWidth / 2, barMaxWidth), barMinWidth);\n}\nexport default candlestickLayout;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CandlestickView from './CandlestickView.js';\nimport CandlestickSeriesModel from './CandlestickSeries.js';\nimport preprocessor from './preprocessor.js';\nimport candlestickVisual from './candlestickVisual.js';\nimport candlestickLayout from './candlestickLayout.js';\nexport function install(registers) {\n  registers.registerChartView(CandlestickView);\n  registers.registerSeriesModel(CandlestickSeriesModel);\n  registers.registerPreprocessor(preprocessor);\n  registers.registerVisual(candlestickVisual);\n  registers.registerLayout(candlestickLayout);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { createSymbol, normalizeSymbolOffset, normalizeSymbolSize } from '../../util/symbol.js';\nimport { Group } from '../../util/graphic.js';\nimport { enterEmphasis, leaveEmphasis, toggleHoverEmphasis } from '../../util/states.js';\nimport SymbolClz from './Symbol.js';\nfunction updateRipplePath(rippleGroup, effectCfg) {\n  var color = effectCfg.rippleEffectColor || effectCfg.color;\n  rippleGroup.eachChild(function (ripplePath) {\n    ripplePath.attr({\n      z: effectCfg.z,\n      zlevel: effectCfg.zlevel,\n      style: {\n        stroke: effectCfg.brushType === 'stroke' ? color : null,\n        fill: effectCfg.brushType === 'fill' ? color : null\n      }\n    });\n  });\n}\nvar EffectSymbol = /** @class */function (_super) {\n  __extends(EffectSymbol, _super);\n  function EffectSymbol(data, idx) {\n    var _this = _super.call(this) || this;\n    var symbol = new SymbolClz(data, idx);\n    var rippleGroup = new Group();\n    _this.add(symbol);\n    _this.add(rippleGroup);\n    _this.updateData(data, idx);\n    return _this;\n  }\n  EffectSymbol.prototype.stopEffectAnimation = function () {\n    this.childAt(1).removeAll();\n  };\n  EffectSymbol.prototype.startEffectAnimation = function (effectCfg) {\n    var symbolType = effectCfg.symbolType;\n    var color = effectCfg.color;\n    var rippleNumber = effectCfg.rippleNumber;\n    var rippleGroup = this.childAt(1);\n    for (var i = 0; i < rippleNumber; i++) {\n      // If width/height are set too small (e.g., set to 1) on ios10\n      // and macOS Sierra, a circle stroke become a rect, no matter what\n      // the scale is set. So we set width/height as 2. See #4136.\n      var ripplePath = createSymbol(symbolType, -1, -1, 2, 2, color);\n      ripplePath.attr({\n        style: {\n          strokeNoScale: true\n        },\n        z2: 99,\n        silent: true,\n        scaleX: 0.5,\n        scaleY: 0.5\n      });\n      var delay = -i / rippleNumber * effectCfg.period + effectCfg.effectOffset;\n      ripplePath.animate('', true).when(effectCfg.period, {\n        scaleX: effectCfg.rippleScale / 2,\n        scaleY: effectCfg.rippleScale / 2\n      }).delay(delay).start();\n      ripplePath.animateStyle(true).when(effectCfg.period, {\n        opacity: 0\n      }).delay(delay).start();\n      rippleGroup.add(ripplePath);\n    }\n    updateRipplePath(rippleGroup, effectCfg);\n  };\n  /**\n   * Update effect symbol\n   */\n  EffectSymbol.prototype.updateEffectAnimation = function (effectCfg) {\n    var oldEffectCfg = this._effectCfg;\n    var rippleGroup = this.childAt(1);\n    // Must reinitialize effect if following configuration changed\n    var DIFFICULT_PROPS = ['symbolType', 'period', 'rippleScale', 'rippleNumber'];\n    for (var i = 0; i < DIFFICULT_PROPS.length; i++) {\n      var propName = DIFFICULT_PROPS[i];\n      if (oldEffectCfg[propName] !== effectCfg[propName]) {\n        this.stopEffectAnimation();\n        this.startEffectAnimation(effectCfg);\n        return;\n      }\n    }\n    updateRipplePath(rippleGroup, effectCfg);\n  };\n  /**\n   * Highlight symbol\n   */\n  EffectSymbol.prototype.highlight = function () {\n    enterEmphasis(this);\n  };\n  /**\n   * Downplay symbol\n   */\n  EffectSymbol.prototype.downplay = function () {\n    leaveEmphasis(this);\n  };\n  EffectSymbol.prototype.getSymbolType = function () {\n    var symbol = this.childAt(0);\n    return symbol && symbol.getSymbolType();\n  };\n  /**\n   * Update symbol properties\n   */\n  EffectSymbol.prototype.updateData = function (data, idx) {\n    var _this = this;\n    var seriesModel = data.hostModel;\n    this.childAt(0).updateData(data, idx);\n    var rippleGroup = this.childAt(1);\n    var itemModel = data.getItemModel(idx);\n    var symbolType = data.getItemVisual(idx, 'symbol');\n    var symbolSize = normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n    var symbolStyle = data.getItemVisual(idx, 'style');\n    var color = symbolStyle && symbolStyle.fill;\n    var emphasisModel = itemModel.getModel('emphasis');\n    rippleGroup.setScale(symbolSize);\n    rippleGroup.traverse(function (ripplePath) {\n      ripplePath.setStyle('fill', color);\n    });\n    var symbolOffset = normalizeSymbolOffset(data.getItemVisual(idx, 'symbolOffset'), symbolSize);\n    if (symbolOffset) {\n      rippleGroup.x = symbolOffset[0];\n      rippleGroup.y = symbolOffset[1];\n    }\n    var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n    rippleGroup.rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n    var effectCfg = {};\n    effectCfg.showEffectOn = seriesModel.get('showEffectOn');\n    effectCfg.rippleScale = itemModel.get(['rippleEffect', 'scale']);\n    effectCfg.brushType = itemModel.get(['rippleEffect', 'brushType']);\n    effectCfg.period = itemModel.get(['rippleEffect', 'period']) * 1000;\n    effectCfg.effectOffset = idx / data.count();\n    effectCfg.z = seriesModel.getShallow('z') || 0;\n    effectCfg.zlevel = seriesModel.getShallow('zlevel') || 0;\n    effectCfg.symbolType = symbolType;\n    effectCfg.color = color;\n    effectCfg.rippleEffectColor = itemModel.get(['rippleEffect', 'color']);\n    effectCfg.rippleNumber = itemModel.get(['rippleEffect', 'number']);\n    if (effectCfg.showEffectOn === 'render') {\n      this._effectCfg ? this.updateEffectAnimation(effectCfg) : this.startEffectAnimation(effectCfg);\n      this._effectCfg = effectCfg;\n    } else {\n      // Not keep old effect config\n      this._effectCfg = null;\n      this.stopEffectAnimation();\n      this.onHoverStateChange = function (toState) {\n        if (toState === 'emphasis') {\n          if (effectCfg.showEffectOn !== 'render') {\n            _this.startEffectAnimation(effectCfg);\n          }\n        } else if (toState === 'normal') {\n          if (effectCfg.showEffectOn !== 'render') {\n            _this.stopEffectAnimation();\n          }\n        }\n      };\n    }\n    this._effectCfg = effectCfg;\n    toggleHoverEmphasis(this, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n  };\n  ;\n  EffectSymbol.prototype.fadeOut = function (cb) {\n    cb && cb();\n  };\n  ;\n  return EffectSymbol;\n}(Group);\nexport default EffectSymbol;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw.js';\nimport EffectSymbol from '../helper/EffectSymbol.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport pointsLayout from '../../layout/points.js';\nimport ChartView from '../../view/Chart.js';\nvar EffectScatterView = /** @class */function (_super) {\n  __extends(EffectScatterView, _super);\n  function EffectScatterView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = EffectScatterView.type;\n    return _this;\n  }\n  EffectScatterView.prototype.init = function () {\n    this._symbolDraw = new SymbolDraw(EffectSymbol);\n  };\n  EffectScatterView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var effectSymbolDraw = this._symbolDraw;\n    effectSymbolDraw.updateData(data, {\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this.group.add(effectSymbolDraw.group);\n  };\n  EffectScatterView.prototype._getClipShape = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var clipArea = coordSys && coordSys.getArea && coordSys.getArea();\n    return seriesModel.get('clip', true) ? clipArea : null;\n  };\n  EffectScatterView.prototype.updateTransform = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    this.group.dirty();\n    var res = pointsLayout('').reset(seriesModel, ecModel, api);\n    if (res.progress) {\n      res.progress({\n        start: 0,\n        end: data.count(),\n        count: data.count()\n      }, data);\n    }\n    this._symbolDraw.updateLayout();\n  };\n  EffectScatterView.prototype._updateGroupTransform = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys && coordSys.getRoamTransform) {\n      this.group.transform = matrix.clone(coordSys.getRoamTransform());\n      this.group.decomposeTransform();\n    }\n  };\n  EffectScatterView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n  };\n  EffectScatterView.type = 'effectScatter';\n  return EffectScatterView;\n}(ChartView);\nexport default EffectScatterView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesData from '../helper/createSeriesData.js';\nimport SeriesModel from '../../model/Series.js';\nvar EffectScatterSeriesModel = /** @class */function (_super) {\n  __extends(EffectScatterSeriesModel, _super);\n  function EffectScatterSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = EffectScatterSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n  EffectScatterSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this, {\n      useEncodeDefaulter: true\n    });\n  };\n  EffectScatterSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    return selectors.point(data.getItemLayout(dataIndex));\n  };\n  EffectScatterSeriesModel.type = 'series.effectScatter';\n  EffectScatterSeriesModel.dependencies = ['grid', 'polar'];\n  EffectScatterSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    // zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    effectType: 'ripple',\n    progressive: 0,\n    // When to show the effect, option: 'render'|'emphasis'\n    showEffectOn: 'render',\n    clip: true,\n    // Ripple effect config\n    rippleEffect: {\n      period: 4,\n      // Scale of ripple\n      scale: 2.5,\n      // Brush type can be fill or stroke\n      brushType: 'fill',\n      // Ripple number\n      number: 3\n    },\n    universalTransition: {\n      divideShape: 'clone'\n    },\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // symbol: null,        // 图形类型\n    symbolSize: 10 // 图形大小，半宽（半径）参数，当图形为方向或菱形则总宽度为symbolSize * 2\n    // symbolRotate: null,  // 图形旋转控制\n    // itemStyle: {\n    //     opacity: 1\n    // }\n  };\n  return EffectScatterSeriesModel;\n}(SeriesModel);\nexport default EffectScatterSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport EffectScatterView from './EffectScatterView.js';\nimport EffectScatterSeriesModel from './EffectScatterSeries.js';\nimport layoutPoints from '../../layout/points.js';\nexport function install(registers) {\n  registers.registerChartView(EffectScatterView);\n  registers.registerSeriesModel(EffectScatterSeriesModel);\n  registers.registerLayout(layoutPoints('effectScatter'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Provide effect for line\n */\nimport * as graphic from '../../util/graphic.js';\nimport Line from './Line.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport * as curveUtil from 'zrender/lib/core/curve.js';\nvar EffectLine = /** @class */function (_super) {\n  __extends(EffectLine, _super);\n  function EffectLine(lineData, idx, seriesScope) {\n    var _this = _super.call(this) || this;\n    _this.add(_this.createLine(lineData, idx, seriesScope));\n    _this._updateEffectSymbol(lineData, idx);\n    return _this;\n  }\n  EffectLine.prototype.createLine = function (lineData, idx, seriesScope) {\n    return new Line(lineData, idx, seriesScope);\n  };\n  EffectLine.prototype._updateEffectSymbol = function (lineData, idx) {\n    var itemModel = lineData.getItemModel(idx);\n    var effectModel = itemModel.getModel('effect');\n    var size = effectModel.get('symbolSize');\n    var symbolType = effectModel.get('symbol');\n    if (!zrUtil.isArray(size)) {\n      size = [size, size];\n    }\n    var lineStyle = lineData.getItemVisual(idx, 'style');\n    var color = effectModel.get('color') || lineStyle && lineStyle.stroke;\n    var symbol = this.childAt(1);\n    if (this._symbolType !== symbolType) {\n      // Remove previous\n      this.remove(symbol);\n      symbol = createSymbol(symbolType, -0.5, -0.5, 1, 1, color);\n      symbol.z2 = 100;\n      symbol.culling = true;\n      this.add(symbol);\n    }\n    // Symbol may be removed if loop is false\n    if (!symbol) {\n      return;\n    }\n    // Shadow color is same with color in default\n    symbol.setStyle('shadowColor', color);\n    symbol.setStyle(effectModel.getItemStyle(['color']));\n    symbol.scaleX = size[0];\n    symbol.scaleY = size[1];\n    symbol.setColor(color);\n    this._symbolType = symbolType;\n    this._symbolScale = size;\n    this._updateEffectAnimation(lineData, effectModel, idx);\n  };\n  EffectLine.prototype._updateEffectAnimation = function (lineData, effectModel, idx) {\n    var symbol = this.childAt(1);\n    if (!symbol) {\n      return;\n    }\n    var points = lineData.getItemLayout(idx);\n    var period = effectModel.get('period') * 1000;\n    var loop = effectModel.get('loop');\n    var roundTrip = effectModel.get('roundTrip');\n    var constantSpeed = effectModel.get('constantSpeed');\n    var delayExpr = zrUtil.retrieve(effectModel.get('delay'), function (idx) {\n      return idx / lineData.count() * period / 3;\n    });\n    // Ignore when updating\n    symbol.ignore = true;\n    this._updateAnimationPoints(symbol, points);\n    if (constantSpeed > 0) {\n      period = this._getLineLength(symbol) / constantSpeed * 1000;\n    }\n    if (period !== this._period || loop !== this._loop || roundTrip !== this._roundTrip) {\n      symbol.stopAnimation();\n      var delayNum = void 0;\n      if (zrUtil.isFunction(delayExpr)) {\n        delayNum = delayExpr(idx);\n      } else {\n        delayNum = delayExpr;\n      }\n      if (symbol.__t > 0) {\n        delayNum = -period * symbol.__t;\n      }\n      this._animateSymbol(symbol, period, delayNum, loop, roundTrip);\n    }\n    this._period = period;\n    this._loop = loop;\n    this._roundTrip = roundTrip;\n  };\n  EffectLine.prototype._animateSymbol = function (symbol, period, delayNum, loop, roundTrip) {\n    if (period > 0) {\n      symbol.__t = 0;\n      var self_1 = this;\n      var animator = symbol.animate('', loop).when(roundTrip ? period * 2 : period, {\n        __t: roundTrip ? 2 : 1\n      }).delay(delayNum).during(function () {\n        self_1._updateSymbolPosition(symbol);\n      });\n      if (!loop) {\n        animator.done(function () {\n          self_1.remove(symbol);\n        });\n      }\n      animator.start();\n    }\n  };\n  EffectLine.prototype._getLineLength = function (symbol) {\n    // Not so accurate\n    return vec2.dist(symbol.__p1, symbol.__cp1) + vec2.dist(symbol.__cp1, symbol.__p2);\n  };\n  EffectLine.prototype._updateAnimationPoints = function (symbol, points) {\n    symbol.__p1 = points[0];\n    symbol.__p2 = points[1];\n    symbol.__cp1 = points[2] || [(points[0][0] + points[1][0]) / 2, (points[0][1] + points[1][1]) / 2];\n  };\n  EffectLine.prototype.updateData = function (lineData, idx, seriesScope) {\n    this.childAt(0).updateData(lineData, idx, seriesScope);\n    this._updateEffectSymbol(lineData, idx);\n  };\n  EffectLine.prototype._updateSymbolPosition = function (symbol) {\n    var p1 = symbol.__p1;\n    var p2 = symbol.__p2;\n    var cp1 = symbol.__cp1;\n    var t = symbol.__t < 1 ? symbol.__t : 2 - symbol.__t;\n    var pos = [symbol.x, symbol.y];\n    var lastPos = pos.slice();\n    var quadraticAt = curveUtil.quadraticAt;\n    var quadraticDerivativeAt = curveUtil.quadraticDerivativeAt;\n    pos[0] = quadraticAt(p1[0], cp1[0], p2[0], t);\n    pos[1] = quadraticAt(p1[1], cp1[1], p2[1], t);\n    // Tangent\n    var tx = symbol.__t < 1 ? quadraticDerivativeAt(p1[0], cp1[0], p2[0], t) : quadraticDerivativeAt(p2[0], cp1[0], p1[0], 1 - t);\n    var ty = symbol.__t < 1 ? quadraticDerivativeAt(p1[1], cp1[1], p2[1], t) : quadraticDerivativeAt(p2[1], cp1[1], p1[1], 1 - t);\n    symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2;\n    // enable continuity trail for 'line', 'rect', 'roundRect' symbolType\n    if (this._symbolType === 'line' || this._symbolType === 'rect' || this._symbolType === 'roundRect') {\n      if (symbol.__lastT !== undefined && symbol.__lastT < symbol.__t) {\n        symbol.scaleY = vec2.dist(lastPos, pos) * 1.05;\n        // make sure the last segment render within endPoint\n        if (t === 1) {\n          pos[0] = lastPos[0] + (pos[0] - lastPos[0]) / 2;\n          pos[1] = lastPos[1] + (pos[1] - lastPos[1]) / 2;\n        }\n      } else if (symbol.__lastT === 1) {\n        // After first loop, symbol.__t does NOT start with 0, so connect p1 to pos directly.\n        symbol.scaleY = 2 * vec2.dist(p1, pos);\n      } else {\n        symbol.scaleY = this._symbolScale[1];\n      }\n    }\n    symbol.__lastT = symbol.__t;\n    symbol.ignore = false;\n    symbol.x = pos[0];\n    symbol.y = pos[1];\n  };\n  EffectLine.prototype.updateLayout = function (lineData, idx) {\n    this.childAt(0).updateLayout(lineData, idx);\n    var effectModel = lineData.getItemModel(idx).getModel('effect');\n    this._updateEffectAnimation(lineData, effectModel, idx);\n  };\n  return EffectLine;\n}(graphic.Group);\nexport default EffectLine;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis } from '../../util/states.js';\nvar Polyline = /** @class */function (_super) {\n  __extends(Polyline, _super);\n  function Polyline(lineData, idx, seriesScope) {\n    var _this = _super.call(this) || this;\n    _this._createPolyline(lineData, idx, seriesScope);\n    return _this;\n  }\n  Polyline.prototype._createPolyline = function (lineData, idx, seriesScope) {\n    // let seriesModel = lineData.hostModel;\n    var points = lineData.getItemLayout(idx);\n    var line = new graphic.Polyline({\n      shape: {\n        points: points\n      }\n    });\n    this.add(line);\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n  ;\n  Polyline.prototype.updateData = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childAt(0);\n    var target = {\n      shape: {\n        points: lineData.getItemLayout(idx)\n      }\n    };\n    graphic.updateProps(line, target, seriesModel, idx);\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n  ;\n  Polyline.prototype._updateCommonStl = function (lineData, idx, seriesScope) {\n    var line = this.childAt(0);\n    var itemModel = lineData.getItemModel(idx);\n    var emphasisLineStyle = seriesScope && seriesScope.emphasisLineStyle;\n    var focus = seriesScope && seriesScope.focus;\n    var blurScope = seriesScope && seriesScope.blurScope;\n    var emphasisDisabled = seriesScope && seriesScope.emphasisDisabled;\n    if (!seriesScope || lineData.hasItemOption) {\n      var emphasisModel = itemModel.getModel('emphasis');\n      emphasisLineStyle = emphasisModel.getModel('lineStyle').getLineStyle();\n      emphasisDisabled = emphasisModel.get('disabled');\n      focus = emphasisModel.get('focus');\n      blurScope = emphasisModel.get('blurScope');\n    }\n    line.useStyle(lineData.getItemVisual(idx, 'style'));\n    line.style.fill = null;\n    line.style.strokeNoScale = true;\n    var lineEmphasisState = line.ensureState('emphasis');\n    lineEmphasisState.style = emphasisLineStyle;\n    toggleHoverEmphasis(this, focus, blurScope, emphasisDisabled);\n  };\n  ;\n  Polyline.prototype.updateLayout = function (lineData, idx) {\n    var polyline = this.childAt(0);\n    polyline.setShape('points', lineData.getItemLayout(idx));\n  };\n  ;\n  return Polyline;\n}(graphic.Group);\nexport default Polyline;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Polyline from './Polyline.js';\nimport EffectLine from './EffectLine.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nvar EffectPolyline = /** @class */function (_super) {\n  __extends(EffectPolyline, _super);\n  function EffectPolyline() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._lastFrame = 0;\n    _this._lastFramePercent = 0;\n    return _this;\n  }\n  // Override\n  EffectPolyline.prototype.createLine = function (lineData, idx, seriesScope) {\n    return new Polyline(lineData, idx, seriesScope);\n  };\n  ;\n  // Override\n  EffectPolyline.prototype._updateAnimationPoints = function (symbol, points) {\n    this._points = points;\n    var accLenArr = [0];\n    var len = 0;\n    for (var i = 1; i < points.length; i++) {\n      var p1 = points[i - 1];\n      var p2 = points[i];\n      len += vec2.dist(p1, p2);\n      accLenArr.push(len);\n    }\n    if (len === 0) {\n      this._length = 0;\n      return;\n    }\n    for (var i = 0; i < accLenArr.length; i++) {\n      accLenArr[i] /= len;\n    }\n    this._offsets = accLenArr;\n    this._length = len;\n  };\n  ;\n  // Override\n  EffectPolyline.prototype._getLineLength = function () {\n    return this._length;\n  };\n  ;\n  // Override\n  EffectPolyline.prototype._updateSymbolPosition = function (symbol) {\n    var t = symbol.__t < 1 ? symbol.__t : 2 - symbol.__t;\n    var points = this._points;\n    var offsets = this._offsets;\n    var len = points.length;\n    if (!offsets) {\n      // Has length 0\n      return;\n    }\n    var lastFrame = this._lastFrame;\n    var frame;\n    if (t < this._lastFramePercent) {\n      // Start from the next frame\n      // PENDING start from lastFrame ?\n      var start = Math.min(lastFrame + 1, len - 1);\n      for (frame = start; frame >= 0; frame--) {\n        if (offsets[frame] <= t) {\n          break;\n        }\n      }\n      // PENDING really need to do this ?\n      frame = Math.min(frame, len - 2);\n    } else {\n      for (frame = lastFrame; frame < len; frame++) {\n        if (offsets[frame] > t) {\n          break;\n        }\n      }\n      frame = Math.min(frame - 1, len - 2);\n    }\n    var p = (t - offsets[frame]) / (offsets[frame + 1] - offsets[frame]);\n    var p0 = points[frame];\n    var p1 = points[frame + 1];\n    symbol.x = p0[0] * (1 - p) + p * p1[0];\n    symbol.y = p0[1] * (1 - p) + p * p1[1];\n    var tx = symbol.__t < 1 ? p1[0] - p0[0] : p0[0] - p1[0];\n    var ty = symbol.__t < 1 ? p1[1] - p0[1] : p0[1] - p1[1];\n    symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2;\n    this._lastFrame = frame;\n    this._lastFramePercent = t;\n    symbol.ignore = false;\n  };\n  ;\n  return EffectPolyline;\n}(EffectLine);\nexport default EffectPolyline;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n// TODO Batch by color\nimport * as graphic from '../../util/graphic.js';\nimport * as lineContain from 'zrender/lib/contain/line.js';\nimport * as quadraticContain from 'zrender/lib/contain/quadratic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport tokens from '../../visual/tokens.js';\nvar LargeLinesPathShape = /** @class */function () {\n  function LargeLinesPathShape() {\n    this.polyline = false;\n    this.curveness = 0;\n    this.segs = [];\n  }\n  return LargeLinesPathShape;\n}();\nvar LargeLinesPath = /** @class */function (_super) {\n  __extends(LargeLinesPath, _super);\n  function LargeLinesPath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this._off = 0;\n    _this.hoverDataIdx = -1;\n    return _this;\n  }\n  LargeLinesPath.prototype.reset = function () {\n    this.notClear = false;\n    this._off = 0;\n  };\n  LargeLinesPath.prototype.getDefaultStyle = function () {\n    return {\n      stroke: tokens.color.neutral99,\n      fill: null\n    };\n  };\n  LargeLinesPath.prototype.getDefaultShape = function () {\n    return new LargeLinesPathShape();\n  };\n  LargeLinesPath.prototype.buildPath = function (ctx, shape) {\n    var segs = shape.segs;\n    var curveness = shape.curveness;\n    var i;\n    if (shape.polyline) {\n      for (i = this._off; i < segs.length;) {\n        var count = segs[i++];\n        if (count > 0) {\n          ctx.moveTo(segs[i++], segs[i++]);\n          for (var k = 1; k < count; k++) {\n            ctx.lineTo(segs[i++], segs[i++]);\n          }\n        }\n      }\n    } else {\n      for (i = this._off; i < segs.length;) {\n        var x0 = segs[i++];\n        var y0 = segs[i++];\n        var x1 = segs[i++];\n        var y1 = segs[i++];\n        ctx.moveTo(x0, y0);\n        if (curveness > 0) {\n          var x2 = (x0 + x1) / 2 - (y0 - y1) * curveness;\n          var y2 = (y0 + y1) / 2 - (x1 - x0) * curveness;\n          ctx.quadraticCurveTo(x2, y2, x1, y1);\n        } else {\n          ctx.lineTo(x1, y1);\n        }\n      }\n    }\n    if (this.incremental) {\n      this._off = i;\n      this.notClear = true;\n    }\n  };\n  LargeLinesPath.prototype.findDataIndex = function (x, y) {\n    var shape = this.shape;\n    var segs = shape.segs;\n    var curveness = shape.curveness;\n    var lineWidth = this.style.lineWidth;\n    if (shape.polyline) {\n      var dataIndex = 0;\n      for (var i = 0; i < segs.length;) {\n        var count = segs[i++];\n        if (count > 0) {\n          var x0 = segs[i++];\n          var y0 = segs[i++];\n          for (var k = 1; k < count; k++) {\n            var x1 = segs[i++];\n            var y1 = segs[i++];\n            if (lineContain.containStroke(x0, y0, x1, y1, lineWidth, x, y)) {\n              return dataIndex;\n            }\n          }\n        }\n        dataIndex++;\n      }\n    } else {\n      var dataIndex = 0;\n      for (var i = 0; i < segs.length;) {\n        var x0 = segs[i++];\n        var y0 = segs[i++];\n        var x1 = segs[i++];\n        var y1 = segs[i++];\n        if (curveness > 0) {\n          var x2 = (x0 + x1) / 2 - (y0 - y1) * curveness;\n          var y2 = (y0 + y1) / 2 - (x1 - x0) * curveness;\n          if (quadraticContain.containStroke(x0, y0, x2, y2, x1, y1, lineWidth, x, y)) {\n            return dataIndex;\n          }\n        } else {\n          if (lineContain.containStroke(x0, y0, x1, y1, lineWidth, x, y)) {\n            return dataIndex;\n          }\n        }\n        dataIndex++;\n      }\n    }\n    return -1;\n  };\n  LargeLinesPath.prototype.contain = function (x, y) {\n    var localPos = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    x = localPos[0];\n    y = localPos[1];\n    if (rect.contain(x, y)) {\n      // Cache found data index.\n      var dataIdx = this.hoverDataIdx = this.findDataIndex(x, y);\n      return dataIdx >= 0;\n    }\n    this.hoverDataIdx = -1;\n    return false;\n  };\n  LargeLinesPath.prototype.getBoundingRect = function () {\n    // Ignore stroke for large symbol draw.\n    var rect = this._rect;\n    if (!rect) {\n      var shape = this.shape;\n      var points = shape.segs;\n      var minX = Infinity;\n      var minY = Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n      for (var i = 0; i < points.length;) {\n        var x = points[i++];\n        var y = points[i++];\n        minX = Math.min(x, minX);\n        maxX = Math.max(x, maxX);\n        minY = Math.min(y, minY);\n        maxY = Math.max(y, maxY);\n      }\n      rect = this._rect = new graphic.BoundingRect(minX, minY, maxX, maxY);\n    }\n    return rect;\n  };\n  return LargeLinesPath;\n}(graphic.Path);\nvar LargeLineDraw = /** @class */function () {\n  function LargeLineDraw() {\n    this.group = new graphic.Group();\n  }\n  /**\n   * Update symbols draw by new data\n   */\n  LargeLineDraw.prototype.updateData = function (data) {\n    this._clear();\n    var lineEl = this._create();\n    lineEl.setShape({\n      segs: data.getLayout('linesPoints')\n    });\n    this._setCommon(lineEl, data);\n  };\n  ;\n  /**\n   * @override\n   */\n  LargeLineDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this.group.removeAll();\n    this._clear();\n  };\n  ;\n  /**\n   * @override\n   */\n  LargeLineDraw.prototype.incrementalUpdate = function (taskParams, data) {\n    var lastAdded = this._newAdded[0];\n    var linePoints = data.getLayout('linesPoints');\n    var oldSegs = lastAdded && lastAdded.shape.segs;\n    // Merging the exists. Each element has 1e4 points.\n    // Consider the performance balance between too much elements and too much points in one shape(may affect hover optimization)\n    if (oldSegs && oldSegs.length < 2e4) {\n      var oldLen = oldSegs.length;\n      var newSegs = new Float32Array(oldLen + linePoints.length);\n      // Concat two array\n      newSegs.set(oldSegs);\n      newSegs.set(linePoints, oldLen);\n      lastAdded.setShape({\n        segs: newSegs\n      });\n    } else {\n      // Clear\n      this._newAdded = [];\n      var lineEl = this._create();\n      lineEl.incremental = true;\n      lineEl.setShape({\n        segs: linePoints\n      });\n      this._setCommon(lineEl, data);\n      lineEl.__startIndex = taskParams.start;\n    }\n  };\n  /**\n   * @override\n   */\n  LargeLineDraw.prototype.remove = function () {\n    this._clear();\n  };\n  LargeLineDraw.prototype.eachRendered = function (cb) {\n    this._newAdded[0] && cb(this._newAdded[0]);\n  };\n  LargeLineDraw.prototype._create = function () {\n    var lineEl = new LargeLinesPath({\n      cursor: 'default',\n      ignoreCoarsePointer: true\n    });\n    this._newAdded.push(lineEl);\n    this.group.add(lineEl);\n    return lineEl;\n  };\n  LargeLineDraw.prototype._setCommon = function (lineEl, data, isIncremental) {\n    var hostModel = data.hostModel;\n    lineEl.setShape({\n      polyline: hostModel.get('polyline'),\n      curveness: hostModel.get(['lineStyle', 'curveness'])\n    });\n    lineEl.useStyle(hostModel.getModel('lineStyle').getLineStyle());\n    lineEl.style.strokeNoScale = true;\n    var style = data.getVisual('style');\n    if (style && style.stroke) {\n      lineEl.setStyle('stroke', style.stroke);\n    }\n    lineEl.setStyle('fill', null);\n    var ecData = getECData(lineEl);\n    // Enable tooltip\n    // PENDING May have performance issue when path is extremely large\n    ecData.seriesIndex = hostModel.seriesIndex;\n    lineEl.on('mousemove', function (e) {\n      ecData.dataIndex = null;\n      var dataIndex = lineEl.hoverDataIdx;\n      if (dataIndex > 0) {\n        // Provide dataIndex for tooltip\n        ecData.dataIndex = dataIndex + lineEl.__startIndex;\n      }\n    });\n  };\n  ;\n  LargeLineDraw.prototype._clear = function () {\n    this._newAdded = [];\n    this.group.removeAll();\n  };\n  ;\n  return LargeLineDraw;\n}();\nexport default LargeLineDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/* global Float32Array */\nimport createRenderPlanner from '../helper/createRenderPlanner.js';\nimport { error } from '../../util/log.js';\nvar linesLayout = {\n  seriesType: 'lines',\n  plan: createRenderPlanner(),\n  reset: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    if (!coordSys) {\n      if (process.env.NODE_ENV !== 'production') {\n        error('The lines series must have a coordinate system.');\n      }\n      return;\n    }\n    var isPolyline = seriesModel.get('polyline');\n    var isLarge = seriesModel.pipelineContext.large;\n    return {\n      progress: function (params, lineData) {\n        var lineCoords = [];\n        if (isLarge) {\n          var points = void 0;\n          var segCount = params.end - params.start;\n          if (isPolyline) {\n            var totalCoordsCount = 0;\n            for (var i = params.start; i < params.end; i++) {\n              totalCoordsCount += seriesModel.getLineCoordsCount(i);\n            }\n            points = new Float32Array(segCount + totalCoordsCount * 2);\n          } else {\n            points = new Float32Array(segCount * 4);\n          }\n          var offset = 0;\n          var pt = [];\n          for (var i = params.start; i < params.end; i++) {\n            var len = seriesModel.getLineCoords(i, lineCoords);\n            if (isPolyline) {\n              points[offset++] = len;\n            }\n            for (var k = 0; k < len; k++) {\n              pt = coordSys.dataToPoint(lineCoords[k], false, pt);\n              points[offset++] = pt[0];\n              points[offset++] = pt[1];\n            }\n          }\n          lineData.setLayout('linesPoints', points);\n        } else {\n          for (var i = params.start; i < params.end; i++) {\n            var itemModel = lineData.getItemModel(i);\n            var len = seriesModel.getLineCoords(i, lineCoords);\n            var pts = [];\n            if (isPolyline) {\n              for (var j = 0; j < len; j++) {\n                pts.push(coordSys.dataToPoint(lineCoords[j]));\n              }\n            } else {\n              pts[0] = coordSys.dataToPoint(lineCoords[0]);\n              pts[1] = coordSys.dataToPoint(lineCoords[1]);\n              var curveness = itemModel.get(['lineStyle', 'curveness']);\n              if (+curveness) {\n                pts[2] = [(pts[0][0] + pts[1][0]) / 2 - (pts[0][1] - pts[1][1]) * curveness, (pts[0][1] + pts[1][1]) / 2 - (pts[1][0] - pts[0][0]) * curveness];\n              }\n            }\n            lineData.setItemLayout(i, pts);\n          }\n        }\n      }\n    };\n  }\n};\nexport default linesLayout;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport LineDraw from '../helper/LineDraw.js';\nimport EffectLine from '../helper/EffectLine.js';\nimport Line from '../helper/Line.js';\nimport Polyline from '../helper/Polyline.js';\nimport EffectPolyline from '../helper/EffectPolyline.js';\nimport LargeLineDraw from '../helper/LargeLineDraw.js';\nimport linesLayout from './linesLayout.js';\nimport { createClipPath } from '../helper/createClipPathFromCoordSys.js';\nimport ChartView from '../../view/Chart.js';\nvar LinesView = /** @class */function (_super) {\n  __extends(LinesView, _super);\n  function LinesView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = LinesView.type;\n    return _this;\n  }\n  LinesView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var lineDraw = this._updateLineDraw(data, seriesModel);\n    var zlevel = seriesModel.get('zlevel');\n    var trailLength = seriesModel.get(['effect', 'trailLength']);\n    var zr = api.getZr();\n    // Avoid the drag cause ghost shadow\n    // FIXME Better way ?\n    // SVG doesn't support\n    var isSvg = zr.painter.getType() === 'svg';\n    if (!isSvg) {\n      zr.painter.getLayer(zlevel).clear(true);\n    }\n    // Config layer with motion blur\n    if (this._lastZlevel != null && !isSvg) {\n      zr.configLayer(this._lastZlevel, {\n        motionBlur: false\n      });\n    }\n    if (this._showEffect(seriesModel) && trailLength > 0) {\n      if (!isSvg) {\n        zr.configLayer(zlevel, {\n          motionBlur: true,\n          lastFrameAlpha: Math.max(Math.min(trailLength / 10 + 0.9, 1), 0)\n        });\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.warn('SVG render mode doesn\\'t support lines with trail effect');\n      }\n    }\n    lineDraw.updateData(data);\n    var clipPath = seriesModel.get('clip', true) && createClipPath(seriesModel.coordinateSystem, false, seriesModel);\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n    this._lastZlevel = zlevel;\n    this._finished = true;\n  };\n  LinesView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var lineDraw = this._updateLineDraw(data, seriesModel);\n    lineDraw.incrementalPrepareUpdate(data);\n    this._clearLayer(api);\n    this._finished = false;\n  };\n  LinesView.prototype.incrementalRender = function (taskParams, seriesModel, ecModel) {\n    this._lineDraw.incrementalUpdate(taskParams, seriesModel.getData());\n    this._finished = taskParams.end === seriesModel.getData().count();\n  };\n  LinesView.prototype.eachRendered = function (cb) {\n    this._lineDraw && this._lineDraw.eachRendered(cb);\n  };\n  LinesView.prototype.updateTransform = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var pipelineContext = seriesModel.pipelineContext;\n    if (!this._finished || pipelineContext.large || pipelineContext.progressiveRender) {\n      // TODO Don't have to do update in large mode. Only do it when there are millions of data.\n      return {\n        update: true\n      };\n    } else {\n      // TODO Use same logic with ScatterView.\n      // Manually update layout\n      var res = linesLayout.reset(seriesModel, ecModel, api);\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count(),\n          count: data.count()\n        }, data);\n      }\n      // Not in large mode\n      this._lineDraw.updateLayout();\n      this._clearLayer(api);\n    }\n  };\n  LinesView.prototype._updateLineDraw = function (data, seriesModel) {\n    var lineDraw = this._lineDraw;\n    var hasEffect = this._showEffect(seriesModel);\n    var isPolyline = !!seriesModel.get('polyline');\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n    if (process.env.NODE_ENV !== 'production') {\n      if (hasEffect && isLargeDraw) {\n        console.warn('Large lines not support effect');\n      }\n    }\n    if (!lineDraw || hasEffect !== this._hasEffet || isPolyline !== this._isPolyline || isLargeDraw !== this._isLargeDraw) {\n      if (lineDraw) {\n        lineDraw.remove();\n      }\n      lineDraw = this._lineDraw = isLargeDraw ? new LargeLineDraw() : new LineDraw(isPolyline ? hasEffect ? EffectPolyline : Polyline : hasEffect ? EffectLine : Line);\n      this._hasEffet = hasEffect;\n      this._isPolyline = isPolyline;\n      this._isLargeDraw = isLargeDraw;\n    }\n    this.group.add(lineDraw.group);\n    return lineDraw;\n  };\n  LinesView.prototype._showEffect = function (seriesModel) {\n    return !!seriesModel.get(['effect', 'show']);\n  };\n  LinesView.prototype._clearLayer = function (api) {\n    // Not use motion when dragging or zooming\n    var zr = api.getZr();\n    var isSvg = zr.painter.getType() === 'svg';\n    if (!isSvg && this._lastZlevel != null) {\n      zr.painter.getLayer(this._lastZlevel).clear(true);\n    }\n  };\n  LinesView.prototype.remove = function (ecModel, api) {\n    this._lineDraw && this._lineDraw.remove();\n    this._lineDraw = null;\n    // Clear motion when lineDraw is removed\n    this._clearLayer(api);\n  };\n  LinesView.prototype.dispose = function (ecModel, api) {\n    this.remove(ecModel, api);\n  };\n  LinesView.type = 'lines';\n  return LinesView;\n}(ChartView);\nexport default LinesView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global Uint32Array, Float64Array, Float32Array */\nimport SeriesModel from '../../model/Series.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport { concatArray, mergeAll, map, isNumber } from 'zrender/lib/core/util.js';\nimport CoordinateSystem from '../../core/CoordinateSystem.js';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup.js';\nvar Uint32Arr = typeof Uint32Array === 'undefined' ? Array : Uint32Array;\nvar Float64Arr = typeof Float64Array === 'undefined' ? Array : Float64Array;\nfunction compatEc2(seriesOpt) {\n  var data = seriesOpt.data;\n  if (data && data[0] && data[0][0] && data[0][0].coord) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('Lines data configuration has been changed to' + ' { coords:[[1,2],[2,3]] }');\n    }\n    seriesOpt.data = map(data, function (itemOpt) {\n      var coords = [itemOpt[0].coord, itemOpt[1].coord];\n      var target = {\n        coords: coords\n      };\n      if (itemOpt[0].name) {\n        target.fromName = itemOpt[0].name;\n      }\n      if (itemOpt[1].name) {\n        target.toName = itemOpt[1].name;\n      }\n      return mergeAll([target, itemOpt[0], itemOpt[1]]);\n    });\n  }\n}\nvar LinesSeriesModel = /** @class */function (_super) {\n  __extends(LinesSeriesModel, _super);\n  function LinesSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = LinesSeriesModel.type;\n    _this.visualStyleAccessPath = 'lineStyle';\n    _this.visualDrawType = 'stroke';\n    return _this;\n  }\n  LinesSeriesModel.prototype.init = function (option) {\n    // The input data may be null/undefined.\n    option.data = option.data || [];\n    // Not using preprocessor because mergeOption may not have series.type\n    compatEc2(option);\n    var result = this._processFlatCoordsArray(option.data);\n    this._flatCoords = result.flatCoords;\n    this._flatCoordsOffset = result.flatCoordsOffset;\n    if (result.flatCoords) {\n      option.data = new Float32Array(result.count);\n    }\n    _super.prototype.init.apply(this, arguments);\n  };\n  LinesSeriesModel.prototype.mergeOption = function (option) {\n    compatEc2(option);\n    if (option.data) {\n      // Only update when have option data to merge.\n      var result = this._processFlatCoordsArray(option.data);\n      this._flatCoords = result.flatCoords;\n      this._flatCoordsOffset = result.flatCoordsOffset;\n      if (result.flatCoords) {\n        option.data = new Float32Array(result.count);\n      }\n    }\n    _super.prototype.mergeOption.apply(this, arguments);\n  };\n  LinesSeriesModel.prototype.appendData = function (params) {\n    var result = this._processFlatCoordsArray(params.data);\n    if (result.flatCoords) {\n      if (!this._flatCoords) {\n        this._flatCoords = result.flatCoords;\n        this._flatCoordsOffset = result.flatCoordsOffset;\n      } else {\n        this._flatCoords = concatArray(this._flatCoords, result.flatCoords);\n        this._flatCoordsOffset = concatArray(this._flatCoordsOffset, result.flatCoordsOffset);\n      }\n      params.data = new Float32Array(result.count);\n    }\n    this.getRawData().appendData(params.data);\n  };\n  LinesSeriesModel.prototype._getCoordsFromItemModel = function (idx) {\n    var itemModel = this.getData().getItemModel(idx);\n    var coords = itemModel.option instanceof Array ? itemModel.option : itemModel.getShallow('coords');\n    if (process.env.NODE_ENV !== 'production') {\n      if (!(coords instanceof Array && coords.length > 0 && coords[0] instanceof Array)) {\n        throw new Error('Invalid coords ' + JSON.stringify(coords) + '. Lines must have 2d coords array in data item.');\n      }\n    }\n    return coords;\n  };\n  LinesSeriesModel.prototype.getLineCoordsCount = function (idx) {\n    if (this._flatCoordsOffset) {\n      return this._flatCoordsOffset[idx * 2 + 1];\n    } else {\n      return this._getCoordsFromItemModel(idx).length;\n    }\n  };\n  LinesSeriesModel.prototype.getLineCoords = function (idx, out) {\n    if (this._flatCoordsOffset) {\n      var offset = this._flatCoordsOffset[idx * 2];\n      var len = this._flatCoordsOffset[idx * 2 + 1];\n      for (var i = 0; i < len; i++) {\n        out[i] = out[i] || [];\n        out[i][0] = this._flatCoords[offset + i * 2];\n        out[i][1] = this._flatCoords[offset + i * 2 + 1];\n      }\n      return len;\n    } else {\n      var coords = this._getCoordsFromItemModel(idx);\n      for (var i = 0; i < coords.length; i++) {\n        out[i] = out[i] || [];\n        out[i][0] = coords[i][0];\n        out[i][1] = coords[i][1];\n      }\n      return coords.length;\n    }\n  };\n  LinesSeriesModel.prototype._processFlatCoordsArray = function (data) {\n    var startOffset = 0;\n    if (this._flatCoords) {\n      startOffset = this._flatCoords.length;\n    }\n    // Stored as a typed array. In format\n    // Points Count(2) | x | y | x | y | Points Count(3) | x |  y | x | y | x | y |\n    if (isNumber(data[0])) {\n      var len = data.length;\n      // Store offset and len of each segment\n      var coordsOffsetAndLenStorage = new Uint32Arr(len);\n      var coordsStorage = new Float64Arr(len);\n      var coordsCursor = 0;\n      var offsetCursor = 0;\n      var dataCount = 0;\n      for (var i = 0; i < len;) {\n        dataCount++;\n        var count = data[i++];\n        // Offset\n        coordsOffsetAndLenStorage[offsetCursor++] = coordsCursor + startOffset;\n        // Len\n        coordsOffsetAndLenStorage[offsetCursor++] = count;\n        for (var k = 0; k < count; k++) {\n          var x = data[i++];\n          var y = data[i++];\n          coordsStorage[coordsCursor++] = x;\n          coordsStorage[coordsCursor++] = y;\n          if (i > len) {\n            if (process.env.NODE_ENV !== 'production') {\n              throw new Error('Invalid data format.');\n            }\n          }\n        }\n      }\n      return {\n        flatCoordsOffset: new Uint32Array(coordsOffsetAndLenStorage.buffer, 0, offsetCursor),\n        flatCoords: coordsStorage,\n        count: dataCount\n      };\n    }\n    return {\n      flatCoordsOffset: null,\n      flatCoords: null,\n      count: data.length\n    };\n  };\n  LinesSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    if (process.env.NODE_ENV !== 'production') {\n      var CoordSys = CoordinateSystem.get(option.coordinateSystem);\n      if (!CoordSys) {\n        throw new Error('Unknown coordinate system ' + option.coordinateSystem);\n      }\n    }\n    var lineData = new SeriesData(['value'], this);\n    lineData.hasItemOption = false;\n    lineData.initData(option.data, [], function (dataItem, dimName, dataIndex, dimIndex) {\n      // dataItem is simply coords\n      if (dataItem instanceof Array) {\n        return NaN;\n      } else {\n        lineData.hasItemOption = true;\n        var value = dataItem.value;\n        if (value != null) {\n          return value instanceof Array ? value[dimIndex] : value;\n        }\n      }\n    });\n    return lineData;\n  };\n  LinesSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var data = this.getData();\n    var itemModel = data.getItemModel(dataIndex);\n    var name = itemModel.get('name');\n    if (name) {\n      return name;\n    }\n    var fromName = itemModel.get('fromName');\n    var toName = itemModel.get('toName');\n    var nameArr = [];\n    fromName != null && nameArr.push(fromName);\n    toName != null && nameArr.push(toName);\n    return createTooltipMarkup('nameValue', {\n      name: nameArr.join(' > ')\n    });\n  };\n  LinesSeriesModel.prototype.preventIncremental = function () {\n    return !!this.get(['effect', 'show']);\n  };\n  LinesSeriesModel.prototype.getProgressive = function () {\n    var progressive = this.option.progressive;\n    if (progressive == null) {\n      return this.option.large ? 1e4 : this.get('progressive');\n    }\n    return progressive;\n  };\n  LinesSeriesModel.prototype.getProgressiveThreshold = function () {\n    var progressiveThreshold = this.option.progressiveThreshold;\n    if (progressiveThreshold == null) {\n      return this.option.large ? 2e4 : this.get('progressiveThreshold');\n    }\n    return progressiveThreshold;\n  };\n  LinesSeriesModel.prototype.getZLevelKey = function () {\n    var effectModel = this.getModel('effect');\n    var trailLength = effectModel.get('trailLength');\n    return this.getData().count() > this.getProgressiveThreshold()\n    // Each progressive series has individual key.\n    ? this.id : effectModel.get('show') && trailLength > 0 ? trailLength + '' : '';\n  };\n  LinesSeriesModel.type = 'series.lines';\n  LinesSeriesModel.dependencies = ['grid', 'polar', 'geo', 'calendar'];\n  LinesSeriesModel.defaultOption = {\n    coordinateSystem: 'geo',\n    // zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    // Cartesian coordinate system\n    xAxisIndex: 0,\n    yAxisIndex: 0,\n    symbol: ['none', 'none'],\n    symbolSize: [10, 10],\n    // Geo coordinate system\n    geoIndex: 0,\n    effect: {\n      show: false,\n      period: 4,\n      constantSpeed: 0,\n      symbol: 'circle',\n      symbolSize: 3,\n      loop: true,\n      trailLength: 0.2\n    },\n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    polyline: false,\n    clip: true,\n    label: {\n      show: false,\n      position: 'end'\n      // distance: 5,\n      // formatter: 标签文本格式器，同Tooltip.formatter，不支持异步回调\n    },\n    lineStyle: {\n      opacity: 0.5\n    }\n  };\n  return LinesSeriesModel;\n}(SeriesModel);\nexport default LinesSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction normalize(a) {\n  if (!(a instanceof Array)) {\n    a = [a, a];\n  }\n  return a;\n}\nvar linesVisual = {\n  seriesType: 'lines',\n  reset: function (seriesModel) {\n    var symbolType = normalize(seriesModel.get('symbol'));\n    var symbolSize = normalize(seriesModel.get('symbolSize'));\n    var data = seriesModel.getData();\n    data.setVisual('fromSymbol', symbolType && symbolType[0]);\n    data.setVisual('toSymbol', symbolType && symbolType[1]);\n    data.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n    data.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n    function dataEach(data, idx) {\n      var itemModel = data.getItemModel(idx);\n      var symbolType = normalize(itemModel.getShallow('symbol', true));\n      var symbolSize = normalize(itemModel.getShallow('symbolSize', true));\n      symbolType[0] && data.setItemVisual(idx, 'fromSymbol', symbolType[0]);\n      symbolType[1] && data.setItemVisual(idx, 'toSymbol', symbolType[1]);\n      symbolSize[0] && data.setItemVisual(idx, 'fromSymbolSize', symbolSize[0]);\n      symbolSize[1] && data.setItemVisual(idx, 'toSymbolSize', symbolSize[1]);\n    }\n    return {\n      dataEach: data.hasItemOption ? dataEach : null\n    };\n  }\n};\nexport default linesVisual;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LinesView from './LinesView.js';\nimport LinesSeriesModel from './LinesSeries.js';\nimport linesLayout from './linesLayout.js';\nimport linesVisual from './linesVisual.js';\nexport function install(registers) {\n  registers.registerChartView(LinesView);\n  registers.registerSeriesModel(LinesSeriesModel);\n  registers.registerLayout(linesLayout);\n  registers.registerVisual(linesVisual);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/* global Uint8ClampedArray */\nimport { platformApi } from 'zrender/lib/core/platform.js';\nimport tokens from '../../visual/tokens.js';\nvar GRADIENT_LEVELS = 256;\nvar HeatmapLayer = /** @class */function () {\n  function HeatmapLayer() {\n    this.blurSize = 30;\n    this.pointSize = 20;\n    this.maxOpacity = 1;\n    this.minOpacity = 0;\n    this._gradientPixels = {\n      inRange: null,\n      outOfRange: null\n    };\n    var canvas = platformApi.createCanvas();\n    this.canvas = canvas;\n  }\n  /**\n   * Renders Heatmap and returns the rendered canvas\n   * @param data array of data, each has x, y, value\n   * @param width canvas width\n   * @param height canvas height\n   */\n  HeatmapLayer.prototype.update = function (data, width, height, normalize, colorFunc, isInRange) {\n    var brush = this._getBrush();\n    var gradientInRange = this._getGradient(colorFunc, 'inRange');\n    var gradientOutOfRange = this._getGradient(colorFunc, 'outOfRange');\n    var r = this.pointSize + this.blurSize;\n    var canvas = this.canvas;\n    var ctx = canvas.getContext('2d');\n    var len = data.length;\n    canvas.width = width;\n    canvas.height = height;\n    for (var i = 0; i < len; ++i) {\n      var p = data[i];\n      var x = p[0];\n      var y = p[1];\n      var value = p[2];\n      // calculate alpha using value\n      var alpha = normalize(value);\n      // draw with the circle brush with alpha\n      ctx.globalAlpha = alpha;\n      ctx.drawImage(brush, x - r, y - r);\n    }\n    if (!canvas.width || !canvas.height) {\n      // Avoid \"Uncaught DOMException: Failed to execute 'getImageData' on\n      // 'CanvasRenderingContext2D': The source height is 0.\"\n      return canvas;\n    }\n    // colorize the canvas using alpha value and set with gradient\n    var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    var pixels = imageData.data;\n    var offset = 0;\n    var pixelLen = pixels.length;\n    var minOpacity = this.minOpacity;\n    var maxOpacity = this.maxOpacity;\n    var diffOpacity = maxOpacity - minOpacity;\n    while (offset < pixelLen) {\n      var alpha = pixels[offset + 3] / 256;\n      var gradientOffset = Math.floor(alpha * (GRADIENT_LEVELS - 1)) * 4;\n      // Simple optimize to ignore the empty data\n      if (alpha > 0) {\n        var gradient = isInRange(alpha) ? gradientInRange : gradientOutOfRange;\n        // Any alpha > 0 will be mapped to [minOpacity, maxOpacity]\n        alpha > 0 && (alpha = alpha * diffOpacity + minOpacity);\n        pixels[offset++] = gradient[gradientOffset];\n        pixels[offset++] = gradient[gradientOffset + 1];\n        pixels[offset++] = gradient[gradientOffset + 2];\n        pixels[offset++] = gradient[gradientOffset + 3] * alpha * 256;\n      } else {\n        offset += 4;\n      }\n    }\n    ctx.putImageData(imageData, 0, 0);\n    return canvas;\n  };\n  /**\n   * get canvas of a black circle brush used for canvas to draw later\n   */\n  HeatmapLayer.prototype._getBrush = function () {\n    var brushCanvas = this._brushCanvas || (this._brushCanvas = platformApi.createCanvas());\n    // set brush size\n    var r = this.pointSize + this.blurSize;\n    var d = r * 2;\n    brushCanvas.width = d;\n    brushCanvas.height = d;\n    var ctx = brushCanvas.getContext('2d');\n    ctx.clearRect(0, 0, d, d);\n    // in order to render shadow without the distinct circle,\n    // draw the distinct circle in an invisible place,\n    // and use shadowOffset to draw shadow in the center of the canvas\n    ctx.shadowOffsetX = d;\n    ctx.shadowBlur = this.blurSize;\n    // draw the shadow in black, and use alpha and shadow blur to generate\n    // color in color map\n    ctx.shadowColor = tokens.color.neutral99;\n    // draw circle in the left to the canvas\n    ctx.beginPath();\n    ctx.arc(-r, r, this.pointSize, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n    return brushCanvas;\n  };\n  /**\n   * get gradient color map\n   * @private\n   */\n  HeatmapLayer.prototype._getGradient = function (colorFunc, state) {\n    var gradientPixels = this._gradientPixels;\n    var pixelsSingleState = gradientPixels[state] || (gradientPixels[state] = new Uint8ClampedArray(256 * 4));\n    var color = [0, 0, 0, 0];\n    var off = 0;\n    for (var i = 0; i < 256; i++) {\n      colorFunc[state](i / 255, true, color);\n      pixelsSingleState[off++] = color[0];\n      pixelsSingleState[off++] = color[1];\n      pixelsSingleState[off++] = color[2];\n      pixelsSingleState[off++] = color[3];\n    }\n    return pixelsSingleState;\n  };\n  return HeatmapLayer;\n}();\nexport default HeatmapLayer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis } from '../../util/states.js';\nimport HeatmapLayer from './HeatmapLayer.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ChartView from '../../view/Chart.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nfunction getIsInPiecewiseRange(dataExtent, pieceList, selected) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  pieceList = zrUtil.map(pieceList, function (piece) {\n    return {\n      interval: [(piece.interval[0] - dataExtent[0]) / dataSpan, (piece.interval[1] - dataExtent[0]) / dataSpan]\n    };\n  });\n  var len = pieceList.length;\n  var lastIndex = 0;\n  return function (val) {\n    var i;\n    // Try to find in the location of the last found\n    for (i = lastIndex; i < len; i++) {\n      var interval = pieceList[i].interval;\n      if (interval[0] <= val && val <= interval[1]) {\n        lastIndex = i;\n        break;\n      }\n    }\n    if (i === len) {\n      // Not found, back interation\n      for (i = lastIndex - 1; i >= 0; i--) {\n        var interval = pieceList[i].interval;\n        if (interval[0] <= val && val <= interval[1]) {\n          lastIndex = i;\n          break;\n        }\n      }\n    }\n    return i >= 0 && i < len && selected[i];\n  };\n}\nfunction getIsInContinuousRange(dataExtent, range) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  range = [(range[0] - dataExtent[0]) / dataSpan, (range[1] - dataExtent[0]) / dataSpan];\n  return function (val) {\n    return val >= range[0] && val <= range[1];\n  };\n}\nfunction isGeoCoordSys(coordSys) {\n  var dimensions = coordSys.dimensions;\n  // Not use coordSys.type === 'geo' because coordSys maybe extended\n  return dimensions[0] === 'lng' && dimensions[1] === 'lat';\n}\nvar HeatmapView = /** @class */function (_super) {\n  __extends(HeatmapView, _super);\n  function HeatmapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = HeatmapView.type;\n    return _this;\n  }\n  HeatmapView.prototype.render = function (seriesModel, ecModel, api) {\n    var visualMapOfThisSeries;\n    ecModel.eachComponent('visualMap', function (visualMap) {\n      visualMap.eachTargetSeries(function (targetSeries) {\n        if (targetSeries === seriesModel) {\n          visualMapOfThisSeries = visualMap;\n        }\n      });\n    });\n    if (process.env.NODE_ENV !== 'production') {\n      if (!visualMapOfThisSeries) {\n        throw new Error('Heatmap must use with visualMap');\n      }\n    }\n    // Clear previously rendered progressive elements.\n    this._progressiveEls = null;\n    this.group.removeAll();\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys.type === 'cartesian2d' || coordSys.type === 'calendar' || coordSys.type === 'matrix') {\n      this._renderOnGridLike(seriesModel, api, 0, seriesModel.getData().count());\n    } else if (isGeoCoordSys(coordSys)) {\n      this._renderOnGeo(coordSys, seriesModel, visualMapOfThisSeries, api);\n    }\n  };\n  HeatmapView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    this.group.removeAll();\n  };\n  HeatmapView.prototype.incrementalRender = function (params, seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys) {\n      // geo does not support incremental rendering?\n      if (isGeoCoordSys(coordSys)) {\n        this.render(seriesModel, ecModel, api);\n      } else {\n        this._progressiveEls = [];\n        this._renderOnGridLike(seriesModel, api, params.start, params.end, true);\n      }\n    }\n  };\n  HeatmapView.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n  HeatmapView.prototype._renderOnGridLike = function (seriesModel, api, start, end, incremental) {\n    var coordSys = seriesModel.coordinateSystem;\n    var isCartesian2d = isCoordinateSystemType(coordSys, 'cartesian2d');\n    var isMatrix = isCoordinateSystemType(coordSys, 'matrix');\n    var width;\n    var height;\n    var xAxisExtent;\n    var yAxisExtent;\n    if (isCartesian2d) {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      if (process.env.NODE_ENV !== 'production') {\n        if (!(xAxis.type === 'category' && yAxis.type === 'category')) {\n          throw new Error('Heatmap on cartesian must have two category axes');\n        }\n        if (!(xAxis.onBand && yAxis.onBand)) {\n          throw new Error('Heatmap on cartesian must have two axes with boundaryGap true');\n        }\n      }\n      // add 0.5px to avoid the gaps\n      width = xAxis.getBandWidth() + .5;\n      height = yAxis.getBandWidth() + .5;\n      xAxisExtent = xAxis.scale.getExtent();\n      yAxisExtent = yAxis.scale.getExtent();\n    }\n    var group = this.group;\n    var data = seriesModel.getData();\n    var emphasisStyle = seriesModel.getModel(['emphasis', 'itemStyle']).getItemStyle();\n    var blurStyle = seriesModel.getModel(['blur', 'itemStyle']).getItemStyle();\n    var selectStyle = seriesModel.getModel(['select', 'itemStyle']).getItemStyle();\n    var borderRadius = seriesModel.get(['itemStyle', 'borderRadius']);\n    var labelStatesModels = getLabelStatesModels(seriesModel);\n    var emphasisModel = seriesModel.getModel('emphasis');\n    var focus = emphasisModel.get('focus');\n    var blurScope = emphasisModel.get('blurScope');\n    var emphasisDisabled = emphasisModel.get('disabled');\n    var dataDims = isCartesian2d || isMatrix ? [data.mapDimension('x'), data.mapDimension('y'), data.mapDimension('value')] : [data.mapDimension('time'), data.mapDimension('value')];\n    for (var idx = start; idx < end; idx++) {\n      var rect = void 0;\n      var style = data.getItemVisual(idx, 'style');\n      if (isCartesian2d) {\n        var dataDimX = data.get(dataDims[0], idx);\n        var dataDimY = data.get(dataDims[1], idx);\n        // Ignore empty data and out of extent data\n        if (isNaN(data.get(dataDims[2], idx)) || isNaN(dataDimX) || isNaN(dataDimY) || dataDimX < xAxisExtent[0] || dataDimX > xAxisExtent[1] || dataDimY < yAxisExtent[0] || dataDimY > yAxisExtent[1]) {\n          continue;\n        }\n        var point = coordSys.dataToPoint([dataDimX, dataDimY]);\n        rect = new graphic.Rect({\n          shape: {\n            x: point[0] - width / 2,\n            y: point[1] - height / 2,\n            width: width,\n            height: height\n          },\n          style: style\n        });\n      } else if (isMatrix) {\n        var shape = coordSys.dataToLayout([data.get(dataDims[0], idx), data.get(dataDims[1], idx)]).rect;\n        if (zrUtil.eqNaN(shape.x)) {\n          continue;\n        }\n        rect = new graphic.Rect({\n          z2: 1,\n          shape: shape,\n          style: style\n        });\n      } else {\n        // Calendar\n        // Ignore empty data\n        if (isNaN(data.get(dataDims[1], idx))) {\n          continue;\n        }\n        var layout = coordSys.dataToLayout([data.get(dataDims[0], idx)]);\n        var shape = layout.contentRect || layout.rect;\n        if (zrUtil.eqNaN(shape.x) || zrUtil.eqNaN(shape.y)) {\n          continue;\n        }\n        rect = new graphic.Rect({\n          z2: 1,\n          shape: shape,\n          style: style\n        });\n      }\n      // Optimization for large dataset\n      if (data.hasItemOption) {\n        var itemModel = data.getItemModel(idx);\n        var emphasisModel_1 = itemModel.getModel('emphasis');\n        emphasisStyle = emphasisModel_1.getModel('itemStyle').getItemStyle();\n        blurStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n        selectStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n        // Each item value struct in the data would be firstly\n        // {\n        //     itemStyle: { borderRadius: [30, 30] },\n        //     value: [2022, 02, 22]\n        // }\n        borderRadius = itemModel.get(['itemStyle', 'borderRadius']);\n        focus = emphasisModel_1.get('focus');\n        blurScope = emphasisModel_1.get('blurScope');\n        emphasisDisabled = emphasisModel_1.get('disabled');\n        labelStatesModels = getLabelStatesModels(itemModel);\n      }\n      rect.shape.r = borderRadius;\n      var rawValue = seriesModel.getRawValue(idx);\n      var defaultText = '-';\n      if (rawValue && rawValue[2] != null) {\n        defaultText = rawValue[2] + '';\n      }\n      setLabelStyle(rect, labelStatesModels, {\n        labelFetcher: seriesModel,\n        labelDataIndex: idx,\n        defaultOpacity: style.opacity,\n        defaultText: defaultText\n      });\n      rect.ensureState('emphasis').style = emphasisStyle;\n      rect.ensureState('blur').style = blurStyle;\n      rect.ensureState('select').style = selectStyle;\n      toggleHoverEmphasis(rect, focus, blurScope, emphasisDisabled);\n      rect.incremental = incremental;\n      // PENDING\n      if (incremental) {\n        // Rect must use hover layer if it's incremental.\n        rect.states.emphasis.hoverLayer = true;\n      }\n      group.add(rect);\n      data.setItemGraphicEl(idx, rect);\n      if (this._progressiveEls) {\n        this._progressiveEls.push(rect);\n      }\n    }\n  };\n  HeatmapView.prototype._renderOnGeo = function (geo, seriesModel, visualMapModel, api) {\n    var inRangeVisuals = visualMapModel.targetVisuals.inRange;\n    var outOfRangeVisuals = visualMapModel.targetVisuals.outOfRange;\n    // if (!visualMapping) {\n    //     throw new Error('Data range must have color visuals');\n    // }\n    var data = seriesModel.getData();\n    var hmLayer = this._hmLayer || this._hmLayer || new HeatmapLayer();\n    hmLayer.blurSize = seriesModel.get('blurSize');\n    hmLayer.pointSize = seriesModel.get('pointSize');\n    hmLayer.minOpacity = seriesModel.get('minOpacity');\n    hmLayer.maxOpacity = seriesModel.get('maxOpacity');\n    var rect = geo.getViewRect().clone();\n    var roamTransform = geo.getRoamTransform();\n    rect.applyTransform(roamTransform);\n    // Clamp on viewport\n    var x = Math.max(rect.x, 0);\n    var y = Math.max(rect.y, 0);\n    var x2 = Math.min(rect.width + rect.x, api.getWidth());\n    var y2 = Math.min(rect.height + rect.y, api.getHeight());\n    var width = x2 - x;\n    var height = y2 - y;\n    var dims = [data.mapDimension('lng'), data.mapDimension('lat'), data.mapDimension('value')];\n    var points = data.mapArray(dims, function (lng, lat, value) {\n      var pt = geo.dataToPoint([lng, lat]);\n      pt[0] -= x;\n      pt[1] -= y;\n      pt.push(value);\n      return pt;\n    });\n    var dataExtent = visualMapModel.getExtent();\n    var isInRange = visualMapModel.type === 'visualMap.continuous' ? getIsInContinuousRange(dataExtent, visualMapModel.option.range) : getIsInPiecewiseRange(dataExtent, visualMapModel.getPieceList(), visualMapModel.option.selected);\n    hmLayer.update(points, width, height, inRangeVisuals.color.getNormalizer(), {\n      inRange: inRangeVisuals.color.getColorMapper(),\n      outOfRange: outOfRangeVisuals.color.getColorMapper()\n    }, isInRange);\n    var img = new graphic.Image({\n      style: {\n        width: width,\n        height: height,\n        x: x,\n        y: y,\n        image: hmLayer.canvas\n      },\n      silent: true\n    });\n    this.group.add(img);\n  };\n  HeatmapView.type = 'heatmap';\n  return HeatmapView;\n}(ChartView);\nexport default HeatmapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport createSeriesData from '../helper/createSeriesData.js';\nimport CoordinateSystem from '../../core/CoordinateSystem.js';\nimport tokens from '../../visual/tokens.js';\nvar HeatmapSeriesModel = /** @class */function (_super) {\n  __extends(HeatmapSeriesModel, _super);\n  function HeatmapSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = HeatmapSeriesModel.type;\n    return _this;\n  }\n  HeatmapSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this, {\n      generateCoord: 'value'\n    });\n  };\n  HeatmapSeriesModel.prototype.preventIncremental = function () {\n    var coordSysCreator = CoordinateSystem.get(this.get('coordinateSystem'));\n    if (coordSysCreator && coordSysCreator.dimensions) {\n      return coordSysCreator.dimensions[0] === 'lng' && coordSysCreator.dimensions[1] === 'lat';\n    }\n  };\n  HeatmapSeriesModel.type = 'series.heatmap';\n  HeatmapSeriesModel.dependencies = ['grid', 'geo', 'calendar', 'matrix'];\n  HeatmapSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    // zlevel: 0,\n    z: 2,\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Geo coordinate system\n    geoIndex: 0,\n    blurSize: 30,\n    pointSize: 20,\n    maxOpacity: 1,\n    minOpacity: 0,\n    select: {\n      itemStyle: {\n        borderColor: tokens.color.primary\n      }\n    }\n  };\n  return HeatmapSeriesModel;\n}(SeriesModel);\nexport default HeatmapSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport HeatmapView from './HeatmapView.js';\nimport HeatmapSeriesModel from './HeatmapSeries.js';\nexport function install(registers) {\n  registers.registerChartView(HeatmapView);\n  registers.registerSeriesModel(HeatmapSeriesModel);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis } from '../../util/states.js';\nimport { createSymbol, normalizeSymbolOffset } from '../../util/symbol.js';\nimport { parsePercent, isNumeric } from '../../util/number.js';\nimport ChartView from '../../view/Chart.js';\nimport { getDefaultLabel } from '../helper/labelHelper.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createClipPath } from '../helper/createClipPathFromCoordSys.js';\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'borderWidth'];\n// index: +isHorizontal\nvar LAYOUT_ATTRS = [{\n  xy: 'x',\n  wh: 'width',\n  index: 0,\n  posDesc: ['left', 'right']\n}, {\n  xy: 'y',\n  wh: 'height',\n  index: 1,\n  posDesc: ['top', 'bottom']\n}];\nvar pathForLineWidth = new graphic.Circle();\nvar PictorialBarView = /** @class */function (_super) {\n  __extends(PictorialBarView, _super);\n  function PictorialBarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PictorialBarView.type;\n    return _this;\n  }\n  PictorialBarView.prototype.render = function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var isHorizontal = baseAxis.isHorizontal();\n    var coordSysRect = cartesian.master.getRect();\n    var opt = {\n      ecSize: {\n        width: api.getWidth(),\n        height: api.getHeight()\n      },\n      seriesModel: seriesModel,\n      coordSys: cartesian,\n      coordSysExtent: [[coordSysRect.x, coordSysRect.x + coordSysRect.width], [coordSysRect.y, coordSysRect.y + coordSysRect.height]],\n      isHorizontal: isHorizontal,\n      valueDim: LAYOUT_ATTRS[+isHorizontal],\n      categoryDim: LAYOUT_ATTRS[1 - +isHorizontal]\n    };\n    data.diff(oldData).add(function (dataIndex) {\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n      var itemModel = getItemModel(data, dataIndex);\n      var symbolMeta = getSymbolMeta(data, dataIndex, itemModel, opt);\n      var bar = createBar(data, opt, symbolMeta);\n      data.setItemGraphicEl(dataIndex, bar);\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).update(function (newIndex, oldIndex) {\n      var bar = oldData.getItemGraphicEl(oldIndex);\n      if (!data.hasValue(newIndex)) {\n        group.remove(bar);\n        return;\n      }\n      var itemModel = getItemModel(data, newIndex);\n      var symbolMeta = getSymbolMeta(data, newIndex, itemModel, opt);\n      var pictorialShapeStr = getShapeStr(data, symbolMeta);\n      if (bar && pictorialShapeStr !== bar.__pictorialShapeStr) {\n        group.remove(bar);\n        data.setItemGraphicEl(newIndex, null);\n        bar = null;\n      }\n      if (bar) {\n        updateBar(bar, opt, symbolMeta);\n      } else {\n        bar = createBar(data, opt, symbolMeta, true);\n      }\n      data.setItemGraphicEl(newIndex, bar);\n      bar.__pictorialSymbolMeta = symbolMeta;\n      // Add back\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).remove(function (dataIndex) {\n      var bar = oldData.getItemGraphicEl(dataIndex);\n      bar && removeBar(oldData, dataIndex, bar.__pictorialSymbolMeta.animationModel, bar);\n    }).execute();\n    // Do clipping\n    var clipPath = seriesModel.get('clip', true) ? createClipPath(seriesModel.coordinateSystem, false, seriesModel) : null;\n    if (clipPath) {\n      group.setClipPath(clipPath);\n    } else {\n      group.removeClipPath();\n    }\n    this._data = data;\n    return this.group;\n  };\n  PictorialBarView.prototype.remove = function (ecModel, api) {\n    var group = this.group;\n    var data = this._data;\n    if (ecModel.get('animation')) {\n      if (data) {\n        data.eachItemGraphicEl(function (bar) {\n          removeBar(data, getECData(bar).dataIndex, ecModel, bar);\n        });\n      }\n    } else {\n      group.removeAll();\n    }\n  };\n  PictorialBarView.type = 'pictorialBar';\n  return PictorialBarView;\n}(ChartView);\n// Set or calculate default value about symbol, and calculate layout info.\nfunction getSymbolMeta(data, dataIndex, itemModel, opt) {\n  var layout = data.getItemLayout(dataIndex);\n  var symbolRepeat = itemModel.get('symbolRepeat');\n  var symbolClip = itemModel.get('symbolClip');\n  var symbolPosition = itemModel.get('symbolPosition') || 'start';\n  var symbolRotate = itemModel.get('symbolRotate');\n  var rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  var symbolPatternSize = itemModel.get('symbolPatternSize') || 2;\n  var isAnimationEnabled = itemModel.isAnimationEnabled();\n  var symbolMeta = {\n    dataIndex: dataIndex,\n    layout: layout,\n    itemModel: itemModel,\n    symbolType: data.getItemVisual(dataIndex, 'symbol') || 'circle',\n    style: data.getItemVisual(dataIndex, 'style'),\n    symbolClip: symbolClip,\n    symbolRepeat: symbolRepeat,\n    symbolRepeatDirection: itemModel.get('symbolRepeatDirection'),\n    symbolPatternSize: symbolPatternSize,\n    rotation: rotation,\n    animationModel: isAnimationEnabled ? itemModel : null,\n    hoverScale: isAnimationEnabled && itemModel.get(['emphasis', 'scale']),\n    z2: itemModel.getShallow('z', true) || 0\n  };\n  prepareBarLength(itemModel, symbolRepeat, layout, opt, symbolMeta);\n  prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, symbolMeta.boundingLength, symbolMeta.pxSign, symbolPatternSize, opt, symbolMeta);\n  prepareLineWidth(itemModel, symbolMeta.symbolScale, rotation, opt, symbolMeta);\n  var symbolSize = symbolMeta.symbolSize;\n  var symbolOffset = normalizeSymbolOffset(itemModel.get('symbolOffset'), symbolSize);\n  prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, symbolMeta.valueLineWidth, symbolMeta.boundingLength, symbolMeta.repeatCutLength, opt, symbolMeta);\n  return symbolMeta;\n}\n// bar length can be negative.\nfunction prepareBarLength(itemModel, symbolRepeat, layout, opt, outputSymbolMeta) {\n  var valueDim = opt.valueDim;\n  var symbolBoundingData = itemModel.get('symbolBoundingData');\n  var valueAxis = opt.coordSys.getOtherAxis(opt.coordSys.getBaseAxis());\n  var zeroPx = valueAxis.toGlobalCoord(valueAxis.dataToCoord(0));\n  var pxSignIdx = 1 - +(layout[valueDim.wh] <= 0);\n  var boundingLength;\n  if (zrUtil.isArray(symbolBoundingData)) {\n    var symbolBoundingExtent = [convertToCoordOnAxis(valueAxis, symbolBoundingData[0]) - zeroPx, convertToCoordOnAxis(valueAxis, symbolBoundingData[1]) - zeroPx];\n    symbolBoundingExtent[1] < symbolBoundingExtent[0] && symbolBoundingExtent.reverse();\n    boundingLength = symbolBoundingExtent[pxSignIdx];\n  } else if (symbolBoundingData != null) {\n    boundingLength = convertToCoordOnAxis(valueAxis, symbolBoundingData) - zeroPx;\n  } else if (symbolRepeat) {\n    boundingLength = opt.coordSysExtent[valueDim.index][pxSignIdx] - zeroPx;\n  } else {\n    boundingLength = layout[valueDim.wh];\n  }\n  outputSymbolMeta.boundingLength = boundingLength;\n  if (symbolRepeat) {\n    outputSymbolMeta.repeatCutLength = layout[valueDim.wh];\n  }\n  // if 'pxSign' means sign of pixel,  it can't be zero, or symbolScale will be zero\n  // and when borderWidth be settled, the actual linewidth will be NaN\n  var isXAxis = valueDim.xy === 'x';\n  var isInverse = valueAxis.inverse;\n  outputSymbolMeta.pxSign = isXAxis && !isInverse || !isXAxis && isInverse ? boundingLength >= 0 ? 1 : -1 : boundingLength > 0 ? 1 : -1;\n}\nfunction convertToCoordOnAxis(axis, value) {\n  return axis.toGlobalCoord(axis.dataToCoord(axis.scale.parse(value)));\n}\n// Support ['100%', '100%']\nfunction prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, boundingLength, pxSign, symbolPatternSize, opt, outputSymbolMeta) {\n  var valueDim = opt.valueDim;\n  var categoryDim = opt.categoryDim;\n  var categorySize = Math.abs(layout[categoryDim.wh]);\n  var symbolSize = data.getItemVisual(dataIndex, 'symbolSize');\n  var parsedSymbolSize;\n  if (zrUtil.isArray(symbolSize)) {\n    parsedSymbolSize = symbolSize.slice();\n  } else {\n    if (symbolSize == null) {\n      // will parse to number below\n      parsedSymbolSize = ['100%', '100%'];\n    } else {\n      parsedSymbolSize = [symbolSize, symbolSize];\n    }\n  }\n  // Note: percentage symbolSize (like '100%') do not consider lineWidth, because it is\n  // to complicated to calculate real percent value if considering scaled lineWidth.\n  // So the actual size will bigger than layout size if lineWidth is bigger than zero,\n  // which can be tolerated in pictorial chart.\n  parsedSymbolSize[categoryDim.index] = parsePercent(parsedSymbolSize[categoryDim.index], categorySize);\n  parsedSymbolSize[valueDim.index] = parsePercent(parsedSymbolSize[valueDim.index], symbolRepeat ? categorySize : Math.abs(boundingLength));\n  outputSymbolMeta.symbolSize = parsedSymbolSize;\n  // If x or y is less than zero, show reversed shape.\n  var symbolScale = outputSymbolMeta.symbolScale = [parsedSymbolSize[0] / symbolPatternSize, parsedSymbolSize[1] / symbolPatternSize];\n  // Follow convention, 'right' and 'top' is the normal scale.\n  symbolScale[valueDim.index] *= (opt.isHorizontal ? -1 : 1) * pxSign;\n}\nfunction prepareLineWidth(itemModel, symbolScale, rotation, opt, outputSymbolMeta) {\n  // In symbols are drawn with scale, so do not need to care about the case that width\n  // or height are too small. But symbol use strokeNoScale, where acture lineWidth should\n  // be calculated.\n  var valueLineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0;\n  if (valueLineWidth) {\n    pathForLineWidth.attr({\n      scaleX: symbolScale[0],\n      scaleY: symbolScale[1],\n      rotation: rotation\n    });\n    pathForLineWidth.updateTransform();\n    valueLineWidth /= pathForLineWidth.getLineScale();\n    valueLineWidth *= symbolScale[opt.valueDim.index];\n  }\n  outputSymbolMeta.valueLineWidth = valueLineWidth || 0;\n}\nfunction prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, valueLineWidth, boundingLength, repeatCutLength, opt, outputSymbolMeta) {\n  var categoryDim = opt.categoryDim;\n  var valueDim = opt.valueDim;\n  var pxSign = outputSymbolMeta.pxSign;\n  var unitLength = Math.max(symbolSize[valueDim.index] + valueLineWidth, 0);\n  var pathLen = unitLength;\n  // Note: rotation will not effect the layout of symbols, because user may\n  // want symbols to rotate on its center, which should not be translated\n  // when rotating.\n  if (symbolRepeat) {\n    var absBoundingLength = Math.abs(boundingLength);\n    var symbolMargin = zrUtil.retrieve(itemModel.get('symbolMargin'), '15%') + '';\n    var hasEndGap = false;\n    if (symbolMargin.lastIndexOf('!') === symbolMargin.length - 1) {\n      hasEndGap = true;\n      symbolMargin = symbolMargin.slice(0, symbolMargin.length - 1);\n    }\n    var symbolMarginNumeric = parsePercent(symbolMargin, symbolSize[valueDim.index]);\n    var uLenWithMargin = Math.max(unitLength + symbolMarginNumeric * 2, 0);\n    // When symbol margin is less than 0, margin at both ends will be subtracted\n    // to ensure that all of the symbols will not be overflow the given area.\n    var endFix = hasEndGap ? 0 : symbolMarginNumeric * 2;\n    // Both final repeatTimes and final symbolMarginNumeric area calculated based on\n    // boundingLength.\n    var repeatSpecified = isNumeric(symbolRepeat);\n    var repeatTimes = repeatSpecified ? symbolRepeat : toIntTimes((absBoundingLength + endFix) / uLenWithMargin);\n    // Adjust calculate margin, to ensure each symbol is displayed\n    // entirely in the given layout area.\n    var mDiff = absBoundingLength - repeatTimes * unitLength;\n    symbolMarginNumeric = mDiff / 2 / (hasEndGap ? repeatTimes : Math.max(repeatTimes - 1, 1));\n    uLenWithMargin = unitLength + symbolMarginNumeric * 2;\n    endFix = hasEndGap ? 0 : symbolMarginNumeric * 2;\n    // Update repeatTimes when not all symbol will be shown.\n    if (!repeatSpecified && symbolRepeat !== 'fixed') {\n      repeatTimes = repeatCutLength ? toIntTimes((Math.abs(repeatCutLength) + endFix) / uLenWithMargin) : 0;\n    }\n    pathLen = repeatTimes * uLenWithMargin - endFix;\n    outputSymbolMeta.repeatTimes = repeatTimes;\n    outputSymbolMeta.symbolMargin = symbolMarginNumeric;\n  }\n  var sizeFix = pxSign * (pathLen / 2);\n  var pathPosition = outputSymbolMeta.pathPosition = [];\n  pathPosition[categoryDim.index] = layout[categoryDim.wh] / 2;\n  pathPosition[valueDim.index] = symbolPosition === 'start' ? sizeFix : symbolPosition === 'end' ? boundingLength - sizeFix : boundingLength / 2; // 'center'\n  if (symbolOffset) {\n    pathPosition[0] += symbolOffset[0];\n    pathPosition[1] += symbolOffset[1];\n  }\n  var bundlePosition = outputSymbolMeta.bundlePosition = [];\n  bundlePosition[categoryDim.index] = layout[categoryDim.xy];\n  bundlePosition[valueDim.index] = layout[valueDim.xy];\n  var barRectShape = outputSymbolMeta.barRectShape = zrUtil.extend({}, layout);\n  barRectShape[valueDim.wh] = pxSign * Math.max(Math.abs(layout[valueDim.wh]), Math.abs(pathPosition[valueDim.index] + sizeFix));\n  barRectShape[categoryDim.wh] = layout[categoryDim.wh];\n  var clipShape = outputSymbolMeta.clipShape = {};\n  // Consider that symbol may be overflow layout rect.\n  clipShape[categoryDim.xy] = -layout[categoryDim.xy];\n  clipShape[categoryDim.wh] = opt.ecSize[categoryDim.wh];\n  clipShape[valueDim.xy] = 0;\n  clipShape[valueDim.wh] = layout[valueDim.wh];\n}\nfunction createPath(symbolMeta) {\n  var symbolPatternSize = symbolMeta.symbolPatternSize;\n  var path = createSymbol(\n  // Consider texture img, make a big size.\n  symbolMeta.symbolType, -symbolPatternSize / 2, -symbolPatternSize / 2, symbolPatternSize, symbolPatternSize);\n  path.attr({\n    culling: true\n  });\n  path.type !== 'image' && path.setStyle({\n    strokeNoScale: true\n  });\n  return path;\n}\nfunction createOrUpdateRepeatSymbols(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var symbolSize = symbolMeta.symbolSize;\n  var valueLineWidth = symbolMeta.valueLineWidth;\n  var pathPosition = symbolMeta.pathPosition;\n  var valueDim = opt.valueDim;\n  var repeatTimes = symbolMeta.repeatTimes || 0;\n  var index = 0;\n  var unit = symbolSize[opt.valueDim.index] + valueLineWidth + symbolMeta.symbolMargin * 2;\n  eachPath(bar, function (path) {\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n    if (index < repeatTimes) {\n      updateAttr(path, null, makeTarget(index), symbolMeta, isUpdate);\n    } else {\n      updateAttr(path, null, {\n        scaleX: 0,\n        scaleY: 0\n      }, symbolMeta, isUpdate, function () {\n        bundle.remove(path);\n      });\n    }\n    // updateHoverAnimation(path, symbolMeta);\n    index++;\n  });\n  for (; index < repeatTimes; index++) {\n    var path = createPath(symbolMeta);\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n    bundle.add(path);\n    var target = makeTarget(index);\n    updateAttr(path, {\n      x: target.x,\n      y: target.y,\n      scaleX: 0,\n      scaleY: 0\n    }, {\n      scaleX: target.scaleX,\n      scaleY: target.scaleY,\n      rotation: target.rotation\n    }, symbolMeta, isUpdate);\n  }\n  function makeTarget(index) {\n    var position = pathPosition.slice();\n    // (start && pxSign > 0) || (end && pxSign < 0): i = repeatTimes - index\n    // Otherwise: i = index;\n    var pxSign = symbolMeta.pxSign;\n    var i = index;\n    if (symbolMeta.symbolRepeatDirection === 'start' ? pxSign > 0 : pxSign < 0) {\n      i = repeatTimes - 1 - index;\n    }\n    position[valueDim.index] = unit * (i - repeatTimes / 2 + 0.5) + pathPosition[valueDim.index];\n    return {\n      x: position[0],\n      y: position[1],\n      scaleX: symbolMeta.symbolScale[0],\n      scaleY: symbolMeta.symbolScale[1],\n      rotation: symbolMeta.rotation\n    };\n  }\n}\nfunction createOrUpdateSingleSymbol(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var mainPath = bar.__pictorialMainPath;\n  if (!mainPath) {\n    mainPath = bar.__pictorialMainPath = createPath(symbolMeta);\n    bundle.add(mainPath);\n    updateAttr(mainPath, {\n      x: symbolMeta.pathPosition[0],\n      y: symbolMeta.pathPosition[1],\n      scaleX: 0,\n      scaleY: 0,\n      rotation: symbolMeta.rotation\n    }, {\n      scaleX: symbolMeta.symbolScale[0],\n      scaleY: symbolMeta.symbolScale[1]\n    }, symbolMeta, isUpdate);\n  } else {\n    updateAttr(mainPath, null, {\n      x: symbolMeta.pathPosition[0],\n      y: symbolMeta.pathPosition[1],\n      scaleX: symbolMeta.symbolScale[0],\n      scaleY: symbolMeta.symbolScale[1],\n      rotation: symbolMeta.rotation\n    }, symbolMeta, isUpdate);\n  }\n}\n// bar rect is used for label.\nfunction createOrUpdateBarRect(bar, symbolMeta, isUpdate) {\n  var rectShape = zrUtil.extend({}, symbolMeta.barRectShape);\n  var barRect = bar.__pictorialBarRect;\n  if (!barRect) {\n    barRect = bar.__pictorialBarRect = new graphic.Rect({\n      z2: 2,\n      shape: rectShape,\n      silent: true,\n      style: {\n        stroke: 'transparent',\n        fill: 'transparent',\n        lineWidth: 0\n      }\n    });\n    barRect.disableMorphing = true;\n    bar.add(barRect);\n  } else {\n    updateAttr(barRect, null, {\n      shape: rectShape\n    }, symbolMeta, isUpdate);\n  }\n}\nfunction createOrUpdateClip(bar, opt, symbolMeta, isUpdate) {\n  // If not clip, symbol will be remove and rebuilt.\n  if (symbolMeta.symbolClip) {\n    var clipPath = bar.__pictorialClipPath;\n    var clipShape = zrUtil.extend({}, symbolMeta.clipShape);\n    var valueDim = opt.valueDim;\n    var animationModel = symbolMeta.animationModel;\n    var dataIndex = symbolMeta.dataIndex;\n    if (clipPath) {\n      graphic.updateProps(clipPath, {\n        shape: clipShape\n      }, animationModel, dataIndex);\n    } else {\n      clipShape[valueDim.wh] = 0;\n      clipPath = new graphic.Rect({\n        shape: clipShape\n      });\n      bar.__pictorialBundle.setClipPath(clipPath);\n      bar.__pictorialClipPath = clipPath;\n      var target = {};\n      target[valueDim.wh] = symbolMeta.clipShape[valueDim.wh];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](clipPath, {\n        shape: target\n      }, animationModel, dataIndex);\n    }\n  }\n}\nfunction getItemModel(data, dataIndex) {\n  var itemModel = data.getItemModel(dataIndex);\n  itemModel.getAnimationDelayParams = getAnimationDelayParams;\n  itemModel.isAnimationEnabled = isAnimationEnabled;\n  return itemModel;\n}\nfunction getAnimationDelayParams(path) {\n  // The order is the same as the z-order, see `symbolRepeatDiretion`.\n  return {\n    index: path.__pictorialAnimationIndex,\n    count: path.__pictorialRepeatTimes\n  };\n}\nfunction isAnimationEnabled() {\n  // `animation` prop can be set on itemModel in pictorial bar chart.\n  return this.parentModel.isAnimationEnabled() && !!this.getShallow('animation');\n}\nfunction createBar(data, opt, symbolMeta, isUpdate) {\n  // bar is the main element for each data.\n  var bar = new graphic.Group();\n  // bundle is used for location and clip.\n  var bundle = new graphic.Group();\n  bar.add(bundle);\n  bar.__pictorialBundle = bundle;\n  bundle.x = symbolMeta.bundlePosition[0];\n  bundle.y = symbolMeta.bundlePosition[1];\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta);\n  }\n  createOrUpdateBarRect(bar, symbolMeta, isUpdate);\n  createOrUpdateClip(bar, opt, symbolMeta, isUpdate);\n  bar.__pictorialShapeStr = getShapeStr(data, symbolMeta);\n  bar.__pictorialSymbolMeta = symbolMeta;\n  return bar;\n}\nfunction updateBar(bar, opt, symbolMeta) {\n  var animationModel = symbolMeta.animationModel;\n  var dataIndex = symbolMeta.dataIndex;\n  var bundle = bar.__pictorialBundle;\n  graphic.updateProps(bundle, {\n    x: symbolMeta.bundlePosition[0],\n    y: symbolMeta.bundlePosition[1]\n  }, animationModel, dataIndex);\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta, true);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta, true);\n  }\n  createOrUpdateBarRect(bar, symbolMeta, true);\n  createOrUpdateClip(bar, opt, symbolMeta, true);\n}\nfunction removeBar(data, dataIndex, animationModel, bar) {\n  // Not show text when animating\n  var labelRect = bar.__pictorialBarRect;\n  labelRect && labelRect.removeTextContent();\n  var paths = [];\n  eachPath(bar, function (path) {\n    paths.push(path);\n  });\n  bar.__pictorialMainPath && paths.push(bar.__pictorialMainPath);\n  // I do not find proper remove animation for clip yet.\n  bar.__pictorialClipPath && (animationModel = null);\n  zrUtil.each(paths, function (path) {\n    graphic.removeElement(path, {\n      scaleX: 0,\n      scaleY: 0\n    }, animationModel, dataIndex, function () {\n      bar.parent && bar.parent.remove(bar);\n    });\n  });\n  data.setItemGraphicEl(dataIndex, null);\n}\nfunction getShapeStr(data, symbolMeta) {\n  return [data.getItemVisual(symbolMeta.dataIndex, 'symbol') || 'none', !!symbolMeta.symbolRepeat, !!symbolMeta.symbolClip].join(':');\n}\nfunction eachPath(bar, cb, context) {\n  // Do not use Group#eachChild, because it do not support remove.\n  zrUtil.each(bar.__pictorialBundle.children(), function (el) {\n    el !== bar.__pictorialBarRect && cb.call(context, el);\n  });\n}\nfunction updateAttr(el, immediateAttrs, animationAttrs, symbolMeta, isUpdate, cb) {\n  immediateAttrs && el.attr(immediateAttrs);\n  // when symbolCip used, only clip path has init animation, otherwise it would be weird effect.\n  if (symbolMeta.symbolClip && !isUpdate) {\n    animationAttrs && el.attr(animationAttrs);\n  } else {\n    animationAttrs && graphic[isUpdate ? 'updateProps' : 'initProps'](el, animationAttrs, symbolMeta.animationModel, symbolMeta.dataIndex, cb);\n  }\n}\nfunction updateCommon(bar, opt, symbolMeta) {\n  var dataIndex = symbolMeta.dataIndex;\n  var itemModel = symbolMeta.itemModel;\n  // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n  var emphasisModel = itemModel.getModel('emphasis');\n  var emphasisStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n  var blurStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n  var selectStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  var focus = emphasisModel.get('focus');\n  var blurScope = emphasisModel.get('blurScope');\n  var hoverScale = emphasisModel.get('scale');\n  eachPath(bar, function (path) {\n    if (path instanceof ZRImage) {\n      var pathStyle = path.style;\n      path.useStyle(zrUtil.extend({\n        // TODO other properties like dx, dy ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, symbolMeta.style));\n    } else {\n      path.useStyle(symbolMeta.style);\n    }\n    var emphasisState = path.ensureState('emphasis');\n    emphasisState.style = emphasisStyle;\n    if (hoverScale) {\n      // NOTE: Must after scale is set after updateAttr\n      emphasisState.scaleX = path.scaleX * 1.1;\n      emphasisState.scaleY = path.scaleY * 1.1;\n    }\n    path.ensureState('blur').style = blurStyle;\n    path.ensureState('select').style = selectStyle;\n    cursorStyle && (path.cursor = cursorStyle);\n    path.z2 = symbolMeta.z2;\n  });\n  var barPositionOutside = opt.valueDim.posDesc[+(symbolMeta.boundingLength > 0)];\n  var barRect = bar.__pictorialBarRect;\n  barRect.ignoreClip = true;\n  setLabelStyle(barRect, getLabelStatesModels(itemModel), {\n    labelFetcher: opt.seriesModel,\n    labelDataIndex: dataIndex,\n    defaultText: getDefaultLabel(opt.seriesModel.getData(), dataIndex),\n    inheritColor: symbolMeta.style.fill,\n    defaultOpacity: symbolMeta.style.opacity,\n    defaultOutsidePosition: barPositionOutside\n  });\n  toggleHoverEmphasis(bar, focus, blurScope, emphasisModel.get('disabled'));\n}\nfunction toIntTimes(times) {\n  var roundedTimes = Math.round(times);\n  // Escapse accurate error\n  return Math.abs(times - roundedTimes) < 1e-4 ? roundedTimes : Math.ceil(times);\n}\nexport default PictorialBarView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseBarSeriesModel from './BaseBarSeries.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nimport tokens from '../../visual/tokens.js';\nvar PictorialBarSeriesModel = /** @class */function (_super) {\n  __extends(PictorialBarSeriesModel, _super);\n  function PictorialBarSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PictorialBarSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    _this.defaultSymbol = 'roundRect';\n    return _this;\n  }\n  PictorialBarSeriesModel.prototype.getInitialData = function (option) {\n    // Disable stack.\n    option.stack = null;\n    return _super.prototype.getInitialData.apply(this, arguments);\n  };\n  PictorialBarSeriesModel.type = 'series.pictorialBar';\n  PictorialBarSeriesModel.dependencies = ['grid'];\n  PictorialBarSeriesModel.defaultOption = inheritDefaultOption(BaseBarSeriesModel.defaultOption, {\n    symbol: 'circle',\n    symbolSize: null,\n    symbolRotate: null,\n    symbolPosition: null,\n    symbolOffset: null,\n    symbolMargin: null,\n    symbolRepeat: false,\n    symbolRepeatDirection: 'end',\n    symbolClip: false,\n    symbolBoundingData: null,\n    symbolPatternSize: 400,\n    barGap: '-100%',\n    // Pictorial bar do not clip by default because in many cases\n    // xAxis and yAxis are not displayed and it's expected not to clip\n    clip: false,\n    // z can be set in data item, which is z2 actually.\n    // Disable progressive\n    progressive: 0,\n    emphasis: {\n      // By default pictorialBar do not hover scale. Hover scale is not suitable\n      // for the case that both has foreground and background.\n      scale: false\n    },\n    select: {\n      itemStyle: {\n        borderColor: tokens.color.primary\n      }\n    }\n  });\n  return PictorialBarSeriesModel;\n}(BaseBarSeriesModel);\nexport default PictorialBarSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport PictorialBarView from './PictorialBarView.js';\nimport PictorialBarSeriesModel from './PictorialBarSeries.js';\nimport { createProgressiveLayout, layout } from '../../layout/barGrid.js';\nimport { curry } from 'zrender/lib/core/util.js';\nexport function install(registers) {\n  registers.registerChartView(PictorialBarView);\n  registers.registerSeriesModel(PictorialBarSeriesModel);\n  registers.registerLayout(registers.PRIORITY.VISUAL.LAYOUT, curry(layout, 'pictorialBar'));\n  // Do layout after other overall layout, which can prepare some information.\n  registers.registerLayout(registers.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, createProgressiveLayout('pictorialBar'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { ECPolygon } from '../line/poly.js';\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport { bind } from 'zrender/lib/core/util.js';\nimport DataDiffer from '../../data/DataDiffer.js';\nimport ChartView from '../../view/Chart.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nvar ThemeRiverView = /** @class */function (_super) {\n  __extends(ThemeRiverView, _super);\n  function ThemeRiverView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ThemeRiverView.type;\n    _this._layers = [];\n    return _this;\n  }\n  ThemeRiverView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var self = this;\n    var group = this.group;\n    var layersSeries = seriesModel.getLayerSeries();\n    var layoutInfo = data.getLayout('layoutInfo');\n    var rect = layoutInfo.rect;\n    var boundaryGap = layoutInfo.boundaryGap;\n    group.x = 0;\n    group.y = rect.y + boundaryGap[0];\n    function keyGetter(item) {\n      return item.name;\n    }\n    var dataDiffer = new DataDiffer(this._layersSeries || [], layersSeries, keyGetter, keyGetter);\n    var newLayersGroups = [];\n    dataDiffer.add(bind(process, this, 'add')).update(bind(process, this, 'update')).remove(bind(process, this, 'remove')).execute();\n    function process(status, idx, oldIdx) {\n      var oldLayersGroups = self._layers;\n      if (status === 'remove') {\n        group.remove(oldLayersGroups[idx]);\n        return;\n      }\n      var points0 = [];\n      var points1 = [];\n      var style;\n      var indices = layersSeries[idx].indices;\n      var j = 0;\n      for (; j < indices.length; j++) {\n        var layout = data.getItemLayout(indices[j]);\n        var x = layout.x;\n        var y0 = layout.y0;\n        var y = layout.y;\n        points0.push(x, y0);\n        points1.push(x, y0 + y);\n        style = data.getItemVisual(indices[j], 'style');\n      }\n      var polygon;\n      var textLayout = data.getItemLayout(indices[0]);\n      var labelModel = seriesModel.getModel('label');\n      var margin = labelModel.get('margin');\n      var emphasisModel = seriesModel.getModel('emphasis');\n      if (status === 'add') {\n        var layerGroup = newLayersGroups[idx] = new graphic.Group();\n        polygon = new ECPolygon({\n          shape: {\n            points: points0,\n            stackedOnPoints: points1,\n            smooth: 0.4,\n            stackedOnSmooth: 0.4,\n            smoothConstraint: false\n          },\n          z2: 0\n        });\n        layerGroup.add(polygon);\n        group.add(layerGroup);\n        if (seriesModel.isAnimationEnabled()) {\n          polygon.setClipPath(createGridClipShape(polygon.getBoundingRect(), seriesModel, function () {\n            polygon.removeClipPath();\n          }));\n        }\n      } else {\n        var layerGroup = oldLayersGroups[oldIdx];\n        polygon = layerGroup.childAt(0);\n        group.add(layerGroup);\n        newLayersGroups[idx] = layerGroup;\n        graphic.updateProps(polygon, {\n          shape: {\n            points: points0,\n            stackedOnPoints: points1\n          }\n        }, seriesModel);\n        saveOldStyle(polygon);\n      }\n      setLabelStyle(polygon, getLabelStatesModels(seriesModel), {\n        labelDataIndex: indices[j - 1],\n        defaultText: data.getName(indices[j - 1]),\n        inheritColor: style.fill\n      }, {\n        normal: {\n          verticalAlign: 'middle'\n          // align: 'right'\n        }\n      });\n      polygon.setTextConfig({\n        position: null,\n        local: true\n      });\n      var labelEl = polygon.getTextContent();\n      // TODO More label position options.\n      if (labelEl) {\n        labelEl.x = textLayout.x - margin;\n        labelEl.y = textLayout.y0 + textLayout.y / 2;\n      }\n      polygon.useStyle(style);\n      data.setItemGraphicEl(idx, polygon);\n      setStatesStylesFromModel(polygon, seriesModel);\n      toggleHoverEmphasis(polygon, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n    }\n    this._layersSeries = layersSeries;\n    this._layers = newLayersGroups;\n  };\n  ThemeRiverView.type = 'themeRiver';\n  return ThemeRiverView;\n}(ChartView);\n;\n// add animation to the view\nfunction createGridClipShape(rect, seriesModel, cb) {\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x - 10,\n      y: rect.y - 10,\n      width: 0,\n      height: rect.height + 20\n    }\n  });\n  graphic.initProps(rectEl, {\n    shape: {\n      x: rect.x - 50,\n      width: rect.width + 100,\n      height: rect.height + 20\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\nexport default ThemeRiverView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport prepareSeriesDataSchema from '../../data/helper/createDimensions.js';\nimport { getDimensionTypeByAxis } from '../../data/helper/dimensionHelper.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { groupData, SINGLE_REFERRING } from '../../util/model.js';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider.js';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup.js';\nvar DATA_NAME_INDEX = 2;\nvar ThemeRiverSeriesModel = /** @class */function (_super) {\n  __extends(ThemeRiverSeriesModel, _super);\n  function ThemeRiverSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ThemeRiverSeriesModel.type;\n    return _this;\n  }\n  /**\n   * @override\n   */\n  ThemeRiverSeriesModel.prototype.init = function (option) {\n    // eslint-disable-next-line\n    _super.prototype.init.apply(this, arguments);\n    // Put this function here is for the sake of consistency of code style.\n    // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n  };\n  /**\n   * If there is no value of a certain point in the time for some event,set it value to 0.\n   *\n   * @param {Array} data  initial data in the option\n   * @return {Array}\n   */\n  ThemeRiverSeriesModel.prototype.fixData = function (data) {\n    var rawDataLength = data.length;\n    /**\n     * Make sure every layer data get the same keys.\n     * The value index tells which layer has visited.\n     * {\n     *  2014/01/01: -1\n     * }\n     */\n    var timeValueKeys = {};\n    // grouped data by name\n    var groupResult = groupData(data, function (item) {\n      if (!timeValueKeys.hasOwnProperty(item[0] + '')) {\n        timeValueKeys[item[0] + ''] = -1;\n      }\n      return item[2];\n    });\n    var layerData = [];\n    groupResult.buckets.each(function (items, key) {\n      layerData.push({\n        name: key,\n        dataList: items\n      });\n    });\n    var layerNum = layerData.length;\n    for (var k = 0; k < layerNum; ++k) {\n      var name_1 = layerData[k].name;\n      for (var j = 0; j < layerData[k].dataList.length; ++j) {\n        var timeValue = layerData[k].dataList[j][0] + '';\n        timeValueKeys[timeValue] = k;\n      }\n      for (var timeValue in timeValueKeys) {\n        if (timeValueKeys.hasOwnProperty(timeValue) && timeValueKeys[timeValue] !== k) {\n          timeValueKeys[timeValue] = k;\n          data[rawDataLength] = [timeValue, 0, name_1];\n          rawDataLength++;\n        }\n      }\n    }\n    return data;\n  };\n  /**\n   * @override\n   * @param  option  the initial option that user gave\n   * @param  ecModel  the model object for themeRiver option\n   */\n  ThemeRiverSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    var singleAxisModel = this.getReferringComponents('singleAxis', SINGLE_REFERRING).models[0];\n    var axisType = singleAxisModel.get('type');\n    // filter the data item with the value of label is undefined\n    var filterData = zrUtil.filter(option.data, function (dataItem) {\n      return dataItem[2] !== undefined;\n    });\n    // ??? TODO design a stage to transfer data for themeRiver and lines?\n    var data = this.fixData(filterData || []);\n    var nameList = [];\n    var nameMap = this.nameMap = zrUtil.createHashMap();\n    var count = 0;\n    for (var i = 0; i < data.length; ++i) {\n      nameList.push(data[i][DATA_NAME_INDEX]);\n      if (!nameMap.get(data[i][DATA_NAME_INDEX])) {\n        nameMap.set(data[i][DATA_NAME_INDEX], count);\n        count++;\n      }\n    }\n    var dimensions = prepareSeriesDataSchema(data, {\n      coordDimensions: ['single'],\n      dimensionsDefine: [{\n        name: 'time',\n        type: getDimensionTypeByAxis(axisType)\n      }, {\n        name: 'value',\n        type: 'float'\n      }, {\n        name: 'name',\n        type: 'ordinal'\n      }],\n      encodeDefine: {\n        single: 0,\n        value: 1,\n        itemName: 2\n      }\n    }).dimensions;\n    var list = new SeriesData(dimensions, this);\n    list.initData(data);\n    return list;\n  };\n  /**\n   * The raw data is divided into multiple layers and each layer\n   *     has same name.\n   */\n  ThemeRiverSeriesModel.prototype.getLayerSeries = function () {\n    var data = this.getData();\n    var lenCount = data.count();\n    var indexArr = [];\n    for (var i = 0; i < lenCount; ++i) {\n      indexArr[i] = i;\n    }\n    var timeDim = data.mapDimension('single');\n    // data group by name\n    var groupResult = groupData(indexArr, function (index) {\n      return data.get('name', index);\n    });\n    var layerSeries = [];\n    groupResult.buckets.each(function (items, key) {\n      items.sort(function (index1, index2) {\n        return data.get(timeDim, index1) - data.get(timeDim, index2);\n      });\n      layerSeries.push({\n        name: key,\n        indices: items\n      });\n    });\n    return layerSeries;\n  };\n  /**\n   * Get data indices for show tooltip content\n   */\n  ThemeRiverSeriesModel.prototype.getAxisTooltipData = function (dim, value, baseAxis) {\n    if (!zrUtil.isArray(dim)) {\n      dim = dim ? [dim] : [];\n    }\n    var data = this.getData();\n    var layerSeries = this.getLayerSeries();\n    var indices = [];\n    var layerNum = layerSeries.length;\n    var nestestValue;\n    for (var i = 0; i < layerNum; ++i) {\n      var minDist = Number.MAX_VALUE;\n      var nearestIdx = -1;\n      var pointNum = layerSeries[i].indices.length;\n      for (var j = 0; j < pointNum; ++j) {\n        var theValue = data.get(dim[0], layerSeries[i].indices[j]);\n        var dist = Math.abs(theValue - value);\n        if (dist <= minDist) {\n          nestestValue = theValue;\n          minDist = dist;\n          nearestIdx = layerSeries[i].indices[j];\n        }\n      }\n      indices.push(nearestIdx);\n    }\n    return {\n      dataIndices: indices,\n      nestestValue: nestestValue\n    };\n  };\n  ThemeRiverSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var data = this.getData();\n    var name = data.getName(dataIndex);\n    var value = data.get(data.mapDimension('value'), dataIndex);\n    return createTooltipMarkup('nameValue', {\n      name: name,\n      value: value\n    });\n  };\n  ThemeRiverSeriesModel.type = 'series.themeRiver';\n  ThemeRiverSeriesModel.dependencies = ['singleAxis'];\n  ThemeRiverSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    colorBy: 'data',\n    coordinateSystem: 'singleAxis',\n    // gap in axis's orthogonal orientation\n    boundaryGap: ['10%', '10%'],\n    // legendHoverLink: true,\n    singleAxisIndex: 0,\n    animationEasing: 'linear',\n    label: {\n      margin: 4,\n      show: true,\n      position: 'left',\n      fontSize: 11\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    }\n  };\n  return ThemeRiverSeriesModel;\n}(SeriesModel);\nexport default ThemeRiverSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as numberUtil from '../../util/number.js';\nexport default function themeRiverLayout(ecModel, api) {\n  ecModel.eachSeriesByType('themeRiver', function (seriesModel) {\n    var data = seriesModel.getData();\n    var single = seriesModel.coordinateSystem;\n    var layoutInfo = {};\n    // use the axis boundingRect for view\n    var rect = single.getRect();\n    layoutInfo.rect = rect;\n    var boundaryGap = seriesModel.get('boundaryGap');\n    var axis = single.getAxis();\n    layoutInfo.boundaryGap = boundaryGap;\n    if (axis.orient === 'horizontal') {\n      boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], rect.height);\n      boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], rect.height);\n      var height = rect.height - boundaryGap[0] - boundaryGap[1];\n      doThemeRiverLayout(data, seriesModel, height);\n    } else {\n      boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], rect.width);\n      boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], rect.width);\n      var width = rect.width - boundaryGap[0] - boundaryGap[1];\n      doThemeRiverLayout(data, seriesModel, width);\n    }\n    data.setLayout('layoutInfo', layoutInfo);\n  });\n}\n/**\n * The layout information about themeriver\n *\n * @param data  data in the series\n * @param seriesModel  the model object of themeRiver series\n * @param height  value used to compute every series height\n */\nfunction doThemeRiverLayout(data, seriesModel, height) {\n  if (!data.count()) {\n    return;\n  }\n  var coordSys = seriesModel.coordinateSystem;\n  // the data in each layer are organized into a series.\n  var layerSeries = seriesModel.getLayerSeries();\n  // the points in each layer.\n  var timeDim = data.mapDimension('single');\n  var valueDim = data.mapDimension('value');\n  var layerPoints = zrUtil.map(layerSeries, function (singleLayer) {\n    return zrUtil.map(singleLayer.indices, function (idx) {\n      var pt = coordSys.dataToPoint(data.get(timeDim, idx));\n      pt[1] = data.get(valueDim, idx);\n      return pt;\n    });\n  });\n  var base = computeBaseline(layerPoints);\n  var baseLine = base.y0;\n  var ky = height / base.max;\n  // set layout information for each item.\n  var n = layerSeries.length;\n  var m = layerSeries[0].indices.length;\n  var baseY0;\n  for (var j = 0; j < m; ++j) {\n    baseY0 = baseLine[j] * ky;\n    data.setItemLayout(layerSeries[0].indices[j], {\n      layerIndex: 0,\n      x: layerPoints[0][j][0],\n      y0: baseY0,\n      y: layerPoints[0][j][1] * ky\n    });\n    for (var i = 1; i < n; ++i) {\n      baseY0 += layerPoints[i - 1][j][1] * ky;\n      data.setItemLayout(layerSeries[i].indices[j], {\n        layerIndex: i,\n        x: layerPoints[i][j][0],\n        y0: baseY0,\n        y: layerPoints[i][j][1] * ky\n      });\n    }\n  }\n}\n/**\n * Compute the baseLine of the rawdata\n * Inspired by Lee Byron's paper Stacked Graphs - Geometry & Aesthetics\n *\n * @param  data  the points in each layer\n */\nfunction computeBaseline(data) {\n  var layerNum = data.length;\n  var pointNum = data[0].length;\n  var sums = [];\n  var y0 = [];\n  var max = 0;\n  for (var i = 0; i < pointNum; ++i) {\n    var temp = 0;\n    for (var j = 0; j < layerNum; ++j) {\n      temp += data[j][i][1];\n    }\n    if (temp > max) {\n      max = temp;\n    }\n    sums.push(temp);\n  }\n  for (var k = 0; k < pointNum; ++k) {\n    y0[k] = (max - sums[k]) / 2;\n  }\n  max = 0;\n  for (var l = 0; l < pointNum; ++l) {\n    var sum = sums[l] + y0[l];\n    if (sum > max) {\n      max = sum;\n    }\n  }\n  return {\n    y0: y0,\n    max: max\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport ThemeRiverView from './ThemeRiverView.js';\nimport ThemeRiverSeriesModel from './ThemeRiverSeries.js';\nimport themeRiverLayout from './themeRiverLayout.js';\nimport dataFilter from '../../processor/dataFilter.js';\nexport function install(registers) {\n  registers.registerChartView(ThemeRiverView);\n  registers.registerSeriesModel(ThemeRiverSeriesModel);\n  registers.registerLayout(themeRiverLayout);\n  registers.registerProcessor(dataFilter('themeRiver'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis, SPECIAL_STATES, DISPLAY_STATES } from '../../util/states.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { getSectorCornerRadius } from '../helper/sectorHelper.js';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nimport { normalizeRadian } from 'zrender/lib/contain/util.js';\nimport { isRadianAroundZero } from '../../util/number.js';\nvar DEFAULT_SECTOR_Z = 2;\nvar DEFAULT_TEXT_Z = 4;\n/**\n * Sunburstce of Sunburst including Sector, Label, LabelLine\n */\nvar SunburstPiece = /** @class */function (_super) {\n  __extends(SunburstPiece, _super);\n  function SunburstPiece(node, seriesModel, ecModel, api) {\n    var _this = _super.call(this) || this;\n    _this.z2 = DEFAULT_SECTOR_Z;\n    _this.textConfig = {\n      inside: true\n    };\n    getECData(_this).seriesIndex = seriesModel.seriesIndex;\n    var text = new graphic.Text({\n      z2: DEFAULT_TEXT_Z,\n      silent: node.getModel().get(['label', 'silent'])\n    });\n    _this.setTextContent(text);\n    _this.updateData(true, node, seriesModel, ecModel, api);\n    return _this;\n  }\n  SunburstPiece.prototype.updateData = function (firstCreate, node,\n  // state: 'emphasis' | 'normal' | 'highlight' | 'downplay',\n  seriesModel, ecModel, api) {\n    this.node = node;\n    node.piece = this;\n    seriesModel = seriesModel || this._seriesModel;\n    ecModel = ecModel || this._ecModel;\n    var sector = this;\n    getECData(sector).dataIndex = node.dataIndex;\n    var itemModel = node.getModel();\n    var emphasisModel = itemModel.getModel('emphasis');\n    var layout = node.getLayout();\n    var sectorShape = zrUtil.extend({}, layout);\n    sectorShape.label = null;\n    var normalStyle = node.getVisual('style');\n    normalStyle.lineJoin = 'bevel';\n    var decal = node.getVisual('decal');\n    if (decal) {\n      normalStyle.decal = createOrUpdatePatternFromDecal(decal, api);\n    }\n    var cornerRadius = getSectorCornerRadius(itemModel.getModel('itemStyle'), sectorShape, true);\n    zrUtil.extend(sectorShape, cornerRadius);\n    zrUtil.each(SPECIAL_STATES, function (stateName) {\n      var state = sector.ensureState(stateName);\n      var itemStyleModel = itemModel.getModel([stateName, 'itemStyle']);\n      state.style = itemStyleModel.getItemStyle();\n      // border radius\n      var cornerRadius = getSectorCornerRadius(itemStyleModel, sectorShape);\n      if (cornerRadius) {\n        state.shape = cornerRadius;\n      }\n    });\n    if (firstCreate) {\n      sector.setShape(sectorShape);\n      sector.shape.r = layout.r0;\n      graphic.initProps(sector, {\n        shape: {\n          r: layout.r\n        }\n      }, seriesModel, node.dataIndex);\n    } else {\n      // Disable animation for gradient since no interpolation method\n      // is supported for gradient\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel);\n      saveOldStyle(sector);\n    }\n    sector.useStyle(normalStyle);\n    this._updateLabel(seriesModel);\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle);\n    this._seriesModel = seriesModel || this._seriesModel;\n    this._ecModel = ecModel || this._ecModel;\n    var focus = emphasisModel.get('focus');\n    var focusOrIndices = focus === 'relative' ? zrUtil.concatArray(node.getAncestorsIndices(), node.getDescendantIndices()) : focus === 'ancestor' ? node.getAncestorsIndices() : focus === 'descendant' ? node.getDescendantIndices() : focus;\n    toggleHoverEmphasis(this, focusOrIndices, emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n  };\n  SunburstPiece.prototype._updateLabel = function (seriesModel) {\n    var _this = this;\n    var itemModel = this.node.getModel();\n    var normalLabelModel = itemModel.getModel('label');\n    var layout = this.node.getLayout();\n    var angle = layout.endAngle - layout.startAngle;\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var sector = this;\n    var label = sector.getTextContent();\n    var dataIndex = this.node.dataIndex;\n    var labelMinAngle = normalLabelModel.get('minAngle') / 180 * Math.PI;\n    var isNormalShown = normalLabelModel.get('show') && !(labelMinAngle != null && Math.abs(angle) < labelMinAngle);\n    label.ignore = !isNormalShown;\n    // TODO use setLabelStyle\n    zrUtil.each(DISPLAY_STATES, function (stateName) {\n      var labelStateModel = stateName === 'normal' ? itemModel.getModel('label') : itemModel.getModel([stateName, 'label']);\n      var isNormal = stateName === 'normal';\n      var state = isNormal ? label : label.ensureState(stateName);\n      var text = seriesModel.getFormattedLabel(dataIndex, stateName);\n      if (isNormal) {\n        text = text || _this.node.name;\n      }\n      state.style = createTextStyle(labelStateModel, {}, null, stateName !== 'normal', true);\n      if (text) {\n        state.style.text = text;\n      }\n      // Not displaying text when angle is too small\n      var isShown = labelStateModel.get('show');\n      if (isShown != null && !isNormal) {\n        state.ignore = !isShown;\n      }\n      var labelPosition = getLabelAttr(labelStateModel, 'position');\n      var sectorState = isNormal ? sector : sector.states[stateName];\n      var labelColor = sectorState.style.fill;\n      sectorState.textConfig = {\n        outsideFill: labelStateModel.get('color') === 'inherit' ? labelColor : null,\n        inside: labelPosition !== 'outside'\n      };\n      var r;\n      var labelPadding = getLabelAttr(labelStateModel, 'distance') || 0;\n      var textAlign = getLabelAttr(labelStateModel, 'align');\n      var rotateType = getLabelAttr(labelStateModel, 'rotate');\n      var flipStartAngle = Math.PI * 0.5;\n      var flipEndAngle = Math.PI * 1.5;\n      var midAngleNormal = normalizeRadian(rotateType === 'tangential' ? Math.PI / 2 - midAngle : midAngle);\n      // For text that is up-side down, rotate 180 degrees to make sure\n      // it's readable\n      var needsFlip = midAngleNormal > flipStartAngle && !isRadianAroundZero(midAngleNormal - flipStartAngle) && midAngleNormal < flipEndAngle;\n      if (labelPosition === 'outside') {\n        r = layout.r + labelPadding;\n        textAlign = needsFlip ? 'right' : 'left';\n      } else {\n        if (!textAlign || textAlign === 'center') {\n          // Put label in the center if it's a circle\n          if (angle === 2 * Math.PI && layout.r0 === 0) {\n            r = 0;\n          } else {\n            r = (layout.r + layout.r0) / 2;\n          }\n          textAlign = 'center';\n        } else if (textAlign === 'left') {\n          r = layout.r0 + labelPadding;\n          textAlign = needsFlip ? 'right' : 'left';\n        } else if (textAlign === 'right') {\n          r = layout.r - labelPadding;\n          textAlign = needsFlip ? 'left' : 'right';\n        }\n      }\n      state.style.align = textAlign;\n      state.style.verticalAlign = getLabelAttr(labelStateModel, 'verticalAlign') || 'middle';\n      state.x = r * dx + layout.cx;\n      state.y = r * dy + layout.cy;\n      var rotate = 0;\n      if (rotateType === 'radial') {\n        rotate = normalizeRadian(-midAngle) + (needsFlip ? Math.PI : 0);\n      } else if (rotateType === 'tangential') {\n        rotate = normalizeRadian(Math.PI / 2 - midAngle) + (needsFlip ? Math.PI : 0);\n      } else if (zrUtil.isNumber(rotateType)) {\n        rotate = rotateType * Math.PI / 180;\n      }\n      state.rotation = normalizeRadian(rotate);\n    });\n    function getLabelAttr(model, name) {\n      var stateAttr = model.get(name);\n      if (stateAttr == null) {\n        return normalLabelModel.get(name);\n      }\n      return stateAttr;\n    }\n    label.dirtyStyle();\n  };\n  return SunburstPiece;\n}(graphic.Sector);\nexport default SunburstPiece;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util.js';\nimport { deprecateReplaceLog } from '../../util/log.js';\nimport { retrieveTargetInfo, aboveViewRoot } from '../helper/treeHelper.js';\nexport var ROOT_TO_NODE_ACTION = 'sunburstRootToNode';\nvar HIGHLIGHT_ACTION = 'sunburstHighlight';\nvar UNHIGHLIGHT_ACTION = 'sunburstUnhighlight';\nexport function installSunburstAction(registers) {\n  registers.registerAction({\n    type: ROOT_TO_NODE_ACTION,\n    update: 'updateView'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'sunburst',\n      query: payload\n    }, handleRootToNode);\n    function handleRootToNode(model, index) {\n      var targetInfo = retrieveTargetInfo(payload, [ROOT_TO_NODE_ACTION], model);\n      if (targetInfo) {\n        var originViewRoot = model.getViewRoot();\n        if (originViewRoot) {\n          payload.direction = aboveViewRoot(originViewRoot, targetInfo.node) ? 'rollUp' : 'drillDown';\n        }\n        model.resetViewRoot(targetInfo.node);\n      }\n    }\n  });\n  registers.registerAction({\n    type: HIGHLIGHT_ACTION,\n    update: 'none'\n  }, function (payload, ecModel, api) {\n    // Clone\n    payload = extend({}, payload);\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'sunburst',\n      query: payload\n    }, handleHighlight);\n    function handleHighlight(model) {\n      var targetInfo = retrieveTargetInfo(payload, [HIGHLIGHT_ACTION], model);\n      if (targetInfo) {\n        payload.dataIndex = targetInfo.node.dataIndex;\n      }\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('sunburstHighlight', 'highlight');\n    }\n    // Fast forward action\n    api.dispatchAction(extend(payload, {\n      type: 'highlight'\n    }));\n  });\n  registers.registerAction({\n    type: UNHIGHLIGHT_ACTION,\n    update: 'updateView'\n  }, function (payload, ecModel, api) {\n    payload = extend({}, payload);\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('sunburstUnhighlight', 'downplay');\n    }\n    api.dispatchAction(extend(payload, {\n      type: 'downplay'\n    }));\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ChartView from '../../view/Chart.js';\nimport SunburstPiece from './SunburstPiece.js';\nimport DataDiffer from '../../data/DataDiffer.js';\nimport { ROOT_TO_NODE_ACTION } from './sunburstAction.js';\nimport { windowOpen } from '../../util/format.js';\nvar SunburstView = /** @class */function (_super) {\n  __extends(SunburstView, _super);\n  function SunburstView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SunburstView.type;\n    return _this;\n  }\n  SunburstView.prototype.render = function (seriesModel, ecModel, api,\n  // @ts-ignore\n  payload) {\n    var self = this;\n    this.seriesModel = seriesModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    var data = seriesModel.getData();\n    var virtualRoot = data.tree.root;\n    var newRoot = seriesModel.getViewRoot();\n    var group = this.group;\n    var renderLabelForZeroData = seriesModel.get('renderLabelForZeroData');\n    var newChildren = [];\n    newRoot.eachNode(function (node) {\n      newChildren.push(node);\n    });\n    var oldChildren = this._oldChildren || [];\n    dualTravel(newChildren, oldChildren);\n    renderRollUp(virtualRoot, newRoot);\n    this._initEvents();\n    this._oldChildren = newChildren;\n    function dualTravel(newChildren, oldChildren) {\n      if (newChildren.length === 0 && oldChildren.length === 0) {\n        return;\n      }\n      new DataDiffer(oldChildren, newChildren, getKey, getKey).add(processNode).update(processNode).remove(zrUtil.curry(processNode, null)).execute();\n      function getKey(node) {\n        return node.getId();\n      }\n      function processNode(newIdx, oldIdx) {\n        var newNode = newIdx == null ? null : newChildren[newIdx];\n        var oldNode = oldIdx == null ? null : oldChildren[oldIdx];\n        doRenderNode(newNode, oldNode);\n      }\n    }\n    function doRenderNode(newNode, oldNode) {\n      if (!renderLabelForZeroData && newNode && !newNode.getValue()) {\n        // Not render data with value 0\n        newNode = null;\n      }\n      if (newNode !== virtualRoot && oldNode !== virtualRoot) {\n        if (oldNode && oldNode.piece) {\n          if (newNode) {\n            // Update\n            oldNode.piece.updateData(false, newNode, seriesModel, ecModel, api);\n            // For tooltip\n            data.setItemGraphicEl(newNode.dataIndex, oldNode.piece);\n          } else {\n            // Remove\n            removeNode(oldNode);\n          }\n        } else if (newNode) {\n          // Add\n          var piece = new SunburstPiece(newNode, seriesModel, ecModel, api);\n          group.add(piece);\n          // For tooltip\n          data.setItemGraphicEl(newNode.dataIndex, piece);\n        }\n      }\n    }\n    function removeNode(node) {\n      if (!node) {\n        return;\n      }\n      if (node.piece) {\n        group.remove(node.piece);\n        node.piece = null;\n      }\n    }\n    function renderRollUp(virtualRoot, viewRoot) {\n      if (viewRoot.depth > 0) {\n        // Render\n        if (self.virtualPiece) {\n          // Update\n          self.virtualPiece.updateData(false, virtualRoot, seriesModel, ecModel, api);\n        } else {\n          // Add\n          self.virtualPiece = new SunburstPiece(virtualRoot, seriesModel, ecModel, api);\n          group.add(self.virtualPiece);\n        }\n        // TODO event scope\n        viewRoot.piece.off('click');\n        self.virtualPiece.on('click', function (e) {\n          self._rootToNode(viewRoot.parentNode);\n        });\n      } else if (self.virtualPiece) {\n        // Remove\n        group.remove(self.virtualPiece);\n        self.virtualPiece = null;\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  SunburstView.prototype._initEvents = function () {\n    var _this = this;\n    this.group.off('click');\n    this.group.on('click', function (e) {\n      var targetFound = false;\n      var viewRoot = _this.seriesModel.getViewRoot();\n      viewRoot.eachNode(function (node) {\n        if (!targetFound && node.piece && node.piece === e.target) {\n          var nodeClick = node.getModel().get('nodeClick');\n          if (nodeClick === 'rootToNode') {\n            _this._rootToNode(node);\n          } else if (nodeClick === 'link') {\n            var itemModel = node.getModel();\n            var link = itemModel.get('link');\n            if (link) {\n              var linkTarget = itemModel.get('target', true) || '_blank';\n              windowOpen(link, linkTarget);\n            }\n          }\n          targetFound = true;\n        }\n      });\n    });\n  };\n  /**\n   * @private\n   */\n  SunburstView.prototype._rootToNode = function (node) {\n    if (node !== this.seriesModel.getViewRoot()) {\n      this.api.dispatchAction({\n        type: ROOT_TO_NODE_ACTION,\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        targetNode: node\n      });\n    }\n  };\n  /**\n   * @implement\n   */\n  SunburstView.prototype.containPoint = function (point, seriesModel) {\n    var treeRoot = seriesModel.getData();\n    var itemLayout = treeRoot.getItemLayout(0);\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  };\n  SunburstView.type = 'sunburst';\n  return SunburstView;\n}(ChartView);\nexport default SunburstView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport SeriesModel from '../../model/Series.js';\nimport Tree from '../../data/Tree.js';\nimport { wrapTreePathInfo } from '../helper/treeHelper.js';\nimport Model from '../../model/Model.js';\nimport enableAriaDecalForTree from '../helper/enableAriaDecalForTree.js';\nvar SunburstSeriesModel = /** @class */function (_super) {\n  __extends(SunburstSeriesModel, _super);\n  function SunburstSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SunburstSeriesModel.type;\n    _this.ignoreStyleOnData = true;\n    return _this;\n  }\n  SunburstSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    // Create a virtual root.\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    completeTreeValue(root);\n    var levelModels = this._levelModels = zrUtil.map(option.levels || [], function (levelDefine) {\n      return new Model(levelDefine, this, ecModel);\n    }, this);\n    // Make sure always a new tree is created when setOption,\n    // in TreemapView, we check whether oldTree === newTree\n    // to choose mappings approach among old shapes and new shapes.\n    var tree = Tree.createTree(root, this, beforeLink);\n    function beforeLink(nodeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var node = tree.getNodeByDataIndex(idx);\n        var levelModel = levelModels[node.depth];\n        levelModel && (model.parentModel = levelModel);\n        return model;\n      });\n    }\n    return tree.data;\n  };\n  SunburstSeriesModel.prototype.optionUpdated = function () {\n    this.resetViewRoot();\n  };\n  /*\n   * @override\n   */\n  SunburstSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var params = _super.prototype.getDataParams.apply(this, arguments);\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treePathInfo = wrapTreePathInfo(node, this);\n    return params;\n  };\n  SunburstSeriesModel.prototype.getLevelModel = function (node) {\n    return this._levelModels && this._levelModels[node.depth];\n  };\n  SunburstSeriesModel.prototype.getViewRoot = function () {\n    return this._viewRoot;\n  };\n  SunburstSeriesModel.prototype.resetViewRoot = function (viewRoot) {\n    viewRoot ? this._viewRoot = viewRoot : viewRoot = this._viewRoot;\n    var root = this.getRawData().tree.root;\n    if (!viewRoot || viewRoot !== root && !root.contains(viewRoot)) {\n      this._viewRoot = root;\n    }\n  };\n  SunburstSeriesModel.prototype.enableAriaDecal = function () {\n    enableAriaDecalForTree(this);\n  };\n  SunburstSeriesModel.type = 'series.sunburst';\n  SunburstSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    // 默认全局居中\n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // 默认顺时针\n    clockwise: true,\n    startAngle: 90,\n    // 最小角度改为0\n    minAngle: 0,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // 'rootToNode', 'link', or false\n    nodeClick: 'rootToNode',\n    renderLabelForZeroData: false,\n    label: {\n      // could be: 'radial', 'tangential', or 'none'\n      rotate: 'radial',\n      show: true,\n      opacity: 1,\n      // 'left' is for inner side of inside, and 'right' is for outer\n      // side for inside\n      align: 'center',\n      position: 'inside',\n      distance: 5,\n      silent: true\n    },\n    itemStyle: {\n      borderWidth: 1,\n      borderColor: 'white',\n      borderType: 'solid',\n      shadowBlur: 0,\n      shadowColor: 'rgba(0, 0, 0, 0.2)',\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      opacity: 1\n    },\n    emphasis: {\n      focus: 'descendant'\n    },\n    blur: {\n      itemStyle: {\n        opacity: 0.2\n      },\n      label: {\n        opacity: 0.1\n      }\n    },\n    // Animation type can be expansion, scale.\n    animationType: 'expansion',\n    animationDuration: 1000,\n    animationDurationUpdate: 500,\n    data: [],\n    /**\n     * Sort order.\n     *\n     * Valid values: 'desc', 'asc', null, or callback function.\n     * 'desc' and 'asc' for descend and ascendant order;\n     * null for not sorting;\n     * example of callback function:\n     * function(nodeA, nodeB) {\n     *     return nodeA.getValue() - nodeB.getValue();\n     * }\n     */\n    sort: 'desc'\n  };\n  return SunburstSeriesModel;\n}(SeriesModel);\nfunction completeTreeValue(dataNode) {\n  // Postorder travel tree.\n  // If value of none-leaf node is not set,\n  // calculate it by suming up the value of all children.\n  var sum = 0;\n  zrUtil.each(dataNode.children, function (child) {\n    completeTreeValue(child);\n    var childValue = child.value;\n    // TODO First value of array must be a number\n    zrUtil.isArray(childValue) && (childValue = childValue[0]);\n    sum += childValue;\n  });\n  var thisValue = dataNode.value;\n  if (zrUtil.isArray(thisValue)) {\n    thisValue = thisValue[0];\n  }\n  if (thisValue == null || isNaN(thisValue)) {\n    thisValue = sum;\n  }\n  // Value should not less than 0.\n  if (thisValue < 0) {\n    thisValue = 0;\n  }\n  zrUtil.isArray(dataNode.value) ? dataNode.value[0] = thisValue : dataNode.value = thisValue;\n}\nexport default SunburstSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parsePercent } from '../../util/number.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\n// let PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\nexport default function sunburstLayout(seriesType, ecModel, api) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n    var width = api.getWidth();\n    var height = api.getHeight();\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width);\n    var cy = parsePercent(center[1], height);\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var virtualRoot = seriesModel.getData().tree.root;\n    var treeRoot = seriesModel.getViewRoot();\n    var rootDepth = treeRoot.depth;\n    var sort = seriesModel.get('sort');\n    if (sort != null) {\n      initChildren(treeRoot, sort);\n    }\n    var validDataCount = 0;\n    zrUtil.each(treeRoot.children, function (child) {\n      !isNaN(child.getValue()) && validDataCount++;\n    });\n    var sum = treeRoot.getValue();\n    // Sum may be 0\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var renderRollupNode = treeRoot.depth > 0;\n    var levels = treeRoot.height - (renderRollupNode ? -1 : 1);\n    var rPerLevel = (r - r0) / (levels || 1);\n    var clockwise = seriesModel.get('clockwise');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum');\n    // In the case some sector angle is smaller than minAngle\n    // let restAngle = PI2;\n    // let valueSumLargerThanMinAngle = 0;\n    var dir = clockwise ? 1 : -1;\n    /**\n     * Render a tree\n     * @return increased angle\n     */\n    var renderNode = function (node, startAngle) {\n      if (!node) {\n        return;\n      }\n      var endAngle = startAngle;\n      // Render self\n      if (node !== virtualRoot) {\n        // Tree node is virtual, so it doesn't need to be drawn\n        var value = node.getValue();\n        var angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n        if (angle < minAngle) {\n          angle = minAngle;\n          // restAngle -= minAngle;\n        }\n        // else {\n        //     valueSumLargerThanMinAngle += value;\n        // }\n        endAngle = startAngle + dir * angle;\n        var depth = node.depth - rootDepth - (renderRollupNode ? -1 : 1);\n        var rStart = r0 + rPerLevel * depth;\n        var rEnd = r0 + rPerLevel * (depth + 1);\n        var levelModel = seriesModel.getLevelModel(node);\n        if (levelModel) {\n          var r0_1 = levelModel.get('r0', true);\n          var r_1 = levelModel.get('r', true);\n          var radius_1 = levelModel.get('radius', true);\n          if (radius_1 != null) {\n            r0_1 = radius_1[0];\n            r_1 = radius_1[1];\n          }\n          r0_1 != null && (rStart = parsePercent(r0_1, size / 2));\n          r_1 != null && (rEnd = parsePercent(r_1, size / 2));\n        }\n        node.setLayout({\n          angle: angle,\n          startAngle: startAngle,\n          endAngle: endAngle,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: rStart,\n          r: rEnd\n        });\n      }\n      // Render children\n      if (node.children && node.children.length) {\n        // currentAngle = startAngle;\n        var siblingAngle_1 = 0;\n        zrUtil.each(node.children, function (node) {\n          siblingAngle_1 += renderNode(node, startAngle + siblingAngle_1);\n        });\n      }\n      return endAngle - startAngle;\n    };\n    // Virtual root node for roll up\n    if (renderRollupNode) {\n      var rStart = r0;\n      var rEnd = r0 + rPerLevel;\n      var angle = Math.PI * 2;\n      virtualRoot.setLayout({\n        angle: angle,\n        startAngle: startAngle,\n        endAngle: startAngle + angle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: rStart,\n        r: rEnd\n      });\n    }\n    renderNode(treeRoot, startAngle);\n  });\n}\n/**\n * Init node children by order and update visual\n */\nfunction initChildren(node, sortOrder) {\n  var children = node.children || [];\n  node.children = sort(children, sortOrder);\n  // Init children recursively\n  if (children.length) {\n    zrUtil.each(node.children, function (child) {\n      initChildren(child, sortOrder);\n    });\n  }\n}\n/**\n * Sort children nodes\n *\n * @param {TreeNode[]}               children children of node to be sorted\n * @param {string | function | null} sort sort method\n *                                   See SunburstSeries.js for details.\n */\nfunction sort(children, sortOrder) {\n  if (zrUtil.isFunction(sortOrder)) {\n    var sortTargets = zrUtil.map(children, function (child, idx) {\n      var value = child.getValue();\n      return {\n        params: {\n          depth: child.depth,\n          height: child.height,\n          dataIndex: child.dataIndex,\n          getValue: function () {\n            return value;\n          }\n        },\n        index: idx\n      };\n    });\n    sortTargets.sort(function (a, b) {\n      return sortOrder(a.params, b.params);\n    });\n    return zrUtil.map(sortTargets, function (target) {\n      return children[target.index];\n    });\n  } else {\n    var isAsc_1 = sortOrder === 'asc';\n    return children.sort(function (a, b) {\n      var diff = (a.getValue() - b.getValue()) * (isAsc_1 ? 1 : -1);\n      return diff === 0 ? (a.dataIndex - b.dataIndex) * (isAsc_1 ? -1 : 1) : diff;\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { lift } from 'zrender/lib/tool/color.js';\nimport { extend, isString } from 'zrender/lib/core/util.js';\nimport tokens from '../../visual/tokens.js';\nexport default function sunburstVisual(ecModel) {\n  var paletteScope = {};\n  // Default color strategy\n  function pickColor(node, seriesModel, treeHeight) {\n    if (node.depth === 0) {\n      // Don't use palette color for the root node, because it's displayed only when drilling down.\n      return tokens.color.neutral50;\n    }\n    // Choose color from palette based on the first level.\n    var current = node;\n    while (current && current.depth > 1) {\n      current = current.parentNode;\n    }\n    var color = seriesModel.getColorFromPalette(current.name || current.dataIndex + '', paletteScope);\n    if (node.depth > 1 && isString(color)) {\n      // Lighter on the deeper level.\n      color = lift(color, (node.depth - 1) / (treeHeight - 1) * 0.5);\n    }\n    return color;\n  }\n  ecModel.eachSeriesByType('sunburst', function (seriesModel) {\n    var data = seriesModel.getData();\n    var tree = data.tree;\n    tree.eachNode(function (node) {\n      var model = node.getModel();\n      var style = model.getModel('itemStyle').getItemStyle();\n      if (!style.fill) {\n        style.fill = pickColor(node, seriesModel, tree.root.height);\n      }\n      var existsStyle = data.ensureUniqueItemVisual(node.dataIndex, 'style');\n      extend(existsStyle, style);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SunburstView from './SunburstView.js';\nimport SunburstSeriesModel from './SunburstSeries.js';\nimport sunburstLayout from './sunburstLayout.js';\nimport sunburstVisual from './sunburstVisual.js';\nimport dataFilter from '../../processor/dataFilter.js';\nimport { curry } from 'zrender/lib/core/util.js';\nimport { installSunburstAction } from './sunburstAction.js';\nexport function install(registers) {\n  registers.registerChartView(SunburstView);\n  registers.registerSeriesModel(SunburstSeriesModel);\n  registers.registerLayout(curry(sunburstLayout, 'sunburst'));\n  registers.registerProcessor(curry(dataFilter, 'sunburst'));\n  registers.registerVisual(sunburstVisual);\n  installSunburstAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesData from '../helper/createSeriesData.js';\nimport { makeInner } from '../../util/model.js';\nimport SeriesModel from '../../model/Series.js';\n// Also compat with ec4, where\n// `visual('color') visual('borderColor')` is supported.\nexport var STYLE_VISUAL_TYPE = {\n  color: 'fill',\n  borderColor: 'stroke'\n};\nexport var NON_STYLE_VISUAL_PROPS = {\n  symbol: 1,\n  symbolSize: 1,\n  symbolKeepAspect: 1,\n  legendIcon: 1,\n  visualMeta: 1,\n  liftZ: 1,\n  decal: 1\n};\n;\nexport var customInnerStore = makeInner();\nvar CustomSeriesModel = /** @class */function (_super) {\n  __extends(CustomSeriesModel, _super);\n  function CustomSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CustomSeriesModel.type;\n    return _this;\n  }\n  CustomSeriesModel.prototype.optionUpdated = function () {\n    this.currentZLevel = this.get('zlevel', true);\n    this.currentZ = this.get('z', true);\n  };\n  CustomSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this);\n  };\n  CustomSeriesModel.prototype.getDataParams = function (dataIndex, dataType, el) {\n    var params = _super.prototype.getDataParams.call(this, dataIndex, dataType);\n    el && (params.info = customInnerStore(el).info);\n    return params;\n  };\n  CustomSeriesModel.type = 'series.custom';\n  CustomSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar', 'matrix'];\n  CustomSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    // zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    // Custom series will not clip by default.\n    // Some case will use custom series to draw label\n    // For example https://echarts.apache.org/examples/en/editor.html?c=custom-gantt-flight\n    clip: false\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n  };\n  return CustomSeriesModel;\n}(SeriesModel);\nexport default CustomSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map(['x', 'y'], function (dim, dimIdx) {\n    var axis = this.getAxis(dim);\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n  }, this);\n}\nexport default function cartesianPrepareCustom(coordSys) {\n  var rect = coordSys.master.getRect();\n  return {\n    coordSys: {\n      // The name exposed to user is always 'cartesian2d' but not 'grid'.\n      type: 'cartesian2d',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: function (data) {\n        // do not provide \"out\" param\n        return coordSys.dataToPoint(data);\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nfunction dataToCoordSize(dataSize, dataItem) {\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map([0, 1], function (dimIdx) {\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    var p1 = [];\n    var p2 = [];\n    p1[dimIdx] = val - halfSize;\n    p2[dimIdx] = val + halfSize;\n    p1[1 - dimIdx] = p2[1 - dimIdx] = dataItem[1 - dimIdx];\n    return Math.abs(this.dataToPoint(p1)[dimIdx] - this.dataToPoint(p2)[dimIdx]);\n  }, this);\n}\nexport default function geoPrepareCustom(coordSys) {\n  var rect = coordSys.getBoundingRect();\n  return {\n    coordSys: {\n      type: 'geo',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height,\n      zoom: coordSys.getZoom()\n    },\n    api: {\n      coord: function (data) {\n        // do not provide \"out\" and noRoam param,\n        // Compatible with this usage:\n        // echarts.util.map(item.points, api.coord)\n        return coordSys.dataToPoint(data);\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { bind } from 'zrender/lib/core/util.js';\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  var axis = this.getAxis();\n  var val = dataItem instanceof Array ? dataItem[0] : dataItem;\n  var halfSize = (dataSize instanceof Array ? dataSize[0] : dataSize) / 2;\n  return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n}\nexport default function singlePrepareCustom(coordSys) {\n  var rect = coordSys.getRect();\n  return {\n    coordSys: {\n      type: 'singleAxis',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: function (val) {\n        // do not provide \"out\" param\n        return coordSys.dataToPoint(val);\n      },\n      size: bind(dataToCoordSize, coordSys)\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\n// import AngleAxis from './AngleAxis.js';\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map(['Radius', 'Angle'], function (dim, dimIdx) {\n    var getterName = 'get' + dim + 'Axis';\n    // TODO: TYPE Check Angle Axis\n    var axis = this[getterName]();\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    var result = axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n    if (dim === 'Angle') {\n      result = result * Math.PI / 180;\n    }\n    return result;\n  }, this);\n}\nexport default function polarPrepareCustom(coordSys) {\n  var radiusAxis = coordSys.getRadiusAxis();\n  var angleAxis = coordSys.getAngleAxis();\n  var radius = radiusAxis.getExtent();\n  radius[0] > radius[1] && radius.reverse();\n  return {\n    coordSys: {\n      type: 'polar',\n      cx: coordSys.cx,\n      cy: coordSys.cy,\n      r: radius[1],\n      r0: radius[0]\n    },\n    api: {\n      coord: function (data) {\n        var radius = radiusAxis.dataToRadius(data[0]);\n        var angle = angleAxis.dataToAngle(data[1]);\n        var coord = coordSys.coordToPoint([radius, angle]);\n        coord.push(radius, angle * Math.PI / 180);\n        return coord;\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function calendarPrepareCustom(coordSys) {\n  var rect = coordSys.getRect();\n  var rangeInfo = coordSys.getRangeInfo();\n  return {\n    coordSys: {\n      type: 'calendar',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height,\n      cellWidth: coordSys.getCellWidth(),\n      cellHeight: coordSys.getCellHeight(),\n      rangeInfo: {\n        start: rangeInfo.start,\n        end: rangeInfo.end,\n        weeks: rangeInfo.weeks,\n        dayCount: rangeInfo.allDay\n      }\n    },\n    api: {\n      coord: function (data, clamp) {\n        return coordSys.dataToPoint(data, clamp);\n      },\n      layout: function (data, clamp) {\n        return coordSys.dataToLayout(data, clamp);\n      }\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function matrixPrepareCustom(coordSys) {\n  var rect = coordSys.getRect();\n  return {\n    coordSys: {\n      type: 'matrix',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: function (data, opt) {\n        return coordSys.dataToPoint(data, opt);\n      },\n      layout: function (data, opt) {\n        return coordSys.dataToLayout(data, opt);\n      }\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { hasOwn, assert, isString, retrieve2, retrieve3, defaults, each, indexOf, map } from 'zrender/lib/core/util.js';\nimport * as graphicUtil from '../../util/graphic.js';\nimport { setDefaultStateProxy, toggleHoverEmphasis } from '../../util/states.js';\nimport * as labelStyleHelper from '../../label/labelStyle.js';\nimport { getDefaultLabel } from '../helper/labelHelper.js';\nimport { getLayoutOnAxis } from '../../layout/barGrid.js';\nimport DataDiffer from '../../data/DataDiffer.js';\nimport ChartView from '../../view/Chart.js';\nimport { createClipPath } from '../helper/createClipPathFromCoordSys.js';\nimport prepareCartesian2d from '../../coord/cartesian/prepareCustom.js';\nimport prepareGeo from '../../coord/geo/prepareCustom.js';\nimport prepareSingleAxis from '../../coord/single/prepareCustom.js';\nimport preparePolar from '../../coord/polar/prepareCustom.js';\nimport prepareCalendar from '../../coord/calendar/prepareCustom.js';\nimport prepareMatrix from '../../coord/matrix/prepareCustom.js';\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\nimport { convertToEC4StyleForCustomSerise, isEC4CompatibleStyle, convertFromEC4CompatibleStyle, warnDeprecated } from '../../util/styleCompat.js';\nimport { throwError } from '../../util/log.js';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal.js';\nimport { STYLE_VISUAL_TYPE, NON_STYLE_VISUAL_PROPS, customInnerStore } from './CustomSeries.js';\nimport { applyLeaveTransition, applyUpdateTransition } from '../../animation/customGraphicTransition.js';\nimport { applyKeyframeAnimation, stopPreviousKeyframeAnimationAndRestore } from '../../animation/customGraphicKeyframeAnimation.js';\nimport { getCustomSeries } from './customSeriesRegister.js';\nimport tokens from '../../visual/tokens.js';\nvar EMPHASIS = 'emphasis';\nvar NORMAL = 'normal';\nvar BLUR = 'blur';\nvar SELECT = 'select';\nvar STATES = [NORMAL, EMPHASIS, BLUR, SELECT];\nvar PATH_ITEM_STYLE = {\n  normal: ['itemStyle'],\n  emphasis: [EMPHASIS, 'itemStyle'],\n  blur: [BLUR, 'itemStyle'],\n  select: [SELECT, 'itemStyle']\n};\nvar PATH_LABEL = {\n  normal: ['label'],\n  emphasis: [EMPHASIS, 'label'],\n  blur: [BLUR, 'label'],\n  select: [SELECT, 'label']\n};\nvar DEFAULT_TRANSITION = ['x', 'y'];\n// Use prefix to avoid index to be the same as el.name,\n// which will cause weird update animation.\nvar GROUP_DIFF_PREFIX = 'e\\0\\0';\nvar attachedTxInfoTmp = {\n  normal: {},\n  emphasis: {},\n  blur: {},\n  select: {}\n};\n/**\n * FIXME: register rather than import directly, for size.\n *\n * To reduce total package size of each coordinate systems, the modules `prepareCustom`\n * of each coordinate systems are not required by each coordinate systems directly, but\n * required by the module `custom`.\n *\n * prepareInfoForCustomSeries {Function}: optional\n *     @return {Object} {coordSys: {...}, api: {\n *         coord: function (data, clamp) {}, // return point in global.\n *         size: function (dataSize, dataItem) {} // return size of each axis in coordSys.\n *     }}\n */\nvar prepareCustoms = {\n  cartesian2d: prepareCartesian2d,\n  geo: prepareGeo,\n  single: prepareSingleAxis,\n  polar: preparePolar,\n  calendar: prepareCalendar,\n  matrix: prepareMatrix\n};\nfunction isPath(el) {\n  return el instanceof graphicUtil.Path;\n}\nfunction isDisplayable(el) {\n  return el instanceof Displayable;\n}\nfunction copyElement(sourceEl, targetEl) {\n  targetEl.copyTransform(sourceEl);\n  if (isDisplayable(targetEl) && isDisplayable(sourceEl)) {\n    targetEl.setStyle(sourceEl.style);\n    targetEl.z = sourceEl.z;\n    targetEl.z2 = sourceEl.z2;\n    targetEl.zlevel = sourceEl.zlevel;\n    targetEl.invisible = sourceEl.invisible;\n    targetEl.ignore = sourceEl.ignore;\n    if (isPath(targetEl) && isPath(sourceEl)) {\n      targetEl.setShape(sourceEl.shape);\n    }\n  }\n}\nvar CustomChartView = /** @class */function (_super) {\n  __extends(CustomChartView, _super);\n  function CustomChartView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CustomChartView.type;\n    return _this;\n  }\n  CustomChartView.prototype.render = function (customSeries, ecModel, api, payload) {\n    // Clear previously rendered progressive elements.\n    this._progressiveEls = null;\n    var oldData = this._data;\n    var data = customSeries.getData();\n    var group = this.group;\n    var renderItem = makeRenderItem(customSeries, data, ecModel, api);\n    if (!oldData) {\n      // Previous render is incremental render or first render.\n      // Needs remove the incremental rendered elements.\n      group.removeAll();\n    }\n    data.diff(oldData).add(function (newIdx) {\n      createOrUpdateItem(api, null, newIdx, renderItem(newIdx, payload), customSeries, group, data);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && applyLeaveTransition(el, customInnerStore(el).option, customSeries);\n    }).update(function (newIdx, oldIdx) {\n      var oldEl = oldData.getItemGraphicEl(oldIdx);\n      createOrUpdateItem(api, oldEl, newIdx, renderItem(newIdx, payload), customSeries, group, data);\n    }).execute();\n    // Do clipping\n    var clipPath = customSeries.get('clip', true) ? createClipPath(customSeries.coordinateSystem, false, customSeries) : null;\n    if (clipPath) {\n      group.setClipPath(clipPath);\n    } else {\n      group.removeClipPath();\n    }\n    this._data = data;\n  };\n  CustomChartView.prototype.incrementalPrepareRender = function (customSeries, ecModel, api) {\n    this.group.removeAll();\n    this._data = null;\n  };\n  CustomChartView.prototype.incrementalRender = function (params, customSeries, ecModel, api, payload) {\n    var data = customSeries.getData();\n    var renderItem = makeRenderItem(customSeries, data, ecModel, api);\n    var progressiveEls = this._progressiveEls = [];\n    function setIncrementalAndHoverLayer(el) {\n      if (!el.isGroup) {\n        el.incremental = true;\n        el.ensureState('emphasis').hoverLayer = true;\n      }\n    }\n    for (var idx = params.start; idx < params.end; idx++) {\n      var el = createOrUpdateItem(null, null, idx, renderItem(idx, payload), customSeries, this.group, data);\n      if (el) {\n        el.traverse(setIncrementalAndHoverLayer);\n        progressiveEls.push(el);\n      }\n    }\n  };\n  CustomChartView.prototype.eachRendered = function (cb) {\n    graphicUtil.traverseElements(this._progressiveEls || this.group, cb);\n  };\n  CustomChartView.prototype.filterForExposedEvent = function (eventType, query, targetEl, packedEvent) {\n    var elementName = query.element;\n    if (elementName == null || targetEl.name === elementName) {\n      return true;\n    }\n    // Enable to give a name on a group made by `renderItem`, and listen\n    // events that are triggered by its descendents.\n    while ((targetEl = targetEl.__hostTarget || targetEl.parent) && targetEl !== this.group) {\n      if (targetEl.name === elementName) {\n        return true;\n      }\n    }\n    return false;\n  };\n  CustomChartView.type = 'custom';\n  return CustomChartView;\n}(ChartView);\nexport default CustomChartView;\nfunction createEl(elOption) {\n  var graphicType = elOption.type;\n  var el;\n  // Those graphic elements are not shapes. They should not be\n  // overwritten by users, so do them first.\n  if (graphicType === 'path') {\n    var shape = elOption.shape;\n    // Using pathRect brings convenience to users sacle svg path.\n    var pathRect = shape.width != null && shape.height != null ? {\n      x: shape.x || 0,\n      y: shape.y || 0,\n      width: shape.width,\n      height: shape.height\n    } : null;\n    var pathData = getPathData(shape);\n    // Path is also used for icon, so layout 'center' by default.\n    el = graphicUtil.makePath(pathData, null, pathRect, shape.layout || 'center');\n    customInnerStore(el).customPathData = pathData;\n  } else if (graphicType === 'image') {\n    el = new graphicUtil.Image({});\n    customInnerStore(el).customImagePath = elOption.style.image;\n  } else if (graphicType === 'text') {\n    el = new graphicUtil.Text({});\n    // customInnerStore(el).customText = (elOption.style as TextStyleProps).text;\n  } else if (graphicType === 'group') {\n    el = new graphicUtil.Group();\n  } else if (graphicType === 'compoundPath') {\n    var shape = elOption.shape;\n    if (!shape || !shape.paths) {\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'shape.paths must be specified in compoundPath';\n      }\n      throwError(errMsg);\n    }\n    var paths = map(shape.paths, function (path) {\n      if (path.type === 'path') {\n        return graphicUtil.makePath(path.shape.pathData, path, null);\n      }\n      var Clz = graphicUtil.getShapeClass(path.type);\n      if (!Clz) {\n        var errMsg = '';\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = 'graphic type \"' + graphicType + '\" can not be found.';\n        }\n        throwError(errMsg);\n      }\n      return new Clz();\n    });\n    el = new graphicUtil.CompoundPath({\n      shape: {\n        paths: paths\n      }\n    });\n  } else {\n    var Clz = graphicUtil.getShapeClass(graphicType);\n    if (!Clz) {\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'graphic type \"' + graphicType + '\" can not be found.';\n      }\n      throwError(errMsg);\n    }\n    el = new Clz();\n  }\n  customInnerStore(el).customGraphicType = graphicType;\n  el.name = elOption.name;\n  // Compat ec4: the default z2 lift is 1. If changing the number,\n  // some cases probably be broken: hierarchy layout along z, like circle packing,\n  // where emphasis only intending to modify color/border rather than lift z2.\n  el.z2EmphasisLift = 1;\n  el.z2SelectLift = 1;\n  return el;\n}\nfunction updateElNormal(\n// Can be null/undefined\napi, el, dataIndex, elOption, attachedTxInfo, seriesModel, isInit) {\n  // Stop and restore before update any other attributes.\n  stopPreviousKeyframeAnimationAndRestore(el);\n  var txCfgOpt = attachedTxInfo && attachedTxInfo.normal.cfg;\n  if (txCfgOpt) {\n    // PENDING: whether use user object directly rather than clone?\n    // TODO:5.0 textConfig transition animation?\n    el.setTextConfig(txCfgOpt);\n  }\n  // Default transition ['x', 'y']\n  if (elOption && elOption.transition == null) {\n    elOption.transition = DEFAULT_TRANSITION;\n  }\n  // Do some normalization on style.\n  var styleOpt = elOption && elOption.style;\n  if (styleOpt) {\n    if (el.type === 'text') {\n      var textOptionStyle = styleOpt;\n      // Compatible with ec4: if `textFill` or `textStroke` exists use them.\n      hasOwn(textOptionStyle, 'textFill') && (textOptionStyle.fill = textOptionStyle.textFill);\n      hasOwn(textOptionStyle, 'textStroke') && (textOptionStyle.stroke = textOptionStyle.textStroke);\n    }\n    var decalPattern = void 0;\n    var decalObj = isPath(el) ? styleOpt.decal : null;\n    if (api && decalObj) {\n      decalObj.dirty = true;\n      decalPattern = createOrUpdatePatternFromDecal(decalObj, api);\n    }\n    // Always overwrite in case user specify this prop.\n    styleOpt.__decalPattern = decalPattern;\n  }\n  if (isDisplayable(el)) {\n    if (styleOpt) {\n      var decalPattern = styleOpt.__decalPattern;\n      if (decalPattern) {\n        styleOpt.decal = decalPattern;\n      }\n    }\n  }\n  applyUpdateTransition(el, elOption, seriesModel, {\n    dataIndex: dataIndex,\n    isInit: isInit,\n    clearStyle: true\n  });\n  applyKeyframeAnimation(el, elOption.keyframeAnimation, seriesModel);\n}\nfunction updateElOnState(state, el, elStateOpt, styleOpt, attachedTxInfo) {\n  var elDisplayable = el.isGroup ? null : el;\n  var txCfgOpt = attachedTxInfo && attachedTxInfo[state].cfg;\n  // PENDING:5.0 support customize scale change and transition animation?\n  if (elDisplayable) {\n    // By default support auto lift color when hover whether `emphasis` specified.\n    var stateObj = elDisplayable.ensureState(state);\n    if (styleOpt === false) {\n      var existingEmphasisState = elDisplayable.getState(state);\n      if (existingEmphasisState) {\n        existingEmphasisState.style = null;\n      }\n    } else {\n      // style is needed to enable default emphasis.\n      stateObj.style = styleOpt || null;\n    }\n    // If `elOption.styleEmphasis` or `elOption.emphasis.style` is `false`,\n    // remove hover style.\n    // If `elOption.textConfig` or `elOption.emphasis.textConfig` is null/undefined, it does not\n    // make sense. So for simplicity, we do not ditinguish `hasOwnProperty` and null/undefined.\n    if (txCfgOpt) {\n      stateObj.textConfig = txCfgOpt;\n    }\n    setDefaultStateProxy(elDisplayable);\n  }\n}\nfunction updateZ(el, elOption, seriesModel) {\n  // Group not support textContent and not support z yet.\n  if (el.isGroup) {\n    return;\n  }\n  var elDisplayable = el;\n  var currentZ = seriesModel.currentZ;\n  var currentZLevel = seriesModel.currentZLevel;\n  // Always erase.\n  elDisplayable.z = currentZ;\n  elDisplayable.zlevel = currentZLevel;\n  // z2 must not be null/undefined, otherwise sort error may occur.\n  var optZ2 = elOption.z2;\n  optZ2 != null && (elDisplayable.z2 = optZ2 || 0);\n  for (var i = 0; i < STATES.length; i++) {\n    updateZForEachState(elDisplayable, elOption, STATES[i]);\n  }\n}\nfunction updateZForEachState(elDisplayable, elOption, state) {\n  var isNormal = state === NORMAL;\n  var elStateOpt = isNormal ? elOption : retrieveStateOption(elOption, state);\n  var optZ2 = elStateOpt ? elStateOpt.z2 : null;\n  var stateObj;\n  if (optZ2 != null) {\n    // Do not `ensureState` until required.\n    stateObj = isNormal ? elDisplayable : elDisplayable.ensureState(state);\n    stateObj.z2 = optZ2 || 0;\n  }\n}\nfunction makeRenderItem(customSeries, data, ecModel, api) {\n  var renderItem = customSeries.get('renderItem');\n  if (typeof renderItem === 'string') {\n    // Find renderItem in registered custom series\n    var registeredRenderItem = getCustomSeries(renderItem);\n    if (registeredRenderItem) {\n      renderItem = registeredRenderItem;\n    } else if (process.env.NODE_ENV !== 'production') {\n      console.warn(\"Custom series renderItem '\" + renderItem + \"' not found.\\n                Call 'echarts.registerCustomSeries' to register it.\");\n    }\n  }\n  var coordSys = customSeries.coordinateSystem;\n  var prepareResult = {};\n  if (coordSys) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(renderItem, 'series.render is required.');\n      assert(coordSys.prepareCustoms || prepareCustoms[coordSys.type], 'This coordSys does not support custom series.');\n    }\n    // `coordSys.prepareCustoms` is used for external coord sys like bmap.\n    prepareResult = coordSys.prepareCustoms ? coordSys.prepareCustoms(coordSys) : prepareCustoms[coordSys.type](coordSys);\n  }\n  var userAPI = defaults({\n    getWidth: api.getWidth,\n    getHeight: api.getHeight,\n    getZr: api.getZr,\n    getDevicePixelRatio: api.getDevicePixelRatio,\n    value: value,\n    style: style,\n    ordinalRawValue: ordinalRawValue,\n    styleEmphasis: styleEmphasis,\n    visual: visual,\n    barLayout: barLayout,\n    currentSeriesIndices: currentSeriesIndices,\n    font: font\n  }, prepareResult.api || {});\n  var userParams = {\n    // The life cycle of context: current round of rendering.\n    // The global life cycle is probably not necessary, because\n    // user can store global status by themselves.\n    context: {},\n    seriesId: customSeries.id,\n    seriesName: customSeries.name,\n    seriesIndex: customSeries.seriesIndex,\n    coordSys: prepareResult.coordSys,\n    dataInsideLength: data.count(),\n    encode: wrapEncodeDef(customSeries.getData()),\n    itemPayload: customSeries.get('itemPayload') || {}\n  };\n  // If someday intending to refactor them to a class, should consider do not\n  // break change: currently these attribute member are encapsulated in a closure\n  // so that do not need to force user to call these method with a scope.\n  // Do not support call `api` asynchronously without dataIndexInside input.\n  var currDataIndexInside;\n  var currItemModel;\n  var currItemStyleModels = {};\n  var currLabelModels = {};\n  var seriesItemStyleModels = {};\n  var seriesLabelModels = {};\n  for (var i = 0; i < STATES.length; i++) {\n    var stateName = STATES[i];\n    seriesItemStyleModels[stateName] = customSeries.getModel(PATH_ITEM_STYLE[stateName]);\n    seriesLabelModels[stateName] = customSeries.getModel(PATH_LABEL[stateName]);\n  }\n  function getItemModel(dataIndexInside) {\n    return dataIndexInside === currDataIndexInside ? currItemModel || (currItemModel = data.getItemModel(dataIndexInside)) : data.getItemModel(dataIndexInside);\n  }\n  function getItemStyleModel(dataIndexInside, state) {\n    return !data.hasItemOption ? seriesItemStyleModels[state] : dataIndexInside === currDataIndexInside ? currItemStyleModels[state] || (currItemStyleModels[state] = getItemModel(dataIndexInside).getModel(PATH_ITEM_STYLE[state])) : getItemModel(dataIndexInside).getModel(PATH_ITEM_STYLE[state]);\n  }\n  function getLabelModel(dataIndexInside, state) {\n    return !data.hasItemOption ? seriesLabelModels[state] : dataIndexInside === currDataIndexInside ? currLabelModels[state] || (currLabelModels[state] = getItemModel(dataIndexInside).getModel(PATH_LABEL[state])) : getItemModel(dataIndexInside).getModel(PATH_LABEL[state]);\n  }\n  return function (dataIndexInside, payload) {\n    currDataIndexInside = dataIndexInside;\n    currItemModel = null;\n    currItemStyleModels = {};\n    currLabelModels = {};\n    return renderItem && renderItem(defaults({\n      dataIndexInside: dataIndexInside,\n      dataIndex: data.getRawIndex(dataIndexInside),\n      // Can be used for optimization when zoom or roam.\n      actionType: payload ? payload.type : null\n    }, userParams), userAPI);\n  };\n  /**\n   * @public\n   * @param dim by default 0.\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n  function value(dim, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    return data.getStore().get(data.getDimensionIndex(dim || 0), dataIndexInside);\n  }\n  /**\n   * @public\n   * @param dim by default 0.\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n  function ordinalRawValue(dim, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    dim = dim || 0;\n    var dimInfo = data.getDimensionInfo(dim);\n    if (!dimInfo) {\n      var dimIndex = data.getDimensionIndex(dim);\n      return dimIndex >= 0 ? data.getStore().get(dimIndex, dataIndexInside) : undefined;\n    }\n    var val = data.get(dimInfo.name, dataIndexInside);\n    var ordinalMeta = dimInfo && dimInfo.ordinalMeta;\n    return ordinalMeta ? ordinalMeta.categories[val] : val;\n  }\n  /**\n   * @deprecated The original intention of `api.style` is enable to set itemStyle\n   * like other series. But it is not necessary and not easy to give a strict definition\n   * of what it returns. And since echarts5 it needs to be make compat work. So\n   * deprecates it since echarts5.\n   *\n   * By default, `visual` is applied to style (to support visualMap).\n   * `visual.color` is applied at `fill`. If user want apply visual.color on `stroke`,\n   * it can be implemented as:\n   * `api.style({stroke: api.visual('color'), fill: null})`;\n   *\n   * [Compat]: since ec5, RectText has been separated from its hosts el.\n   * so `api.style()` will only return the style from `itemStyle` but not handle `label`\n   * any more. But `series.label` config is never published in doc.\n   * We still compat it in `api.style()`. But not encourage to use it and will still not\n   * to pulish it to doc.\n   * @public\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n  function style(userProps, dataIndexInside) {\n    if (process.env.NODE_ENV !== 'production') {\n      warnDeprecated('api.style', 'Please write literal style directly instead.');\n    }\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    var style = data.getItemVisual(dataIndexInside, 'style');\n    var visualColor = style && style.fill;\n    var opacity = style && style.opacity;\n    var itemStyle = getItemStyleModel(dataIndexInside, NORMAL).getItemStyle();\n    visualColor != null && (itemStyle.fill = visualColor);\n    opacity != null && (itemStyle.opacity = opacity);\n    var opt = {\n      inheritColor: isString(visualColor) ? visualColor : tokens.color.neutral99\n    };\n    var labelModel = getLabelModel(dataIndexInside, NORMAL);\n    // Now that the feature of \"auto adjust text fill/stroke\" has been migrated to zrender\n    // since ec5, we should set `isAttached` as `false` here and make compat in\n    // `convertToEC4StyleForCustomSerise`.\n    var textStyle = labelStyleHelper.createTextStyle(labelModel, null, opt, false, true);\n    textStyle.text = labelModel.getShallow('show') ? retrieve2(customSeries.getFormattedLabel(dataIndexInside, NORMAL), getDefaultLabel(data, dataIndexInside)) : null;\n    var textConfig = labelStyleHelper.createTextConfig(labelModel, opt, false);\n    preFetchFromExtra(userProps, itemStyle);\n    itemStyle = convertToEC4StyleForCustomSerise(itemStyle, textStyle, textConfig);\n    userProps && applyUserPropsAfter(itemStyle, userProps);\n    itemStyle.legacy = true;\n    return itemStyle;\n  }\n  /**\n   * @deprecated The reason see `api.style()`\n   * @public\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n  function styleEmphasis(userProps, dataIndexInside) {\n    if (process.env.NODE_ENV !== 'production') {\n      warnDeprecated('api.styleEmphasis', 'Please write literal style directly instead.');\n    }\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    var itemStyle = getItemStyleModel(dataIndexInside, EMPHASIS).getItemStyle();\n    var labelModel = getLabelModel(dataIndexInside, EMPHASIS);\n    var textStyle = labelStyleHelper.createTextStyle(labelModel, null, null, true, true);\n    textStyle.text = labelModel.getShallow('show') ? retrieve3(customSeries.getFormattedLabel(dataIndexInside, EMPHASIS), customSeries.getFormattedLabel(dataIndexInside, NORMAL), getDefaultLabel(data, dataIndexInside)) : null;\n    var textConfig = labelStyleHelper.createTextConfig(labelModel, null, true);\n    preFetchFromExtra(userProps, itemStyle);\n    itemStyle = convertToEC4StyleForCustomSerise(itemStyle, textStyle, textConfig);\n    userProps && applyUserPropsAfter(itemStyle, userProps);\n    itemStyle.legacy = true;\n    return itemStyle;\n  }\n  function applyUserPropsAfter(itemStyle, extra) {\n    for (var key in extra) {\n      if (hasOwn(extra, key)) {\n        itemStyle[key] = extra[key];\n      }\n    }\n  }\n  function preFetchFromExtra(extra, itemStyle) {\n    // A trick to retrieve those props firstly, which are used to\n    // apply auto inside fill/stroke in `convertToEC4StyleForCustomSerise`.\n    // (It's not reasonable but only for a degree of compat)\n    if (extra) {\n      extra.textFill && (itemStyle.textFill = extra.textFill);\n      extra.textPosition && (itemStyle.textPosition = extra.textPosition);\n    }\n  }\n  /**\n   * @public\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n  function visual(visualType, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    if (hasOwn(STYLE_VISUAL_TYPE, visualType)) {\n      var style_1 = data.getItemVisual(dataIndexInside, 'style');\n      return style_1 ? style_1[STYLE_VISUAL_TYPE[visualType]] : null;\n    }\n    // Only support these visuals. Other visual might be inner tricky\n    // for performance (like `style`), do not expose to users.\n    if (hasOwn(NON_STYLE_VISUAL_PROPS, visualType)) {\n      return data.getItemVisual(dataIndexInside, visualType);\n    }\n  }\n  /**\n   * @public\n   * @return If not support, return undefined.\n   */\n  function barLayout(opt) {\n    if (coordSys.type === 'cartesian2d') {\n      var baseAxis = coordSys.getBaseAxis();\n      return getLayoutOnAxis(defaults({\n        axis: baseAxis\n      }, opt));\n    }\n  }\n  /**\n   * @public\n   */\n  function currentSeriesIndices() {\n    return ecModel.getCurrentSeriesIndices();\n  }\n  /**\n   * @public\n   * @return font string\n   */\n  function font(opt) {\n    return labelStyleHelper.getFont(opt, ecModel);\n  }\n}\nfunction wrapEncodeDef(data) {\n  var encodeDef = {};\n  each(data.dimensions, function (dimName) {\n    var dimInfo = data.getDimensionInfo(dimName);\n    if (!dimInfo.isExtraCoord) {\n      var coordDim = dimInfo.coordDim;\n      var dataDims = encodeDef[coordDim] = encodeDef[coordDim] || [];\n      dataDims[dimInfo.coordDimIndex] = data.getDimensionIndex(dimName);\n    }\n  });\n  return encodeDef;\n}\nfunction createOrUpdateItem(api, existsEl, dataIndex, elOption, seriesModel, group, data) {\n  // [Rule]\n  // If `renderItem` returns `null`/`undefined`/`false`, remove the previous el if existing.\n  //     (It seems that violate the \"merge\" principle, but most of users probably intuitively\n  //     regard \"return;\" as \"show nothing element whatever\", so make a exception to meet the\n  //     most cases.)\n  // The rule or \"merge\" see [STRATEGY_MERGE].\n  // If `elOption` is `null`/`undefined`/`false` (when `renderItem` returns nothing).\n  if (!elOption) {\n    group.remove(existsEl);\n    return;\n  }\n  var el = doCreateOrUpdateEl(api, existsEl, dataIndex, elOption, seriesModel, group);\n  el && data.setItemGraphicEl(dataIndex, el);\n  el && toggleHoverEmphasis(el, elOption.focus, elOption.blurScope, elOption.emphasisDisabled);\n  return el;\n}\nfunction doCreateOrUpdateEl(api, existsEl, dataIndex, elOption, seriesModel, group) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(elOption, 'should not have an null/undefined element setting');\n  }\n  var toBeReplacedIdx = -1;\n  var oldEl = existsEl;\n  if (existsEl && doesElNeedRecreate(existsEl, elOption, seriesModel)\n  // || (\n  //     // PENDING: even in one-to-one mapping case, if el is marked as morph,\n  //     // do not sure whether the el will be mapped to another el with different\n  //     // hierarchy in Group tree. So always recreate el rather than reuse the el.\n  //     morphHelper && morphHelper.isOneToOneFrom(el)\n  // )\n  ) {\n    // Should keep at the original index, otherwise \"merge by index\" will be incorrect.\n    toBeReplacedIdx = indexOf(group.childrenRef(), existsEl);\n    existsEl = null;\n  }\n  var isInit = !existsEl;\n  var el = existsEl;\n  if (!el) {\n    el = createEl(elOption);\n    if (oldEl) {\n      copyElement(oldEl, el);\n    }\n  } else {\n    // FIMXE:NEXT unified clearState?\n    // If in some case the performance issue arised, consider\n    // do not clearState but update cached normal state directly.\n    el.clearStates();\n  }\n  // Need to set morph: false explictly to disable automatically morphing.\n  if (elOption.morph === false) {\n    el.disableMorphing = true;\n  } else if (el.disableMorphing) {\n    el.disableMorphing = false;\n  }\n  if (elOption.tooltipDisabled) {\n    el.tooltipDisabled = true;\n  }\n  attachedTxInfoTmp.normal.cfg = attachedTxInfoTmp.normal.conOpt = attachedTxInfoTmp.emphasis.cfg = attachedTxInfoTmp.emphasis.conOpt = attachedTxInfoTmp.blur.cfg = attachedTxInfoTmp.blur.conOpt = attachedTxInfoTmp.select.cfg = attachedTxInfoTmp.select.conOpt = null;\n  attachedTxInfoTmp.isLegacy = false;\n  doCreateOrUpdateAttachedTx(el, dataIndex, elOption, seriesModel, isInit, attachedTxInfoTmp);\n  doCreateOrUpdateClipPath(el, dataIndex, elOption, seriesModel, isInit);\n  updateElNormal(api, el, dataIndex, elOption, attachedTxInfoTmp, seriesModel, isInit);\n  // `elOption.info` enables user to mount some info on\n  // elements and use them in event handlers.\n  // Update them only when user specified, otherwise, remain.\n  hasOwn(elOption, 'info') && (customInnerStore(el).info = elOption.info);\n  for (var i = 0; i < STATES.length; i++) {\n    var stateName = STATES[i];\n    if (stateName !== NORMAL) {\n      var otherStateOpt = retrieveStateOption(elOption, stateName);\n      var otherStyleOpt = retrieveStyleOptionOnState(elOption, otherStateOpt, stateName);\n      updateElOnState(stateName, el, otherStateOpt, otherStyleOpt, attachedTxInfoTmp);\n    }\n  }\n  updateZ(el, elOption, seriesModel);\n  if (elOption.type === 'group') {\n    mergeChildren(api, el, dataIndex, elOption, seriesModel);\n  }\n  if (toBeReplacedIdx >= 0) {\n    group.replaceAt(el, toBeReplacedIdx);\n  } else {\n    group.add(el);\n  }\n  return el;\n}\n// `el` must not be null/undefined.\nfunction doesElNeedRecreate(el, elOption, seriesModel) {\n  var elInner = customInnerStore(el);\n  var elOptionType = elOption.type;\n  var elOptionShape = elOption.shape;\n  var elOptionStyle = elOption.style;\n  return (\n    // Always create new if universal transition is enabled.\n    // Because we do transition after render. It needs to know what old element is. Replacement will loose it.\n    seriesModel.isUniversalTransitionEnabled()\n    // If `elOptionType` is `null`, follow the merge principle.\n    || elOptionType != null && elOptionType !== elInner.customGraphicType || elOptionType === 'path' && hasOwnPathData(elOptionShape) && getPathData(elOptionShape) !== elInner.customPathData || elOptionType === 'image' && hasOwn(elOptionStyle, 'image') && elOptionStyle.image !== elInner.customImagePath\n    // // FIXME test and remove this restriction?\n    // || (elOptionType === 'text'\n    //     && hasOwn(elOptionStyle, 'text')\n    //     && (elOptionStyle as TextStyleProps).text !== elInner.customText\n    // )\n  );\n}\nfunction doCreateOrUpdateClipPath(el, dataIndex, elOption, seriesModel, isInit) {\n  // Based on the \"merge\" principle, if no clipPath provided,\n  // do nothing. The exists clip will be totally removed only if\n  // `el.clipPath` is `false`. Otherwise it will be merged/replaced.\n  var clipPathOpt = elOption.clipPath;\n  if (clipPathOpt === false) {\n    if (el && el.getClipPath()) {\n      el.removeClipPath();\n    }\n  } else if (clipPathOpt) {\n    var clipPath = el.getClipPath();\n    if (clipPath && doesElNeedRecreate(clipPath, clipPathOpt, seriesModel)) {\n      clipPath = null;\n    }\n    if (!clipPath) {\n      clipPath = createEl(clipPathOpt);\n      if (process.env.NODE_ENV !== 'production') {\n        assert(isPath(clipPath), 'Only any type of `path` can be used in `clipPath`, rather than ' + clipPath.type + '.');\n      }\n      el.setClipPath(clipPath);\n    }\n    updateElNormal(null, clipPath, dataIndex, clipPathOpt, null, seriesModel, isInit);\n  }\n  // If not define `clipPath` in option, do nothing unnecessary.\n}\nfunction doCreateOrUpdateAttachedTx(el, dataIndex, elOption, seriesModel, isInit, attachedTxInfo) {\n  // Group does not support textContent temporarily until necessary.\n  if (el.isGroup || el.type === 'compoundPath') {\n    return;\n  }\n  // Normal must be called before emphasis, for `isLegacy` detection.\n  processTxInfo(elOption, null, attachedTxInfo);\n  processTxInfo(elOption, EMPHASIS, attachedTxInfo);\n  // If `elOption.textConfig` or `elOption.textContent` is null/undefined, it does not make sense.\n  // So for simplicity, if \"elOption hasOwnProperty of them but be null/undefined\", we do not\n  // trade them as set to null to el.\n  // Especially:\n  // `elOption.textContent: false` means remove textContent.\n  // `elOption.textContent.emphasis.style: false` means remove the style from emphasis state.\n  var txConOptNormal = attachedTxInfo.normal.conOpt;\n  var txConOptEmphasis = attachedTxInfo.emphasis.conOpt;\n  var txConOptBlur = attachedTxInfo.blur.conOpt;\n  var txConOptSelect = attachedTxInfo.select.conOpt;\n  if (txConOptNormal != null || txConOptEmphasis != null || txConOptSelect != null || txConOptBlur != null) {\n    var textContent = el.getTextContent();\n    if (txConOptNormal === false) {\n      textContent && el.removeTextContent();\n    } else {\n      txConOptNormal = attachedTxInfo.normal.conOpt = txConOptNormal || {\n        type: 'text'\n      };\n      if (!textContent) {\n        textContent = createEl(txConOptNormal);\n        el.setTextContent(textContent);\n      } else {\n        // If in some case the performance issue arised, consider\n        // do not clearState but update cached normal state directly.\n        textContent.clearStates();\n      }\n      updateElNormal(null, textContent, dataIndex, txConOptNormal, null, seriesModel, isInit);\n      var txConStlOptNormal = txConOptNormal && txConOptNormal.style;\n      for (var i = 0; i < STATES.length; i++) {\n        var stateName = STATES[i];\n        if (stateName !== NORMAL) {\n          var txConOptOtherState = attachedTxInfo[stateName].conOpt;\n          updateElOnState(stateName, textContent, txConOptOtherState, retrieveStyleOptionOnState(txConOptNormal, txConOptOtherState, stateName), null);\n        }\n      }\n      txConStlOptNormal ? textContent.dirty() : textContent.markRedraw();\n    }\n  }\n}\nfunction processTxInfo(elOption, state, attachedTxInfo) {\n  var stateOpt = !state ? elOption : retrieveStateOption(elOption, state);\n  var styleOpt = !state ? elOption.style : retrieveStyleOptionOnState(elOption, stateOpt, EMPHASIS);\n  var elType = elOption.type;\n  var txCfg = stateOpt ? stateOpt.textConfig : null;\n  var txConOptNormal = elOption.textContent;\n  var txConOpt = !txConOptNormal ? null : !state ? txConOptNormal : retrieveStateOption(txConOptNormal, state);\n  if (styleOpt && (\n  // Because emphasis style has little info to detect legacy,\n  // if normal is legacy, emphasis is trade as legacy.\n  attachedTxInfo.isLegacy || isEC4CompatibleStyle(styleOpt, elType, !!txCfg, !!txConOpt))) {\n    attachedTxInfo.isLegacy = true;\n    var convertResult = convertFromEC4CompatibleStyle(styleOpt, elType, !state);\n    // Explicitly specified `textConfig` and `textContent` has higher priority than\n    // the ones generated by legacy style. Otherwise if users use them and `api.style`\n    // at the same time, they not both work and hardly to known why.\n    if (!txCfg && convertResult.textConfig) {\n      txCfg = convertResult.textConfig;\n    }\n    if (!txConOpt && convertResult.textContent) {\n      txConOpt = convertResult.textContent;\n    }\n  }\n  if (!state && txConOpt) {\n    var txConOptNormal_1 = txConOpt;\n    // `textContent: {type: 'text'}`, the \"type\" is easy to be missing. So we tolerate it.\n    !txConOptNormal_1.type && (txConOptNormal_1.type = 'text');\n    if (process.env.NODE_ENV !== 'production') {\n      // Do not tolerate incorrcet type for forward compat.\n      assert(txConOptNormal_1.type === 'text', 'textContent.type must be \"text\"');\n    }\n  }\n  var info = !state ? attachedTxInfo.normal : attachedTxInfo[state];\n  info.cfg = txCfg;\n  info.conOpt = txConOpt;\n}\nfunction retrieveStateOption(elOption, state) {\n  return !state ? elOption : elOption ? elOption[state] : null;\n}\nfunction retrieveStyleOptionOnState(stateOptionNormal, stateOption, state) {\n  var style = stateOption && stateOption.style;\n  if (style == null && state === EMPHASIS && stateOptionNormal) {\n    style = stateOptionNormal.styleEmphasis;\n  }\n  return style;\n}\n// Usage:\n// (1) By default, `elOption.$mergeChildren` is `'byIndex'`, which indicates\n//     that the existing children will not be removed, and enables the feature\n//     that update some of the props of some of the children simply by construct\n//     the returned children of `renderItem` like:\n//     `var children = group.children = []; children[3] = {opacity: 0.5};`\n// (2) If `elOption.$mergeChildren` is `'byName'`, add/update/remove children\n//     by child.name. But that might be lower performance.\n// (3) If `elOption.$mergeChildren` is `false`, the existing children will be\n//     replaced totally.\n// (4) If `!elOption.children`, following the \"merge\" principle, nothing will\n//     happen.\n// (5) If `elOption.$mergeChildren` is not `false` neither `'byName'` and the\n//     `el` is a group, and if any of the new child is null, it means to remove\n//     the element at the same index, if exists. On the other hand, if the new\n//     child is and empty object `{}`, it means to keep the element not changed.\n//\n// For implementation simpleness, do not provide a direct way to remove single\n// child (otherwise the total indices of the children array have to be modified).\n// User can remove a single child by setting its `ignore` to `true`.\nfunction mergeChildren(api, el, dataIndex, elOption, seriesModel) {\n  var newChildren = elOption.children;\n  var newLen = newChildren ? newChildren.length : 0;\n  var mergeChildren = elOption.$mergeChildren;\n  // `diffChildrenByName` has been deprecated.\n  var byName = mergeChildren === 'byName' || elOption.diffChildrenByName;\n  var notMerge = mergeChildren === false;\n  // For better performance on roam update, only enter if necessary.\n  if (!newLen && !byName && !notMerge) {\n    return;\n  }\n  if (byName) {\n    diffGroupChildren({\n      api: api,\n      oldChildren: el.children() || [],\n      newChildren: newChildren || [],\n      dataIndex: dataIndex,\n      seriesModel: seriesModel,\n      group: el\n    });\n    return;\n  }\n  notMerge && el.removeAll();\n  // Mapping children of a group simply by index, which\n  // might be better performance.\n  var index = 0;\n  for (; index < newLen; index++) {\n    var newChild = newChildren[index];\n    var oldChild = el.childAt(index);\n    if (newChild) {\n      if (newChild.ignore == null) {\n        // The old child is set to be ignored if null (see comments\n        // below). So we need to set ignore to be false back.\n        newChild.ignore = false;\n      }\n      doCreateOrUpdateEl(api, oldChild, dataIndex, newChild, seriesModel, el);\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(oldChild, 'renderItem should not return a group containing elements' + ' as null/undefined/{} if they do not exist before.');\n      }\n      // If the new element option is null, it means to remove the old\n      // element. But we cannot really remove the element from the group\n      // directly, because the element order may not be stable when this\n      // element is added back. So we set the element to be ignored.\n      oldChild.ignore = true;\n    }\n  }\n  for (var i = el.childCount() - 1; i >= index; i--) {\n    var child = el.childAt(i);\n    removeChildFromGroup(el, child, seriesModel);\n  }\n}\nfunction removeChildFromGroup(group, child, seriesModel) {\n  // Do not support leave elements that are not mentioned in the latest\n  // `renderItem` return. Otherwise users may not have a clear and simple\n  // concept that how to control all of the elements.\n  child && applyLeaveTransition(child, customInnerStore(group).option, seriesModel);\n}\nfunction diffGroupChildren(context) {\n  new DataDiffer(context.oldChildren, context.newChildren, getKey, getKey, context).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute();\n}\nfunction getKey(item, idx) {\n  var name = item && item.name;\n  return name != null ? name : GROUP_DIFF_PREFIX + idx;\n}\nfunction processAddUpdate(newIndex, oldIndex) {\n  var context = this.context;\n  var childOption = newIndex != null ? context.newChildren[newIndex] : null;\n  var child = oldIndex != null ? context.oldChildren[oldIndex] : null;\n  doCreateOrUpdateEl(context.api, child, context.dataIndex, childOption, context.seriesModel, context.group);\n}\nfunction processRemove(oldIndex) {\n  var context = this.context;\n  var child = context.oldChildren[oldIndex];\n  child && applyLeaveTransition(child, customInnerStore(child).option, context.seriesModel);\n}\n/**\n * @return SVG Path data.\n */\nfunction getPathData(shape) {\n  // \"d\" follows the SVG convention.\n  return shape && (shape.pathData || shape.d);\n}\nfunction hasOwnPathData(shape) {\n  return shape && (hasOwn(shape, 'pathData') || hasOwn(shape, 'd'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CustomSeriesModel from './CustomSeries.js';\nimport CustomChartView from './CustomView.js';\nexport function install(registers) {\n  registers.registerChartView(CustomChartView);\n  registers.registerSeriesModel(CustomSeriesModel);\n}"],"mappings":"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"}